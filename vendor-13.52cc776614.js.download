"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["86519"],{997299:function(t,e,r){var a,o;r(635094),r(873411),r(508241),(o=a||(a={}))[o.Line=0]="Line",o[o.CubicCurve=1]="CubicCurve"},89260:function(t,e,r){r.d(e,{q:()=>a});class a{map=new Map;get size(){return this.map.size}has(t){return this.map.has(t)}get(t){return this.map.get(t)||null}set(t,e){let r={promise:e,isSettled:!1,isResolved:!1,isRejected:!1};return this.map.set(t,r),e.then(t=>{r.isSettled=!0,r.isResolved=!0,r.value=t}).catch(()=>{r.isSettled=!0,r.isRejected=!0}),r}isAllSettled(){if(0===this.size)return!0;for(let[,{isSettled:t}]of this.map)if(!t)return!1;return!0}async allSettled(){return this.isAllSettled()?Promise.resolve():Promise.allSettled([...this.map.values()].map(({promise:t})=>t)).then(()=>void 0)}}},196468:function(t,e,r){r.d(e,{s:()=>te});var a=r(805433),o=r(793720),i=r(771584);class s{prepareDraw({endPoint:t,lineWidth:e,angle:r}){let o=i.c.generateMatrix().translate(t.x,t.y),s=i.c.generateMatrix().rotate2(r),n=o.crossProduct(s),{draw:l,rectNode:h}=this.prepareDrawArrow(e);return{draw:t=>{t.save();let{a:e,b:r,c:a,d:o,e:i,f:s}=n;t.transform(e,r,a,o,i,s),l(t),t.restore()},rectNode:a.G.getBoundsByPoints(a.G.getPoints(h).map(t=>n.crossPoint(t)))}}getArrowLength(t){return t*this.getArrowLengthMagnification(t)}}class n extends s{type=o.Y.LINE_ARROW;prepareDrawArrow(t){let e=(this.getArrowLengthMagnification(t)-.5)*t;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.moveTo(0,0),t.lineTo(e,0),t.stroke()},rectNode:{minX:0,minY:-e,maxX:e,maxY:e}}}getArrowLengthMagnification(t){return 3.5+2*(t<=1)}}class l extends s{type=o.Y.TRIANGLE_ARROW;prepareDrawArrow(t){let e=this.getArrowLengthMagnification(t),r=e*t,a=e/Math.sqrt(3)*t;return{draw:t=>{t.lineJoin="miter",t.lineCap="butt",t.beginPath(),t.moveTo(r,0),t.lineTo(0,-a),t.lineTo(0,a),t.closePath(),t.fill()},rectNode:{minX:0,minY:-a,maxX:r,maxY:a}}}getArrowLengthMagnification(t){return Math.sqrt(3)/2*6.5+2*(t<=1)}}class h extends s{type=o.Y.CIRCLE_ARROW;prepareDrawArrow(t){let e=this.getArrowLength(t);return{draw:t=>{t.beginPath(),t.ellipse(e,0,e,e,0,0,2*Math.PI),t.fill()},rectNode:{minX:0,minY:-e,maxX:2*e,maxY:e}}}getArrowLengthMagnification(t){return 1.5*Math.sqrt(3)+2*(t<=1)}}class d extends s{type=o.Y.DIAMOND_ARROW;prepareDrawArrow(t){let e=t*(this.getArrowLengthMagnification(t)+.6),r=e/2,a=-.6*t,o=2/3*r;return{draw:t=>{t.beginPath(),t.moveTo(a,0),t.lineTo(r,-o),t.lineTo(e,0),t.lineTo(r,o),t.closePath(),t.fill()},rectNode:{minX:a,minY:-o,maxX:e,maxY:o}}}getArrowLengthMagnification(t){return 6.9+2*(t<=1)}}class p extends s{type=o.Y.EMPTY_TRIANGLE_ARROW;prepareDrawArrow(t){let e=this.getArrowLengthMagnification(t),r=(e-1)*t,a=Math.sqrt(3),o=(e/a-a/2)*t;return{draw:e=>{e.beginPath(),e.moveTo(r,0),e.lineTo(t/2,-o),e.lineTo(t/2,o),e.closePath(),e.stroke()},rectNode:{minX:0,minY:-o,maxX:r,maxY:o}}}getArrowLengthMagnification(t){return Math.sqrt(3)/2*7+2*(t<=1)}}class u extends s{type=o.Y.EMPTY_CIRCLE_ARROW;prepareDrawArrow(t){let e=this.getArrowLength(t),r=e-t/2;return{draw:t=>{t.beginPath(),t.ellipse(e,0,r,r,0,0,2*Math.PI),t.stroke()},rectNode:{minX:0,minY:-e,maxX:2*e,maxY:e}}}getArrowLengthMagnification(t){return 1.5*Math.sqrt(3)+2*(t<=1)}}class c extends s{type=o.Y.EMPTY_DIAMOND_ARROW;prepareDrawArrow(t){let e=this.getArrowLengthMagnification(t)+.6,r=1/(2/3/Math.sqrt(2/3*(2/3)+1))/2,a=(e-2*r)*t,o=a/2,i=(e/2*(2/3)-1/(1/Math.sqrt(2/3*(2/3)+1))/2)*t,s=-(.6-r)*t;return{draw:t=>{t.beginPath(),t.moveTo(s,0),t.lineTo(o,-i),t.lineTo(a,0),t.lineTo(o,i),t.closePath(),t.stroke()},rectNode:{minX:s,minY:-i,maxX:a,maxY:i}}}getArrowLengthMagnification(t){return 7.4+2*(t<=1)}}class x extends s{type=o.Y.SINGLE_ARROW;prepareDrawArrow(t){let e=t*(this.getArrowLengthMagnification(t)-.5),r=e/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,-r),t.lineTo(0,r),t.moveTo(0,0),t.lineTo(e,0),t.stroke()},rectNode:{minX:0,minY:-r,maxX:e,maxY:r}}}getArrowLengthMagnification(t){return 5.5+2*(t<=1)}}class g extends s{type=o.Y.MULTI_ARROW;prepareDrawArrow(t){let e=t*(this.getArrowLengthMagnification(t)-.5),r=e/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,0),t.lineTo(e,-r),t.moveTo(0,0),t.lineTo(e,r),t.moveTo(0,0),t.lineTo(e,0),t.stroke()},rectNode:{minX:0,minY:-r,maxX:e,maxY:r}}}getArrowLengthMagnification(t){return 5.5+2*(t<=1)}}class y extends s{type=o.Y.MULTI_ARROW;prepareDrawArrow(t){let e=t*(this.getArrowLengthMagnification(t)-.5),r=e/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,-r),t.lineTo(0,r),t.moveTo(r,-r),t.lineTo(r,r),t.moveTo(0,0),t.lineTo(e,0),t.stroke()},rectNode:{minX:0,minY:-r,maxX:e,maxY:r}}}getArrowLengthMagnification(t){return 5.5+2*(t<=1)}}class f extends s{type=o.Y.ZERO_OR_SINGLE_ARROW;prepareDrawArrow(t){let e=2*(t<=1),r=t*(5+e),a=r/2,o=t*(5+e),i=o/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.ellipse(a,0,a,a,0,0,2*Math.PI),t.moveTo(r+i,-i),t.lineTo(r+i,i),t.moveTo(r,0),t.lineTo(r+o,0),t.stroke()},rectNode:{minX:0,minY:-i,maxX:r+o,maxY:i}}}getArrowLengthMagnification(t){let e=2*(t<=1);return 5+e+(5+e)+.5}}class P extends s{type=o.Y.MULTI_ARROW;prepareDrawArrow(t){let e=t*(this.getArrowLengthMagnification(t)-.5),r=e/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,0),t.lineTo(e,-r),t.moveTo(0,0),t.lineTo(e,r),t.moveTo(0,-r),t.lineTo(0,r),t.moveTo(0,0),t.lineTo(e,0),t.stroke()},rectNode:{minX:0,minY:-r,maxX:e,maxY:r}}}getArrowLengthMagnification(t){return 5.5+2*(t<=1)}}class m extends s{type=o.Y.ZERO_OR_MULTI_ARROW;prepareDrawArrow(t){let e=2*(t<=1),r=t*(5+e),a=r/2,o=t*(5+e),i=o/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.ellipse(a,0,a,a,0,0,2*Math.PI),t.moveTo(r,0),t.lineTo(r+o,-i),t.moveTo(r,0),t.lineTo(r+o,i),t.stroke()},rectNode:{minX:0,minY:-i,maxX:r+o,maxY:i}}}getArrowLengthMagnification(t){let e=2*(t<=1);return 5+e+(5+e)+.5}}class T extends s{type=o.Y.MULTI_ARROW;prepareDrawArrow(t){let e=(6+2*(t<=1))*t,r=e/2;return{draw:t=>{t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(0,-r),t.lineTo(e,r),t.moveTo(e,-r),t.lineTo(0,r),t.moveTo(r,0),t.lineTo(r+e,0),t.moveTo(0,0),t.lineTo(r,0),t.stroke()},rectNode:{minX:0,minY:-r,maxX:r+e,maxY:r}}}getArrowLengthMagnification(t){let e=2*(t<=1);return 6+e+(3+e)+.5}}class b extends s{type=o.Y.None;prepareDrawArrow(t){return{draw:()=>{},rectNode:{minX:0,minY:0,maxX:this.getArrowLength(t),maxY:0}}}getArrowLengthMagnification(t){return .5}}let w=new Map([[o.Y.LINE_ARROW,new n],[o.Y.TRIANGLE_ARROW,new l],[o.Y.EMPTY_TRIANGLE_ARROW,new p],[o.Y.CIRCLE_ARROW,new h],[o.Y.EMPTY_CIRCLE_ARROW,new u],[o.Y.DIAMOND_ARROW,new d],[o.Y.EMPTY_DIAMOND_ARROW,new c],[o.Y.SINGLE_ARROW,new x],[o.Y.MULTI_ARROW,new g],[o.Y.EXACT_SINGLE_ARROW,new y],[o.Y.ZERO_OR_SINGLE_ARROW,new f],[o.Y.SINGLE_OR_MULTI_ARROW,new P],[o.Y.ZERO_OR_MULTI_ARROW,new m],[o.Y.X_ARROW,new T]]),C=t=>w.get(t)??new b,M=(t,e)=>C(t).getArrowLength(e);var k=r(755928),E=r(331945);class L{drawLine(t,e){let{borderProps:r}=t;e.fillStyle=r.borderColor,e.strokeStyle=r.borderColor,e.globalAlpha=r.borderAlpha,e.lineWidth=r.borderWidth,e.save(),t.hasCrossPoint()?this.drawWithCrossPoint(t,e,r):this.coreDraw(t,e,r),e.restore()}drawWithCrossPoint(t,e,r){e.save(),e.beginPath();let a=t.getRectNode();for(let{intersectionPoint:r}of(e.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.crossPoints))e.roundRect(r.x-E.C,r.y-E.C,2*E.C,2*E.C,E.C);for(let{intersectionPoint:a,startPoint:o,startAngle:i,endAngle:s}of(e.clip("evenodd"),this.coreDraw(t,e,r),e.restore(),e.beginPath(),t.crossPoints))e.moveTo(o.x,o.y),e.arc(a.x,a.y,E.C,i,s);this.setDashStrokeStyle(e,r),e.stroke()}getArrowDrawProps(t){let{padding:e}=t.lineProps,{lArrow:r,rArrow:a}=t.borderProps,{borderWidth:o}=t.borderProps,i=M(r,o)+e.left,s=M(a,o)+e.right;return{left:this.getLeftArrowDrawProps(t,i),right:this.getRightArrowDrawProps(t,s)}}setDashStrokeStyle(t,e){e.lineDashType===k.N.Solid?(t.lineJoin="round",t.lineCap="round"):a.G.setDashes(e.lineDashType,e.borderWidth,t)}getLeftArrowDrawProps(t,e){let r=t.points[0],a=this.getLeftAngle(t);return{angle:a,lineWidth:t.borderProps.borderWidth,endPoint:{x:r.x-e*Math.cos(a),y:r.y-e*Math.sin(a)}}}getRightArrowDrawProps(t,e){let r=t.points[t.points.length-1],a=this.getRightAngle(t);return{angle:a,lineWidth:t.borderProps.borderWidth,endPoint:{x:r.x-e*Math.cos(a),y:r.y-e*Math.sin(a)}}}getLeftAngle(t){let{points:e}=t,r=e[0],o=e[1];return e.length>2&&.01>a.G.distance(r,o)&&(o=e[2]),a.G.lineAngle(o,r)}getRightAngle(t){let{points:e}=t,r=e[e.length-1],o=e[e.length-2];return e.length>2&&.01>a.G.distance(r,o)&&(o=e[e.length-3]),a.G.lineAngle(o,r)}getControlPoints(t){return[]}findProjectPoint(t,e){let r=t.getDrawPoints(),o=0;for(let t=0;t<r.length-1;t++)o+=a.G.distance(r[t],r[t+1]);if(o<=0)return{x:r[0].x,y:r[0].y,t:0,pointIndex:0};let i=1/0,s={x:0,y:0,t:0,pointIndex:0},n=0;for(let t=0;t<r.length-1;t++){let l=r[t],h=r[t+1],d=function(t,e,r){let a=Math.min(e.x,r.x),o=Math.max(e.x,r.x),i=Math.min(e.y,r.y),s=Math.max(e.y,r.y),n={...t};return n.x<=a?n.x=a:n.x>=o&&(n.x=o),n.y<=i?n.y=i:n.y>=s&&(n.y=s),n}(e,l,h),p=0,u=0;if(1e-4>Math.abs(l.x-h.x))p=l.x,u=d.y;else if(1e-4>Math.abs(l.y-h.y))p=d.x,u=l.y;else{let t=(h.y-l.y)/(h.x-l.x);p=(t*l.x+d.x/t+d.y-l.y)/(t+1/t),u=-1/t*(p-d.x)+d.y}let c=a.G.distance({x:p,y:u},e);if(c<i&&(s.x=p,s.y=u,s.pointIndex=t,s.t=(a.G.distance({x:p,y:u},l)+n)/o,s.t>1&&1e-6>Math.abs(s.t-1)?s.t=1:s.t<0&&1e-6>Math.abs(s.t)&&(s.t=0),i=c),n+=a.G.distance(l,h),c<=1)break}return s}}class S extends L{draw(t,e){0!==t.points.length&&this.drawLine(t,e)}coreDraw(t,e,r){e.beginPath(),this.setDashStrokeStyle(e,r),e.moveTo(t.startPoint.x,t.startPoint.y),e.lineTo(t.endPoint.x,t.endPoint.y),e.stroke()}getArrowDrawProps(t){let{padding:e}=t.lineProps,{lArrow:r,rArrow:o}=t.borderProps,{borderWidth:i}=t.borderProps,s=t.points[0],n=t.points[t.points.length-1],l=M(r,i)+e.left,h=M(o,i)+e.right;return a.G.distance(s,n)<=l+h&&(l-=e.left,h-=e.right),{left:this.getLeftArrowDrawProps(t,l),right:this.getRightArrowDrawProps(t,h)}}getTextBoxPosition(t){let{t:e=.5}=t.captions[0]??{},{startPoint:r,endPoint:o}=t;return{x:r.x+(o.x-r.x)*e,y:r.y+(o.y-r.y)*e,angle:a.G.lineAngle(r,o)}}}var B=r(889171),R=r(441505),I=r(976780),v=r(71039),O=r(873225),A=r(937093),D=r(808687);class N extends B.E{enabled=!0}class _ extends L{draw(t,e){t.points.length<2||this.drawLine(t,e)}coreDraw(t,e,r){e.beginPath(),this.setDashStrokeStyle(e,r);let a=t.getDrawPoints();e.moveTo(a[0].x,a[0].y);for(let t=1;t<a.length;t++){let r=a[t];e.lineTo(r.x,r.y)}e.stroke()}getArrowDrawProps(t){return 2===t.points.length?S.prototype.getArrowDrawProps.call(this,t):super.getArrowDrawProps(t)}getTextBoxPosition(t){let{t:e=.5}=t.captions[0]??{},r=t.getDrawPoints();if(2===r.length)return S.prototype.getTextBoxPosition.call(this,t);if(0===e)return{x:r[0].x,y:r[0].y,angle:a.G.lineAngle(r[0],r[1])};if(1===e)return{x:r[r.length-1].x,y:r[r.length-1].y,angle:a.G.lineAngle(r[r.length-2],r[r.length-1])};let o=0;for(let t=0;t<r.length-1;t++)o+=a.G.distance(r[t],r[t+1]);let i=o*e,s=0,n=null;for(let t=0;t<r.length-1;t++){let e=r[t],o=r[t+1],l=a.G.distance(e,o);if(s<i&&s+l>=i){let t=(i-s)/l;n={x:e.x+(o.x-e.x)*t,y:e.y+(o.y-e.y)*t,angle:a.G.lineAngle(e,o)};break}s+=l}return n}getControlPoints(t){let{points:e}=t,r=[];for(let t=0;t<e.length-1;t++){let o=e[t],i=e[t+1],s=a.G.distance(o,i),n=new N(.5*(o.x+i.x),.5*(o.y+i.y));n.isHorizon=D.D.judgeHorizon(o,i),n.enabled=s>=22,r.push(n)}return r}}let W=(t,e,r,a=12)=>{let o={x:(e.x+t.x)/2,y:(e.y+t.y)/2},i={x:(e.x+r.x)/2,y:(e.y+r.y)/2},s=i.x-o.x,n=i.y-o.y,l=Math.abs(s)>Math.abs(n)?Math.abs(n):Math.abs(s);return l>a&&(l=a),{x:s>0?l:-l,y:n>0?l:-l}},H=(t,e,r,o)=>{let i=new B.E(e.x+r.x,e.y-r.y);.1>Math.abs(t.y-e.y)&&(i.x=e.x-r.x,i.y=e.y+r.y);let s=a.G.lineAngle(i,o),n=Math.abs(r.x);return{x:i.x+n*Math.cos(-s),y:i.y-n*Math.sin(-s)}};class F extends L{radius=8;draw(t,e){t.points.length<2||this.drawLine(t,e)}coreDraw(t,e,r){e.beginPath(),this.setDashStrokeStyle(e,r),2===t.points.length?this.drawSimpleLine(t,e):this.drawArcPolyLine(t,e),e.stroke()}getArrowDrawProps(t){return 2===t.points.length?S.prototype.getArrowDrawProps.call(this,t):super.getArrowDrawProps(t)}getTextBoxPosition(t){let{t:e=.5}=t.captions[0]??{},r=t.getDrawPoints();if(2===r.length)return S.prototype.getTextBoxPosition.call(this,t);if(0===e)return{x:r[0].x,y:r[0].y,angle:a.G.lineAngle(r[0],r[1])};if(1===e)return{x:r[r.length-1].x,y:r[r.length-1].y,angle:a.G.lineAngle(r[r.length-2],r[r.length-1])};let o=0;for(let t=0;t<r.length-1;t++)o+=a.G.distance(r[t],r[t+1]);let i=o*e,s=0,n=null;for(let t=0;t<r.length-1;t++){let e=r[t],o=r[t+1],l=a.G.distance(e,o);if(s<i&&s+l>=i){let h=i-s,d=h/l;if(n={x:e.x+(o.x-e.x)*d,y:e.y+(o.y-e.y)*d,angle:a.G.lineAngle(e,o)},t>=1){let a=r[t-1],i=W(a,e,o),s=Math.abs(i.x);if(s>=0&&h<=s){Object.assign(n,H(a,e,i,n));break}}if(t<=r.length-3){let a=W(e,o,r[t+2]),i=Math.abs(a.x);i>=0&&h>=l-i&&h<=l&&Object.assign(n,H(e,o,a,n))}break}s+=l}return n}getControlPoints(t){return _.prototype.getControlPoints.call(this,t)}drawSimpleLine(t,e){let{startPoint:r,endPoint:a}=t;e.moveTo(r.x,r.y),e.lineTo(a.x,a.y)}drawArcPolyLine(t,e){for(let{p0:r,p1:a,arcDraw:o}of this.getArcPolyPoints(t))e.moveTo(r.x,r.y),e.lineTo(a.x,a.y),e.arcTo(o.a.x,o.a.y,o.b.x,o.b.y,o.r);e.lineTo(t.endPoint.x,t.endPoint.y)}getArcPolyPoints(t){let e=t.getDrawPoints(),r=[],a=e[0];for(let t=0;t<e.length-2;t+=1){let o=a,i=e[t+1],s=e[t+2];if(D.D.judgeHorizon(o,i)){let t=.5*Math.abs(o.x-i.x),e=.5*Math.abs(i.y-s.y),n=t>e?e:t,l=this.radius<n?this.radius:n,h=i.x>o.x?1:-1,d=s.y>i.y?1:-1;a=new B.E(i.x,i.y+d*l);let p={p0:o,p1:new B.E(i.x-h*l,i.y),arcDraw:{a:i,b:a,r:l}};r.push(p)}else{let t=.5*Math.abs(o.y-i.y),e=.5*Math.abs(i.x-s.x),n=t>e?e:t,l=this.radius<n?this.radius:n,h=i.y>o.y?1:-1,d=s.x>i.x?1:-1;a=new B.E(i.x+d*l,i.y);let p={p0:o,p1:new B.E(i.x,i.y-h*l),arcDraw:{a:i,b:a,r:l}};r.push(p)}}return r}}var G=r(268283),Y=r(873411),U=r(955633),X=r(117866);class z extends L{draw(t,e){t.points.length<3||this.drawLine(t,e)}coreDraw(t,e,r){e.beginPath(),this.setDashStrokeStyle(e,r);let a=t.getDrawPoints();e.moveTo(a[0].x,a[0].y);for(let t=1;t<a.length-2;t+=3){let r=a[t],o=a[t+1],i=a[t+2];e.bezierCurveTo(r.x,r.y,o.x,o.y,i.x,i.y)}e.stroke()}getTextBoxPosition(t){let e=t.getDrawPoints(),r=(Math.floor((e.length-4)/3)+2-1)*(t.captions[0]?.t??.5),o=null;for(let t=0;t<e.length-1;t++)if(t%3!=1&&t%3!=2){if(r<=1){let i=e[t],s=e[t+1],n=e[t+2],l=e[t+3],h=1-r,d=h*h,p=d*h,u=r*r,c=u*r,x={x:p*i.x+3*d*r*s.x+3*h*u*n.x+c*l.x,y:p*i.y+3*d*r*s.y+3*h*u*n.y+c*l.y},g=3*d*(s.x-i.x)+6*h*r*(n.x-s.x)+3*u*(l.x-n.x),y=Math.atan2(3*d*(s.y-i.y)+6*h*r*(n.y-s.y)+3*u*(l.y-n.y),g);if(0===r&&s.x===i.x&&s.y===i.y){let t={x:n.x-i.x,y:n.y-i.y};y=a.G.lineAngle({x:0,y:0},t)}else if(r-1==0&&n.x===l.x&&n.y===l.y){let t={x:s.x-l.x,y:s.y-l.y};y=a.G.lineAngle(t,{x:0,y:0})}o={...x,angle:y};break}r-=1}return o}getControlPoints(t){let e=t.getDrawPoints(),r=[];for(let t=0;t<e.length-1;t+=3){let o=e[t],i=e[t+1],s=e[t+2],n=e[t+3],l=a.G.distance(o,n)>=(0===t||t===e.length-4?24:32),h=(0,X.R)(.5,o,i,s,n);r.push({...h,enabled:l})}return r}findProjectPoint(t,e){let r=t.getDrawPoints(),o=Math.floor((r.length-4)/3)+2,i=1/0,s=0,n={x:0,y:0,t:0,pointIndex:0};for(let t=0;t<r.length-1;t++){if(t%3==1||t%3==2)continue;let l=r[t],h=r[t+1],d=r[t+2],p=r[t+3],u=new U.D(l,h,d,p).project(e),c=a.G.distance(u,e);if(c<i&&(n.x=u.x,n.y=u.y,n.pointIndex=s,n.t=(u.t+s)/(o-1),n.t>1&&1e-6>Math.abs(n.t-1)?n.t=1:n.t<0&&1e-6>Math.abs(n.t)&&(n.t=0),i=c),c<=1)break;s+=1}return n}}var Z=r(508241),V=r(797615),q=r(561347),j=r(891763),J=r(329568),$=r(744966),Q=r(487570),K=r(915602),tt=r(943451);class te extends R.L{static drawerMap=new Map([[A.SP.RightAngledPolyLine,new _],[A.SP.PolyLine,new F],[A.SP.Curve,new z],[A.SP.SimpleLine,new S]]);type=V.Jq.Connector;textPlaceholderRender=null;arrowDrawer={draw:t=>{},rectNodes:[]};shouldUpdateText=!1;crossPoints=[];get borderProps(){return this.getProp(I.d.LineBorder)}get lineProps(){return this.getProp(I.d.Line)}get points(){let{x:t,y:e}=this.globalBaseProps;return this.lineProps.points.map(r=>({x:r.x+t,y:r.y+e}))}get shapeType(){return this.lineProps.lineType}get lineType(){return this.lineProps.lineType}get captionsProps(){return this.getProp(I.d.LineCaptions)}get captions(){return this.captionsProps.captions}get textProps(){let{textProps:t=new q.l}=this.captions[0]??{};return t}get attachProps(){return this.getProp(I.d.LineAttach)}get drawer(){let t=te.drawerMap.get(this.shapeType);return t||(console.error("\u53D6\u4E0D\u5230drawer\uFF0C\u4F7F\u7528line\u515C\u5E95!"),t=te.drawerMap.get(A.SP.SimpleLine)),t}get startPoint(){return this.arrowDrawProps?.left.endPoint??this.points[0]}get endPoint(){return this.arrowDrawProps?.right.endPoint??this.points[this.points.length-1]}constructor(t,e,r){super(t,e,r),this.propMap.set(I.d.Base,new Y.s),this.propMap.set(I.d.Line,new O.o([])),this.propMap.set(I.d.LineBorder,new v.m),this.propMap.set(I.d.LineCaptions,new j.l),this.propMap.set(I.d.LineAttach,new G.j),this.propMap.set(I.d.Theme,new Z.F),this.propMap.set(I.d.Opacity,new K.j),this.graphicText=new J.v}getProp(t){return t===I.d.Text?this.textProps:super.getProp(t)}isAsync(){return this.graphicText.isAsync()}isCached(){return this.graphicText.isCached()}refreshCache(){return this.graphicText.refreshCache()}getStretchMinSize(){return new B.E(10,10)}crossIntersectionWithLines(t){this.crossPoints=[];let e=this.getDrawPoints();for(let r of t){let t=$.Y.findCanvasLineIntersection(this,r),o=t;o=r.isPolyLine()?o.filter(t=>!a.G.isNearbyPolyLineBreakPoint([...r.getDrawPoints()],t.intersectionPoint,18)):t,this.isPolyLine()&&(o=o.filter(t=>!a.G.isNearbyPolyLineBreakPoint(e,t.intersectionPoint,18))),o=o.filter(t=>!a.G.isNearbyEndPoint(e,t.intersectionPoint,7)),this.crossPoints.push(...o)}}drawOnGLCtx(t){if(0===this.points.length)return void console.error("line has no point!");this.drawLineAndArrow(t),this.captions.length>0&&this.graphicText.drawOnGLCtx(t)}hasCrossPoint(){return this.lineProps.crossLine&&this.crossPoints.length>0}isPolyLine(){return this.shapeType===A.SP.PolyLine||this.shapeType===A.SP.RightAngledPolyLine}isCurveLine(){return this.shapeType===A.SP.Curve}drawLineAndArrow(t){t.save(),this.prepareArrowDrawer(),this.clipTextBox(t),this.drawer.draw(this,t),this.arrowDrawer.draw(t),t.restore()}prepareArrowDrawer(){let{lArrow:t,rArrow:e}=this.borderProps,{left:r,right:a}=this.arrowDrawProps;this.arrowDrawer=(t=>{let e=[],r=[];return t.forEach(({type:t,prop:a})=>{if(!t)return;let{rectNode:o,draw:i}=C(t).prepareDraw(a);r.push(o),e.push(i)}),{draw:t=>{e.forEach(e=>e(t))},rectNodes:r}})([{type:t,prop:r},{type:e,prop:a}])}getTextProjectionPoint(){if(this.textProjectionPoint)return this.textProjectionPoint;let{x:t,y:e}=this.drawer.getTextBoxPosition(this);return this.textProjectionPoint=new B.E(t,e),this.textProjectionPoint}clipTextBox(t){if(0===this.captions.length)return;let e=new Path2D,r=this.getRectNode();e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.addPath((0,X.c5)(this)),t.clip(e,"evenodd")}getBounds(){let t=[...this.points],e=a.G.getBoundsByPoints(t);if(!this.graphicText.hasText())return e;let r=this.graphicText.getRectNode();return a.G.getBounds([e,r],this.id)}getRectPoint(){let{minX:t,minY:e,maxY:r,maxX:a}=this.getRectNode();return{topLeft:new B.E(t,e),topRight:new B.E(a,e),bottomLeft:new B.E(t,r),bottomRight:new B.E(a,r)}}getRectNode(){let t=[...this.points],e=a.G.getBoundsByPoints(t),r=this.arrowDrawer.rectNodes;if(this.graphicText.hasText()){let t=this.graphicText.getRectNode();e=a.G.getBounds([e,t,...r],this.id)}else e=a.G.getBounds([e,...r],this.id);let{borderProps:o}=this;return e.minX=e.minX-o.borderWidth,e.minY=e.minY-o.borderWidth,e.maxX=e.maxX+2*o.borderWidth,e.maxY=e.maxY+2*o.borderWidth,e.id=this.id,e}toGlobalPoint(t){let{globalBaseProps:e}=this;return{x:t.x+e.x,y:t.y+e.y}}toLocalPoint(t){let{globalBaseProps:e}=this;return{x:t.x-e.x,y:t.y-e.y}}updateNodeProps(t){t.forEach(t=>{let e=this.getProp(t.type);if(e?.update(t),t.type===I.d.Base&&(this.shouldUpdateText=!0),t.type===I.d.LineCaptions){let{captions:e}=t;e.length>0&&(this.shouldUpdateText=!0)}})}afterNodeInit(t){(0,X.fP)(this,t),(0,X.c4)(this,t),this.captions.forEach(t=>{if(-1===t.t&&t.position){let{x:e,y:r}=this.globalBaseProps,{t:a}=this.drawer.findProjectPoint(this,{x:e+t.position.x,y:r+t.position.y});t.update({t:a})}}),this.afterUpdateProps()}afterUpdateProps(){this.arrowDrawProps=this.drawer.getArrowDrawProps(this);let{x:t,y:e,angle:r}=this.drawer.getTextBoxPosition(this);this.textProjectionPoint=new B.E(t,e),this.shouldUpdateText&&this.captions.length>0&&(this.updateGraphicText(this.textProjectionPoint,r),this.shouldUpdateText=!1)}updateGraphicText(t,e){let[r]=this.captions,a=(0,X.Pn)(r,t,e),o=(0,X.Qy)(a),{graphicText:i}=this;i.update(this.graphicContext,[a,r.textProps],{contentBounds:o,maxWidth:a.width});let s=i.getContentRect();if((0,X.fy)(i,r,s,a.width),(0,X.C9)(i,r,t,e),r.textProps.text)this.textPlaceholderRender=null;else{let i=this.textPlaceholderRender||new J.v,s=r.textProps.clone();s.text=this.options?.textPlaceholder??"",i.update(this.graphicContext,[a,s],{contentBounds:o,maxWidth:a.width});let n=i.getContentRect();(0,X.fy)(i,r,n,a.width),(0,X.C9)(i,r,t,e),this.textPlaceholderRender=i}}getControlPoints(){return this.drawer.getControlPoints(this)}contains(t){if(this.graphicText.hasText()){let e=this.graphicText.getRectPoint();if(a.G.rectPointContains(t,e))return!0}let e=this.borderProps.borderWidth+Q.K2;return $.Y.canvasLineContains(this,t,.5*e)}getDrawPoints(){switch(this.shapeType){case A.SP.Curve:return this.getBezierPoints();case A.SP.PolyLine:case A.SP.RightAngledPolyLine:return this.getPolyPoints();case A.SP.SimpleLine:default:return this.getSimpleLinePoints()}}getPolyPoints(){if(this.shapeType!==A.SP.PolyLine&&this.shapeType!==A.SP.RightAngledPolyLine)return[];let t=this.points.slice();return t.length>2&&t[1].x===t[0].x&&t[1].y===t[0].y&&t.splice(1,1,this.startPoint),t.splice(0,1,this.startPoint),t.length>2&&t[t.length-2].x===t[t.length-1].x&&t[t.length-2].y===t[t.length-1].y&&t.splice(t.length-2,1,this.endPoint),t.splice(t.length-1,1,this.endPoint),t}getSimpleLinePoints(){return this.shapeType!==A.SP.SimpleLine?[]:[new B.E(this.startPoint.x,this.startPoint.y),new B.E(this.endPoint.x,this.endPoint.y)]}getBezierPoints(){if(this.shapeType!==A.SP.Curve)return[];let t=this.points.slice(),e=t[0],r=t[t.length-1],{startPoint:a,endPoint:o}=this;return t.splice(0,1,a),t.splice(1,1,{x:t[1].x-(e.x-a.x),y:t[1].y-(e.y-a.y)}),t.splice(t.length-2,1,{x:t[t.length-2].x-(r.x-o.x),y:t[t.length-2].y-(r.y-o.y)}),t.splice(-1,1,o),t}getGraphicTexts(){return[{type:tt.P.LineCaption,graphicText:this.graphicText}]}}},931425:function(t,e,r){r.d(e,{F:()=>rZ});var a,o,i=r(441505),s=r(797379),n=r(971213);class l extends n.q{draw(t,e){}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:0,right:e,bottom:r,left:0}}buildOutlinePath(t){let{x:e,y:r,width:a,height:o}=t.globalBaseProps,i=new Path2D;return i.rect(e,r,a,o),i}}var h=r(805433),d=r(921954);let p={top:0,right:80,bottom:80,left:0},u=[{segments:[]}];class c extends d.B{defaultText="";defaultWidth=80;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:p,paths:u,shouldScaleToFitBounds:!1})}buildFillPath(t,e,r){let{width:a,height:o,x:i,y:s}=t.globalBaseProps,n=new Path2D;return n.ellipse(i+.5*a,s+.5*o,.5*a,.5*o,0,0,2*Math.PI,!1),n}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:.15*r,right:.85*e,bottom:.85*r,left:.15*e}}getOutlineBezierPoints(t){let{width:e,height:r}=t.globalBaseProps,a=e/2,o=r/2,i=a*h.U,s=o*h.U,n=[];return n.push([{x:0,y:o},{x:0,y:o-s},{x:a-i,y:0},{x:a,y:0}]),n.push([{x:a,y:0},{x:a+i,y:0},{x:e,y:o-s},{x:e,y:o}]),n.push([{x:e,y:o},{x:e,y:o+s},{x:a+i,y:r},{x:a,y:r}]),n.push([{x:a,y:r},{x:a-i,y:r},{x:0,y:o+s},{x:0,y:o}]),n}}let x={top:0,right:120,bottom:120,left:0},g=[{segments:[]}];class y extends d.B{defaultText="";defaultWidth=120;defaultHeight=120;minWidth=10;minHeight=10;constructor(){super({bounds:x,paths:g,shouldScaleToFitBounds:!1})}buildFillPath(t,e,r){let{width:a,height:o,x:i,y:s}=t.globalBaseProps,n=new Path2D;return n.rect(i,s,a,o),n}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:6,right:e-6,bottom:r-6,left:6}}buildOutlinePath(t){let{width:e,height:r,x:a,y:o}=t.globalBaseProps,i=new Path2D;return i.rect(a,o,e,r),i}getOutlinePolygonPaths(){return null}}let f={top:0,right:168,bottom:96,left:0},P=[{adjustClipStrokeRadius:!1,segments({width:t,height:e}){let r=Math.min(e/2.1333333333333333,t/2),a=.22916666666666666*e;return[{key:"M",data:[0,a],radius:1},{key:"L",data:[t-r,a]},{key:"L",data:[t-r,0],radius:1},{key:"L",data:[t,e/2],radius:1},{key:"L",data:[t-r,e],radius:1},{key:"L",data:[t-r,e-a]},{key:"L",data:[0,e-a],radius:1},{key:"Z",data:[]}]}}];class m extends d.B{defaultText="";defaultWidth=168;defaultHeight=96;minWidth=70;minHeight=30;constructor(t){super(t?{bounds:t.bounds,paths:t.paths}:{bounds:f,paths:P})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:30.5/96*r,right:e-20,bottom:r*(1-30.5/96),left:8}}getOutlinePolygonPaths(){return null}}let T={top:0,right:208,bottom:96,left:0},b=[{adjustClipStrokeRadius:!1,segments({width:t,height:e}){let r=Math.min(e/2.1333333333333333,t/3),a=.22916666666666666*e;return[{key:"M",data:[r,a]},{key:"L",data:[t-r,a]},{key:"L",data:[t-r,0],radius:1},{key:"L",data:[t,e/2],radius:1},{key:"L",data:[t-r,e],radius:1},{key:"L",data:[t-r,e-a]},{key:"L",data:[r,e-a]},{key:"L",data:[r,e],radius:1},{key:"L",data:[0,e/2],radius:1},{key:"L",data:[r,0],radius:1},{key:"Z",data:[]}]}}];class w extends m{defaultText="";defaultWidth=208;defaultHeight=96;minWidth=100;minHeight=30;constructor(){super({bounds:T,paths:b})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:30.5/96*r,right:e-35,bottom:r*(1-30.5/96),left:35}}getOutlinePolygonPaths(){return null}}var C=r(91031);let M={top:0,right:120,bottom:80,left:0},k=[{segments:[]}];class E extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:M,paths:k,shouldScaleToFitBounds:!1})}buildFillPath(t,e,r){let{width:a,height:o,x:i,y:s}=t.globalBaseProps,n=new Path2D;return n.roundRect(i,s,a,o,o>a?.5*a:.5*o),n}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:11/80*r,right:e*(1-13/120),bottom:.8625*r,left:13/120*e}}getOutlineBezierPoints(t){let{width:e,height:r}=t.globalBaseProps,a=r>e?.5*e:.5*r,o=a*h.U,i=[];return i.push([{x:a,y:0},{x:a,y:0},{x:e-a,y:0},{x:e-a,y:0}]),i.push([{x:e-a,y:0},{x:e-a+o,y:0},{x:e,y:a-o},{x:e,y:a}]),i.push([{x:e,y:a},{x:e,y:a},{x:e,y:r-a},{x:e,y:r-a}]),i.push([{x:e,y:r-a},{x:e,y:r-a+o},{x:e-a+o,y:r},{x:e-a,y:r}]),i.push([{x:e-a,y:r},{x:e-a,y:r},{x:a,y:r},{x:a,y:r}]),i.push([{x:a,y:r},{x:a-o,y:r},{x:0,y:r-a+o},{x:0,y:r-a}]),i.push([{x:0,y:r-a},{x:0,y:r-a},{x:0,y:a},{x:0,y:a}]),i.push([{x:0,y:a},{x:0,y:a-o},{x:a-o,y:0},{x:a,y:0}]),i}}var L=r(889171),S=r(150630),B=r(771584),R=r(329568),I=r(335342),v=r(976780),O=r(873411),A=r(561347),D=r(965732),N=r(596500),_=r(995363),W=r(128003);let H=3*Math.PI/2,F=Math.PI/2,G=2*Math.PI,Y=G/36,U={top:0,right:120,bottom:80,left:0},X={x:6,y:78},z=(t,e)=>{let r=t<=e;return{isScaleX:r,scaleRatio:r?t/e:e/t}},Z=[{adjustClipStrokeRadius:!1,segments({width:t,height:e},{controlPoint:r,radius:a}={controlPoint:X,radius:0}){let{isScaleX:o,scaleRatio:i}=z(t,e),{scaleX:s,scaleY:n}=o?{scaleX:i,scaleY:1}:{scaleX:1,scaleY:i},l=(({controlPoint:t,radius:e})=>{let r,a,o,i=((r=Math.atan2(t.y-e,t.x-e))<0&&(r+=G),a=r-Y,o=r+Y,a<0?a+=G:a>G&&(a-=G),o<0?o+=G:o>G&&(o-=G),{firstEdgeAngle:a,lastEdgeAngle:o}),s=((t,e)=>{let r={x:t.x-e,y:t.y-e},a=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2));return{firstEdgePoint:{x:(r.x*Math.cos(-Y)-r.y*Math.sin(-Y))*e/a+e,y:(r.x*Math.sin(-Y)+r.y*Math.cos(-Y))*e/a+e},lastEdgePoint:{x:(r.x*Math.cos(Y)-r.y*Math.sin(Y))*e/a+e,y:(r.x*Math.sin(Y)+r.y*Math.cos(Y))*e/a+e}}})(t,e),{firstEdgeAngle:n,lastEdgeAngle:l}=i,d={points:{top:{x:e,y:0},right:{x:2*e,y:e},bottom:{x:e,y:2*e},left:{x:0,y:e}},controlPoint:t,edgePoints:s,edgeAngles:i,radius:e};return n>=H&&n<=G&&l>=H&&l<=G?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-H,l=h.G.calculateBezierHandleLength(n)*s,d=G-i,p=h.G.calculateBezierHandleLength(d)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+l,t.top.y,r.x-l*Math.cos(n),r.y-l*Math.sin(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x+p*Math.sin(d),a.y+p*Math.cos(d),t.right.x,t.right.y-p,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+h.U*s,t.bottom.x+h.U*s,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-h.U*s,t.bottom.y,t.left.x,t.left.y+h.U*s,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-h.U*s,t.top.x-h.U*s,t.top.y,t.top.x,t.top.y]}]})(d):n>=Math.PI&&n<=H&&l>=Math.PI&&l<=H?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-Math.PI,l=h.G.calculateBezierHandleLength(n)*s,d=H-i,p=h.G.calculateBezierHandleLength(d)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+h.U*s,t.top.y,t.right.x,t.right.y-h.U*s,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+h.U*s,t.bottom.x+h.U*s,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-h.U*s,t.bottom.y,t.left.x,t.left.y+h.U*s,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-l,r.x-l*Math.sin(n),r.y+l*Math.cos(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x+p*Math.cos(d),a.y-p*Math.sin(d),t.top.x-p,t.top.y,t.top.x,t.top.y]}]})(d):n>=F&&n<=Math.PI&&l>=F&&l<=Math.PI?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-F,l=h.G.calculateBezierHandleLength(n)*s,d=Math.PI-i,p=h.G.calculateBezierHandleLength(d)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+h.U*s,t.top.y,t.right.x,t.right.y-h.U*s,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+h.U*s,t.bottom.x+h.U*s,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-l,t.bottom.y,r.x+l*Math.cos(n),r.y+l*Math.sin(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x-p*Math.sin(d),a.y-p*Math.cos(d),t.left.x,t.left.y+p,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-h.U*s,t.top.x-h.U*s,t.top.y,t.top.x,t.top.y]}]})(d):n>=0&&n<=F&&l>=0&&l<=F?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=h.G.calculateBezierHandleLength(o)*s,l=F-i,d=h.G.calculateBezierHandleLength(l)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+h.U*s,t.top.y,t.right.x,t.right.y-h.U*s,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+n,r.x+n*Math.sin(o),r.y-n*Math.cos(o),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x-d*Math.cos(l),a.y+d*Math.sin(l),t.bottom.x+d,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-h.U*s,t.bottom.y,t.left.x,t.left.y+h.U*s,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-h.U*s,t.top.x-h.U*s,t.top.y,t.top.x,t.top.y]}]})(d):n>=Math.PI&&n<=H&&l>=H&&l<=G?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-Math.PI,l=h.G.calculateBezierHandleLength(n)*s,d=h.G.calculateBezierHandleLength(G-i)*s;return[{key:"M",data:[a.x,a.y]},{key:"C",data:[a.x+d*Math.sin(n),a.y+d*Math.cos(n),t.right.x,t.right.y-d,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+h.U*s,t.bottom.x+h.U*s,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-h.U*s,t.bottom.y,t.left.x,t.left.y+h.U*s,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-l,r.x-l*Math.sin(n),r.y+l*Math.cos(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]}]})(d):n>=F&&n<=Math.PI&&l>=Math.PI&&l<=H?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-F,l=h.G.calculateBezierHandleLength(n)*s,d=H-i,p=h.G.calculateBezierHandleLength(d)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+h.U*s,t.top.y,t.right.x,t.right.y-h.U*s,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+h.U*s,t.bottom.x+h.U*s,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-l,t.bottom.y,r.x+l*Math.cos(n),r.y+l*Math.sin(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x+p*Math.cos(d),a.y-p*Math.sin(d),t.top.x-p,t.top.y,t.top.x,t.top.y]}]})(d):n>=0&&n<=F&&l>=F&&l<=Math.PI?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=h.G.calculateBezierHandleLength(o)*s,l=Math.PI-i,d=h.G.calculateBezierHandleLength(l)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+h.U*s,t.top.y,t.right.x,t.right.y-h.U*s,t.right.x,t.right.y]},{key:"C",data:[t.right.x,t.right.y+n,r.x+n*Math.sin(o),r.y-n*Math.cos(o),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x-d*Math.sin(l),a.y-d*Math.cos(l),t.left.x,t.left.y+d,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-h.U*s,t.top.x-h.U*s,t.top.y,t.top.x,t.top.y]}]})(d):n>=H&&n<=G&&l>=0&&l<=F?(({points:t,controlPoint:e,edgePoints:{firstEdgePoint:r,lastEdgePoint:a},edgeAngles:{firstEdgeAngle:o,lastEdgeAngle:i},radius:s})=>{let n=o-H,l=h.G.calculateBezierHandleLength(n)*s,d=h.G.calculateBezierHandleLength(F-i)*s;return[{key:"M",data:[t.top.x,t.top.y]},{key:"C",data:[t.top.x+l,t.top.y,r.x-l*Math.cos(n),r.y-l*Math.sin(n),r.x,r.y]},{key:"L",data:[e.x,e.y]},{key:"L",data:[a.x,a.y]},{key:"C",data:[a.x-d*Math.cos(n),a.y+d*Math.sin(n),t.bottom.x+d,t.bottom.y,t.bottom.x,t.bottom.y]},{key:"C",data:[t.bottom.x-h.U*s,t.bottom.y,t.left.x,t.left.y+h.U*s,t.left.x,t.left.y]},{key:"C",data:[t.left.x,t.left.y-h.U*s,t.top.x-h.U*s,t.top.y,t.top.x,t.top.y]}]})(d):void 0})({controlPoint:r,radius:a});return(0,d.l)(l,s,n)}}];class V extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:U,paths:Z,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),e.lineJoin="round"}getScaledSegments(t,e,r){let{width:a,height:o}=t.baseProps,{controlPoint:i,radius:s}=((t,e,r)=>{let{isScaleX:a,scaleRatio:o}=z(t,e);return{radius:a?e/2:t/2,controlPoint:{x:a?r.x/o:r.x,y:a?r.y:r.y/o}}})(a,o,this.getControlPoint(t));return super.getScaledSegments(t,e,{...r,controlPoint:i,radius:s})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.175*r,right:e*(1-17/120),bottom:.85*r,left:17/120*e}}getControlPoint(t){let{width:e,height:r}=this.bounds,{width:a,height:o}=t.baseProps,{controlPoints:i}=t.getProp(v.d.ShapeType),s=i?.length?{...i[0]}:{...X};return s.x>0&&s.x<e?s.x=s.x*(a/e):s.x>=e&&(s.x=a+(s.x-e)),s.y>0&&s.y<r?s.y=s.y*(o/r):s.y>=r&&(s.y=o+(s.y-r)),s}}var q=r(530619);let j={top:0,right:22.6476993560791,bottom:121,left:0},J=[{fillDisabled:!0,clipStrokeWithFill:!1,segments({height:t}){let e=[];e.push({key:"M",data:[0,0]},{key:"C",data:[7.455840110778809,0,13.5,6.044159889221191,13.5,13.5]});let{height:r}=new q.Y(j),a=t/r*60-60;return e.push({key:"L",data:[13.5,45.5+a]},{key:"C",data:[13.5,50.639999866485596+a,16.03049898147583,55.45070147514343+a,20.266199111938477,58.362701416015625+a]},{key:"L",data:[22.6476993560791,60+a]},{key:"L",data:[17.184499740600586,63.755897521972656+a]},{key:"C",data:[14.877999782562256,65.34159755706787+a,13.5,67.96129965782166+a,13.5,70.76029968261719+a]}),e.push({key:"L",data:[13.5,t-(r-107.5)]},{key:"C",data:[13.5,t-(r-114.9559998512268),7.455830097198486,t-(r-121),0,t-(r-121)]}),e}}];class $ extends d.B{defaultText="";defaultWidth=164;defaultHeight=120;minWidth=38;minHeight=53;constructor(){super({bounds:j,paths:J})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-8,left:30}}getOutlinePolygonPaths(){return null}}let Q={top:0,right:22.6476993560791,bottom:121,left:0},K=[{fillDisabled:!0,clipStrokeWithFill:!1,segments({height:t}){let e=[];e.push({key:"M",data:[22.6476993560791,0]},{key:"C",data:[15.191899299621582,0,9.147700309753418,6.044159889221191,9.147700309753418,13.5]});let{height:r}=new q.Y(Q),a=t/r*60-60;return e.push({key:"L",data:[9.147700309753418,45.5+a]},{key:"C",data:[9.147700309753418,50.639999866485596+a,6.617200136184692,55.45070147514343+a,2.381500005722046,58.362701416015625+a]},{key:"L",data:[0,60+a]},{key:"L",data:[2.381500005722046,61.5+a]},{key:"C",data:[4.687999963760376,63.085700035095215+a,9.147700309753418,67.96129965782166+a,9.147700309753418,70.76029968261719+a]}),e.push({key:"L",data:[9.147700309753418,t-(r-107.5)]},{key:"C",data:[9.147700309753418,t-(r-114.9559998512268),15.191899299621582,t-(r-121),22.6476993560791,t-(r-121)]}),e}}];class tt extends d.B{defaultText="";defaultWidth=164;defaultHeight=120;minWidth=38;minHeight=53;constructor(){super({bounds:Q,paths:K})}buildStrokePath(t,e,r){let{x:a,y:o,width:i}=t.globalBaseProps,{width:s}=this.bounds,n=new Path2D;return n.addPath(e.toPath2D(),new DOMMatrixReadOnly().translate(a+(i-s),o)),n}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-30,bottom:r-8,left:8}}getOutlinePolygonPaths(){return null}}let te={top:0,right:120,bottom:80,left:0},tr=[{segments:[{key:"M",data:[0,0],radius:1},{key:"L",data:[120,80],radius:1},{key:"L",data:[0,80],radius:1},{key:"Z",data:[]}]}];class ta extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=20;minHeight=20;connectAnchors=[{position:{x:.5,y:.5},side:S.V.TOP},{position:{x:.5,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:te,paths:tr})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:47/80*r,right:e*(1-53/120),bottom:.9*r,left:8/120*e}}}let to={top:0,right:120,bottom:120,left:0},ti=[{segments:[{key:"M",data:[34,0],radius:2},{key:"L",data:[86,0],radius:2},{key:"L",data:[120,34],radius:2},{key:"L",data:[120,86],radius:2},{key:"L",data:[86,120],radius:2},{key:"L",data:[34,120],radius:2},{key:"L",data:[0,86],radius:2},{key:"L",data:[0,34],radius:2},{key:"Z",data:[]}]}];class ts extends d.B{defaultText="";defaultWidth=120;defaultHeight=120;minWidth=20;minHeight=20;constructor(){super({bounds:to,paths:ti})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:19/120*r,right:.85*e,bottom:r*(1-19/120),left:.15*e}}}let tn={top:0,right:96.85541534423828,bottom:87,left:0},tl=[{segments:[{key:"M",data:[96.85541534423828,43.5],radius:1},{key:"L",data:[72.6338119506836,87],radius:1},{key:"L",data:[24.22161293029785,87],radius:1},{key:"L",data:[0,43.5],radius:1},{key:"L",data:[24.22161293029785,0],radius:1},{key:"L",data:[72.6338119506836,19999999949504854e-22],radius:1},{key:"Z",data:[]}]}];class th extends d.B{defaultText="";defaultWidth=98;defaultHeight=88;minWidth=10;minHeight=10;constructor(){super({bounds:tn,paths:tl})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:15/88*r,right:e*(1-16/98),bottom:r*(1-15/88),left:16/98*e}}}let td={top:0,right:118,bottom:78,left:0},tp=[{segments({width:t,height:e}){let{width:r,height:a}=new q.Y(td),o=e/a;return[{key:"M",data:[0,0],radius:2},{key:"L",data:[t-39,0]},{key:"C",data:[t-39+21.538999557495117,0,t,39*o-21.539100646972656*o,t,39*o]},{key:"C",data:[t,39*o+21.539100646972656*o,t-39+21.538999557495117,e,t-39,e]},{key:"L",data:[0,e],radius:2},{key:"Z",data:[]}]}}];class tu extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=40;minHeight=60;constructor(){super({bounds:td,paths:tp})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e*(1-11/120),bottom:r-8,left:8}}}let tc={top:0,right:118.6075439453125,bottom:79,left:0},tx=[{segments:[{key:"M",data:[0,79],radius:1},{key:"L",data:[26.662540435791016,0],radius:1},{key:"L",data:[118.6075439453125,0],radius:1},{key:"L",data:[91.94454193115234,79],radius:1},{key:"Z",data:[]}]}];class tg extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.9,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:.1,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tc,paths:tx})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.1*r,right:e*(1-25/120),bottom:.9*r,left:25/120*e}}}let ty={top:0,right:120,bottom:80,left:0},tf=[{adjustClipStrokeRadius:!1,segments:({width:t,height:e},{controlPointDistance:r}={controlPointDistance:0})=>[{key:"M",data:[0,0],radius:1},{key:"L",data:[t,0],radius:1},{key:"L",data:[t-r,e],radius:+(r!==t/2)},{key:"L",data:[r,e],radius:+(r!==t/2)},{key:"Z",data:[]}]}],tP={x:15,y:60};class tm extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.93,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:.07,y:.5},side:S.V.LEFT}];constructor(){super({bounds:ty,paths:tf,shouldScaleToFitBounds:!1})}getScaledSegments(t,e,r){let a=this.getControlPoint(t).x/.75;return super.getScaledSegments(t,e,{...r,controlPointDistance:a})}getTextBounds(t){let{width:e,height:r}=t.baseProps,a=this.getControlPoint(t).x/.75,o=e-8,i=r-8,s=8;return 0!==a&&(s=e/4+8,o=e-s,(i=e*r/4/a-8)>r&&(i=r-8,o=e-(s=a+8))),{top:8,right:o,bottom:i,left:s}}getControlPoint(t){let{width:e,height:r}=this.bounds,{width:a,height:o}=t.baseProps,{controlPoints:i}=t.getProp(v.d.ShapeType),s=i?.length?{...i[0]}:{...tP};return s.x*=a/e,s.y=o-s.y*(o/r),s}}let tT={top:0,right:106.0623779296875,bottom:74.6367492675781,left:0},tb=[{segments:[{key:"M",data:[0,74.6367492675781],radius:1},{key:"L",data:[53.031375885009766,0],radius:1},{key:"L",data:[106.0623779296875,74.6367492675781],radius:1},{key:"Z",data:[]}]}];class tw extends d.B{defaultText="";defaultWidth=108;defaultHeight=76;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.753,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:.247,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tT,paths:tb})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.5*r,right:e*(1-25/108),bottom:r*(1-8/76),left:25/108*e}}}let tC={top:0,right:86.83226013183594,bottom:84.87602996826172,left:0},tM=[{segments:[{key:"M",data:[0,32.41312789916992],radius:1},{key:"L",data:[43.416160583496094,0],radius:1},{key:"L",data:[86.83226013183594,32.41312789916992],radius:1},{key:"L",data:[70.24336242675781,84.87602996826172],radius:1},{key:"L",data:[16.588960647583008,84.87602996826172],radius:1},{key:"Z",data:[]}]}];class tk extends d.B{defaultText="";defaultWidth=88;defaultHeight=86;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.97,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:.03,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tC,paths:tM})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:21/86*r,right:e*(1-17/88),bottom:r*(1-8/86),left:17/88*e}}}let tE={top:0,right:101.86781311035156,bottom:97.94159698486328,left:0},tL=[{segments:[{key:"M",data:[50.93381118774414,0],radius:1},{key:"L",data:[66.55341339111328,31.997499465942383],radius:1},{key:"L",data:[101.86781311035156,37.40549850463867],radius:1},{key:"L",data:[76.58280944824219,62.323699951171875],radius:1},{key:"L",data:[82.40860748291016,97.94159698486328],radius:1},{key:"L",data:[51.16851043701172,81.3367004394531],radius:1},{key:"L",data:[19.459009170532227,97.94159698486328],radius:1},{key:"L",data:[25.426809310913086,62.76350021362305],radius:1},{key:"L",data:[0,37.40549850463867],radius:1},{key:"L",data:[34.9376106262207,32.27289962768555],radius:1},{key:"Z",data:[]}]}];class tS extends d.B{defaultText="";defaultWidth=104;defaultHeight=100;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.91,y:.5},side:S.V.RIGHT},{position:{x:.5,y:.85},side:S.V.BOTTOM},{position:{x:.09,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tE,paths:tL})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.34*r,right:.75*e,bottom:.83*r,left:.25*e}}}let tB={top:0,right:120,bottom:100,left:0},tR=[{segments:[{key:"M",data:[102.37899780273438,30.490999221801758]},{key:"C",data:[112.55699825286865,33.25659918785095,120,42.086198806762695,120,52.55099868774414]},{key:"C",data:[120,62.21099853515625,113.65800189971924,70.47750186920166,104.677001953125,73.86730194091797]},{key:"C",data:[104.7230019532144,74.40890192985535,104.7460021972656,74.95680052042007,104.7460021972656,75.51020050048828]},{key:"C",data:[104.7460021972656,86.21780014038086,96.09489917755127,94.89800262451172,85.42359924316406,94.89800262451172]},{key:"C",data:[81.20659923553467,94.89800262451172,77.30510354042053,93.54239749908447,74.12830352783203,91.24189758300781]},{key:"C",data:[70.67530345916748,96.51699781417847,64.72629833221436,100,57.96659851074219,100]},{key:"C",data:[50.61449861526489,100,44.22149920463562,95.87980222702026,40.9557991027832,89.81500244140625]},{key:"C",data:[37.77229905128479,91.74380242824554,34.018799781799316,92.85710144042969,29.999799728393555,92.85710144042969]},{key:"C",data:[18.48610019683838,92.85710144042969,9.152339935302734,83.72009754180908,9.152339935302734,72.4489974975586]},{key:"C",data:[9.152339935302734,69.12879753112793,9.96226966381073,65.99379968643188,11.399299621582031,63.222999572753906]},{key:"C",data:[4.750579833984375,60.73519968986511,0,54.15490007400513,0,46.4286003112793]},{key:"C",data:[0,36.85109996795654,7.299700736999512,29.03459906578064,16.465900421142578,28.591299057006836]},{key:"C",data:[16.337900415062904,27.75309908390045,16.27149963378906,26.894499123096466,16.27149963378906,26.02039909362793]},{key:"C",data:[16.27149963378906,16.721698760986328,23.784001350402832,9.18367004394531,33.05110168457031,9.18367004394531]},{key:"C",data:[35.171101570129395,9.18367004394531,37.19920074939728,9.57815021276474,39.06660079956055,10.297900199890137]},{key:"C",data:[42.4432008266449,4.158510208129883,48.957900524139404,0,56.44070053100586,0]},{key:"C",data:[64.73010063171387,0,71.83160066604614,5.10351037979126,74.7947006225586,12.350000381469727]},{key:"C",data:[77.66790056228638,10.353400349617004,81.155202627182,9.18367004394531,84.91480255126953,9.18367004394531]},{key:"C",data:[94.74360275268555,9.18367004394531,102.71099853515625,17.178600311279297,102.71099853515625,27.040800094604492]},{key:"C",data:[102.71099853515625,28.221100091934204,102.59699779748917,29.374699234962463,102.37899780273438,30.490999221801758]},{key:"Z",data:[]}]}];class tI extends d.B{defaultText="";defaultWidth=120;defaultHeight=100;minWidth=10;minHeight=10;constructor(){super({bounds:tB,paths:tR})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:20/120*r,right:.825*e,bottom:r*(1-13/120),left:19/120*e}}}let tv={top:0,right:118.58589172363281,bottom:118.58589172363281,left:0},tO=[{segments:[{key:"M",data:[0,59.29289245605469],radius:1},{key:"L",data:[59.29289245605469,0],radius:1},{key:"L",data:[118.58589172363281,59.29289245605469],radius:1},{key:"L",data:[59.29289245605469,118.58589172363281],radius:1},{key:"Z",data:[]}]}];class tA extends d.B{defaultText="";defaultWidth=120;defaultHeight=120;minWidth=10;minHeight=10;constructor(){super({bounds:tv,paths:tO})}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:.25*r,right:.75*e,bottom:.75*r,left:.25*e}}}let tD={top:0,right:40,bottom:40,left:0},tN=[{segments:[{key:"M",data:[0,20]},{key:"C",data:[0,8.954304,8.954304,0,20,0]},{key:"C",data:[31.045696,0,40,8.954304,40,20]},{key:"C",data:[40,31.045696,31.045696,40,20,40]},{key:"C",data:[8.954304,40,0,31.045696,0,20]}]}];class t_ extends d.B{defaultText="";defaultWidth=40;defaultHeight=40;minWidth=20;minHeight=20;constructor(){super({bounds:tD,paths:tN})}}let tW={top:0,right:40,bottom:40,left:0},tH=[{fillDisabled:!0,segments:[{key:"M",data:[0,20]},{key:"C",data:[0,8.954304,8.954304,0,20,0]},{key:"C",data:[31.045696,0,40,8.954304,40,20]},{key:"C",data:[40,31.045696,31.045696,40,20,40]},{key:"C",data:[8.954304,40,0,31.045696,0,20]}]},{segments:[{key:"M",data:[6,20]},{key:"C",data:[6,12.2680128,12.2680128,6,20,6]},{key:"C",data:[27.7319872,6,34,12.2680128,34,20]},{key:"C",data:[34,27.7319872,27.7319872,34,20,34]},{key:"C",data:[12.2680128,34,6,27.7319872,6,20]}]}];class tF extends d.B{defaultText="";defaultWidth=40;defaultHeight=40;minWidth=20;minHeight=20;constructor(){super({bounds:tW,paths:tH,shouldScaleToFitBounds:!1})}getOutlinePolygonPaths(){return tH.slice(0,1)}}let tG={top:0,right:154,bottom:80,left:0},tY=[{segments:({width:t,height:e,borderWidth:r})=>[{key:"M",data:[0,0],radius:1},{key:"L",data:[t-34-r/2,0],radius:2},{key:"L",data:[t,e/2],radius:1},{key:"L",data:[t-34-r/2,e],radius:2},{key:"L",data:[0,e],radius:1},{key:"L",data:[34,e/2],radius:1},{key:"Z",data:[]}]}];class tU extends d.B{defaultText="";defaultWidth=160;defaultHeight=80;minWidth=94;minHeight=37;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:34,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tG,paths:tY})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-38,bottom:r-8,left:35}}}let tX={top:0,right:154,bottom:80,left:0},tz=[{segments:({width:t,height:e})=>[{key:"M",data:[0,0],radius:1},{key:"L",data:[t-34,0],radius:2},{key:"L",data:[t,e/2],radius:1},{key:"L",data:[t-34,e],radius:2},{key:"L",data:[0,e],radius:1},{key:"Z",data:[]}]}];class tZ extends d.B{defaultText="";defaultWidth=160;defaultHeight=80;minWidth=36;minHeight=20;constructor(){super({bounds:tX,paths:tz})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-34,bottom:r-8,left:8}}}let tV={top:0,right:120,bottom:120,left:0},tq=[{segments:[{key:"M",data:[120,33.24190139770508],radius:1},{key:"L",data:[120,86.7582015991211],radius:1},{key:"L",data:[86.7582015991211,86.7582015991211],radius:1},{key:"L",data:[86.7582015991211,120],radius:1},{key:"L",data:[33.241798400878906,120],radius:1},{key:"L",data:[33.241798400878906,86.7582015991211],radius:1},{key:"L",data:[0,86.7582015991211],radius:1},{key:"L",data:[0,33.24190139770508],radius:1},{key:"L",data:[33.241798400878906,33.24190139770508],radius:1},{key:"L",data:[33.241798400878906,0],radius:1},{key:"L",data:[86.7582015991211,23841901111154584e-22],radius:1},{key:"L",data:[86.7582015991211,33.24190139770508],radius:1},{key:"Z",data:[]}]}];class tj extends d.B{defaultText="";defaultWidth=120;defaultHeight=120;minWidth=10;minHeight=10;constructor(){super({bounds:tV,paths:tq})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:34/120*r,right:e*(1-34/120),bottom:r*(1-34/120),left:34/120*e}}}(a=o||(o={})).TOP="top",a.RIGHT="right",a.BOTTOM="bottom",a.LEFT="left";let tJ={top:0,right:120,bottom:72,left:0},t$={x:91,y:87},tQ=[{segments({width:t,height:e},{controlPoint:r}={controlPoint:t$}){let a=((t,e,r)=>!(r.y>0)&&(r.x>=0&&r.x<=t||Math.abs(r.y)>Math.abs(r.x)||r.x<0&&Math.abs(r.y)>Math.abs(r.x)||r.x>t&&Math.abs(r.y)>Math.abs(r.x-t))?o.TOP:!(r.x<t)&&(r.y>=0&&r.y<=e||r.y<0&&Math.abs(r.x-t)>Math.abs(r.y)||r.y>e&&Math.abs(r.x-t)>Math.abs(r.y-e))?o.RIGHT:!(r.y<e)&&(r.x>=0&&r.x<=t||r.x<0&&Math.abs(r.y-e)>Math.abs(r.x)||r.x>t&&Math.abs(r.y-e)>Math.abs(r.x-t))?o.BOTTOM:!(r.x>0)&&(r.y>=0&&r.y<=e||r.y<0&&Math.abs(r.x)>Math.abs(r.y)||r.y>e&&Math.abs(r.x)>Math.abs(r.y-e))?o.LEFT:o.TOP)(t,e,r),i=((t,e,r,a)=>{if(a===o.TOP||a===o.BOTTOM){let i={x:r.x-9,y:a===o.TOP?0:e},s={x:r.x+9,y:a===o.TOP?0:e};return i.x<6&&(i.x=6),i.x>t-6-18&&(i.x=t-6-18),s.x<24&&(s.x=24),s.x>t-6&&(s.x=t-6),{firstEdgePoint:i,lastEdgePoint:s}}let i={x:a===o.LEFT?0:t,y:r.y-9},s={x:a===o.LEFT?0:t,y:r.y+9};return i.y<6&&(i.y=6),i.y>e-6-18&&(i.y=e-6-18),s.y<24&&(s.y=24),s.y>e-6&&(s.y=e-6),{firstEdgePoint:i,lastEdgePoint:s}})(t,e,r,a);switch(a){case o.TOP:return[{key:"M",data:[0,0],radius:6},{key:"L",data:[i.firstEdgePoint.x,i.firstEdgePoint.y],radius:2},{key:"L",data:[r.x,r.y]},{key:"L",data:[i.lastEdgePoint.x,i.lastEdgePoint.y],radius:2},{key:"L",data:[t,0],radius:6},{key:"L",data:[t,e],radius:6},{key:"L",data:[0,e],radius:6},{key:"Z",data:[]}];case o.RIGHT:return[{key:"M",data:[0,0],radius:6},{key:"L",data:[t,0],radius:6},{key:"L",data:[i.firstEdgePoint.x,i.firstEdgePoint.y],radius:2},{key:"L",data:[r.x,r.y]},{key:"L",data:[i.lastEdgePoint.x,i.lastEdgePoint.y],radius:2},{key:"L",data:[t,e],radius:6},{key:"L",data:[0,e],radius:6},{key:"Z",data:[]}];case o.BOTTOM:return[{key:"M",data:[0,0],radius:6},{key:"L",data:[t,0],radius:6},{key:"L",data:[t,e],radius:6},{key:"L",data:[i.lastEdgePoint.x,i.lastEdgePoint.y],radius:2},{key:"L",data:[r.x,r.y]},{key:"L",data:[i.firstEdgePoint.x,i.firstEdgePoint.y],radius:2},{key:"L",data:[0,e],radius:6},{key:"Z",data:[]}];case o.LEFT:default:return[{key:"M",data:[0,0],radius:6},{key:"L",data:[t,0],radius:6},{key:"L",data:[t,e],radius:6},{key:"L",data:[0,e],radius:6},{key:"L",data:[i.lastEdgePoint.x,i.lastEdgePoint.y],radius:2},{key:"L",data:[r.x,r.y]},{key:"L",data:[i.firstEdgePoint.x,i.firstEdgePoint.y],radius:2},{key:"Z",data:[]}]}}}];class tK extends d.B{defaultText="";defaultWidth=120;defaultHeight=72;minWidth=30;minHeight=30;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:.5,y:80/93},side:S.V.BOTTOM},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:tJ,paths:tQ,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),e.lineJoin="round"}getScaledSegments(t,e,r){let a=this.getControlPoint(t);return super.getScaledSegments(t,e,{...r,controlPoint:a})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:6,right:e-6,bottom:r*(1-14/91.94),left:6}}getControlPoint(t){let{controlPoints:e}=t.getProp(v.d.ShapeType),r=e?.length?{...e[0]}:{...t$},{width:a,height:o}=this.bounds,{width:i,height:s}=t.baseProps;return r.x>0&&r.x<a?r.x=r.x*(i/a):r.x>=a&&(r.x=i+(r.x-a)),r.y>0&&r.y<o?r.y=r.y*(s/o):r.y>=o&&(r.y=s+(r.y-o)),r}}let t0={top:0,right:120,bottom:80.05712890625,left:0},t1=[{segments({width:t,height:e}){let{width:r,height:a}=new q.Y(t0),o=t/r;return[{key:"M",data:[0,0],radius:6},{key:"L",data:[120*o,0],radius:6},{key:"L",data:[120*o,e-9.2811965942]},{key:"C",data:[120*o,e-9.2811965942+.7833999991416931,118.46199798583984*o+.6790000200271606*o,e-8.4036026001+.38989999890327454,118.46199798583984*o,e-8.4036026001]},{key:"C",data:[118.46199798583984*o-11.401000022888184*o,e-8.4036026001-6.541200160980225,58.85380172729492*o+30.14389991760254*o,e-7.4865036011-12.147899627685547,58.85380172729492*o,e-7.4865036011]},{key:"C",data:[58.85380172729492*o-25.21489906311035*o,e-7.4865036011+10.161600112915039,.44525599479675293*o+10.71744441986084*o,e-7.1977996826+6.789700031280518,.44525599479675293*o,e-7.1977996826]},{key:"C",data:[.44525599479675293*o-.28306999802589417*o,e-7.1977996826-.179299995303154,0,e-8.0230026245+.335099995136261,0,e-8.0230026245]},{key:"Z",data:[]}]}}];class t2 extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=94;minHeight=45;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:.5,y:.8},side:S.V.BOTTOM},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:t0,paths:t1})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-18,left:8}}}let t5={top:0,right:36,bottom:10,left:0},t3=[{segments:[{key:"M",data:[0,0],radius:6},{key:"L",data:[36,0],radius:6},{key:"L",data:[36,10],radius:6},{key:"L",data:[0,10],radius:6},{key:"Z",data:[]}]},{fillDisabled:!0,clipStrokeWithFill:!1,segments({height:t,borderWidth:e}){let{height:r}=new q.Y(t5);return[{key:"M",data:[12+e/2,e]},{key:"L",data:[12+e/2,t/r*10-e]}]}},{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t,height:e,borderWidth:r}){let{height:a}=new q.Y(t5);return[{key:"M",data:[t-12-r/2,r]},{key:"L",data:[t-12-r/2,e/a*10-r]}]}}];class t6 extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=36;minHeight=20;constructor(){super({bounds:t5,paths:t3})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-20,bottom:r-8,left:20}}}let t4={top:0,right:100,bottom:100,left:0},t7=[{segments:[{key:"M",data:[67,0],radius:.001},{key:"L",data:[66,23],radius:.001},{key:"L",data:[85,20],radius:.001},{key:"L",data:[78,33],radius:.001},{key:"L",data:[100,37],radius:.001},{key:"L",data:[83,47],radius:.001},{key:"L",data:[100,60],radius:.001},{key:"L",data:[79,60],radius:.001},{key:"L",data:[84,84],radius:.001},{key:"L",data:[65,67],radius:.001},{key:"L",data:[61,92],radius:.001},{key:"L",data:[49,69],radius:.001},{key:"L",data:[39,100],radius:.001},{key:"L",data:[36,72],radius:.001},{key:"L",data:[21,81],radius:.001},{key:"L",data:[26,64],radius:.001},{key:"L",data:[0,67],radius:.001},{key:"L",data:[16,54],radius:.001},{key:"L",data:[0,39],radius:.001},{key:"L",data:[20,34],radius:.001},{key:"L",data:[0,8],radius:.001},{key:"L",data:[33,27],radius:.001},{key:"L",data:[39,8],radius:.001},{key:"L",data:[49,24],radius:.001},{key:"Z",data:[]}]}];class t8 extends d.B{defaultText="";defaultWidth=100;defaultHeight=100;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:.3},side:S.V.TOP},{position:{x:.8,y:.5},side:S.V.RIGHT},{position:{x:.5,y:.9},side:S.V.BOTTOM},{position:{x:.1,y:.5},side:S.V.LEFT}];constructor(){super({bounds:t4,paths:t7})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.28*r,right:.75*e,bottom:.64*r,left:.24*e}}}let t9={top:0,right:94.2369613647461,bottom:94.2369613647461,left:0},et=[{segments:[{key:"M",data:[47.11846160888672,0],radius:.001},{key:"L",data:[59.84476089477539,34.39216232299805],radius:.001},{key:"L",data:[94.2369613647461,47.11846160888672],radius:.001},{key:"L",data:[59.84476089477539,59.84476089477539],radius:.001},{key:"L",data:[47.11846160888672,94.2369613647461],radius:.001},{key:"L",data:[34.39216232299805,59.84476089477539],radius:.001},{key:"L",data:[0,47.11846160888672],radius:.001},{key:"L",data:[34.39216232299805,34.39216232299805],radius:.001},{key:"Z",data:[]}]}];class ee extends d.B{defaultText="";defaultWidth=100;defaultHeight=100;minWidth=10;minHeight=10;constructor(){super({bounds:t9,paths:et})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.37*r,right:.63*e,bottom:.63*r,left:.37*e}}}let er={top:0,right:84.9242248535156,bottom:86.30962371826172,left:0},ea=[{segments:[{key:"M",data:[43.49013137817383,0],radius:.001},{key:"L",data:[56.4471321105957,23.63412094116211],radius:.001},{key:"L",data:[84.9242248535156,23.63412094116211],radius:.001},{key:"L",data:[69.3833312988281,46.97541809082031],radius:.001},{key:"L",data:[84.90312957763672,69.81982421875],radius:.001},{key:"L",data:[56.55573272705078,69.81982421875],radius:.001},{key:"L",data:[43.49013137817383,86.30962371826172],radius:.001},{key:"L",data:[30.424528121948242,69.81982421875],radius:.001},{key:"L",data:[2.077169895172119,69.81982421875],radius:.001},{key:"L",data:[17.621929168701172,46.93861770629883],radius:.001},{key:"L",data:[0,23.63412094116211],radius:.001},{key:"L",data:[30.53312873840332,23.63412094116211],radius:.001},{key:"Z",data:[]}]}];class eo extends d.B{defaultText="";defaultWidth=100;defaultHeight=100;minWidth=20;minHeight=20;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:.65,y:.54},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:.35,y:.54},side:S.V.LEFT}];constructor(){super({bounds:er,paths:ea})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:28/89*r,right:e*(1-21/89),bottom:r*(1-21/89),left:21/89*e}}}let ei={top:0,right:51,bottom:40,left:0},es=[{fillDisabled:!0,segments:[{key:"M",data:[0,20]},{key:"L",data:[8,20]}]},{segments:[{key:"M",data:[8,20]},{key:"C",data:[8,11.715728759765625,14.715728759765625,5,23,5]},{key:"C",data:[31.284271240234375,5,38,11.715728759765625,38,20]},{key:"C",data:[38,28.284271240234375,31.284271240234375,35,23,35]},{key:"C",data:[14.715728759765625,35,8,28.284271240234375,8,20]}]},{fillDisabled:!0,segments:[{key:"M",data:[23,0]},{key:"C",data:[34.04570007324219,0,43,8.95429992675781,43,20]},{key:"M",data:[23,40]},{key:"C",data:[34.04570007324219,40,43,31.045700073242188,43,20]},{key:"L",data:[51,20]}]}];class en extends d.B{defaultText="";defaultWidth=54;defaultHeight=42;minWidth=28;minHeight=22;connectAnchors=[{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:ei,paths:es,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),this.isDashStroke(t)||(e.lineCap="round")}drawPath(t,e,r){r.save();let a=this.buildRawPath(this.getScaledSegments(t,e.segments)),o=this.buildFillPath(t,a,e.segments);if(e.fillDisabled)this.stroke(t,r,o);else if(this.hasStroke(t)){let e=new Path2D,{width:a,height:i,x:s,y:n}=t.globalBaseProps,{borderWidth:l}=t.getProp(v.d.Border),h={x:s+a/2,y:n+i/2},d=new DOMMatrixReadOnly().translate(h.x,h.y).scale((a+l)/a,(i+l)/i).translate(-h.x,-h.y);e.addPath(o,d),this.fill(t,r,e),this.stroke(t,r,e,e)}else this.fill(t,r,o);r.restore()}getOutlinePolygonPaths(){return null}}let el={top:0,right:38,bottom:30,left:0},eh=[{fillDisabled:!0,segments:[{key:"M",data:[0,15]},{key:"L",data:[8,15]}]},{segments:[{key:"M",data:[8,15]},{key:"C",data:[8,6.715728759765625,14.715728759765625,0,23,0]},{key:"C",data:[31.284271240234375,0,38,6.715728759765625,38,15]},{key:"C",data:[38,23.284271240234375,31.284271240234375,30,23,30]},{key:"C",data:[14.715728759765625,30,8,23.284271240234375,8,15]}]}];class ed extends d.B{defaultText="";defaultWidth=38;defaultHeight=30;minWidth=19;minHeight=15;connectAnchors=[{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:el,paths:eh,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),this.isDashStroke(t)||(e.lineCap="round")}drawPath(t,e,r){r.save();let a=this.buildRawPath(this.getScaledSegments(t,e.segments)),o=this.buildFillPath(t,a,e.segments);if(e.fillDisabled)this.stroke(t,r,o);else if(this.hasStroke(t)){let e=new Path2D,{width:a,height:i,x:s,y:n}=t.globalBaseProps,{borderWidth:l}=t.getProp(v.d.Border),h={x:s+a/2,y:n+i/2},d=new DOMMatrixReadOnly().translate(h.x,h.y).scale((a+l)/a,(i+l)/i).translate(-h.x,-h.y);e.addPath(o,d),this.fill(t,r,e),this.stroke(t,r,e,e)}else this.fill(t,r,o);r.restore()}getOutlinePolygonPaths(){return null}}let ep={top:0,right:28,bottom:40,left:0},eu=[{fillDisabled:!0,clipStrokeWithFill:!1,segments:[{key:"M",data:[0,0]},{key:"C",data:[11.045700073242188,0,20,8.95429992675781,20,20]},{key:"C",data:[20,31.045700073242188,11.045700073242188,40,0,40]},{key:"M",data:[20,20]},{key:"L",data:[28,20]}]}];class ec extends d.B{defaultText="";defaultWidth=28;defaultHeight=40;minWidth=14;minHeight=22;connectAnchors=[{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:ep,paths:eu,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),this.isDashStroke(t)||(e.lineCap="round")}getOutlinePolygonPaths(){return null}}let ex={top:0,right:12.352899551391602,bottom:18,left:0},eg=(t,e)=>{let r={x:12,y:0,width:t-12-12,height:e-0-26};return r.height=(t-24)/80*120,r},ey=[{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t,height:e,borderWidth:r}){let{width:a,height:o}=new q.Y(ex),{width:i,height:s}=eg(t,e);return(0,d.l)([{key:"M",data:[6.176459789276123,7.058819770812988]},{key:"C",data:[8.125699996948242,7.058819770812988,9.705900192260742,5.478650093078613,9.705900192260742,3.529409885406494]},{key:"C",data:[9.705900192260742,1.580169916152954,8.125699996948242,0,6.176459789276123,0]},{key:"C",data:[4.227230072021484,0,2.647059917449951,1.580169916152954,2.647059917449951,3.529409885406494]},{key:"C",data:[2.647059917449951,5.478650093078613,4.227230072021484,7.058819770812988,6.176459789276123,7.058819770812988]},{key:"M",data:[6.176459789276123,7.058819770812988]},{key:"L",data:[6.176459789276123,9.61769962310791]},{key:"L",data:[6.176459789276123,14.470600128173828]},{key:"M",data:[6.176459789276123,9.61769962310791]},{key:"L",data:[0,9.61769962310791]},{key:"M",data:[6.176459789276123,9.61769962310791]},{key:"L",data:[12.352899551391602,9.61769962310791]},{key:"M",data:[6.176459789276123,14.470600128173828]},{key:"L",data:[.882349967956543,18]},{key:"M",data:[6.176459789276123,14.470600128173828]},{key:"L",data:[11.911800384521484,18]}],(i-r)/a,(s-r)/o)}}];class ef extends d.B{defaultText="";defaultWidth=104;defaultHeight=146;minWidth=44;minHeight=36;constructor(){super({bounds:ex,paths:ey,shouldScaleToFitBounds:!1})}beforeStroke(t,e,r){this.isDashStroke(t)||(e.lineCap="round")}buildStrokePath(t,e,r){let{x:a,y:o}=t.globalBaseProps,{borderWidth:i}=t.getProp(v.d.Border),s=new Path2D;return s.addPath(e.toPath2D(),new DOMMatrixReadOnly().translate(a+12+i/2,o+0+i/2)),s}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps,{height:a}=eg(e,r);return{top:a+6,right:e,bottom:r,left:0}}getOutlinePolygonPaths(){return null}}let eP={top:0,right:118,bottom:77.8578186035156,left:0},em=[{segments:[{key:"M",data:[0,77.8578186035156],radius:1},{key:"L",data:[0,15.733320236206055],radius:1},{key:"L",data:[118,0],radius:1},{key:"L",data:[118,77.8578186035156],radius:1},{key:"Z",data:[]}]}];class eT extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;connectAnchors=[{position:{x:.5,y:.2},side:S.V.TOP},{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:0,y:.5},side:S.V.LEFT}];constructor(){super({bounds:eP,paths:em})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.2*r,right:e-8,bottom:r-8,left:8}}}let eb={top:0,right:118.71961212158203,bottom:79,left:0},ew=[{segments:[{key:"M",data:[19.750011444091797,79],radius:1},{key:"L",data:[0,0],radius:1},{key:"L",data:[118.71961212158203,0],radius:1},{key:"L",data:[98.9692153930664,79],radius:1},{key:"Z",data:[]}]}];class eC extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:eb,paths:ew})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.1*r,right:e*(1-20/120),bottom:.9*r,left:20/120*e}}}let eM={top:0,right:100,bottom:100,left:0},ek=[{segments({width:t,height:e}){let{width:r,height:a}=new q.Y(eM),o=t/r;return[{key:"M",data:[0,0],radius:1},{key:"L",data:[100*o,0],radius:1},{key:"L",data:[100*o,e-30],radius:1},{key:"L",data:[50*o,e/a*100],radius:1},{key:"L",data:[0,e-30],radius:1},{key:"Z",data:[]}]}}];class eE extends d.B{defaultText="";defaultWidth=120;defaultHeight=100;minWidth=100;minHeight=36;constructor(){super({bounds:eM,paths:ek})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-30,left:8}}}let eL={top:0,right:81,bottom:80,left:0},eS=[{key:"M",data:[80,40]},{key:"C",data:[80,62.09139060974121,62.09139060974121,80,40,80]},{key:"C",data:[17.90860939025879,80,0,62.09139060974121,0,40]},{key:"C",data:[0,17.90860939025879,17.90860939025879,0,40,0]},{key:"C",data:[62.09139060974121,0,80,17.90860939025879,80,40]}],eB=[{clipStrokeWithFill:!1,segments:[...eS,{key:"M",data:[40,80]},{key:"L",data:[81,80]}]}];class eR extends d.B{defaultText="";defaultWidth=80;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:eL,paths:eB})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),this.isDashStroke(t)||(e.lineCap="round")}buildStrokePath(t,e,r){let{width:a,height:o,x:i,y:s}=t.globalBaseProps,{borderWidth:n=0}=t.getProp(v.d.Border),l={x:a/2,y:o/2},h=new DOMMatrixReadOnly().translate(l.x,l.y).scale((a-n)/a,(o-n)/o).translate(-l.x,-l.y),d=new Path2D;return d.addPath(e.toPath2D(),new DOMMatrixReadOnly().translate(i,s).multiply(h)),d}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:.15*r,right:e*(1-15/81),bottom:.825*r,left:.15*e}}getOutlinePolygonPaths(){return[{segments:eS}]}}let eI={top:0,right:100,bottom:100,left:0},ev=[{segments:[{key:"M",data:[0,0],radius:6},{key:"L",data:[100,0],radius:6},{key:"L",data:[100,100],radius:6},{key:"L",data:[0,100],radius:6},{key:"Z",data:[]}]},{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t}){let{width:e}=new q.Y(eI);return[{key:"M",data:[t/e*100-2,28]},{key:"L",data:[2,28]}]}}];class eO extends d.B{defaultText="";defaultWidth=120;defaultHeight=110;minWidth=10;minHeight=33;constructor(){super({bounds:eI,paths:ev})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:38,right:e-8,bottom:r-8,left:8}}}let eA={top:0,right:100,bottom:100,left:0},eD=[{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t,height:e,borderWidth:r}){let a=r/2;return[{key:"M",data:[0,a]},{key:"L",data:[t,a]},{key:"M",data:[t,e-a]},{key:"L",data:[0,e-a]}]}}];class eN extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;constructor(){super({bounds:eA,paths:eD,shouldScaleToFitBounds:!1})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-8,left:8}}}let e_={top:0,right:100,bottom:100,left:0},eW=[{segments:[{key:"M",data:[100,100]},{key:"L",data:[0,100],radius:6},{key:"L",data:[0,0],radius:6},{key:"L",data:[100,0]}]},{fillDisabled:!0,clipStrokeWithFill:!1,segments:({height:t,borderWidth:e})=>[{key:"M",data:[36,e]},{key:"L",data:[36,t-e]}]}];class eH extends d.B{defaultText="";defaultWidth=156;defaultHeight=50;minWidth=46;minHeight=10;constructor(){super({bounds:e_,paths:eW})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-8,left:42}}}let eF={top:0,right:100,bottom:100,left:0},eG=[{segments:[{key:"M",data:[100,100]},{key:"L",data:[0,100],radius:6},{key:"L",data:[0,0],radius:6},{key:"L",data:[100,0]}]}];class eY extends d.B{defaultText="";defaultWidth=156;defaultHeight=50;minWidth=46;minHeight=10;constructor(){super({bounds:eF,paths:eG})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-8,left:8}}}let eU={top:0,right:80,bottom:16,left:0},eX=[{segments:[{key:"M",data:[0,0],radius:6},{key:"L",data:[80,0],radius:6},{key:"L",data:[80,16],radius:6},{key:"L",data:[0,16],radius:6},{key:"Z",data:[]}]}];class ez extends d.B{defaultText="";defaultWidth=80;defaultHeight=16;minWidth=20;minHeight=16;constructor(){super({bounds:eU,paths:eX})}}let eZ={top:0,right:80,bottom:100,left:0},eV=[{segments({width:t,height:e}){let r=t/2,a=r*h.U,o=16*h.U;return[{key:"M",data:[0,16]},{key:"C",data:[0,16-o,r-a,0,r,0]},{key:"C",data:[r+a,0,t,16-o,t,16]},{key:"L",data:[t,e-16]},{key:"C",data:[t,e-16+o,r+a,e,r,e]},{key:"C",data:[r-a,e,0,e-16+o,0,e-16]},{key:"Z",data:[]}]}},{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t,borderWidth:e}){let r=t/2,a=16-e/4,o=r*h.U,i=a*h.U,s=e/2,n=t-e/2;return[{key:"M",data:[n,a]},{key:"C",data:[n,a+i,r+o,2*a,r,2*a]},{key:"C",data:[r-o,2*a,s,a+i,s,a]}]}}];class eq extends d.B{defaultText="";defaultWidth=80;defaultHeight=100;minWidth=10;minHeight=40;contentBounds={top:32,right:7,bottom:10,left:7};constructor({contentBounds:t}={}){super({bounds:eZ,paths:eV,shouldScaleToFitBounds:!1}),t&&(this.contentBounds=t)}getTextBounds(t){let{width:e,height:r}=t.baseProps,{top:a,right:o,left:i,bottom:s}=this.contentBounds;return{top:a,right:e-o,bottom:r-s,left:i}}}let ej={top:0,right:120,bottom:80,left:0},eJ=[{segments({width:t,height:e}){let r=e/2,a=16*h.U,o=r*h.U;return[{key:"M",data:[t-16,0]},{key:"C",data:[t-16+a,0,t,r-o,t,r]},{key:"C",data:[t,r+o,t-16+a,e,t-16,e]},{key:"L",data:[16,e]},{key:"C",data:[16-a,e,0,r+o,0,r]},{key:"C",data:[0,r-o,16-a,0,16,0]},{key:"Z",data:[]}]}},{fillDisabled:!0,clipStrokeWithFill:!1,segments({width:t,height:e,borderWidth:r}){let a=e/2,o=16-r/2,i=o*h.U,s=a*h.U,n=r/2,l=e-r/2;return[{key:"M",data:[t-o,l]},{key:"C",data:[t-o-i,l,t-o-o,a+s,t-o-o,a]},{key:"C",data:[t-o-o,a-s,t-o-i,n,t-o,n]}]}}];class e$ extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=40;minHeight=10;constructor(){super({bounds:ej,paths:eJ})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:7,right:e-38,bottom:r-7,left:10}}}let eQ={top:0,right:168,bottom:96,left:0},eK=[{adjustClipStrokeRadius:!1,segments({width:t,height:e}){let r=Math.min(e/2.1333333333333333,t/2),a=.22916666666666666*e;return[{key:"M",data:[r,a]},{key:"L",data:[t,a],radius:1},{key:"L",data:[t,e-a],radius:1},{key:"L",data:[r,e-a]},{key:"L",data:[r,e],radius:1},{key:"L",data:[0,e/2],radius:1},{key:"L",data:[r,0],radius:1},{key:"Z",data:[]}]}}];class e0 extends m{defaultText="";defaultWidth=168;defaultHeight=96;minWidth=70;minHeight=30;constructor(){super({bounds:eQ,paths:eK})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:30.5/96*r,right:e-8,bottom:r*(1-30.5/96),left:20}}getOutlinePolygonPaths(){return null}}let e1={top:0,right:160,bottom:100,left:0},e2=t=>{if(t<80){let e=t/80;return{rectH:18*e,rectDistance:12*e}}return{rectH:18,rectDistance:12}},e5=[{adjustClipStrokeRadius:!1,segments({width:t,height:e}){let{width:r,height:a}=new q.Y(e1),o=t/r,i=e/a,{rectDistance:s,rectH:n}=e2(e),l=(e-s)/2-n;return[{key:"M",data:[10,l]},{key:"L",data:[10,0],radius:6},{key:"L",data:[160*o,0],radius:6},{key:"L",data:[160*o,100*i],radius:6},{key:"L",data:[10,100*i],radius:6},{key:"L",data:[10,e-l]},{key:"L",data:[0,e-l],radius:6},{key:"L",data:[0,e-(l+n)],radius:6},{key:"L",data:[10,e-(l+n)]},{key:"L",data:[10,e-(l+n+s)]},{key:"L",data:[0,l+n],radius:6},{key:"L",data:[0,l],radius:6},{key:"Z",data:[]}]}},{fillDisabled:!0,segments({width:t,height:e}){let{rectDistance:r,rectH:a}=e2(e),o=(e-r)/2-a;return[{key:"M",data:[9,o]},{key:"L",data:[20,o],radius:6},{key:"L",data:[20,o+a],radius:6},{key:"L",data:[9,o+a]}]}},{fillDisabled:!0,segments({height:t}){let{rectDistance:e,rectH:r}=e2(t),a=(t-e)/2-r;return[{key:"M",data:[9,t-(a+r)]},{key:"L",data:[20,t-(a+r)],radius:6},{key:"L",data:[20,t-a],radius:6},{key:"L",data:[9,t-a]}]}}];class e3 extends d.B{defaultText="Component";defaultWidth=160;defaultHeight=100;minWidth=90;minHeight=40;connectAnchors=[{position:{x:.5,y:0},side:S.V.TOP},{position:{x:1,y:.5},side:S.V.RIGHT},{position:{x:.5,y:1},side:S.V.BOTTOM},{position:{x:10,y:.5},side:S.V.LEFT}];constructor(){super({bounds:e1,paths:e5,shouldScaleToFitBounds:!1})}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-8,bottom:r-8,left:22}}}let e6={top:0,right:160,bottom:100,left:0},e4=[{segments:[{key:"M",data:[0,0],radius:6},{key:"L",data:[160,0],radius:6},{key:"L",data:[160,100],radius:6},{key:"L",data:[0,100],radius:6},{key:"Z",data:[]}]}],e7={top:0,right:22,bottom:18,left:0},e8=[{fillDisabled:!0,clipStrokeWithFill:!1,segments:()=>[{key:"M",data:[4,0],radius:2},{key:"L",data:[22,0],radius:2},{key:"L",data:[22,18],radius:2},{key:"L",data:[4,18],radius:2},{key:"L",data:[4,14.25]},{key:"L",data:[0,14.25],radius:2},{key:"L",data:[0,10.25],radius:2},{key:"L",data:[4,10.25]},{key:"M",data:[4,14.25]},{key:"L",data:[8,14.25],radius:2},{key:"L",data:[8,10.25],radius:2},{key:"L",data:[4,10.25]},{key:"L",data:[4,7.75]},{key:"L",data:[0,7.75],radius:2},{key:"L",data:[0,3.75],radius:2},{key:"L",data:[4,3.75]},{key:"M",data:[4,7.75]},{key:"L",data:[8,7.75],radius:2},{key:"L",data:[8,3.75],radius:2},{key:"L",data:[4,3.75]},{key:"L",data:[4,0],radius:2}]}];class e9 extends d.B{constructor(){super({bounds:e7,paths:e8})}beforeStroke(t,e,r){e.lineWidth=1.6,e.setLineDash([])}buildStrokePath(t,e,r){let{width:a,x:o,y:i}=t.globalBaseProps,{width:s}=this.bounds,n=this.buildRawPath(this.getScaledSegments(t,r)),l=new Path2D;return l.addPath(n.toPath2D(),new DOMMatrixReadOnly().translate(o+(a-s-8),i+8)),l}}class rt extends d.B{defaultText="Component box";defaultWidth=160;defaultHeight=100;minWidth=120;minHeight=60;smallRectDrawer=new e9;constructor(){super({bounds:e6,paths:e4})}draw(t,e){super.draw(t,e),this.smallRectDrawer.draw(t,e)}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:26,right:e-7,bottom:r-8,left:8}}}let re={x:120,y:26},rr={top:0,right:148,bottom:106,left:0},ra=[{segments:({height:t},{controlPoint:e}={controlPoint:re})=>[{key:"M",data:[e.x,e.y]},{key:"L",data:[e.x,t]},{key:"L",data:[0,t]},{key:"L",data:[0,e.y]},{key:"Z",data:[]}]},{segments:({width:t},{controlPoint:e,isStrokePath:r}={controlPoint:re})=>[{key:"M",data:[0,e.y]},{key:"L",data:[t-e.x,0]},{key:"L",data:[t,0]}].concat(r?[]:[{key:"L",data:[e.x,e.y]},{key:"Z",data:[]}])},{segments:({width:t,height:e},{controlPoint:r}={controlPoint:re})=>[{key:"M",data:[r.x,r.y]},{key:"L",data:[r.x,e]},{key:"L",data:[t,e-r.y]},{key:"L",data:[t,0]},{key:"Z",data:[]}]}],ro=[{segments:({width:t,height:e},{controlPoint:r}={controlPoint:re})=>[{key:"M",data:[0,r.y]},{key:"L",data:[0,e]},{key:"L",data:[r.x,e]},{key:"L",data:[t,e-r.y]},{key:"L",data:[t,0]},{key:"L",data:[t-r.x,0]},{key:"Z",data:[]}]}];class ri extends d.B{defaultText="";defaultWidth=148;defaultHeight=106;minWidth=20;minHeight=20;currentFillPathIndex=new Map;constructor(){super({bounds:rr,paths:ra})}draw(t,e){if(!this.hasFill(t)&&!this.hasStroke(t))return;this.currentFillPathIndex.set(t.id,0);let r=new Path2D;this.paths.forEach(({segments:a},o)=>{e.save();let i=this.buildRawPath(this.getScaledSegments(t,a)),s=this.buildFillPath(t,i,a);for(let r of Array(o+1).keys())this.fill(t,e,s);r.addPath(this.buildStrokePath(t,i,a)),e.restore()}),this.hasStroke(t)&&this.stroke(t,e,r)}beforeFill(t,e){let r=this.currentFillPathIndex.get(t.id)??0;if(this.currentFillPathIndex.set(t.id,r+1),r>0){let{color:a}=t.getProp(v.d.Color),o=(t=>{let e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16),o=Math.max(e/=255,r/=255,a/=255),i=o-Math.min(e,r,a),s=0,n=0;if(0!==i){switch(n=i/o,o){case e:s=(r-a)/i+6*(r<a);break;case r:s=(a-e)/i+2;break;case a:s=(e-r)/i+4}s/=6}return[s,n,o]})(a);o[2]-=1===r||2===r?.04:.08;let[i,s,n]=((t,e,r)=>{let a=0,o=0,i=0,s=Math.floor(6*t),n=6*t-s,l=r*(1-e),h=r*(1-n*e),d=r*(1-(1-n)*e);switch(s%6){case 0:a=r,o=d,i=l;break;case 1:a=h,o=r,i=l;break;case 2:a=l,o=r,i=d;break;case 3:a=l,o=h,i=r;break;case 4:a=d,o=l,i=r;break;case 5:a=r,o=l,i=h}return[255*a,255*o,255*i]})(...o);e.fillStyle=`rgb(${i}, ${s}, ${n})`}}beforeStroke(t,e,r){this.isDashStroke(t)?e.miterLimit=1:(e.lineCap="round",e.lineJoin="round")}getScaledSegments(t,e,r){let a=this.getControlPoint(t);return super.getScaledSegments(t,e,{...r,controlPoint:a})}buildStrokePath(t,e,r){let{x:a,y:o}=t.globalBaseProps,i=this.buildRawPath(this.getScaledSegments(t,r,{isStrokePath:!0})),s=new Path2D;return s.addPath(i.toPath2D(),new DOMMatrixReadOnly().translate(a,o)),s}getTextBounds(t){let{height:e}=t.baseProps,r=this.getControlPoint(t),a=r.x;return{top:r.y+6,right:a-6,bottom:e-6,left:6}}getOutlinePolygonPaths(){return ro}getControlPoint(t){let{controlPoints:e}=t.getProp(v.d.ShapeType),{width:r,height:a}=t.baseProps,o=r-this.bounds.width,i=e?.length?{...e[0]}:{...re};return i.x+=o,i.x=Math.min(Math.max(i.x,0),r),i.y=Math.min(Math.max(i.y,0),a),i}}let{calculateBezierHandleLength:rs}=h.G,rn=t=>0===t||t-3*Math.PI/2==0||t-2*Math.PI==0||t>3*Math.PI/2&&t<2*Math.PI,rl=t=>t-Math.PI==0||t-3*Math.PI/2==0||t>Math.PI&&t<3*Math.PI/2,rh=t=>t-Math.PI/2==0||t-Math.PI==0||t>Math.PI/2&&t<Math.PI,rd=t=>0===t||t-2*Math.PI==0||t-Math.PI/2==0||t>0&&t<Math.PI/2,rp=(t,e,r,a)=>[t.x+r.x,t.y+r.y,e.x+a.x,e.y+a.y,e.x,e.y],ru={top:0,right:110,bottom:110,left:0},rc=[{adjustClipStrokeRadius:!1,segments:({width:t},{controlPoints:e=[]}={controlPoints:[]})=>((t,e)=>{var r,a;let o,i,{points:s,radius:{outer:n,inner:l}}=((t,e)=>{let r=e[1],a=e[0],o=e[2],i=t/2,s=i-Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),n={x:i,y:i},l={x:s/i*(a.x-n.x)+n.x,y:s/i*(a.y-n.y)+n.y},h={x:r.x-n.x,y:r.y-n.y},d={x:a.x-n.x,y:a.y-n.y};return{points:{startPoint:h,centerPoint:n,endPoint:d,outerPoints:{start:r,end:a,top:{x:i,y:0},right:{x:2*i,y:i},bottom:{x:i,y:2*i},left:{x:0,y:i}},innerPoints:{start:o,end:l,top:{x:i,y:i-s},right:{x:i+s,y:i},bottom:{x:i,y:i+s},left:{x:i-s,y:i}}},radius:{outer:i,inner:s}}})(t,e),{startAngle:h,endAngle:d}=(r=s.startPoint,a=s.endPoint,o=Math.atan2(r.y,r.x),0===(i=Math.atan2(a.y,a.x))&&(i=2*Math.PI),o<0&&(o+=2*Math.PI),i<0&&(i+=2*Math.PI),{startAngle:o,endAngle:i}),p=!!(rn(h)&&rn(d)||rl(h)&&rl(d)||rh(h)&&rh(d)||rd(h)&&rd(d)),u=0!==h&&(h<d||0===d),c=d-h<=Math.PI/2;if(p&&u&&c)return(({points:t,startAngle:e,endAngle:r,outerRadius:a,innerRadius:o})=>{let{startPoint:i,endPoint:s,outerPoints:n,innerPoints:l}=t,h=r-e;h<0&&(h+=2*Math.PI);let d=rs(h),p={x:-i.y*d,y:i.x*d},u={x:s.y*d,y:-s.x*d},c={x:s.y*d*o/a,y:-s.x*d*o/a},x={x:-i.y*d*o/a,y:i.x*d*o/a};return[{key:"M",data:[n.start.x,n.start.y]},{key:"C",data:rp(n.start,n.end,p,u)},{key:"L",data:[l.end.x,l.end.y]},{key:"C",data:rp(l.end,l.start,c,x)},{key:"Z",data:[]}]})({points:s,startAngle:h,endAngle:d,outerRadius:n,innerRadius:l});let x=s.innerPoints.start.x===s.centerPoint.x&&s.innerPoints.start.y===s.centerPoint.y,g={points:s,startControlPoints:((t,e,r)=>{if(rn(t)){let a=0===t?0:2*Math.PI-t,o=rs(a);return{outerStart:{x:o*e*Math.sin(a),y:o*e*Math.cos(a)},outerEnd:{x:0,y:-o*e},innerStart:{x:0,y:-o*r},innerEnd:{x:o*r*Math.sin(a),y:o*r*Math.cos(a)}}}if(rl(t)){let a=3*Math.PI/2-t,o=rs(a);return{outerStart:{x:o*e*Math.cos(a),y:-o*e*Math.sin(a)},outerEnd:{x:-o*e,y:0},innerStart:{x:-o*r,y:0},innerEnd:{x:o*r*Math.cos(a),y:-o*r*Math.sin(a)}}}if(rh(t)){let a=Math.PI-t,o=rs(a);return{outerStart:{x:-o*e*Math.sin(a),y:-o*e*Math.cos(a)},outerEnd:{x:0,y:o*e},innerStart:{x:0,y:o*r},innerEnd:{x:-o*r*Math.sin(a),y:-o*r*Math.cos(a)}}}if(rd(t)){let a=Math.PI/2-t,o=rs(a);return{outerStart:{x:-o*e*Math.cos(a),y:o*e*Math.sin(a)},outerEnd:{x:o*e,y:0},innerStart:{x:o*r,y:0},innerEnd:{x:-o*r*Math.cos(a),y:o*r*Math.sin(a)}}}})(h,n,l),endControlPoints:((t,e,r)=>{if(rn(t)){let a=t-3*Math.PI/2,o=rs(a);return{outerStart:{x:o*e,y:0},outerEnd:{x:-o*e*Math.cos(a),y:-o*e*Math.sin(a)},innerStart:{x:-o*r*Math.cos(a),y:-o*r*Math.sin(a)},innerEnd:{x:o*r,y:0}}}if(rl(t)){let a=t-Math.PI,o=rs(a);return{outerStart:{x:0,y:-o*e},outerEnd:{x:-o*e*Math.sin(a),y:o*e*Math.cos(a)},innerStart:{x:-o*r*Math.sin(a),y:o*r*Math.cos(a)},innerEnd:{x:0,y:-o*r}}}if(rh(t)){let a=t-Math.PI/2,o=rs(a);return{outerStart:{x:-o*e,y:0},outerEnd:{x:o*e*Math.cos(a),y:o*e*Math.sin(a)},innerStart:{x:o*r*Math.cos(a),y:o*r*Math.sin(a)},innerEnd:{x:-o*r,y:0}}}if(rd(t)){let a=rs(t);return{outerStart:{x:0,y:a*e},outerEnd:{x:a*e*Math.sin(t),y:-a*e*Math.cos(t)},innerStart:{x:a*r*Math.sin(t),y:-a*r*Math.cos(t)},innerEnd:{x:0,y:a*r}}}})(d,n,l),outerControlPointOffset:.5522848*n,innerControlPointOffset:.5522848*l,isPie:x};return rn(h)?(({endAngle:t,...e})=>rn(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.right,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.top,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rl(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.right,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.left,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rh(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.right,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.bottom,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rd(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,isPie:o})=>{let i=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.right,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.right,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return o||i.push({key:"C",data:rp(e.end,e.right,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.right,e.start,r.innerStart,r.innerEnd)}),i.push({key:"Z",data:[]}),i})(e):void 0)({endAngle:d,...g}):rl(h)?(({endAngle:t,...e})=>rn(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,isPie:o})=>{let i=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.top,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.top,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return o||i.push({key:"C",data:rp(e.end,e.top,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.top,e.start,r.innerStart,r.innerEnd)}),i.push({key:"Z",data:[]}),i})(e):rl(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.top,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.left,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rh(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.top,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.bottom,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rd(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.top,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.right,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):void 0)({endAngle:d,...g}):rh(h)?(({endAngle:t,...e})=>rn(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.left,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.top,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rl(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,isPie:o})=>{let i=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.left,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.left,t.end,a.outerStart,a.outerEnd)},{key:"C",data:[e.end.x,e.end.y]}];return o||i.push({key:"C",data:rp(e.end,e.left,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.left,e.start,r.innerStart,r.innerEnd)}),i.push({key:"Z",data:[]}),i})(e):rh(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.left,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.bottom,{x:0,y:o},{x:o,y:0})},{key:"C",data:rp(t.bottom,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.bottom,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.bottom,e.right,{x:i,y:0},{x:0,y:i})},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rd(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.left,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.right,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):void 0)({endAngle:d,...g}):rd(h)?(({endAngle:t,...e})=>rn(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.bottom,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.top,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rl(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.bottom,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.left,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):rh(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,isPie:o})=>{let i=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.bottom,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.bottom,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return o||i.push({key:"C",data:rp(e.end,e.bottom,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.bottom,e.start,r.innerStart,r.innerEnd)}),i.push({key:"Z",data:[]}),i})(e):rd(t)?(({points:{outerPoints:t,innerPoints:e},startControlPoints:r,endControlPoints:a,outerControlPointOffset:o,innerControlPointOffset:i,isPie:s})=>{let n=[{key:"M",data:[t.start.x,t.start.y]},{key:"C",data:rp(t.start,t.bottom,r.outerStart,r.outerEnd)},{key:"C",data:rp(t.bottom,t.left,{x:-o,y:0},{x:0,y:o})},{key:"C",data:rp(t.left,t.top,{x:0,y:-o},{x:-o,y:0})},{key:"C",data:rp(t.top,t.right,{x:o,y:0},{x:0,y:-o})},{key:"C",data:rp(t.right,t.end,a.outerStart,a.outerEnd)},{key:"L",data:[e.end.x,e.end.y]}];return s||n.push({key:"C",data:rp(e.end,e.right,a.innerStart,a.innerEnd)},{key:"C",data:rp(e.right,e.top,{x:0,y:-i},{x:i,y:0})},{key:"C",data:rp(e.top,e.left,{x:-i,y:0},{x:0,y:-i})},{key:"C",data:rp(e.left,e.bottom,{x:0,y:i},{x:-i,y:0})},{key:"C",data:rp(e.bottom,e.start,r.innerStart,r.innerEnd)}),n.push({key:"Z",data:[]}),n})(e):void 0)({endAngle:d,...g}):void 0})(t,e)}];class rx extends d.B{defaultText="";defaultWidth=110;defaultHeight=110;minWidth=10;minHeight=10;defaultControlPoints=[{x:55,y:0},{x:110,y:55},{x:80,y:55}];constructor(t){super({bounds:ru,paths:rc,shouldScaleToFitBounds:!1}),t&&(this.defaultControlPoints=t)}beforeStroke(t,e,r){super.beforeStroke(t,e,r),e.lineJoin="round"}getScaledSegments(t,e,r){return super.getScaledSegments(t,e,{...r,controlPoints:this.getControlPoints(t)})}getControlPoints(t){let{controlPoints:e=this.defaultControlPoints}=t.getProp(v.d.ShapeType);3!==e.length&&(e=this.defaultControlPoints);let{width:r,height:a}=this.bounds,{width:o,height:i}=t.baseProps,s=o/r,n=i/a;return e.map(t=>({x:t.x*s||0,y:t.y*n||0}))}}let rg=[{x:55,y:0},{x:110,y:55},{x:55,y:55}];class ry extends rx{defaultText="";defaultWidth=110;defaultHeight=110;minWidth=10;minHeight=10;constructor(){super(rg)}}function rf(t){let e=Math.sqrt(t.x*t.x+t.y*t.y);return e<1e-10?{x:0,y:0}:{x:t.x/e,y:t.y/e}}let rP={top:0,right:118,bottom:78,left:0},rm=({width:t,height:e})=>[{x:0,y:0,radius:1},{x:t-18,y:0},{x:t,y:16},{x:t,y:e,radius:1},{x:0,y:e,radius:1}],rT=({points:t})=>{let e=t.map((t,e)=>0===e?{key:"M",data:[t.x,t.y],radius:t.radius}:{key:"L",data:[t.x,t.y],radius:t.radius});return e.push({key:"Z",data:[]}),e},rb=[{strokeDisabled:!0,segments:({width:t,height:e})=>rT({points:rm({width:t,height:e})})},{fillDisabled:!0,segments({width:t,height:e,borderWidth:r}){let a=rm({width:t,height:e});return rT({points:(function(t,e){if(!Array.isArray(t)||t.length<3)throw Error("\u8F93\u5165\u7684\u591A\u8FB9\u5F62\u9876\u70B9\u6570\u7EC4\u65E0\u6548\uFF0C\u81F3\u5C11\u9700\u8981 3 \u4E2A\u9876\u70B9");if("number"!=typeof e||isNaN(e))throw Error("\u504F\u79FB\u91CF\u5FC5\u987B\u662F\u6709\u6548\u7684\u6570\u5B57");let r=t.length,a=[];for(let o=0;o<r;o++){let i=t[(o-1+r)%r],s=t[o],n=t[(o+1)%r],l={x:s.x-i.x,y:s.y-i.y},h={x:n.x-s.x,y:n.y-s.y},d={x:-l.y,y:l.x},p={x:-h.y,y:h.x},u=rf(d),c=rf(p),x={x:s.x+u.x*e,y:s.y+u.y*e},g={x:s.x+c.x*e,y:s.y+c.y*e},y=function(t,e,r,a){let o=(t.x-e.x)*(r.y-a.y)-(t.y-e.y)*(r.x-a.x);if(1e-10>Math.abs(o))return null;let i=((t.x-r.x)*(r.y-a.y)-(t.y-r.y)*(r.x-a.x))/o;return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}({x:i.x+u.x*e,y:i.y+u.y*e},x,{x:n.x+c.x*e,y:n.y+c.y*e},g);if(y)a.push(y);else{let t=(x.x+g.x)/2,e=(x.y+g.y)/2;a.push({x:t,y:e})}}return a})(rm({width:t,height:e}),r/2).map((t,e)=>({...t,radius:a[e].radius}))})}},{fillDisabled:!0,segments({width:t,borderWidth:e}){let r=t-18;return[{key:"M",data:[r-e/4,e]},{key:"L",data:[r-e/4,16+e/4],radius:1},{key:"L",data:[t-e,16+e/4]}]}}];class rw extends d.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=30;minHeight=30;constructor(){super({bounds:rP,paths:rb})}draw(t,e){let r=this.hasStroke(t);if(!this.hasFill(t)&&!r)return;let a=new Path2D,o=new Path2D;rb.forEach(({segments:e,fillDisabled:i,strokeDisabled:s})=>{let n=this.buildRawPath(this.getScaledSegments(t,e));if(!i){let o=n;r&&(o=this.adjustBorderRadius(t,o)),a.addPath(this.buildFillPath(t,o,e))}s||o.addPath(this.buildStrokePath(t,n,e))}),this.fill(t,e,a),this.stroke(t,e,o)}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:8,right:e-21,bottom:r-8,left:12}}}var rC=r(508241),rM=r(797615);class rk extends d.B{paddingBottom=28;horizontalPadding=24;defaultHeight=this.bounds.height;defaultWidth=this.bounds.width;topGap=8;getTextBounds(t){let{width:e,height:r}=t.globalBaseProps,a=this.topGap,o=(e-this.horizontalPadding)/(this.defaultWidth-this.horizontalPadding);return{top:a+=(this.defaultHeight-this.paddingBottom)*o,right:e,bottom:r,left:0}}}let rE={top:0,right:76,bottom:68,left:0};class rL extends rk{defaultWidth=76;defaultHeight=68;minWidth=44;minHeight=48;defaultText="";defaultRadius=20;defaultHandleLength=12;defaultLeftLineLength=40;constructor(){super({bounds:rE})}draw(t,e){if(!this.hasStroke(t))return;let{x:r,y:a,width:o}=t.globalBaseProps,{width:i}=this.bounds,s=(o-this.horizontalPadding)/(i-this.horizontalPadding),n=this.defaultRadius*s,l=this.defaultHandleLength*s,h=this.defaultLeftLineLength*s,d=r+(o-2*n-l)/2,p=a+h/2,u=d+l+n;e.save(),e.beginPath(),e.arc(u,p,n,0,2*Math.PI),this.fill(t,e),e.moveTo(d,a),e.lineTo(d,a+h),e.moveTo(d,p),e.lineTo(d+l,p),e.lineCap="round",this.stroke(t,e),e.restore()}}let rS={top:0,right:64,bottom:74,left:0};class rB extends rk{defaultText="";defaultWidth=64;defaultHeight=74;minWidth=44;minHeight=48;defaultRadius=20;defaultHandleOffset=6;defaultHandleOffsetX=2;constructor(){super({bounds:rS})}draw(t,e){if(!this.hasStroke(t))return;let{x:r,y:a,width:o}=t.globalBaseProps,{width:i}=this.bounds,s=(o-this.horizontalPadding)/(i-this.horizontalPadding),n=this.defaultRadius*s,l=this.defaultHandleOffset*s,h=this.defaultHandleOffsetX*s,d=r+o/2,p=a+l,u=p+n;e.save(),e.beginPath(),e.arc(d,u,n,0,2*Math.PI),this.fill(t,e),e.moveTo(d-h,p),e.lineTo(d-h+l,p-l),e.moveTo(d-h,p),e.lineTo(d-h+l,p+l),e.lineCap="round",this.stroke(t,e),e.restore()}}let rR={top:0,right:64,bottom:68,left:0};class rI extends rk{defaultText="";defaultWidth=64;defaultHeight=68;minWidth=44;minHeight=48;defaultRadius=20;constructor(){super({bounds:rR})}draw(t,e){if(!this.hasStroke(t))return;let{x:r,y:a,width:o}=t.globalBaseProps,{width:i}=this.bounds,s=(o-this.horizontalPadding)/(i-this.horizontalPadding),n=this.defaultRadius*s,l=r+o/2;e.save(),e.beginPath(),e.arc(l,a+n,n,0,2*Math.PI),this.fill(t,e),e.moveTo(l-n,a+2*n),e.lineTo(l+n,a+2*n),e.lineCap="round",this.stroke(t,e),e.restore()}}let rv={top:0,right:118,bottom:68,left:0},rO=[{strokeDisabled:!0,segments:({width:t,height:e})=>[{key:"M",data:[t-8,e-6-2],radius:0},{key:"L",data:[t-8,8],radius:6},{key:"L",data:[8,8],radius:0},{key:"L",data:[8,8],radius:0},{key:"L",data:[8,0],radius:4},{key:"L",data:[t,0],radius:6},{key:"L",data:[t,e-6-2],radius:4},{key:"L",data:[t-8,e-6-2],radius:0}]},{fillDisabled:!0,segments:({width:t,height:e})=>[{key:"M",data:[8,8],radius:0},{key:"L",data:[8,8],radius:0},{key:"L",data:[8,0],radius:4},{key:"L",data:[t,0],radius:6},{key:"L",data:[t,e-6-2],radius:4},{key:"L",data:[t-8,e-6-2],radius:0}]},{segments:({width:t,height:e})=>[{key:"M",data:[0,8],radius:4},{key:"L",data:[0,e+8-6-2],radius:6},{key:"L",data:[t-8,e+8-6-2],radius:4},{key:"L",data:[t-8,8],radius:6},{key:"Z",data:[]}]}];class rA extends d.B{defaultWidth=118;defaultHeight=68;minWidth=25;minHeight=25;defaultText="";constructor(){super({bounds:rv,paths:rO,shouldScaleToFitBounds:!1})}drawPath(t,e,r){r.save();let a=this.buildRawPath(this.getScaledSegments(t,e.segments)),o=this.buildFillPath(t,a,e.segments);e.fillDisabled||this.fill(t,r,o),!e.strokeDisabled&&this.hasStroke(t)&&this.stroke(t,r,o,o),r.restore()}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:14,right:e-8-6,bottom:r-6,left:6}}}var rD=r(613437);class rN extends n.q{defaultText="";defaultWidth=400;defaultHeight=240;minWidth=116;minHeight=116;draw(t,e){if(!this.hasFill(t)&&!this.hasStroke(t))return;let r=t.globalBaseProps,a=t.getProp(v.d.Border).borderWidth,o=rD.Yo,i=rD.lE,s=t.getTitleWidth(),n={...r};n.x+=.5*a,n.y+=.5*a,n.width-=a,n.height-=a,e.beginPath(),h.G.drawConditionShapeTitleFill(e,r,o,s,i),this.fill(t,e),e.beginPath(),e.rect(n.x,n.y,n.width,n.height),h.G.drawConditionShapeTitlePath(e,n,o-a,s-a,i-a*Math.sqrt(2)/4),this.stroke(t,e)}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:rD.gl,right:e-rD.g6,bottom:r-rD.g6,left:rD.g6}}}var r_=r(224365);let rW={top:0,right:59.99997329711914,bottom:90,left:0},rH=(t,e)=>{let r={x:12,y:0,width:t-12-12,height:e-0-28};return r.height=(t-24)/60*90,r},rF=[{segments({width:t,height:e,borderWidth:r},{isStrokeFill:a}={}){let{width:o,height:i}=new q.Y(rW),{width:s,height:n}=rH(t,e),l=(s-r*(a?-1:1))/o;return(0,d.l)([{key:"M",data:[46.50002670288086,16.45429229736328]},{key:"C",data:[46.50002670288086,25.541747093200684,39.11273193359375,32.90858459472656,30.00003433227539,32.90858459472656]},{key:"C",data:[20.88733673095703,32.90858459472656,13.500035285949707,25.541747093200684,13.500035285949707,16.45429229736328]},{key:"C",data:[13.500035285949707,7.366837501525879,20.88733673095703,0,30.00003433227539,0]},{key:"C",data:[39.11273193359375,0,46.50002670288086,7.366837501525879,46.50002670288086,16.45429229736328]}],l,Math.max(l,(n-r*(a?-1:1))/i))}},{fillDisabled:!0,segments({width:t,height:e,borderWidth:r}){let{width:a,height:o}=new q.Y(rW),{width:i,height:s}=rH(t,e);return(0,d.l)([{key:"M",data:[30.00003433227539,68]},{key:"L",data:[6,90]},{key:"M",data:[30.00003433227539,68]},{key:"L",data:[54,90]},{key:"M",data:[30.00003433227539,42]},{key:"L",data:[59.99997329711914,42]},{key:"M",data:[30.00003433227539,42]},{key:"L",data:[30.00003433227539,68]},{key:"M",data:[30.00003433227539,32.90858459472656]},{key:"L",data:[30.00003433227539,42]},{key:"L",data:[0,42]}],(i-r)/a,(s-r)/o)}}];class rG extends d.B{defaultText="";defaultWidth=84;defaultHeight=118;minWidth=44;minHeight=36;constructor(){super({bounds:rW,paths:rF})}beforeStroke(t,e,r){super.beforeStroke(t,e,r),this.isDashStroke(t)||(e.lineCap="round")}draw(t,e){if(!this.hasFill(t)&&!this.hasStroke(t))return;let r=new Path2D;this.paths.forEach(a=>{e.save();let o=this.buildRawPath(this.getScaledSegments(t,a.segments));if(!a.fillDisabled){let r=this.buildFillPath(t,o,a.segments);this.fill(t,e,r)}this.hasStroke(t)&&r.addPath(this.buildStrokePath(t,o,a.segments)),e.restore()}),this.stroke(t,e,r)}buildFillPath(t,e,r){let{x:a,y:o}=t.globalBaseProps,{borderWidth:i=0}=t.getProp(v.d.Border)||{},s=this.buildRawPath(this.getScaledSegments(t,r,{isStrokeFill:!0})),n=new Path2D;return n.addPath(s.toPath2D(),new DOMMatrixReadOnly().translate(a+12-i/2,o+0)),n}buildStrokePath(t,e,r){let{x:a,y:o}=t.globalBaseProps,{borderWidth:i}=t.getProp(v.d.Border),s=new Path2D;return s.addPath(e.toPath2D(),new DOMMatrixReadOnly().translate(a+12+i/2,o+0+i/2)),s}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps,{height:a}=rH(e,r);return{top:a+8,right:e,bottom:r,left:0}}getOutlinePolygonPaths(){return null}}class rY extends rN{defaultText="";defaultWidth=400;defaultHeight=240;minWidth=116;minHeight=116;getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:rD.gl,right:e-rD.g6,bottom:.5*r-rD.Oj*r,left:rD.g6}}}var rU=r(915602),rX=r(943451),rz=r(73428);class rZ extends i.L{static drawerMap=new Map([[s.DY.pureText,new l],[s.DY.roundRect,new C.v],[s.DY.roundRect2,new E],[s.DY.diamond,new tA],[s.DY.rect,new y],[s.DY.ellipse,new c],[s.DY.cylinder,new eq],[s.DY.step,new tU],[s.DY.step2,new tZ],[s.DY.parallelogram,new tg],[s.DY.trapezoid,new tm],[s.DY.bubble,new V],[s.DY.rectBubble,new tK],[s.DY.rightTriangle,new ta],[s.DY.triangle,new tw],[s.DY.star,new tS],[s.DY.hexagon,new th],[s.DY.pentagon,new tk],[s.DY.octagon,new ts],[s.DY.backwardArrow,new e0],[s.DY.forwardArrow,new m],[s.DY.doubleArrow,new w],[s.DY.cloud,new tI],[s.DY.braceReverse,new tt],[s.DY.brace,new $],[s.DY.cross,new tj],[s.DY.cube,new ri],[s.DY.circularRing,new rx],[s.DY.pie,new ry],[s.DY.flowChartRoundRect,new C.v({contentBounds:{top:8,right:8,bottom:8,left:8}})],[s.DY.flowChartRoundRect2,new E],[s.DY.flowChartDiamond,new tA],[s.DY.documentShape,new t2],[s.DY.flowChartParallelogram,new tg],[s.DY.flowChartCylinder,new eq({contentBounds:{top:50,right:7,bottom:20,left:7}})],[s.DY.horizCylinder,new e$],[s.DY.predefinedProcess,new t6],[s.DY.manualInput,new eT],[s.DY.flowChartTrapezoid,new eC],[s.DY.delayShape,new tu],[s.DY.flowChartHexagon,new th],[s.DY.offPageConnector,new eE],[s.DY.flowChartMQ,new eR],[s.DY.classInterface,new C.v({contentBounds:{top:8,right:8,bottom:8,left:8}})],[s.DY.classifier,new t6],[s.DY.noteShape,new rw],[s.DY.dataFlowRoundRect,new C.v({contentBounds:{top:8,right:8,bottom:8,left:8}})],[s.DY.dataProcess,new eO],[s.DY.dataFlowEllipse,new c],[s.DY.dataFlowRoundRect3,new C.v({contentBounds:{top:8,right:8,bottom:8,left:8}})],[s.DY.dataStore,new eN],[s.DY.dataStore2,new eH],[s.DY.dataStore3,new eY],[s.DY.componentShape,new e3],[s.DY.componentShape2,new rt],[s.DY.componentInterface,new ed],[s.DY.componentAssembly,new en],[s.DY.componentRequiredInterface,new ec],[s.DY.stateStart,new t_],[s.DY.stateEnd,new tF],[s.DY.stateConcurrence,new ez],[s.DY.star3,new ee],[s.DY.star4,new eo],[s.DY.star2,new t8],[s.DY.actor,new ef],[s.DY.actorLifeLine,new rG],[s.DY.objectLifeLine,new C.v],[s.DY.dataBase,new eq],[s.DY.queue,new e$],[s.DY.boundary,new rL],[s.DY.control,new rB],[s.DY.entity,new rI],[s.DY.collection,new rA],[s.DY.conditionShape,new rN],[s.DY.conditionShape2,new rY]]);static nullTextShape=new Set([s.DY.componentInterface,s.DY.componentRequiredInterface,s.DY.componentAssembly,s.DY.stateStart,s.DY.stateEnd,s.DY.stateConcurrence]);static noTextClipShape=new Set([s.DY.actor,s.DY.actorLifeLine]);type=rM.Jq.CompositeShape;get shapeType(){return this.getProp(v.d.ShapeType).shapeCode}get colorProps(){return this.getProp(v.d.Color)}get borderProps(){return this.getProp(v.d.Border)}get textProps(){return this.getProp(v.d.Text)}get textTransformProps(){return this.getProp(v.d.TextTransform)}get flipProps(){return this.getProp(v.d.Flip)}get drawer(){let t=rZ.drawerMap.get(this.shapeType);return t||(t=rZ.drawerMap.get(s.DY.rect)),t}constructor(t,e){super(t,e),this.propMap.set(v.d.Base,new O.s),this.propMap.set(v.d.Color,new N.b),this.propMap.set(v.d.Border,new D.L),this.propMap.set(v.d.Text,new A.l),this.propMap.set(v.d.TextTransform,new r_._),this.propMap.set(v.d.ShapeType,new _.M),this.propMap.set(v.d.Theme,new rC.F),this.propMap.set(v.d.Flip,new W.w),this.propMap.set(v.d.Opacity,new rU.j),this.graphicText=new R.v}isAsync(){return this.graphicText.isAsync()}isCached(){return this.graphicText.isCached()}refreshCache(){return this.graphicText.refreshCache()}drawOnGLCtx(t){t.save(),this.setTransform(t),this.drawer.draw(this,t),t.restore(),this.isTextNode()&&this.drawGraphicText(t)}drawGraphicText(t){if(!this.graphicText.needRender())return;let e=this.getTextContentBounds(this.globalBaseProps);e.right-e.left<=0||e.bottom-e.top<=0||this.graphicText.drawOnGLCtx(t,!rZ.noTextClipShape.has(this.shapeType))}buildOutlinePath(){let{a:t,b:e,c:r,d:a,e:o,f:i}=this.transform,s=new DOMMatrixReadOnly([t,e,r,a,o,i]),n=new Path2D;return n.addPath(this.drawer.buildOutlinePath(this),s),n}getOutlineBezierPoints(){let{transform:t}=this;return this.drawer.getOutlineBezierPoints(this).map(e=>e.map(e=>t.crossPoint(e)))}getConnectAnchors(){return this.drawer.connectAnchors.map(t=>{let{position:e,side:r}=this.flipConnectAnchor(t),a=0!==e.x&&.5!==e.x&&1!==e.x,o=0!==e.y&&.5!==e.y&&1!==e.y;if(a||o){let{x:t,y:a}=this.drawer.adjustConnectAnchorPosition(this,e,r);e.x=t,e.y=a}return{position:e,side:r}})}flipConnectAnchor(t){let e=this.globalBaseProps,r={...t.position},{side:a}=t;switch(a){case S.V.TOP:case S.V.BOTTOM:if(this.flipProps.vFlip){let t=r.y>1?r.y/e.height:r.y;r.y=1-t,a=a===S.V.TOP?S.V.BOTTOM:S.V.TOP}break;case S.V.LEFT:case S.V.RIGHT:if(this.flipProps.hFlip){let t=r.x>1?r.x/e.width:r.x;r.x=1-t,a=a===S.V.LEFT?S.V.RIGHT:S.V.LEFT}}return r.x>1&&(r.x=r.x/e.width),r.y>1&&(r.y=r.y/e.height),{position:r,side:a}}updateTransformMatrix(){let{flipProps:t}=this,e=this.globalBaseProps;if(this.transform=B.c.generateMatrix(),e.angle){let t=new L.E(e.x,e.y),r=B.c.generateMatrix().translate(-t.x,-t.y),a=B.c.generateMatrix().translate(t.x,t.y),o=B.c.generateMatrix().rotate(e.angle);this.transform=a.crossProduct(o.crossProduct(r))}if(t.hFlip||t.vFlip){let r=new L.E(e.x+e.width/2,e.y+e.height/2),a=B.c.generateMatrix().translate(-r.x,-r.y),o=B.c.generateMatrix().translate(r.x,r.y),i=B.c.generateMatrix().scale(t.hFlip?-1:1,t.vFlip?-1:1);this.transform=this.transform.crossProduct(o.crossProduct(i.crossProduct(a)))}}setTransform(t){if(this.baseProps.angle||this.flipProps.hFlip||this.flipProps.vFlip){let{a:e,b:r,c:a,d:o,e:i,f:s}=this.transform;t.transform(e,r,a,o,i,s)}}getRectPoint(){let t=this.globalBaseProps,e={id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height},r=[new L.E(e.minX,e.minY),new L.E(e.maxX,e.minY),new L.E(e.maxX,e.maxY),new L.E(e.minX,e.maxY)],a=[];for(let t of r)a.push(this.transform.crossPoint(t));return{topLeft:a[0],topRight:a[1],bottomRight:a[2],bottomLeft:a[3]}}getBounds(){let t=this.globalBaseProps;if(.1>Math.abs(t.angle))return{id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height};let e={id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height},r=[new L.E(e.minX,e.minY),new L.E(e.maxX,e.minY),new L.E(e.maxX,e.maxY),new L.E(e.minX,e.maxY)],a=[];for(let t of r)a.push(this.transform.crossPoint(t));let o=h.G.getBoundsByPoints(a);return o.id=this.id,o}getRectNode(){let t=this.globalBaseProps;if(.1>Math.abs(t.angle))return{id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height};let e={id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height},r=[new L.E(e.minX,e.minY),new L.E(e.maxX,e.minY),new L.E(e.maxX,e.maxY),new L.E(e.minX,e.maxY)],a=[];for(let t of r)a.push(this.transform.crossPoint(t));let o=h.G.getBoundsByPoints(a);return o.id=this.id,o}getStretchMinSize(t){return t?new L.E(t.minWidth,t.minHeight):super.getStretchMinSize()}updateNodeProps(t){let e=!1,r=!1;for(let a of t){if(void 0===a.type)continue;let t=this.getProp(a.type);t&&(t.update(a),a.type===v.d.Base&&(r=!0,e=!0),a.type===v.d.Flip&&(e=!0),a.type===v.d.Text&&this.type!==rM.Jq.Text&&(a.overflowVerticalAlign=I.Z.TOP_OR_LEFT,t.update(a)),(a.type===v.d.Text||a.type===v.d.TextTransform)&&(r=!0))}e&&this.updateTransformMatrix(),this.isTextNode()&&r&&this.updateGraphicText()}updateGraphicText(){this.graphicText.update(this.graphicContext,[this.getTextBaseProps(),this.textProps],{contentBounds:this.getTextContentBounds(this.globalBaseProps)}),this.textTransformProps.angle&&this.graphicText.rotateBasePoint()}getTextBaseProps(){let{globalBaseProps:t,textTransformProps:e}=this,{width:r,height:a,x:o,y:i,angle:s}=t,n=new O.s;return n.update({width:r,height:a,x:o,y:i}),n.angle=s-e.angle,e.angle%180!=0&&n.update(h.G.verticalRotateTextBoxRect(t)),n}getTextContentRect(){let{width:t,height:e}=this.baseProps,r=this.getTextContentBounds({width:t,height:e});return rz.U.bounds2Rect(r)}getTextContentBounds({width:t,height:e}){let r=this.drawer.getTextBounds(this);if(this.flipProps.hFlip){let{left:e,right:a}=r;r.left=t-a,r.right=t-e}if(this.flipProps.vFlip){let{top:t,bottom:a}=r;r.top=e-a,r.bottom=e-t}return h.G.getTextContentBoundsInAngle(r,t,e,this.textTransformProps.angle)}getGraphicTexts(){return[{type:rX.P.Main,graphicText:this.graphicText}]}canBeExpand(){if(!this.graphicText.needRender()||this.type===rM.Jq.Text)return!1;let t=this.getTextContentBounds(this.globalBaseProps);return this.graphicText.getContentRect().height>t.bottom-t.top}isTextNode(){return!rZ.nullTextShape.has(this.shapeType)}}},902801:function(t,e,r){r.d(e,{j:()=>n});var a=r(931425),o=r(797615),i=r(797379),s=r(976780);class n extends a.F{type=o.Jq.Text;get shapeType(){return i.DY.pureText}drawOnGLCtx(t){let e=a.F.drawerMap.get(i.DY.pureText);t.save(),this.setTransform(t),e.draw(this,t),t.restore(),this.graphicText.needRender()&&this.graphicText.drawOnGLCtx(t)}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===s.d.Base);e&&(void 0!==e.width||void 0!==e.height)||this.updateNodeSize()}afterNodeInit(t){this.updateNodeSize()}updateNodeSize(){let{graphicText:t}=this,{sizeMode:e}=this.getProp(s.d.Text);e===o.Ah.AUTO_WIDTH?this.baseProps.width=t.getContentRect().width:e===o.Ah.AUTO_HEIGHT&&(this.baseProps.height=t.getContentRect().height)}}},281051:function(t,e,r){r.d(e,{d:()=>l});var a=r(797615),o=r(931425),i=r(91031),s=r(976780),n=r(566103);class l extends o.F{type=a.Jq.Activation;static drawer=new i.v({radius:4,contentBounds:{top:4,right:4,bottom:4,left:4}});constructor(t,e){super(t,e),this.propMap.set(s.d.Corner,new n.v)}canRotate(){return!1}drawOnGLCtx(t){l.drawer.draw(this,t)}}},818623:function(t,e,r){r.d(e,{BN:()=>l,Di:()=>o,ER:()=>h,Ku:()=>d,MA:()=>u,PN:()=>p,Qk:()=>i,gH:()=>a,oi:()=>n,wl:()=>s});let a="#BBBFC4",o="#5F5F5F",i="#EFF0F1",s="#373737",n="#646A73",l="#ffffff",h=-255,d=2,p=1.2,u=2},570148:function(t,e,r){r.d(e,{r:()=>h});var a=r(441505),o=r(976780),i=r(873411),s=r(889171),n=r(805433),l=r(73428);class h extends a.L{constructor(t,e){super(t,e),this.propMap.set(o.d.Base,new i.s)}afterUpdateProps(){if(0===this.children.length)return;let t=[];for(let e of this.children)t.push(e.getRectNode());let e=n.G.getBounds(t,this.id),r=l.U.rectNode2Rect(e),a=new s.E(r.x,r.y);this.parent&&(a=this.parent.toLocalPoint(a)),this.baseProps.x=a.x,this.baseProps.y=a.y,this.baseProps.width=r.width,this.baseProps.height=r.height}getRectNode(){let t=this.globalBaseProps;return{id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height}}getRectPoint(){let t=this.getProp(o.d.Base),e={id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height},r=[new s.E(e.minX,e.minY),new s.E(e.maxX,e.minY),new s.E(e.maxX,e.maxY),new s.E(e.minX,e.maxY)];return{topLeft:r[0],topRight:r[1],bottomRight:r[2],bottomLeft:r[3]}}}},671833:function(t,e,r){r.d(e,{z:()=>d});var a=r(797615),o=r(976780),i=r(805433),s=r(602534),n=r(755928),l=r(771584);class h{drawOnCtx(t,e){t.save();let r=.5*Math.min(e.width,e.height),a=l.c.generateMatrix().scale(r/1024,r/1024),{a:o,b:i,c:s,d:n,e:h,f:d}=l.c.generateMatrix().translate(e.x+.5*e.width-.5*r,e.y+.5*e.height-.5*r).crossProduct(a);t.transform(o,i,s,n,h,d);let p=new Path2D;p.arc(512,512,512,0,2*Math.PI),t.fillStyle="#000000",t.globalAlpha=.2,t.fill(p);let u=new Path2D("M468.114286 621.714286c7.314286 21.942857 21.942857 36.571429 43.885714 36.571428s36.571429-14.628571 43.885714-36.571428L585.142857 219.428571c0-43.885714-36.571429-73.142857-73.142857-73.142857-43.885714 0-73.142857 36.571429-73.142857 80.457143l29.257143 394.971429zM512 731.428571c-43.885714 0-73.142857 29.257143-73.142857 73.142858s29.257143 73.142857 73.142857 73.142857 73.142857-29.257143 73.142857-73.142857-29.257143-73.142857-73.142857-73.142858z");t.globalAlpha=1,t.fillStyle="#FFFFFF",t.fill(u),t.restore()}}class d extends s.x{type=a.Jq.Rect;temporaryTip=new h;drawOnGLCtx(t){super.drawOnGLCtx(t),this.drawRect(t),this.drawTemporaryTip(t)}updateNodeProps(t){let e=this.getProp(o.d.Img).url;super.updateNodeProps(t);let r=t.find(t=>t.type===o.d.Img);r&&e!==r.url&&(this.cachedImage=void 0,this.refreshCache()),this.checkInvalid(t)}drawRect(t){let e=this.getProp(o.d.Border);if("none"===e.borderColor||e.lineDashType===n.N.None)return;t.save(),this.setTransform(t),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.globalAlpha=e.borderAlpha,i.G.setDashes(e.lineDashType,e.borderWidth,t);let{x:r,y:s,width:l,height:h}=this.globalBaseProps;this.cropProps?.cropType===a.vB.CROP_CIRCLE?(t.beginPath(),t.ellipse(r+l/2,s+h/2,l/2-e.borderWidth/2,h/2-e.borderWidth/2,0,0,2*Math.PI),t.stroke()):t.strokeRect(r+e.borderWidth/2,s+e.borderWidth/2,l-e.borderWidth,h-e.borderWidth),t.restore()}drawTemporaryTip(t){this.imgProps.isTempSrc&&this.temporaryTip.drawOnCtx(t,this.globalBaseProps)}drawImageElement(t,e){switch(this.imgProps.fillStyle){case a._u.CROP:this.drawImageCrop(t,e);break;case a._u.FIT:this.drawImageFit(t,e);break;default:this.drawImageFill(t,e)}}canBeDrawingWithCanvg(){return!1}checkInvalid(t){if(!t.find(t=>t.type===o.d.Img))return;let e=this.getProp(o.d.Img);this.invalid=!e.url}drawImageCrop(t,e){let{x:r,y:o,width:i,height:s}=this.globalBaseProps,{cropType:n,widthScale:l,heightScale:h,xScale:d,yScale:p}=this.cropProps;e.save(),n===a.vB.CROP_CIRCLE&&(e.beginPath(),e.ellipse(r+i/2,o+s/2,i/2,s/2,0,0,2*Math.PI),e.clip());let u=i*l,c=s*h,x=u/t.naturalWidth,g=c/t.naturalHeight,y=i/x,f=s/g,{hFlip:P,vFlip:m}=this.flipProps,T=d?-(y*d):0,b=p?-(f*p):0;P&&(T=u-y-T),m&&(b=c-f-b),e.drawImage(t,T,b,y,f,r,o,i,s),e.restore()}drawImageFill(t,e){let{x:r,y:a,width:o,height:i}=this.globalBaseProps,s=Math.min(o/t.naturalWidth,i/t.naturalHeight),n=t.naturalWidth*s,l=t.naturalHeight*s;e.drawImage(t,r+(o-n)/2,a+(i-l)/2,n,l)}drawImageFit(t,e){let r,a,o,i,{x:s,y:n,width:l,height:h}=this.globalBaseProps,d=l/h,p=t.naturalWidth/t.naturalHeight;p>d?(i=(h-(a=(r=l)/p))/2,o=0):(o=(l-(r=(a=h)*p))/2,i=0),e.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,s+o,n+i,r,a)}}},617425:function(t,e,r){r.d(e,{o:()=>h});var a=r(931425),o=r(797615),i=r(624905),s=r(976780),n=r(889171),l=r(805433);class h extends a.F{type=o.Jq.LifelineObject;dash=[4,4];lineWidth=2;constructor(t,e){super(t,e),this.propMap.set(s.d.Lifeline,new i.I)}get lifelineProps(){return this.getProp(s.d.Lifeline)}canRotate(){return!1}getRectNode(){let t=this.globalBaseProps,e=this.getProp(s.d.Lifeline);return{id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height+e.lifelineLength}}getLifeLinePoint(){let t=l.G.bottomPoint(this.globalBaseProps),e=new n.E(t.x,t.y+this.lifelineProps.lifelineLength);return{start:t,end:e}}buildLinePath(){let{start:t,end:e}=this.getLifeLinePoint(),r=new Path2D;return r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r}drawOnGLCtx(t){super.drawOnGLCtx(t);let{start:e,end:r}=this.getLifeLinePoint();t.save(),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.lineWidth=this.lineWidth,t.strokeStyle=this.borderProps.borderColor,t.setLineDash(this.dash),t.stroke(),t.restore()}}},441505:function(t,e,r){r.d(e,{L:()=>u});var a=r(889171),o=r(976780),i=r(873411),s=r(797615),n=r(771584),l=r(805433),h=r(428202),d=r(150630),p=r(272578);class u{type=s.Jq.Rect;zIndex=0;propMap=new Map;parent=null;children=[];transform=n.c.generateMatrix();canRotate(){return!0}get baseProps(){return this.getProp(o.d.Base)}get lockedStatusProps(){return this.getProp(o.d.LockedStatus)}get globalBaseProps(){let t=l.G.findNoGroupParent(this);if(t){let e=t.globalBaseProps,{baseProps:r}=this,a=new i.s;return a.x=e.x+r.x,a.y=e.y+r.y,a.width=r.width,a.height=r.height,a.angle=r.angle,a}return this.baseProps}get themeProps(){return this.getProp(o.d.Theme)}constructor(t,e,r){this.id=t,this.graphicContext=e,this.options=r,this.propMap.set(o.d.Base,new i.s),this.propMap.set(o.d.LockedStatus,new p.o)}initProp(t){this.propMap.set(t.type,t)}getProp(t){return this.propMap.get(t)||null}contains(t){let{baseProps:e}=this,r=this.toLocalPoint(t);return r.x>0&&r.x<e.width&&r.y>0&&r.y<e.height}needRender(){return!this.parent||this.parent.needRender()}draw(){this.needRender()&&this.drawOnGLCtx(this.graphicContext)}drawOnGLCtx(t){}isAsync(){return!1}isCached(){return!1}refreshCache(){return Promise.resolve()}getBounds(){return this.getRectNode()}getRectNode(){let t=this.globalBaseProps;return{id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height}}getRectPoint(){let t=this.globalBaseProps,e={id:this.id,minX:t.x,minY:t.y,maxX:t.x+t.width,maxY:t.y+t.height},r=[new a.E(e.minX,e.minY),new a.E(e.maxX,e.minY),new a.E(e.maxX,e.maxY),new a.E(e.minX,e.maxY)];return{topLeft:r[0],topRight:r[1],bottomRight:r[2],bottomLeft:r[3]}}getTextContentRect(){return{x:0,y:0,width:0,height:0}}getConnectAnchors(){return d.r}buildOutlinePath(){let{x:t,y:e,width:r,height:a}=this.globalBaseProps,o=new Path2D;o.rect(t,e,r,a);let i=new Path2D,{a:s,b:n,c:l,d:h,e:d,f:p}=this.transform,u=new DOMMatrixReadOnly([s,n,l,h,d,p]);return i.addPath(o,u),i}getOutlineBezierPoints(){let{x:t,y:e,width:r,height:o}=this.globalBaseProps,{transform:i}=this,s=i.crossPoint(new a.E(t,e)),n=i.crossPoint(new a.E(t+r,e)),l=i.crossPoint(new a.E(t+r,e+o)),h=i.crossPoint(new a.E(t,e+o));return[[s,s,n,n],[n,n,l,l],[l,l,h,h],[h,h,s,s]]}afterNodeInit(t){}afterUpdateProps(){}afterScale(t){}updateNodeProps(t){for(let e of t){if(void 0===e.type)continue;let t=this.getProp(e.type);t&&t.update(e)}}serializeTo(){let t=[];for(let[e,r]of this.propMap)t.push(r.clone());return{id:this.id,type:this.type,zIndex:this.zIndex,propList:t,parentId:this.parent?.id,path:this.getPath(!0)}}getStretchMinSize(){return new a.E(20,20)}toGlobalPoint(t){let{globalBaseProps:e}=this,r=n.c.generateMatrix().rotate(e.angle);return n.c.generateMatrix().translate(e.x,e.y).crossProduct(r).crossPoint(t)}toLocalPoint(t){let{globalBaseProps:e}=this,r=n.c.generateMatrix().rotate(-e.angle),a=n.c.generateMatrix().translate(-e.x,-e.y);return r.crossProduct(a).crossPoint(t)}updateTransformMatrix(){let t=this.globalBaseProps,e=new a.E(t.x,t.y),r=n.c.generateMatrix().translate(-e.x,-e.y),o=n.c.generateMatrix().rotate(t.angle),i=n.c.generateMatrix().translate(e.x,e.y);this.transform=i.crossProduct(o.crossProduct(r))}getLineAttachPoint(t){let{width:e,height:r}=this.globalBaseProps,o=new a.E(t.x*e,t.y*r);return this.toGlobalPoint(o)}getLineAttachPosition(t){let{width:e,height:r}=this.globalBaseProps,a=this.toLocalPoint(t);return{x:a.x/e,y:a.y/r}}getPath(t=!1){let{parent:e}=this,r=[];for(;e&&e.id!==h.r.id;)r.unshift(e.id),e=e.parent;return t&&r.push(this.id),r}}},937093:function(t,e,r){var a,o,i,s,n,l;r.d(e,{P7:()=>i,SP:()=>o}),(s=a||(a={}))[s.Node=0]="Node",s[s.Line=1]="Line",s[s.Text=2]="Text",s[s.IMG=3]="IMG",s[s.SVG=4]="SVG",(n=o||(o={}))[n.SimpleLine=0]="SimpleLine",n[n.PolyLine=1]="PolyLine",n[n.Curve=2]="Curve",n[n.RightAngledPolyLine=3]="RightAngledPolyLine",(l=i||(i={}))[l.X_THIN=1]="X_THIN",l[l.THIN=2]="THIN",l[l.MIDDLE=4]="MIDDLE",l[l.BOLD=6]="BOLD"},202146:function(t,e,r){r.d(e,{W:()=>c});var a=r(441505),o=r(976780),i=r(732526),s=r(797615),n=r(965732),l=r(873411),h=r(889171),d=r(771584),p=r(805433),u=r(508241);class c extends a.L{type=s.Jq.Paint;constructor(t,e){super(t,e),this.propMap.set(o.d.Paint,new i.W),this.propMap.set(o.d.Border,new n.L),this.propMap.set(o.d.Base,new l.s),this.propMap.set(o.d.Theme,new u.F)}afterUpdateProps(){this.updateTransformMatrix()}preDealPoints(t,e,r){let a=d.c.generateMatrix();if(Math.abs(e.angle)>1){let t=new h.E(e.x,e.y),r=d.c.generateMatrix().translate(-t.x,-t.y),o=d.c.generateMatrix().rotate(e.angle);a=d.c.generateMatrix().translate(t.x,t.y).crossProduct(o.crossProduct(r))}let o=[],i=e.x+.5*r,s=e.y+.5*r,n=e.width-r,l=e.height-r,p=Math.abs(e.angle)>1;for(let e of t){let t=new h.E(i+n*e.x,s+l*e.y);p&&(t=a.crossPoint(t)),o.push(t)}return o}drawOnGLCtx(t){let e=this.getProp(o.d.Border),r=this.globalBaseProps,{points:a,paintType:i}=this.getProp(o.d.Paint);if(0===a.length)return;let s=this.preDealPoints(a,r,e.borderWidth);if(t.save(),t.beginPath(),1===s.length)t.moveTo(s[0].x,s[0].y),t.lineTo(s[0].x,s[0].y);else if(2===s.length)t.moveTo(s[0].x,s[0].y),t.lineTo(s[1].x,s[1].y);else{let e=new h.E(s[0].x,s[0].y),r=new h.E(.5*(s[0].x+s[1].x),.5*(s[0].y+s[1].y)),a=new h.E;t.moveTo(e.x,e.y),t.lineTo(r.x,r.y);for(let e=2;e<s.length;e++)r=s[e-1],a=new h.E(.5*(s[e].x+s[e-1].x),.5*(s[e].y+s[e-1].y)),t.quadraticCurveTo(r.x,r.y,a.x,a.y);a=s[s.length-1],t.lineTo(a.x,a.y)}t.strokeStyle=e.borderColor,t.globalAlpha=1===i?e.borderAlpha:.5*e.borderAlpha,t.lineWidth=e.borderWidth,t.lineJoin="round",t.lineCap="round",t.stroke(),t.restore()}getRectNode(){let{a:t,b:e,c:r,d:a}=p.G.computeFourPoint(this.globalBaseProps),o=p.G.getBoundsByPoints([t,e,r,a]);return o.id=this.id,o}getRectPoint(){let{a:t,b:e,c:r,d:a}=p.G.computeFourPoint(this.globalBaseProps);return{topLeft:t,topRight:e,bottomRight:r,bottomLeft:a}}getStretchMinSize(){let t=super.getStretchMinSize(),e=this.globalBaseProps,r=e.width/e.height;return r>1?new h.E(t.x,t.x/r):new h.E(t.y*r,t.y)}}},428202:function(t,e,r){r.d(e,{r:()=>o});var a=r(441505);class o extends a.L{static id="";constructor(){super(o.id,null)}updateNodeProps(t){}draw(){}getPath(t=!1){return[]}}},602534:function(t,e,r){r.d(e,{x:()=>w});var a=r(937912),o=r(931425),i=r(976780),s=r(873411),n=r(965732),l=r(635094),h=r(797615),d=r(916207),p=r(829067),u=r(644464),c=r(227407),x=r(742849),g=r(826125),y=r(175747);let f=a.um.offscreen(),P=new Map,m=new Map,T="rgba(0, 0, 200, 0)";class b extends DOMParser{parseFromString(t,e){let r=P.get(t);if(!r){let a=(r=super.parseFromString(t,e)).documentElement.getAttribute("width"),o=r.documentElement.getAttribute("height");!r.documentElement.hasAttribute("viewBox")&&a&&o&&r.documentElement.setAttribute("viewBox",`0 0 ${a} ${o}`),r.documentElement.removeAttribute("width"),r.documentElement.removeAttribute("height"),r.documentElement.setAttribute("fill",T),P.set(t,r)}return r}}class w extends o.F{type=h.Jq.IconSource;invalid=!1;get svgProps(){return this.getProp(i.d.Svg)}get imgProps(){return this.getProp(i.d.Img)}get cropProps(){return this.imgProps.fillStyle!==h._u.CROP?null:this.getProp(i.d.ImgCrop)}getCachedImageElement(){return this.cachedImage||m.get(this.imgProps.url)}constructor(t,e){super(t,e),this.propMap.set(i.d.Base,new s.s),this.propMap.set(i.d.Border,new n.L),this.propMap.set(i.d.Svg,new l.K("")),this.propMap.set(i.d.Img,new d.x("")),this.propMap.set(i.d.ImgCrop,new p.U),this.propMap.set(i.d.ResourcePosition,new u.K),this.propMap.set(i.d.IconSource,new x.H),this.propMap.set(i.d.Resource,new g.Q)}updateNodeProps(t){let e=this.getProp(i.d.Svg)?.svgCode,r=this.imgProps.url;super.updateNodeProps(t);let a=t.find(t=>t.type===i.d.Svg),o=this.getProp(i.d.Img);(a&&e!==a.svgCode||o&&o.url!==r)&&(this.cachedImage=void 0,this.refreshCache()),this.checkInvalid(t)}drawOnGLCtx(t){if(this.invalid)return void this.drawInvalidBackground(t);this.isCached()&&this.drawCachedOnGLCtx(t)}isAsync(){return!0}isCached(){return!this.invalid&&!!(this.canBeDrawingWithCanvg()?this.cachedImageBitmap?.width:this.getCachedImageElement())}async refreshCache(){if(this.canBeDrawingWithCanvg()){let{a:t}=this.graphicContext.getTransform();return this.renderSvgToOffscreen(t).then(t=>{t?.width&&(this.cachedImageBitmap?.close(),this.cachedImageBitmap=t)})}return this.cachedImage?Promise.resolve():this.decodeImage().then(t=>{t&&(this.cachedImage=t)})}drawCachedOnGLCtx(t){this.isCached()&&(t.save(),this.setTransform(t),this.canBeDrawingWithCanvg()?this.drawImageBitmap(this.cachedImageBitmap,t):this.drawImageElement(this.getCachedImageElement(),t),t.restore())}drawImageBitmap(t,e){let{x:r,y:a,width:o,height:i}=this.globalBaseProps;e.drawImage(t,r,a,o,i)}drawImageElement(t,e){let{x:r,y:a,width:o,height:i}=this.globalBaseProps,s=Math.min(o/t.naturalWidth,i/t.naturalHeight),n=t.naturalWidth*s,l=t.naturalHeight*s;e.drawImage(t,r+(o-n)/2,a+(i-l)/2,n,l)}checkInvalid(t){if(!t.find(t=>t.type===i.d.Svg))return;let e=this.getProp(i.d.Svg);this.invalid=!e.svgCode}async renderSvgToOffscreen(t=1){let{borderColor:e,borderAlpha:r,fillColor:o,fillAlpha:i,svgCode:s}=this.svgProps;if(!s)return;let{width:n,height:l}=this.globalBaseProps,h=new OffscreenCanvas(n*t,l*t),d=h.getContext("2d"),{fill:p,stroke:u}=d;d.stroke=function(t){"none"!==e&&d.strokeStyle!==T&&(d.save(),d.lineWidth=3,d.lineCap="butt",r<1&&o&&"none"!==o&&(d.save(),d.strokeStyle=o,d.globalAlpha=r,Reflect.apply(u,d,[t].filter(t=>!!t)),d.restore()),d.globalAlpha=r,d.strokeStyle=e,Reflect.apply(u,d,[t].filter(t=>!!t)),d.restore())},d.fill=function(t,e){"none"!==o&&d.fillStyle!==T&&(d.save(),d.globalAlpha=i,d.fillStyle=o||"transparent",Reflect.apply(p,d,[t,e].filter(t=>!!t)),d.restore())};let c=a.wh.fromString(d,s,{...f,DOMParser:b});return await c.render(),h.transferToImageBitmap()}async decodeImage(){let{svgCode:t}=this.svgProps,{url:e}=this.imgProps;if(!t&&!e)return;let r=new Image;if(e)r.src=await y.U.downloadImageAsBlob(e);else{let e=new Blob([t],{type:"image/svg+xml"});r.src=URL.createObjectURL(e)}try{await r.decode()}catch(t){console.error("failed to decode img: ",t),r.src=await (0,c.c)()}return e||URL.revokeObjectURL(r.src),e&&m.set(e,r),r}canBeDrawingWithCanvg(){let{borderColor:t,fillColor:e}=this.svgProps;return"none"!==t||"none"!==e}drawInvalidBackground(t){let{x:e,y:r,width:a,height:o}=this.globalBaseProps,i=(a>o?a:o)/4;t.save(),t.beginPath(),this.setTransform(t),this.cropProps?.cropType===h.vB.CROP_CIRCLE?t.ellipse(e+a/2,r+o/2,a/2,o/2,0,0,2*Math.PI):t.rect(e,r,a,o),t.clip(),t.globalAlpha=1,t.fillStyle="#ffffff",t.rect(e,r,a,o),t.fill(),t.fillStyle="#000000";let s=r+.5*o-2*i,n=e+.5*a-2*i;for(let e=0;e<4;e++){let r=e%2;for(let a=r;a<4;a+=2){let r=n+a*i,o=s+e*i;t.fillRect(r,o,i,i)}}t.restore()}}},943451:function(t,e,r){var a,o;r.d(e,{P:()=>a}),(o=a||(a={}))[o.Main=0]="Main",o[o.Extra=1]="Extra",o[o.SubExtra=2]="SubExtra",o[o.LineCaption=3]="LineCaption",o[o.Title=4]="Title",o[o.TableCell=5]="TableCell"},793720:function(t,e,r){var a,o;r.d(e,{Y:()=>a}),(o=a||(a={}))[o.None=0]="None",o[o.LINE_ARROW=1]="LINE_ARROW",o[o.TRIANGLE_ARROW=2]="TRIANGLE_ARROW",o[o.EMPTY_TRIANGLE_ARROW=3]="EMPTY_TRIANGLE_ARROW",o[o.CIRCLE_ARROW=4]="CIRCLE_ARROW",o[o.EMPTY_CIRCLE_ARROW=5]="EMPTY_CIRCLE_ARROW",o[o.DIAMOND_ARROW=6]="DIAMOND_ARROW",o[o.EMPTY_DIAMOND_ARROW=7]="EMPTY_DIAMOND_ARROW",o[o.SINGLE_ARROW=8]="SINGLE_ARROW",o[o.MULTI_ARROW=9]="MULTI_ARROW",o[o.EXACT_SINGLE_ARROW=10]="EXACT_SINGLE_ARROW",o[o.ZERO_OR_SINGLE_ARROW=11]="ZERO_OR_SINGLE_ARROW",o[o.SINGLE_OR_MULTI_ARROW=12]="SINGLE_OR_MULTI_ARROW",o[o.ZERO_OR_MULTI_ARROW=13]="ZERO_OR_MULTI_ARROW",o[o.X_ARROW=14]="X_ARROW"},755928:function(t,e,r){var a,o;r.d(e,{N:()=>a}),(o=a||(a={}))[o.None=0]="None",o[o.Solid=1]="Solid",o[o.Dash1=2]="Dash1",o[o.Dash2=3]="Dash2",o[o.Dash3=4]="Dash3",o[o.Dash4=5]="Dash4",o[o.Dash5=6]="Dash5"},456323:function(t,e,r){r.d(e,{j:()=>te});var a=r(931425),o=r(196468),i=r(602534),s=r(107671),n=r(797615),l=r(3981),h=r(570148),d=r(671833),p=r(441505),u=r(976780),c=r(873411),x=r(596500),g=r(965732),y=r(136713),f=r(805433),P=r(755928),m=r(508241),T=r(915602),b=r(460146),w=r(943451);class C extends p.L{type=n.Jq.Section;constructor(t,e){super(t,e),this.propMap.set(u.d.Base,new c.s),this.propMap.set(u.d.Color,new x.b),this.propMap.set(u.d.Border,new g.L),this.propMap.set(u.d.Title,new y.T),this.propMap.set(u.d.Theme,new m.F),this.propMap.set(u.d.Opacity,new T.j),this.graphicTitle=new b.l({outsideOffsetY:8})}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===u.d.Title);this.graphicTitle.update(this.graphicContext,[this.globalBaseProps.clone(),e].filter(t=>!!t))}afterScale(t){this.graphicTitle.afterScale(this.graphicContext,t)}getRectNode(){let t=super.getRectNode();if(this.graphicTitle.isInNode)return t;let e=this.graphicTitle.getRectNode();return f.G.getBounds([t,e],this.id)}drawOnGLCtx(t){let e=this.globalBaseProps,r=this.getProp(u.d.Color),a=this.getProp(u.d.Border),{borderWidth:o}=a;t.save(),t.beginPath(),t.roundRect(e.x,e.y,e.width,e.height,5),r.color&&(t.fillStyle=r.color,t.globalAlpha=r.alpha,t.fill()),a.lineDashType!==P.N.None&&a.borderColor&&(t.beginPath(),t.roundRect(e.x+o/2,e.y+o/2,e.width-o,e.height-o,5-o/2),t.globalAlpha=a.borderAlpha,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,f.G.setDashes(a.lineDashType,a.borderWidth,t),t.stroke()),t.restore()}drawTitle(t){this.graphicTitle.needRender()&&this.graphicTitle.drawOnGLCtx(t)}contains(t){return super.contains(t)||this.graphicTitle.contains(t)}canRotate(){return!1}getGraphicTexts(){return[{type:w.P.Title,graphicText:this.graphicTitle}]}}var M=r(202146),k=r(73428),E=r(561347),L=r(29725),S=r(920570),B=r(335342),R=r(889171),I=r(89260);class v extends a.F{type=n.Jq.StickyNote;asyncResourceMap=new I.q;authorNameText=new S.x;get showAuthor(){return this.getProp(u.d.StickyNote).showAuthor}get authorInfo(){return this.getProp(u.d.StickyNote).authorInfo}get autoFontSize(){return this.getProp(u.d.StickyNote).autoFontSize}constructor(t,e){super(t,e),this.propMap.set(u.d.StickyNote,new L.r)}isAsync(){return this.asyncResourceMap.size>0}isCached(){return this.asyncResourceMap.isAllSettled()}refreshCache(){return this.asyncResourceMap.allSettled()}canRotate(){return!1}drawOnGLCtx(t){t.save(),this.drawShadowRect(t),this.drawNoteRect(t),this.drawGraphicText(t),this.drawAuthorInfo(t),t.restore()}drawNoteRect(t){let{width:e,height:r,x:a,y:o}=this.globalBaseProps,i=this.getProp(u.d.Color);t.save(),t.fillStyle=i.color,t.globalAlpha=i.alpha,t.fillRect(a,o,e,r),t.restore()}drawShadowRect(t){let{width:e,height:r,x:a,y:o}=this.globalBaseProps,i=t.getTransform().a/window.devicePixelRatio,s=.3*r;t.save();let n=s*i,l=Math.min(s*i,40);t.rect(a,o+r,e,l+n),t.clip(),t.fillStyle="#ffffff",t.shadowColor="rgba(170, 170, 170, 0.5)",t.shadowBlur=n,t.shadowOffsetY=l,t.fillRect(a+.1*e,o+r-s,.8*e,s),t.restore()}getScale(){let{width:t,height:e}=this.baseProps;return Math.min(t,e)/160}getAuthorInfoRect(){let{width:t,height:e}=this.baseProps,r=this.getScale(),a=16*r,o=8*r;return new k.U(o,e-a-o,t-2*o,a)}drawAuthorInfo(t){if(!this.showAuthor)return;let e=this.getAuthorInfoRect();this.avatarResource?.value&&this.drawAuthorAvatar(t,e),this.authorNameText.drawOnGLCtx(t,new R.E(this.globalBaseProps.x,this.globalBaseProps.y))}drawAuthorAvatar(t,e){let r=14.2*this.getScale(),a=this.avatarResource.value,o=Math.min(r/a.naturalWidth,r/a.naturalHeight),i=a.naturalWidth*o,s=a.naturalHeight*o,n=new R.E(e.x+this.globalBaseProps.x,e.y+this.globalBaseProps.y);t.save(),t.beginPath(),t.ellipse(n.x+i/2,n.y+s/2,i/2,s/2,0,0,2*Math.PI),t.clip(),t.drawImage(a,n.x+(r-i)/2,n.y+(r-s)/2,i,s),t.restore()}updateAuthorAvatar(){let{avatarUrl:t}=this.authorInfo||{};if(!t||this.asyncResourceMap.has(t))return;let e=new Image;e.src=t;let r=e.decode().then(()=>e);this.avatarResource=this.asyncResourceMap.set(t,r)}getTextContentRect(){let t=this.globalBaseProps,e=this.getScale(),r=8*e,a=t.width-r,o=t.height-r,i={x:t.x+r,y:t.y+r,width:a-r,height:o-r};return this.showAuthor&&(i.height-=16*e+8*e),i}getTextContentBounds({width:t,height:e}){let r=this.getScale(),a=8*r,o=this.showAuthor?e-(16*r+a)-a:e-a;return{top:a,right:t-a,bottom:o,left:a}}updateNodeProps(t){super.updateNodeProps(t);let e=t.some(t=>t.type===u.d.Text)||this.autoFontSize,r=t.find(t=>t.type===u.d.Base)?.width!==void 0;if((e||r)&&this.autoFontSize){this.calculateAutoFontSize(this.textProps);let{fontSize:t}=this.textProps;this.modifyTextFontSize(this.textProps,t),this.graphicText.update(this.graphicContext,[this.textProps])}if(t.some(t=>t.type===u.d.StickyNote||t.type===u.d.Base)&&this.showAuthor&&this.authorInfo){let t=this.getScale(),e=new E.l;e.update({text:this.authorInfo.name,horizonAlign:B.Z.TOP_OR_LEFT,fontColor:"#646a73",fontSize:10*t});let r=this.getAuthorInfoRect(),a=14.2*t+2.8*t;r.x+=a,r.width-=a,this.authorNameText.typesetting(this.graphicContext,e,r)}this.updateAuthorAvatar()}modifyTextFontSize(t,e){t.fontSize=e,t.textCharProps.forEach(t=>t.fontSize=e)}isTextOverflow(t,e,r,a){return this.modifyTextFontSize(e,r),t.update(this.graphicContext,[e]),t.getContentRect().height-a}calculateAutoFontSize(t){let e=Math.max(24*(this.baseProps.width/160),4);if(4>=e)return 4;t.sizeMode=n.Ah.AUTO_HEIGHT;let{height:r}=this.getTextContentRect();if(this.isTextOverflow(this.graphicText,t,4,r)>0)return 4;if(0>this.isTextOverflow(this.graphicText,t,e,r))return e;let a=e,o=4,i=0;for(;a>o&&i<6;){let e=(a+o)/2,s=-this.isTextOverflow(this.graphicText,t,e,r);if(s<1&&s>=0)return e;s<0?a=e:o=e,i++}return Math.max(o,4)}}var O=r(243107),A=r(973042),D=r(219231),N=r(138743);class _ extends D.D{type=n.Jq.TableUML;constructor(t,e){super(t,e),this.propMap.set(u.d.TableUML,new A.V)}drawBackground(t){let e=this.getProp(u.d.Table),r=this.globalBaseProps,a=this.getProp(u.d.Color);if(""!==a.color&&0!==a.alpha){for(let o of(t.save(),t.beginPath(),t.fillStyle=a.color,t.globalAlpha=a.alpha,t.roundRect(r.x,r.y,r.width,r.height,5),t.clip(),e.tableCells)){if(1===o.alpha||!o.color)continue;let{x:e,y:a,width:i,height:s}=o.tableBaseProps;t.rect(r.x+e,r.y+a,i,s)}t.fill("evenodd"),t.restore()}}drawCellColor(t){let e=this.getProp(u.d.Table),r=this.globalBaseProps,a=e.rows.length,o=e.columns.length;for(let i of e.tableCells){let{x:e,y:s,width:n,height:l}=i.tableBaseProps,h=[0,0,0,0];i.color&&(t.fillStyle=i.color,t.globalAlpha=i.alpha,0===i.i&&0===i.j&&(h[0]=5,h[1]=5),i.i===a-1&&(0===i.j&&(h[3]=5),i.j===o-1&&(h[2]=5)),t.beginPath(),t.roundRect(r.x+e,r.y+s,n,l,h),t.fill())}}getCellSizeMode(){return N.A.AUTO_WIDTH}drawBorder(t){let{tableProps:e}=this,r=this.globalBaseProps,a=this.getProp(u.d.TableUML),o=this.getProp(u.d.Border);t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.globalAlpha=o.borderAlpha,t.beginPath(),t.roundRect(r.x,r.y,r.width,r.height,5);let i=e.rows[0];if(t.moveTo(r.x,r.y+i),t.lineTo(r.x+r.width,r.y+i),a.umlType===n.fq.UML_ClASS){let e=this.computePropertySize(a.propertyNum);t.moveTo(r.x,r.y+e),t.lineTo(r.x+r.width,r.y+e)}t.stroke()}computePropertySize(t){let{tableProps:e}=this;if(e.rows.length<2)return 10;if(t>e.rows.length-2)return e.rows[0]+e.rows[1];let r=0;for(let a=0;a<t+1;a++)r+=e.rows[a];return r}getCellTextContentBounds(t){let{width:e,height:r}=t.tableBaseProps;return{top:4,right:e-4,bottom:r-4,left:4}}}var W=r(205186);class H extends D.D{type=n.Jq.TableER;constructor(t,e){super(t,e),this.propMap.set(u.d.TableER,new W.K)}drawBackground(t){let e=this.getProp(u.d.Table),r=this.globalBaseProps,a=this.getProp(u.d.Color);if(""!==a.color&&0!==a.alpha){for(let o of(t.save(),t.beginPath(),t.fillStyle=a.color,t.globalAlpha=a.alpha,t.roundRect(r.x,r.y,r.width,r.height,5),t.clip(),e.tableCells)){if(1===o.alpha||!o.color)continue;let{x:e,y:a,width:i,height:s}=o.tableBaseProps;t.rect(r.x+e,r.y+a,i,s)}t.fill("evenodd"),t.restore()}}drawCellColor(t){let e=this.getProp(u.d.Table),r=this.globalBaseProps,a=e.rows.length,o=e.columns.length;for(let i of e.tableCells){let{x:e,y:s,width:n,height:l}=i.tableBaseProps,h=[0,0,0,0];i.color&&(t.fillStyle=i.color,t.globalAlpha=i.alpha,0===i.i&&0===i.j&&(h[0]=5,h[1]=5),i.i===a-1&&(0===i.j&&(h[3]=5),i.j===o-1&&(h[2]=5)),t.beginPath(),t.roundRect(r.x+e,r.y+s,n,l,h),t.fill())}}drawBorder(t){let{tableProps:e}=this,r=this.globalBaseProps,a=this.getProp(u.d.Border),o=this.getProp(u.d.TableER);t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.globalAlpha=a.borderAlpha,t.beginPath(),t.roundRect(r.x,r.y,r.width,r.height,5);let i=e.rows[0];t.moveTo(r.x,r.y+i),t.lineTo(r.x+r.width,r.y+i),o.erType===n.gu.ER_KEY_ENTITY||o.erType===n.gu.ER_FIELD_FIELD?(t.moveTo(r.x+e.columns[0],r.y+i),t.lineTo(r.x+e.columns[0],r.y+r.height)):o.erType===n.gu.ER_KEY_FIELD_TYPE&&(t.moveTo(r.x+e.columns[0],r.y+i),t.lineTo(r.x+e.columns[0],r.y+r.height),t.moveTo(r.x+e.columns[0]+e.columns[1],r.y+i),t.lineTo(r.x+e.columns[0]+e.columns[1],r.y+r.height)),t.stroke()}getCellTextContentBounds(t){let{width:e,height:r}=t.tableBaseProps;return{top:4,right:e-4,bottom:r-4,left:4}}getCellSizeMode(){return N.A.AUTO_WIDTH}getCellRect(t,e){let{x:r,y:a,width:o}=this.globalBaseProps,{rows:i}=this.tableProps,s=i[t],n=a;for(let e=0;e<t;e++)n+=i[e];return new k.U(r,n,o,s)}}var F=r(617425),G=r(281051),Y=r(755075);class U extends Y.S{getExtraTextBaseProps(){let t=new c.s,{x:e,y:r,width:a,angle:o}=this.globalBaseProps;return t.update({x:e,y:r,width:a,height:28,angle:o}),t}getExtraTextContentBounds(){return{top:3,right:this.globalBaseProps.width-5,bottom:25,left:5}}}var X=r(797379),z=r(613437),Z=r(329568),V=r(567524);class q extends D.D{type=n.Jq.CombinedFragment;cellTextMap=new Map;headCellText=new Z.v;updateTableCellTexts(t,e=!0){if(t.length>1){let e=t[0];this.updateHeadCellText(e),this.modifyHeadTextAlignment(),this.headCellText.renderText.lineStyleOverride()}for(let r=1;r<t.length;r++){let a=t[r];if(a.textProps){let t=new V.f(a.i,a.j),r=this.cellTextMap.get(t.toString());r||(r=new Z.v,this.cellTextMap.set(t.toString(),r)),this.updateCellText(a,r,e)}}}drawCellText(t){this.headCellText.drawOnGLCtx(t);let{tableCells:e}=this.tableProps;for(let r=1;r<e.length;r++){let a=e[r];if(a.textProps){let e=new V.f(a.i,a.j),r=this.cellTextMap.get(e.toString());r?.drawOnGLCtx(t)}}}drawBackground(t){}drawCellColor(t){this.tableProps.normalize();let e=this.tableProps.tableCells[0];if(e?.color){t.fillStyle=e.color,t.globalAlpha=e.alpha;let r=this.globalBaseProps,a=this.tableProps.rows[0],o=this.getTitleWidth();t.beginPath(),f.G.drawConditionShapeTitleFill(t,r,a,o,z.lE),t.fill()}}drawBorder(t){let e=this.globalBaseProps,r=this.getProp(u.d.Border),{borderWidth:a}=r,o=e.clone();o.x+=.5*a,o.y+=.5*a,o.height-=a,o.width-=a,t.save(),t.strokeStyle=r.borderColor,t.lineWidth=a,t.globalAlpha=r.borderAlpha,t.beginPath(),t.rect(o.x,o.y,o.width,o.height);let i=this.getTitleWidth(),s=this.tableProps.rows[0];f.G.drawConditionShapeTitlePath(t,o,s,i-a,z.lE),t.stroke(),t.beginPath();let n=this.tableProps.rows[0];for(let r=1;r<this.tableProps.rows.length-1;r++)n+=this.tableProps.rows[r],t.moveTo(e.x,e.y+n),t.lineTo(e.x+e.width,e.y+n);t.setLineDash(z.d$),t.stroke(),t.restore()}isHeadRowFullWidth(){return 4>Math.abs(this.headCellText.renderText.getWithIncludingParaSpace()+2*z.g6-this.baseProps.width)}getTitleWidth(){if(!this.headCellText.renderText.hasText())return z.lS;let t=this.isHeadRowFullWidth()?this.baseProps.width:this.headCellText.renderText.getWithIncludingParaSpace()+2*z.g6;return t<z.W_?z.W_:t}modifyHeadTextAlignment(){if(this.isHeadRowFullWidth())return;let t=this.headCellText.renderText.textProps.horizonAlign;if(t===B.Z.TOP_OR_LEFT||!this.headCellText.renderText.hasText())return;let e=this.headCellText.renderText.getWithIncludingParaSpace();if(e<z.W_){let r=this.baseProps.width-(e+2*z.g6),a=z.W_-(e+2*z.g6);t===B.Z.CENTER?this.headCellText.renderText.paragraphs.forEach(t=>t.lines.forEach(t=>{t.x=t.x-.5*r+.5*a})):t===B.Z.BOTTOM_OR_RIGHT&&this.headCellText.renderText.paragraphs.forEach(t=>t.lines.forEach(t=>{t.x=t.x-r+a}));return}let r=this.baseProps.width-(e+2*z.g6);t===B.Z.CENTER?this.headCellText.renderText.paragraphs.forEach(t=>t.lines.forEach(t=>t.x-=.5*r)):t===B.Z.BOTTOM_OR_RIGHT&&this.headCellText.renderText.paragraphs.forEach(t=>t.lines.forEach(t=>t.x-=r))}updateHeadCellText(t){let e=t.tableBaseProps.clone();e.x+=this.globalBaseProps.x,e.y+=this.globalBaseProps.y,this.headCellText.update(this.graphicContext,[e,t.textProps].filter(t=>!!t),{contentBounds:{top:z.g6,right:e.width-z.g6,bottom:e.height-z.g6,left:z.g6}})}}class j extends Y.S{updateExtraText(t=!0){let e=[this.getExtraTextBaseProps()];if(t){let t=new E.l,r=this.getProp(u.d.ExtraText);t.update({...r,text:this.getExtraShowText(r.text),fontSize:z.yt,sizeMode:N.A.AUTO_WIDTH,bold:!0,backgroundColor:"",textParagraphProps:[],italic:!1,strikeThrough:!1,underline:!1,horizonAlign:B.Z.TOP_OR_LEFT,verticalAlign:B.Z.TOP_OR_LEFT}),e.push(t)}this.extraText.update(this.graphicContext,e,{contentBounds:this.getExtraTextContentBounds()})}getExtraTextBaseProps(){let t=new c.s,{x:e,y:r,width:a,height:o,angle:i}=this.globalBaseProps;return t.update({x:e,y:r,width:a,height:z.Yo,angle:i}),t}getExtraTextContentBounds(){return{top:z.DJ,right:this.globalBaseProps.width-z.g6,bottom:z.Yo-z.DJ,left:z.g6}}getExtraShowText(t){this.graphicContext.save(),this.graphicContext.font=`Bold ${z.yt}px 'Noto Sans SC'`;let e=f.G.compressTextContentByWidth(this.graphicContext,t,this.globalBaseProps.width-2*z.g6);return this.graphicContext.restore(),e}getTitleWidth(){if(this.isHeadRowFullWidth())return this.baseProps.width;if(!this.extraText.hasText())return z.D6;let t=this.extraText.renderText.getWithIncludingParaSpace()+2*z.g6;return t<z.D6?z.D6:t>this.baseProps.width?this.baseProps.width:t}isHeadRowFullWidth(){return 4>Math.abs(this.extraText.renderText.getWithIncludingParaSpace()+2*z.g6-this.baseProps.width)}updateNodeProps(t){for(let e of t)e.type===u.d.Color&&(e.color=z.vQ),(e.type===u.d.ExtraText||e.type===u.d.ExtraText2)&&(e.backgroundColor="",e?.textCharProps?.forEach(t=>{t.backgroundColor="",t.bold=!0,t.fontSize=z.yt,t.italic=!1,t.underline=!1,t.strikeThrough=!1}));super.updateNodeProps(t)}}var J=r(624362);class $ extends j{constructor(t,e){super(t,e),this.propMap.set(u.d.ExtraText2,new J.y),this.extraSubText=new Z.v}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===u.d.ExtraText2);this.updateExtraSubText(!!e)}updateExtraSubText(t=!0){let e=[this.getExtraSubTextBaseProps()];if(t){let t=new E.l;t.update(this.getProp(u.d.ExtraText2)),e.push(t)}this.extraSubText.update(this.graphicContext,e,{contentBounds:this.getExtraSubTextContentBounds()})}getExtraSubTextBaseProps(){let t=new c.s,{x:e,y:r,width:a,height:o,angle:i}=this.globalBaseProps,{x:s,y:n}=new DOMMatrixReadOnly().translate(e,r).rotate(i).translate(-e,-r).transformPoint({x:e,y:r+o/2});return t.update({x:s,y:n,width:a,height:o/2,angle:i}),t}getExtraSubTextContentBounds(){let{width:t,height:e}=this.globalBaseProps;return{top:z.Sq*e,right:t-z.g6,bottom:e/2-z.g6,left:z.g6}}drawOnGLCtx(t){t.save(),this.setTransform(t),this.drawer.draw(this,t);let e=this.globalBaseProps,{borderProps:r}=this;t.beginPath();let a=.5*e.height;t.moveTo(e.x,e.y+a),t.lineTo(e.x+e.width,e.y+a),t.setLineDash(z.d$),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.globalAlpha=r.borderAlpha,t.stroke(),t.restore(),this.drawGraphicText(t)}drawExtraText(t){super.drawExtraText(t),this.extraSubText.needRender()&&this.extraSubText.drawOnGLCtx(t)}}var Q=r(902801),K=r(409397);let tt={[n.Jq.Connector]:{type:n.Jq.Connector,constructor:o.s},[n.Jq.IconSource]:{type:n.Jq.IconSource,constructor:i.x},[n.Jq.Rect]:{type:n.Jq.Rect,constructor:d.z},[n.Jq.DirectFocusGroup]:{type:n.Jq.DirectFocusGroup,constructor:h.r},[n.Jq.MindMapNode]:{type:n.Jq.MindMapNode,constructor:O.e},[n.Jq.Table]:{type:n.Jq.Table,constructor:l.H},[n.Jq.TableUML]:{type:n.Jq.TableUML,constructor:_},[n.Jq.TableER]:{type:n.Jq.TableER,constructor:H},[n.Jq.Section]:{type:n.Jq.Section,constructor:C},[n.Jq.StickyNote]:{type:n.Jq.StickyNote,constructor:v},[n.Jq.Paint]:{type:n.Jq.Paint,constructor:M.W},[n.Jq.LifelineObject]:{type:n.Jq.LifelineObject,constructor:F.o},[n.Jq.Activation]:{type:n.Jq.Activation,constructor:G.d},[n.Jq.Text]:{type:n.Jq.Text,constructor:Q.j},[n.Jq.CombinedFragment]:{type:n.Jq.CombinedFragment,constructor:q}};class te{static load(t,e,r,o,i=0,l=K.lH){let h,d=s.R.getTypeWithId(t);if(d===n.Jq.CompositeShape){let o=e.find(t=>t.type===u.d.ShapeType);switch(o?.shapeCode){case X.DY.dataProcess:h=new U(t,r);break;case X.DY.conditionShape:h=new j(t,r);break;case X.DY.conditionShape2:h=new $(t,r);break;default:h=new a.F(t,r)}h.type=n.Jq.CompositeShape}else{let{type:e,constructor:o}=tt[d]??{type:n.Jq.CompositeShape,constructor:a.F};(h=new o(t,r,((t,e)=>{switch(t){case n.Jq.Connector:return{textPlaceholder:e.textConfig.placeholder};case n.Jq.MindMapNode:return{placeholder:e.textConfig.placeholder};default:return}})(d,l))).type=e}return h.zIndex=i,h.parent=o,h.updateNodeProps(e),h}}},797379:function(t,e,r){var a,o,i,s,n,l,h,d,p,u,c,x;r.d(e,{DY:()=>a,Zv:()=>l,yD:()=>i}),(h=a||(a={}))[h.pureText=0]="pureText",h[h.roundRect2=1]="roundRect2",h[h.ellipse=2]="ellipse",h[h.hexagon=3]="hexagon",h[h.cylinder=4]="cylinder",h[h.parallelogram=5]="parallelogram",h[h.trapezoid=6]="trapezoid",h[h.triangle=7]="triangle",h[h.roundRect=8]="roundRect",h[h.step=9]="step",h[h.diamond=10]="diamond",h[h.rect=11]="rect",h[h.star=12]="star",h[h.bubble=13]="bubble",h[h.pentagon=14]="pentagon",h[h.forwardArrow=15]="forwardArrow",h[h.documentShape=16]="documentShape",h[h.conditionShape=17]="conditionShape",h[h.cloud=18]="cloud",h[h.cross=19]="cross",h[h.step2=20]="step2",h[h.predefinedProcess=21]="predefinedProcess",h[h.delayShape=22]="delayShape",h[h.offPageConnector=23]="offPageConnector",h[h.noteShape=24]="noteShape",h[h.dataProcess=25]="dataProcess",h[h.dataStore=26]="dataStore",h[h.dataStore2=27]="dataStore2",h[h.dataStore3=28]="dataStore3",h[h.star2=29]="star2",h[h.star3=30]="star3",h[h.star4=31]="star4",h[h.actor=32]="actor",h[h.brace=33]="brace",h[h.conditionShape2=34]="conditionShape2",h[h.doubleArrow=35]="doubleArrow",h[h.rectBubble=37]="rectBubble",h[h.manualInput=38]="manualInput",h[h.flowChartRoundRect=39]="flowChartRoundRect",h[h.flowChartRoundRect2=40]="flowChartRoundRect2",h[h.flowChartDiamond=41]="flowChartDiamond",h[h.flowChartParallelogram=42]="flowChartParallelogram",h[h.flowChartCylinder=43]="flowChartCylinder",h[h.flowChartTrapezoid=44]="flowChartTrapezoid",h[h.flowChartHexagon=45]="flowChartHexagon",h[h.dataFlowRoundRect=46]="dataFlowRoundRect",h[h.dataFlowEllipse=47]="dataFlowEllipse",h[h.dataFlowRoundRect3=36]="dataFlowRoundRect3",h[h.backwardArrow=48]="backwardArrow",h[h.braceReverse=49]="braceReverse",h[h.flowChartMQ=50]="flowChartMQ",h[h.horizCylinder=51]="horizCylinder",h[h.classInterface=52]="classInterface",h[h.classifier=53]="classifier",h[h.circularRing=54]="circularRing",h[h.mindNodeFullRoundRect=55]="mindNodeFullRoundRect",h[h.mindNodeRoundRect=56]="mindNodeRoundRect",h[h.mindNodeText=57]="mindNodeText",h[h.pie=58]="pie",h[h.rightTriangle=59]="rightTriangle",h[h.octagon=60]="octagon",h[h.stateStart=61]="stateStart",h[h.stateEnd=62]="stateEnd",h[h.stateConcurrence=63]="stateConcurrence",h[h.componentShape=64]="componentShape",h[h.componentShape2=65]="componentShape2",h[h.componentInterface=66]="componentInterface",h[h.componentRequiredInterface=67]="componentRequiredInterface",h[h.componentAssembly=68]="componentAssembly",h[h.cube=69]="cube",h[h.boundary=70]="boundary",h[h.control=71]="control",h[h.entity=72]="entity",h[h.dataBase=73]="dataBase",h[h.queue=74]="queue",h[h.collection=75]="collection",h[h.actorLifeLine=76]="actorLifeLine",h[h.objectLifeLine=77]="objectLifeLine",(d=o||(o={}))[d.horizontalLane=16]="horizontalLane",d[d.verticalLane=17]="verticalLane",d[d.normalTable=18]="normalTable",(p=i||(i={}))[p.umlClass=0]="umlClass",p[p.umlInterface=1]="umlInterface",(u=s||(s={}))[u.erEntity=0]="erEntity",u[u.erKeyEntity=1]="erKeyEntity",u[u.erFieldField=2]="erFieldField",u[u.erKeyFieldType=3]="erKeyFieldType",(c=n||(n={}))[c.activation=-1]="activation",c[c.lifelineObject=77]="lifelineObject",(x=l||(l={}))[x.custom=0]="custom",x[x.ratio16x9=1]="ratio16x9",x[x.ratio4x3=2]="ratio4x3",x[x.ratio1x1=3]="ratio1x1",x[x.a4=4]="a4"},138743:function(t,e,r){var a,o;r.d(e,{A:()=>a}),(o=a||(a={}))[o.AUTO_WIDTH=0]="AUTO_WIDTH",o[o.AUTO_HEIGHT=1]="AUTO_HEIGHT",o[o.FIXED=2]="FIXED"},335342:function(t,e,r){var a,o,i,s;r.d(e,{O:()=>o,Z:()=>a}),(i=a||(a={}))[i.TOP_OR_LEFT=0]="TOP_OR_LEFT",i[i.CENTER=1]="CENTER",i[i.BOTTOM_OR_RIGHT=2]="BOTTOM_OR_RIGHT",(s=o||(o={}))[s.ON_LINE=0]="ON_LINE",s[s.ABOVE_LINE=1]="ABOVE_LINE",s[s.BELLOW_LINE=2]="BELLOW_LINE"},331945:function(t,e,r){r.d(e,{C:()=>a});let a=6},971213:function(t,e,r){r.d(e,{q:()=>h});var a=r(889171),o=r(479047),i=r(976780),s=r(755928),n=r(805433),l=r(150630);class h{defaultText="";defaultWidth=100;defaultHeight=100;minWidth=10;minHeight=10;connectAnchors=l.r;beforeFill(t,e){}beforeStroke(t,e,r){}fill(t,e,r){if(this.hasFill(t)){e.save();let a=t.getProp(i.d.Color);e.fillStyle=a.color,e.globalAlpha=a.alpha,this.beforeFill(t,e),r?e.fill(r):e.fill(),e.restore()}}stroke(t,e,r,a){if(this.hasStroke(t)){e.save();let o=t.getProp(i.d.Border);e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.globalAlpha=o.borderAlpha,n.G.setDashes(o.lineDashType,o.borderWidth,e),this.beforeStroke(t,e,a),r?e.stroke(r):e.stroke(),e.restore()}}hasFill(t){let e=t.getProp(i.d.Color);return!!e.color&&"none"!==e.color&&e.alpha>0}hasStroke(t){let e=t.getProp(i.d.Border);return!!e.borderColor&&"none"!==e.borderColor&&e.lineDashType!==s.N.None&&e.borderWidth>0&&e.borderAlpha>0}isDashStroke(t){let{lineDashType:e}=t.getProp(i.d.Border);return e!==s.N.None&&e!==s.N.Solid}getTextBounds(t){let{width:e,height:r}=t.baseProps;return{top:o.w,right:e-o.w,bottom:r-o.w,left:o.w}}buildOutlinePath(t){let{x:e,y:r,width:a,height:o}=t.globalBaseProps,i=new Path2D;return i.roundRect(e,r,a,o,1),i}getOutlineBezierPoints(t){let{x:e,y:r,width:o,height:i}=t.globalBaseProps,s=new a.E(e,r),n=new a.E(e+o,r),l=new a.E(e+o,r+i),h=new a.E(e,r+i);return[[s,s,n,n],[n,n,l,l],[l,l,h,h],[h,h,s,s]]}adjustConnectAnchorPosition(t,e,r){return e}}},921954:function(t,e,r){r.d(e,{B:()=>x,l:()=>c});var a=r(955633),o=r(889171),i=r(530619),s=r(388497),n=r(150630),l=r(976780),h=r(971213),d=r(117866),p=r(805433);let u=t=>"C"===t.key?{x:t.data[4],y:t.data[5],radius:t.radius}:{x:t.data[0],y:t.data[1],radius:t.radius},c=(t,e,r)=>t.map(t=>{let a=[];for(let o=0;o<t.data.length;o+=2){let i=t.data[o]*e,s=t.data[o+1]*r;a.push(i,s)}return{...t,data:a}});class x extends h.q{paths=[];shouldScaleToFitBounds=!0;constructor(t){super(),this.bounds=new i.Y(t.bounds),this.paths=t.paths??this.paths,this.shouldScaleToFitBounds=t.shouldScaleToFitBounds??!0}draw(t,e){(this.hasFill(t)||this.hasStroke(t))&&this.paths.forEach(r=>{this.drawPath(t,r,e)})}drawPath(t,e,r){r.save();let{segments:a,fillDisabled:o,clipStrokeWithFill:i=!0,adjustClipStrokeRadius:s=!0}=e,n=this.hasStroke(t),l=this.buildRawPath(this.getScaledSegments(t,a));n&&i&&s&&(l=this.adjustBorderRadius(t,l));let h=this.buildFillPath(t,l,a);if(this.shouldScaleToFitBounds&&(h=this.scalePathToFitBounds(t,h,l.getTightBounds())),o||this.fill(t,r,h),i)this.stroke(t,r,h,h);else if(n){let e=this.buildStrokePath(t,l,a);this.stroke(t,r,e)}r.restore()}beforeStroke(t,e,r){if(r){e.clip(r);let{borderWidth:a}=t.getProp(l.d.Border);e.lineWidth=2*a}}buildOutlinePath(t){let e=this.getOutlinePolygonPaths();if(!e||0===e.length)return super.buildOutlinePath(t);let r=new Path2D;return e.forEach(({segments:e,adjustClipStrokeRadius:a=!0})=>{let o=this.buildRawPath(this.getScaledSegments(t,e));a&&(o=this.adjustBorderRadius(t,o));let i=this.buildFillPath(t,o,e);this.shouldScaleToFitBounds&&(i=this.scalePathToFitBounds(t,i,o.getTightBounds())),r.addPath(i)}),r}getOutlineBezierPoints(t){let e=this.getOutlinePolygonPaths();if(!e||0===e.length)return super.getOutlineBezierPoints(t);let{x:r,y:a}=t.globalBaseProps,i=[];return e.forEach(e=>{let s=this.getScaledSegments(t,e.segments),n=s[0];s.forEach((t,e)=>{if("M"===t.key||0===e){n=t;return}let l=s[e-1],h=this.getBezierPointsFromSegment("Z"===t.key?n:t,"Z"===l.key?n:l).map(t=>new o.E(t.x+r,t.y+a));i.push(h)})}),i}getOutlinePolygonPaths(){return this.paths.filter(t=>!t.fillDisabled)}getScaledSegments(t,e,r){let{width:a,height:o}=t.globalBaseProps,{borderWidth:i=0}=t.getProp(l.d.Border)||{};if("function"==typeof e)return e({width:a,height:o,borderWidth:i},r);let{width:s,height:n}=this.bounds;return c(e,a/s,o/n)}buildFillPath(t,e,r){let{x:a,y:o}=t.globalBaseProps,i=new Path2D;return i.addPath(e.toPath2D(),new DOMMatrixReadOnly().translate(a,o)),i}buildStrokePath(t,e,r){return this.buildFillPath(t,e,r)}buildRawPath(t){let e=new s.y;return t.forEach((r,a)=>{let[o,i,s]=this.needDrawArc(r,a,t);if(o)return void this.buildArcPath(r,i,s,0===a||"M"===r.key,e);this.buildLineOrCurvePath(r,e)}),e}scalePathToFitBounds(t,e,r){let{width:a,height:o,x:i,y:s}=t.globalBaseProps,{width:n,height:l,x:h,y:d}=r,p=new DOMMatrixReadOnly().translate(-h,-d).translate(i,s).scale(a/n,o/l).translate(-i,-s),u=new Path2D;return u.addPath(e,p),u}adjustBorderRadius(t,e){let{width:r,height:a}=t.globalBaseProps,{borderWidth:o=0}=t.getProp(l.d.Border)||{},i=o/2;return e.clone(t=>{if("arcTo"===t.type){let{params:e}=t,[o,s]=e;return e[4]>0&&(o<=.1||s<=.1||o>=r-.1||s>=a-.1)&&(e[4]+=i),{type:t.type,params:e}}return t})}buildLineOrCurvePath(t,e){switch(t.key){case"M":e.moveTo(t.data[0],t.data[1]);break;case"L":e.lineTo(t.data[0],t.data[1]);break;case"C":{let[r,a,o,i,s,n]=t.data;e.bezierCurveTo(r,a,o,i,s,n);break}case"Z":e.closePath()}}buildArcPath(t,e,r,a,o){let[i,s,n]=[t,e,r].map(u),l=s;s.radius&&(l={x:(s.x+i.x)/2,y:(s.y+i.y)/2});let h=n;n.radius&&(h={x:(n.x+i.x)/2,y:(n.y+i.y)/2}),a&&o.moveTo(l.x,l.y),o.arcTo(i.x,i.y,h.x,h.y,i.radius)}needDrawArc(t,e,r){if(!t.radius)return[!1];let a=r[(e||r.length)-1];("Z"===a.key||a.data[0]===t.data[0]&&a.data[1]===t.data[1])&&(a=r[(e||r.length)-2]);let o=r[(e+1)%r.length];return(("Z"===o.key||o.data[0]===t.data[0]&&o.data[1]===t.data[1])&&(o=r[(e+2)%r.length]),a&&o)?[!0,a,o]:[!1]}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps;return{top:0,right:e,bottom:r,left:0}}adjustConnectAnchorPosition(t,e,r){let{width:i,height:s}=t.globalBaseProps,l=new o.E(e.x*i,e.y*s),h=[n.V.LEFT,n.V.RIGHT].includes(r),u={x:h?0:l.x,y:h?l.y:0},c={x:h?1:l.x,y:h?l.y:1},x=[];if(this.getOutlineBezierPoints(t).forEach(t=>{a.D.getUtils().roots(t,{p1:u,p2:c}).forEach(e=>x.push((0,d.R)(e,t[0],t[1],t[2],t[3])))}),0===x.length)return e;let g=0,y=p.G.distance(x[0],l);for(let t=1;t<x.length;t++){let e=p.G.distance(l,x[t]);e<y&&(y=e,g=t)}return{x:h?x[g].x/i:e.x,y:h?e.y:x[g].y/s}}getBezierPointsFromSegment(t,e){let r=new o.E(e.data[0],e.data[1]);"C"===e.key&&([r.x,r.y]=e.data.slice(-2));let a=new o.E(r.x,r.y),i=new o.E,s=new o.E;return"L"===t.key||"M"===t.key?([s.x,s.y]=t.data,[i.x,i.y]=[s.x,s.y]):"C"===t.key&&([a.x,a.y,i.x,i.y,s.x,s.y]=t.data),[r,a,i,s]}}},91031:function(t,e,r){r.d(e,{v:()=>s});var a=r(921954);let o={top:0,right:120,bottom:80,left:0},i=[{segments:({width:t,height:e},{radius:r}={radius:6})=>[{key:"M",data:[0,0],radius:r},{key:"L",data:[t,0],radius:r},{key:"L",data:[t,e],radius:r},{key:"L",data:[0,e],radius:r},{key:"Z",data:[]}]}];class s extends a.B{defaultText="";defaultWidth=120;defaultHeight=80;minWidth=10;minHeight=10;radius=6;contentBounds={top:6,right:6,bottom:6,left:6};constructor({radius:t,contentBounds:e}={}){super({bounds:o,paths:i}),void 0!==t&&(this.radius=t),e&&(this.contentBounds=e)}getScaledSegments(t,e,r){return super.getScaledSegments(t,e,{...r,radius:this.radius})}getTextBounds(t){let{width:e,height:r}=t.globalBaseProps,{top:a,right:o,bottom:i,left:s}=this.contentBounds;return{top:a,right:e-o,bottom:r-i,left:s}}}},243107:function(t,e,r){r.d(e,{e:()=>V});var a=r(441505),o=r(976780),i=r(873411),s=r(797615),n=r(561347),l=r(596500),h=r(965732),d=r(492663),p=r(146485),u=r(508241),c=r(547310),x=r(805433),g=r(707100),y=r(787858),f=r(320311),P=r(19094),m=r(320564),T=r(570625),b=r(422945),w=r(73428),C=r(644464),M=r(718077),k=r(140512),E=r(979581),L=r(335342),S=r(517917),B=r(889171);class R{static leftRightLayout(t,e,r=!0,a=E.Dh,o=E.go){if(0===e.length||t.mindMapProps.collapsed)return{rect:new w.U(0,0,t.baseProps.width,t.baseProps.height),relativePos:new B.E};e.sort((t,e)=>t.baseProps.y-e.baseProps.y);let i=0,s=0;for(let t of e){let e=t.getLayoutBox();s=s>e.rect.width?s:e.rect.width,i+=e.rect.height}i+=(e.length-1)*o;let n=new w.U(0,0,s+a,i),l=e[0].getLayoutBox().relativePos.y+.5*e[0].baseProps.height,h=e[e.length-1].getLayoutBox().relativePos.y+.5*e[e.length-1].baseProps.height;i-=l+(e[e.length-1].getLayoutBox().rect.height-h);let d=.5*t.baseProps.height,p=d-.5*i-l;for(let i of(n.y=p,r?n.x=-n.width:n.x=t.baseProps.width,e)){let e=i.getLayoutBox();e.rect.y=p,r?e.rect.x=-a-e.rect.width:e.rect.x=a+t.baseProps.width,p+=e.rect.height+o}let u=0,c=[];for(let t of e){let e=t.getLayoutBox();if(c.push(e.rect),Math.abs(e.rect.y+e.relativePos.y+.5*t.baseProps.height-d)<E._w){u=d-(e.rect.y+e.relativePos.y+.5*t.baseProps.height);break}}if(0!==u){for(let t of e){let e=t.getLayoutBox();e.rect.y+=u}n.y+=u}let x=[n];x.push(new w.U(0,0,t.baseProps.width,t.baseProps.height));let g=w.U.getRectBounds(x),y=Math.max(-n.y,0);return{rect:g,relativePos:new B.E(r?n.width:0,y)}}static upDownLayout(t,e,r=!0){if(0===e.length||t.mindMapProps.collapsed)return{rect:new w.U(0,0,t.baseProps.width,t.baseProps.height),relativePos:new B.E};e.sort((t,e)=>t.baseProps.x-e.baseProps.x);let a=0,o=t.mindMapParent?E.go:E.Cz,i=0;for(let t of e){let e=t.getLayoutBox();i=i>e.rect.height?i:e.rect.height,a+=e.rect.width}a+=(e.length-1)*o;let s=new w.U(0,0,a,i+E.Dh),n=e[0].getLayoutBox().relativePos.x+.5*e[0].baseProps.width,l=e[e.length-1].getLayoutBox().relativePos.x+.5*e[e.length-1].baseProps.width;a-=n+(e[e.length-1].getLayoutBox().rect.width-l);let h=.5*t.baseProps.width,d=h-.5*a-n;for(let a of(s.x=d,r?s.y=-s.height:s.y=t.baseProps.height,e)){let e=a.getLayoutBox();e.rect.x=d,r?e.rect.y=-E.Dh-e.rect.height:e.rect.y=E.Dh+t.baseProps.height,d+=e.rect.width+o}let p=0,u=[];for(let t of e){let e=t.getLayoutBox();if(u.push(e.rect),Math.abs(e.rect.x+e.relativePos.x+.5*t.baseProps.width-h)<E._w){p=h-(e.rect.x+e.relativePos.x+.5*t.baseProps.width);break}}if(0!==p){for(let t of e){let e=t.getLayoutBox();e.rect.x+=p}s.x+=p}let c=[s];c.push(new w.U(0,0,t.baseProps.width,t.baseProps.height));let x=w.U.getRectBounds(c),g=Math.max(-s.x,0);return{rect:x,relativePos:new B.E(g,r?s.height:0)}}static getMindMapMargin(t){let e=k.R.getMindMapRoot(t).mindMapProps.layoutEnum;return e===s.gd.TREE_LEFT||e===s.gd.TREE_RIGHT||e===s.gd.TREE_LEFT_RIGHT||e===s.gd.TIMELINE_DOWN||e===s.gd.TIMELINE_RIGHT?E.wD:E.Dh}static leftRightHotBox(t,e,r=!0){let a=t.getLayoutBox().rect,o=t.globalBaseProps;if(0===e.length)return r?new w.U(o.x+o.width+10,a.y-20,100,o.height+40):new w.U(o.x-10-100,a.y-20,100,o.height+40);let i=[];for(let t of e)i.push(w.U.baseProps2Rect(t.globalBaseProps));let s=w.U.getRectBounds(i);return r?new w.U(s.x-50,s.y-20,s.width+50,s.height+40):new w.U(s.x,s.y-20,s.width+10,s.height+40)}static topBottomHotBox(t,e,r=!0){let a=t.getLayoutBox().rect,o=t.globalBaseProps;if(0===e.length)return r?new w.U(o.x-20,a.y+20,o.width+40,o.height):new w.U(o.x-20,a.y-E.Dh-o.height,o.width+40,o.height+20);let i=[];for(let t of e)i.push(w.U.baseProps2Rect(t.globalBaseProps));let s=w.U.getRectBounds(i);return r?new w.U(s.x-20,s.y-50,s.width+40,s.height+50):new w.U(s.x,s.y,s.width,s.height)}}class I{enable(t){return t===s.gd.SUB_RIGHT||t===s.gd.AUTO_LAYOUT}computeBox(t){let e=R.getMindMapMargin(t),r=R.leftRightLayout(t,t.mindMapChildren,!1,e);t.layoutBox=r}computeHotBox(t){t.hotBox=R.leftRightHotBox(t,t.mindMapChildren)}}class v{enable(t){return t===s.gd.SUB_LEFT}computeBox(t){let e=R.getMindMapMargin(t),r=R.leftRightLayout(t,t.mindMapChildren,!0,e);t.layoutBox=r}computeHotBox(t){t.hotBox=R.leftRightHotBox(t,t.mindMapChildren,!1)}}class O{enable(t){return t===s.gd.MINDMAP_LEFT_RIGHT}computeBox(t){let e=t.mindMapChildren;if(0===e.length){t.layoutBox={rect:w.U.baseProps2Rect(t.globalBaseProps),relativePos:new B.E};return}let r=[],a=[];e.forEach(e=>{e.baseProps.x>t.baseProps.x?r.push(e):a.push(e)}),r.length>0&&(t.layoutBox=R.leftRightLayout(t,r,!1,E.Dh,E.Cz)),a.length>0&&(t.layoutBox=R.leftRightLayout(t,a,!0,E.Dh,E.Cz))}computeHotBox(t){let e=t.mindMapChildren;if(0===e.length){let e=t.globalBaseProps,r=e.width+100,a=e.x+.5*e.width;t.hotBox=new w.U(a-.5*r,e.y-50,r,e.height+100);return}let r=[],a=[];e.forEach(e=>{e.baseProps.x>t.baseProps.x?r.push(e):a.push(e)}),r.length>0&&(t.hotBox=R.leftRightHotBox(t,r)),a.length>0&&(t.hotBox=R.leftRightHotBox(t,r,!1))}}class A{enable(t){return t===s.gd.SUB_UP}computeBox(t){let e=R.upDownLayout(t,t.mindMapChildren);t.layoutBox=e}computeHotBox(t){t.hotBox=R.topBottomHotBox(t,t.mindMapChildren,!1)}}class D{enable(t){return t===s.gd.SUB_DOWN}computeBox(t){let e=R.upDownLayout(t,t.mindMapChildren,!1);t.layoutBox=e}computeHotBox(t){t.hotBox=R.topBottomHotBox(t,t.mindMapChildren,!0)}}class N{enable(t){return t===s.gd.MINDMAP_UP_DOWN}computeBox(t){let e=w.U.baseProps2Rect(t.baseProps),r=t.mindMapChildren;if(0===r.length){t.layoutBox={rect:e,relativePos:new B.E(0)};return}let a=[],o=[];r.forEach(e=>{e.baseProps.y>t.baseProps.y?o.push(e):a.push(e)}),a.length>0&&(t.layoutBox=R.upDownLayout(t,a)),o.length>0&&(t.layoutBox=R.upDownLayout(t,o,!1))}computeHotBox(t){let e=t.mindMapChildren;if(0===e.length){let e=t.globalBaseProps,r=e.width+40,a=e.x+.5*e.width;t.hotBox=new w.U(a-.5*r,e.y-20,r,e.height+40);return}let r=[],a=[];e.forEach(e=>{e.baseProps.y>t.baseProps.y?r.push(e):a.push(e)});let o=[t.globalBaseProps];r.length>0&&o.push(R.topBottomHotBox(t,r)),a.length>0&&o.push(R.topBottomHotBox(t,a,!1)),t.hotBox=w.U.getRectBounds(o)}}class _{computeBox(t){let e=t.mindMapChildren;if(0===e.length||t.mindMapProps.collapsed){t.layoutBox={rect:new w.U(0,0,t.baseProps.width,t.baseProps.height),relativePos:new B.E};return}let r=[new w.U(0,0,t.baseProps.width,t.baseProps.height)];this.compute(e,t,r);let a=w.U.getRectBounds(r),o=new B.E(-a.x,-a.y);t.layoutBox={rect:a,relativePos:o}}}class W extends _{enable(t){return t===s.gd.TREE_RIGHT}compute(t,e,r){t.sort((t,e)=>t.baseProps.y-e.baseProps.y);let a=e.mindMapParent?E.Cz:E.wD,o=e.mindMapParent?E.go:E.Cz,i=e.mindMapParent?E.UJ:E.wD,s=e.baseProps.height+a;for(let a of t){let t=a.getLayoutBox();t.rect.x=i+.5*e.baseProps.width,t.rect.y=s,s=t.rect.y+t.rect.height+o,t.rect.y,t.rect.height,r.push(t.rect)}}computeHotBox(t){let e=t.globalBaseProps,r=t.mindMapChildren;if(0===r.length){let r=.5*e.width+100,a=e.x+.5*e.width;t.hotBox=new w.U(a,e.y,r,e.height+100);return}let a=[];for(let t of r)a.push(w.U.baseProps2Rect(t.globalBaseProps));let o=w.U.getRectBounds(a);t.hotBox=new w.U(o.x,o.y,o.width,o.height)}}class H extends _{enable(t){return t===s.gd.TREE_LEFT}compute(t,e,r){t.sort((t,e)=>t.baseProps.y-e.baseProps.y);let a=e.baseProps.height+E.wD,o=E.Cz;for(let i of t){let t=i.getLayoutBox();t.rect.x=.5*e.baseProps.width-E.wD-t.rect.width,t.rect.y=a,a=t.rect.y+t.rect.height+o,r.push(t.rect)}}computeHotBox(t){let e=t.globalBaseProps,r=t.mindMapChildren;if(0===r.length){let r=.5*e.width+100,a=e.x+.5*e.width;t.hotBox=new w.U(a-r,e.y,r,e.height+100);return}let a=[];for(let t of r)a.push(w.U.baseProps2Rect(t.globalBaseProps));let o=w.U.getRectBounds(a);t.hotBox=new w.U(o.x,o.y,o.width,o.height)}}class F extends _{enable(t){return t===s.gd.TREE_LEFT_RIGHT}compute(t,e,r){t.sort((t,e)=>t.baseProps.y-e.baseProps.y);let a=!0,o=(t,r)=>{r?t.rect.x=.5*e.baseProps.width-E.wD-t.rect.width:t.rect.x=E.wD+.5*e.baseProps.width};for(let i=0;i<t.length;i++){let s=t[i],n=s.getLayoutBox(),l=0;if(0===i)l=n.rect.height>s.baseProps.height?e.baseProps.height+E.Cz:e.baseProps.height+E.wD;else{let r=t[i-1],a=r.getLayoutBox(),o=a.rect.y+a.relativePos.y+r.baseProps.height+E.Cz-n.relativePos.y;if(i>1){let e=t[i-2].getLayoutBox();l=Math.max(o,e.rect.y+e.rect.height+E.Cz)}else l=1===i?Math.max(o,e.baseProps.height+E.Cz):o}n.rect.y=l,o(n,a),a=!a,r.push(n.rect)}}computeHotBox(t){let e=t.globalBaseProps,r=t.mindMapChildren;if(0===r.length){let r=e.width+100,a=e.x+.5*e.width;t.hotBox=new w.U(a-.5*r,e.y,r,e.height+100);return}let a=[];for(let t of r)a.push(w.U.baseProps2Rect(t.globalBaseProps));let o=w.U.getRectBounds(a);t.hotBox=new w.U(o.x,o.y,o.width,o.height)}}class G extends _{enable(t){return t===s.gd.TIMELINE_DOWN}compute(t,e,r){t.sort((t,e)=>t.baseProps.y-e.baseProps.y);let a=!0,o=(t,r,a)=>{a?t.rect.x=.5*e.baseProps.width+.5*r.baseProps.width-t.rect.width:t.rect.x=.5*e.baseProps.width-.5*r.baseProps.width};for(let i=0;i<t.length;i++){let s=t[i],n=s.getLayoutBox(),l=0;if(0===i)l=Math.max(e.baseProps.height+E.$H-n.relativePos.y,e.baseProps.height+E.Cz);else{let e=t[i-1],r=e.getLayoutBox();l=Math.max(r.rect.y+r.relativePos.y+e.baseProps.height+E.$H-n.relativePos.y,r.rect.y+r.rect.height+E.Cz)}n.rect.y=l,o(n,s,a),a=!a,r.push(n.rect)}}computeHotBox(t){let e=t.globalBaseProps,r=t.mindMapChildren;if(0===r.length){let r=.5*e.width+100,a=e.x+.5*e.width;t.hotBox=new w.U(a-.5*r,e.y,r,e.height+100);return}let a=[];for(let t of r)a.push(w.U.baseProps2Rect(t.globalBaseProps));let o=w.U.getRectBounds(a);t.hotBox=new w.U(o.x,o.y,o.width,o.height+100)}}class Y extends _{enable(t){return t===s.gd.TIMELINE_RIGHT}compute(t,e,r){t.sort((t,e)=>t.baseProps.x-e.baseProps.x);let a=!0,o=(t,r,a)=>{a?t.rect.y=.5*e.baseProps.height+.5*r.baseProps.height-t.rect.height:t.rect.y=.5*e.baseProps.height-.5*r.baseProps.height};e.baseProps.width,E.$H;for(let i=0;i<t.length;i++){let s=t[i],n=s.getLayoutBox(),l=0;if(0===i)l=e.baseProps.width+E.$H;else if(i>1){let e=t[i-1],r=e.getLayoutBox(),a=t[i-2].getLayoutBox();l=Math.max(a.rect.x+a.rect.width+E.Cz,r.rect.x+r.relativePos.x+e.baseProps.width+E.$H)}else{let e=t[i-1],r=e.getLayoutBox();l=r.rect.x+r.relativePos.x+e.baseProps.width+E.$H}n.rect.x=l,o(n,s,a),l+=s.baseProps.width+E.$H,a=!a,r.push(n.rect)}}computeHotBox(t){let e=t.globalBaseProps,r=t.mindMapChildren;if(0===r.length){t.hotBox=new w.U(e.x+e.width,e.y-50,100,e.height+100);return}let a=[];for(let t of r)a.push(w.U.baseProps2Rect(t.globalBaseProps));let o=w.U.getRectBounds(a);t.hotBox=new w.U(o.x,o.y,o.width+100,o.height)}}class U{enable(t){return t===s.gd.SUB_TOP_RIGHT}computeBox(t){let e=t.mindMapChildren;if(0===e.length||t.mindMapProps.collapsed){t.layoutBox={rect:new w.U(0,0,t.baseProps.width,t.baseProps.height),relativePos:new B.E};return}e.sort((t,e)=>e.baseProps.y-t.baseProps.y);let r=-E.Cz,a=t.mindMapParent?E.go:E.Cz,o=t.mindMapParent?E.UJ:E.wD,i=[new w.U(0,0,t.baseProps.width,t.baseProps.height)];for(let s of e){let e=s.getLayoutBox();e.rect.x=o+.5*t.baseProps.width,e.rect.y=r-e.rect.height,r=e.rect.y-a,e.rect.y,e.rect.height,i.push(e.rect)}let s=w.U.getRectBounds(i),n=new B.E;n.y=Math.max(s.height-t.baseProps.height,0),t.layoutBox={rect:s,relativePos:n}}computeHotBox(t){t.hotBox=R.leftRightHotBox(t,t.mindMapChildren)}}var X=r(915602),z=r(329568),Z=r(943451);class V extends a.L{type=s.Jq.MindMapNode;mindMapRoot=null;mindMapParent=null;mindMapChildren=[];mindMapZindex=0;hideInDrag=!1;transparentInDrag=!1;static rightLeftWorker=new f.h;static leftRightWorker=new g.e;static topBottomWorker=new y.v;static bottomTopWorker=new P.T;static bottomLeftWorker=new m.U;static bottomRightWorker=new T.z;static topLeftLayoutWorker=new b.b;static boxWorker=[new I,new v,new O,new A,new D,new N,new W,new H,new U,new F,new G,new Y];layoutBox=null;hotBox=null;get mindMapProps(){return this.getProp(o.d.MindMap)}get textProps(){return this.getProp(o.d.Text)}constructor(t,e,r){super(t,e,r),this.propMap.set(o.d.Base,new i.s),this.propMap.set(o.d.Text,new n.l),this.propMap.set(o.d.Color,new l.b),this.propMap.set(o.d.Border,new h.L),this.propMap.set(o.d.MindMap,new d.v),this.propMap.set(o.d.Theme,new u.F),this.propMap.set(o.d.ResourcePosition,new C.K),this.propMap.set(o.d.Opacity,new X.j),this.graphicText=new z.v,this.renderMindmapLine=new p.n,this.renderCollapse=new M.W}isAsync(){return this.graphicText.isAsync()}isCached(){return this.graphicText.isCached()}refreshCache(){return this.graphicText.refreshCache()}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===o.d.Text);this.updateGraphicText(!!e)}updateGraphicText(t=!0){let e=new i.s,{x:r,y:a,width:o,height:s}=this.globalBaseProps;e.update({x:r,y:a,width:o,height:s});let n=[e];if(t){let{textProps:t}=this;t.verticalAlign=L.Z.CENTER,n.push(t)}let l=this.getTextContentBounds();if(this.graphicText.update(this.graphicContext,n,{contentBounds:l,maxWidth:S.O8}),!this.graphicText.hasText()){this.graphicPlaceholder||=new z.v;let r=[e];if(t){let t=this.textProps.clone();t.text=this.options?.placeholder??"",r.push(t)}this.graphicPlaceholder.update(this.graphicContext,r,{contentBounds:l,maxWidth:S.O8})}}updateTextPosition(t,e){this.graphicText.baseProps.update({x:t,y:e}),this.graphicPlaceholder&&this.graphicPlaceholder.baseProps.update({x:t,y:e}),this.updateGraphicText()}getGraphicTexts(){return[{type:Z.P.Main,graphicText:this.graphicText}]}updateLayoutType(){if(!this.mindMapParent)return;let t=this.mindMapParent,e=t.getProp(o.d.MindMap),r=this.globalBaseProps,a=t.globalBaseProps,i=e.layoutEnum;this.getProp(o.d.MindMap).layoutEnum=this.calculateLayoutType(i,a,r,this.mindMapZindex)}afterNodeInit(t){this.mindMapParent&&this.afterUpdateProps()}afterUpdateProps(){if(!this.mindMapParent)return void this.renderMindmapLine.clear();let t=this.getProp(o.d.MindMap);this.updateLayoutType();let e=this.mindMapParent,r=e.getProp(o.d.MindMap),a=this.globalBaseProps,i=e.globalBaseProps;(r.layoutEnum===s.gd.TIMELINE_DOWN||r.layoutEnum===s.gd.TIMELINE_RIGHT)&&this.mindMapZindex>0&&(i=e.mindMapChildren[this.mindMapZindex-1].globalBaseProps);let n=k.R.getStartEndPoint(a,i,r.layoutEnum);this.renderMindmapLine.update(n,r.layoutEnum,this.mindMapRoot.mindMapProps.lineStyle);let l=this.getProp(o.d.Border),h=e.getProp(o.d.Border);if(t.autoStyleBitmap&c.W.BORDER_COLOR||(l.borderColor=h.borderColor),t.autoStyleBitmap&c.W.BORDER_STYLE||(l.lineDashType=h.lineDashType),t.autoStyleBitmap&c.W.BORDER_WIDTH||(l.borderWidth=h.borderWidth),t.autoStyleBitmap&c.W.BORDER_OPACITY||(l.borderAlpha*=h.borderAlpha),this.needRender()&&this.mindMapProps.collapsed){let{globalBaseProps:e}=this,r=x.G.getTotalChildNodeCount(this);this.renderCollapse.update(this.graphicContext,r.toString(),e,this.mindMapProps.layoutEnum,l.borderColor,t.collapseFillColor)}}updateByRoot(){if(!this.mindMapParent)return void this.renderMindmapLine.clear()}needRender(){return!this.hideInDrag&&(!this.mindMapParent||this.mindMapParent.needRender()&&!this.mindMapParent.mindMapProps.collapsed)}drawOnGLCtx(t){if(!this.needRender())return;let e=this.getNodeAlpha();t.save(),t.beginPath(),this.drawNodeOnGLCtx(t),this.drawLineOnGLCtx(t),this.mindMapProps.collapsed&&this.renderCollapse.drawOnGLCtx(t),this.graphicText.hasText()?(this.graphicText.renderText.defaultGlobalAlpha=e,this.graphicText.drawOnGLCtx(t),this.graphicPlaceholder=null):this.graphicPlaceholder&&(this.graphicPlaceholder.renderText.defaultGlobalAlpha=.4,this.graphicPlaceholder.drawOnGLCtx(t)),t.restore()}canRotate(){return!1}modifyBaseProps(){if(this.children.length>0){let{width:t,height:e}=this.baseProps;return{width:t,height:e}}let t=k.R.getMindMapNodeLeftRightPadding(this),e=k.R.getMindMapNodeTopBottomPadding(this),r=new w.U(0,0,0,0);return this.graphicText.hasText()?r=this.graphicText.getContentRect(!0):this.graphicPlaceholder&&(r=this.graphicPlaceholder.getContentRect()),{width:r.width+2*t,height:r.height+2*e}}getTextContentBounds(){let{width:t,height:e}=this.globalBaseProps,r=k.R.getMindMapNodeLeftRightPadding(this),a={top:0,right:t-r,bottom:e,left:r};if(this.children.length>0){let t=this.children[0],e=t.baseProps;switch(k.R.recalculatePosition(this,t)){case s.jd.RESOURCE_LEFT:a.left+=e.width+E.me;break;case s.jd.RESOURCE_RIGHT:a.right-=e.width+E.me;break;case s.jd.RESOURCE_TOP:a.top+=e.y+e.height,this.mindMapProps.parentId||(a.top-=E.wM);break;case s.jd.RESOURCE_BOTTOM:default:a.bottom-=e.height}}return a}getBounds(){return super.getRectNode()}getRectNode(){let t=super.getRectNode();if(!this.renderMindmapLine.needRender())return t;let e=this.renderMindmapLine.getRectNode();return x.G.getBounds([t,e],this.id)}clearLayoutBox(){this.layoutBox=null}clearHotBox(){this.hotBox=null}getLayoutBox(){return this.layoutBox||this.computeLayoutBox(),this.layoutBox}computeLayoutBox(){for(let t of V.boxWorker)t.enable(this.mindMapProps.layoutEnum)&&t.computeBox(this)}refreshBox(){if(this.layoutBox)return this.layoutBox;let t=[];for(let e of(t.push(w.U.baseProps2Rect(this.globalBaseProps)),this.mindMapChildren))t.push(e.refreshBox().rect);return this.layoutBox={rect:w.U.getRectBounds(t),relativePos:new B.E(0,0)},this.layoutBox}getHotBox(){return this.hotBox||this.computeHotBox(),this.hotBox}computeHotBox(){for(let t of V.boxWorker)t.enable(this.mindMapProps.layoutEnum)&&t.computeHotBox(this)}calculateLayoutType(t,e,r,a){switch(t){case s.gd.MINDMAP_UP_DOWN:if(x.G.centerPoint(e).y<x.G.centerPoint(r).y)return s.gd.SUB_DOWN;return s.gd.SUB_UP;case s.gd.MINDMAP_LEFT_RIGHT:if(x.G.centerPoint(e).x<x.G.centerPoint(r).x)return s.gd.SUB_RIGHT;return s.gd.SUB_LEFT;case s.gd.TREE_RIGHT:case s.gd.SUB_TOP_RIGHT:return s.gd.SUB_RIGHT;case s.gd.TREE_LEFT:return s.gd.SUB_LEFT;case s.gd.TREE_LEFT_RIGHT:case s.gd.TIMELINE_DOWN:if(a%2==0)return s.gd.SUB_LEFT;return s.gd.SUB_RIGHT;case s.gd.TIMELINE_RIGHT:if(a%2==0)return s.gd.SUB_TOP_RIGHT;return s.gd.TREE_RIGHT;default:return t}}getNodeAlpha(){return this.transparentInDrag?.5:1}drawNodeOnGLCtx(t){let e=this.globalBaseProps,r=this.getProp(o.d.Color),a=this.getProp(o.d.Border),i=this.getProp(o.d.MindMap),{borderWidth:s}=a,n=s;i.shapeType===d.R.MIND_NOTE_ROUND_RECT?n=6:i.shapeType===d.R.MIND_NOTE_FULL_ROUND_RECT&&(n=e.width<e.height?.5*e.width:.5*e.height);let l=this.getNodeAlpha();t.save(),t.beginPath(),t.roundRect(e.x,e.y,e.width,e.height,n),t.clip(),i.shapeType!==d.R.MIND_NOTE_TEXT&&""!==r.color&&(t.globalAlpha=r.alpha*l,t.fillStyle=r.color,t.fill()),(i.shapeType===d.R.MIND_NOTE_FULL_ROUND_RECT||i.shapeType===d.R.MIND_NOTE_ROUND_RECT)&&(t.beginPath(),t.roundRect(e.x,e.y,e.width,e.height,n),t.globalAlpha=a.borderAlpha*l,t.strokeStyle=a.borderColor,t.lineWidth=2*a.borderWidth,x.G.setDashes(a.lineDashType,a.borderWidth,t),t.stroke()),t.restore()}getMindMapPath(){let t=[],e=this.mindMapParent;for(;e;)t.unshift(e.id),e=e.mindMapParent;return t}drawLineOnGLCtx(t){let e=this.getProp(o.d.Border),r=this.getNodeAlpha();t.save(),t.globalAlpha=e.borderAlpha*r,t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,x.G.setDashes(e.lineDashType,e.borderWidth,t),this.renderMindmapLine.drawOnGLCtx(t),t.restore()}}},547310:function(t,e,r){var a,o;r.d(e,{W:()=>a}),(o=a||(a={}))[o.BORDER_OPACITY=1]="BORDER_OPACITY",o[o.BORDER_STYLE=2]="BORDER_STYLE",o[o.BORDER_WIDTH=4]="BORDER_WIDTH",o[o.BORDER_COLOR=8]="BORDER_COLOR",o[o.SHAPE=16]="SHAPE",o[o.FILL=32]="FILL",o[o.VIEW_MASK=63]="VIEW_MASK"},718077:function(t,e,r){r.d(e,{A:()=>o,W:()=>h});var a,o,i=r(889171),s=r(805433),n=r(140512),l=r(339874);(a=o||(o={})).TOP="TOP",a.LEFT="LEFT",a.BOTTOM="BOTTOM",a.RIGHT="RIGHT";class h{fillColor="#ffffff";borderColor="#000000";collapseNum="1";pos=new i.E;width=0;lineStart=new i.E;lineEnd=new i.E;update(t,e,r,a,h,d){let p=l.D7,u=l.rx,c=l.Gf,x=l.Bz;this.collapseNum=e,this.borderColor=h,this.fillColor=d,t.font="500 12px 'Noto Sans SC'";let g=t.measureText(e).width+p;switch(this.width=g<2*p?2*p:g,n.R.convertToCollapseSideEnum(a)){case o.LEFT:{let t=s.G.leftPoint(r);this.pos=new i.E(t.x-(u+c+this.width),t.y-p),this.lineStart=new i.E(t.x-(u+x),t.y),this.lineEnd=new i.E(t.x-(u+c-x),t.y);break}case o.BOTTOM:{let t=s.G.bottomPoint(r);this.pos=new i.E(t.x-.5*this.width,t.y+(u+c)),this.lineStart=new i.E(t.x,t.y+(u+x)),this.lineEnd=new i.E(t.x,t.y+(u+c-x));break}case o.TOP:{let t=s.G.topPoint(r);this.pos=new i.E(t.x-.5*this.width,t.y-(u+c+2*p)),this.lineStart=new i.E(t.x,t.y-(u+x)),this.lineEnd=new i.E(t.x,t.y-(u+c-x));break}case o.RIGHT:default:{let t=s.G.rightPoint(r);this.pos=new i.E(t.x+u+c,t.y-p),this.lineStart=new i.E(t.x+(u+x),t.y),this.lineEnd=new i.E(t.x+(u+c-x),t.y)}}}drawOnGLCtx(t){let e=l.D7,r=l.BO,a=l.Bz,{pos:o,width:i,collapseNum:s,lineStart:n,lineEnd:h}=this;t.save(),t.beginPath(),t.lineCap="round",t.lineJoin="round",t.lineWidth=r,t.strokeStyle=this.borderColor,t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke(),t.beginPath(),t.lineWidth=r,t.roundRect(o.x,o.y,i,2*e,e),t.stroke(),t.beginPath(),t.roundRect(o.x+a,o.y+a,i-2*a,2*e-2*a,e-a),t.fillStyle=this.fillColor,t.fill(),t.fillStyle=this.borderColor,t.font="500 12px 'Noto Sans SC'",t.textAlign="center",t.textBaseline="middle",t.fillText(s,o.x+.5*i,o.y+e),t.restore()}}},146485:function(t,e,r){r.d(e,{n:()=>h});var a=r(808687),o=r(805433),i=r(797615);class s{type=i.Zl.RIGHT_ANGLE;drawOnGLCtx(t,e,r){t.save(),t.beginPath(),t.lineJoin="round",t.moveTo(e[0].x,e[0].y);for(let r=1;r<e.length;r++){let a=e[r];t.lineTo(a.x,a.y)}t.stroke(),t.restore()}}class n{type=i.Zl.ROUND_ANGLE;drawOnGLCtx(t,e,r){let a=e[0],o=e[e.length-1];for(let{p1:e,arcDraw:o}of(t.save(),t.beginPath(),t.lineJoin="round",t.moveTo(a.x,a.y),r))t.lineTo(e.x,e.y),o.r>.001&&t.arcTo(o.a.x,o.a.y,o.b.x,o.b.y,o.r);t.lineTo(o.x,o.y),t.stroke(),t.restore()}}class l{type=i.Zl.CURVE_LINE_STYLE;drawOnGLCtx(t,e){if(t.save(),t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineJoin="round",2===e.length){t.lineTo(e[1].x,e[1].y),t.stroke(),t.restore();return}for(let r=1;r<e.length-2;r+=3){let a=e[r],o=e[r+1],i=e[r+2];t.bezierCurveTo(a.x,a.y,o.x,o.y,i.x,i.y)}t.stroke(),t.restore()}}class h{points=[];arcPoints=[];lineStyle=i.Zl.ROUND_ANGLE;static drawerMap=new Map([[i.Zl.RIGHT_ANGLE,new s],[i.Zl.ROUND_ANGLE,new n],[i.Zl.CURVE_LINE_STYLE,new l],[i.Zl.AUTO_LINE_STYLE,new n]]);update(t,e,r){this.lineStyle=r,this.points=t;let o=this.points[0],s=this.points[this.points.length-1];switch(e){case i.gd.MINDMAP_UP_DOWN:case i.gd.MINDMAP_LEFT_RIGHT:case i.gd.SUB_LEFT:case i.gd.SUB_RIGHT:case i.gd.SUB_UP:case i.gd.SUB_DOWN:(this.lineStyle===i.Zl.ROUND_ANGLE||this.lineStyle===i.Zl.AUTO_LINE_STYLE)&&(this.arcPoints=a.D.getArcPolyPoints(this.points,o,s,8,!0));break;case i.gd.TREE_LEFT_RIGHT:case i.gd.TREE_LEFT:case i.gd.TREE_RIGHT:default:(this.lineStyle===i.Zl.ROUND_ANGLE||this.lineStyle===i.Zl.AUTO_LINE_STYLE)&&(this.arcPoints=a.D.getArcPolyPoints(this.points,o,s,8))}}drawOnGLCtx(t){if(0===this.points.length)return;let e=h.drawerMap.get(this.lineStyle);e?.drawOnGLCtx(t,this.points,this.arcPoints)}clear(){this.points=[]}needRender(){return this.points.length>0}getRectNode(){let t=[...this.points],e=o.G.getBoundsByPoints(t);return e.minX=e.minX-0,e.minY=e.minY-0,e.maxX=e.maxX+0,e.maxY=e.maxY+0,e.id="render-mindmap-line",e}}},979581:function(t,e,r){r.d(e,{$H:()=>P,Cz:()=>c,Dh:()=>g,No:()=>a,Pb:()=>p,UJ:()=>f,_w:()=>u,en:()=>s,go:()=>x,lp:()=>i,me:()=>l,rM:()=>d,wD:()=>y,wM:()=>h,xT:()=>o,xw:()=>n});let a=20,o=8,i=12,s=8,n=4,l=3,h=8,d="#ffffff",p="#292929",u=12,c=24,x=8,g=60,y=40,f=20,P=80},755075:function(t,e,r){r.d(e,{S:()=>h});var a=r(976780),o=r(624362),i=r(931425),s=r(329568),n=r(561347),l=r(943451);class h extends i.F{constructor(t,e){super(t,e),this.propMap.set(a.d.ExtraText,new o.y),this.extraText=new s.v}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===a.d.ExtraText);this.updateExtraText(!!e)}updateExtraText(t=!0){let e=[this.getExtraTextBaseProps()];if(t){let t=new n.l;t.update(this.getProp(a.d.ExtraText)),e.push(t)}this.extraText.update(this.graphicContext,e,{contentBounds:this.getExtraTextContentBounds()})}drawGraphicText(t){super.drawGraphicText(t),this.drawExtraText(t)}drawExtraText(t){this.extraText.needRender()&&this.extraText.drawOnGLCtx(t,!0)}getGraphicTexts(){let t=[{type:l.P.Main,graphicText:this.graphicText},{type:l.P.Extra,graphicText:this.extraText}];return this.extraSubText&&t.push({type:l.P.SubExtra,graphicText:this.extraSubText}),t}}},754264:function(t,e,r){r.d(e,{a:()=>a});class a{}},873411:function(t,e,r){r.d(e,{s:()=>s});var a=r(754264),o=r(976780),i=r(73428);class s extends a.a{type=o.d.Base;constructor(){super(),this.x=0,this.y=0,this.height=100,this.width=100,this.angle=0,this.isUniform=!1}getRect(){return new i.U(this.x,this.y,this.width,this.height)}update(t){let{x:e,y:r,width:a,height:o,angle:i,isUniform:s}=t;void 0!==e&&(this.x=e),void 0!==r&&(this.y=r),void 0!==a&&(this.width=a),void 0!==o&&(this.height=o),void 0!==i&&(this.angle=i),void 0!==s&&(this.isUniform=s)}clone(){let t=new s;return t.x=this.x,t.y=this.y,t.height=this.height,t.width=this.width,t.angle=this.angle,t.isUniform=this.isUniform,t}}},965732:function(t,e,r){r.d(e,{L:()=>s});var a=r(755928),o=r(754264),i=r(976780);class s extends o.a{type=i.d.Border;constructor(){super(),this.borderAlpha=1,this.borderWidth=1,this.borderColor="none",this.lineDashType=a.N.Solid}update(t){let{borderAlpha:e,borderWidth:r,borderColor:a,lineDashType:o}=t;void 0!==e&&(this.borderAlpha=e),void 0!==r&&(this.borderWidth=r),void 0!==a&&(this.borderColor=a),void 0!==o&&(this.lineDashType=o)}clone(){let t=new s;return t.borderColor=this.borderColor,t.borderWidth=this.borderWidth,t.borderAlpha=this.borderAlpha,t}}},596500:function(t,e,r){r.d(e,{b:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Color;constructor(){super(),this.color="#ffffff",this.alpha=1}update(t){let{color:e,alpha:r}=t;void 0!==e&&(this.color=e),void 0!==r&&(this.alpha=r)}clone(){let t=new i;return t.color=this.color,t.alpha=this.alpha,t}}},566103:function(t,e,r){r.d(e,{v:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Corner;constructor(){super(),this.a=0,this.b=0,this.c=0,this.d=0}update(t){let{a:e,b:r,c:a,d:o}=t;void 0!==e&&(this.a=e),void 0!==r&&(this.b=r),void 0!==a&&(this.c=a),void 0!==o&&(this.d=o)}clone(){let t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t}}},128003:function(t,e,r){r.d(e,{w:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Flip;vFlip=!1;hFlip=!1;update(t){void 0!==t.vFlip&&(this.vFlip=t.vFlip),void 0!==t.hFlip&&(this.hFlip=t.hFlip)}clone(){let t=new i;return t.vFlip=this.vFlip,t.hFlip=this.hFlip,t}}},742849:function(t,e,r){r.d(e,{H:()=>s});var a=r(754264),o=r(976780),i=r(797615);class s extends a.a{type=o.d.IconSource;key="25";resourceType=i._g.PublicIconPark;update(t){void 0!==t.key&&(this.key=t.key),void 0!==t.resourceType&&(this.resourceType=t.resourceType)}clone(){let t=new s;return t.key=this.key,t.resourceType=this.resourceType,t}}},829067:function(t,e,r){r.d(e,{U:()=>s});var a=r(797615),o=r(754264),i=r(976780);class s extends o.a{type=i.d.ImgCrop;cropType=a.vB.CROP_CUSTOM;widthScale=1;heightScale=1;xScale=0;yScale=0;update(t){void 0!==t.cropType&&(this.cropType=t.cropType),void 0!==t.widthScale&&(this.widthScale=t.widthScale),void 0!==t.heightScale&&(this.heightScale=t.heightScale),void 0!==t.xScale&&(this.xScale=t.xScale),void 0!==t.yScale&&(this.yScale=t.yScale)}clone(){let t=new s;return t.cropType=this.cropType,t.widthScale=this.widthScale,t.heightScale=this.heightScale,t.xScale=this.xScale,t.yScale=this.yScale,t}}},916207:function(t,e,r){r.d(e,{x:()=>s});var a=r(797615),o=r(754264),i=r(976780);class s extends o.a{type=i.d.Img;isTempSrc=!1;constructor(t,e=a._u.FILL){super(),this.url=t,this.fillStyle=e}update(t){let{url:e,fillStyle:r}=t;void 0!==e&&(this.url=e),void 0!==r&&(this.fillStyle=r),this.isTempSrc=this.isBlobUrl(this.url)}clone(){return new s(this.url,this.fillStyle)}isBlobUrl(t){return"string"==typeof t&&t.startsWith("blob:")}}},624905:function(t,e,r){r.d(e,{I:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Lifeline;constructor(){super(),this.lifelineLength=360}update(t){t.lifelineLength&&(this.lifelineLength=t.lifelineLength)}clone(){let t=new i;return t.lifelineLength=this.lifelineLength,t}}},268283:function(t,e,r){r.d(e,{j:()=>n});var a=r(797615),o=r(754264),i=r(976780);let s=t=>({...t,position:t.position?{...t.position}:void 0});class n extends o.a{type=i.d.LineAttach;constructor(t,e){super(),this.start=t??{snapTo:a.Tq.SNAPTO_AUTO,attachType:a.J3.ATTACH_NONE},this.end=e??{snapTo:a.Tq.SNAPTO_AUTO,attachType:a.J3.ATTACH_NONE}}update(t){void 0!==t.start&&(this.start=t.start),void 0!==t.end&&(this.end=t.end)}clone(){return new n(s(this.start),s(this.end))}}},71039:function(t,e,r){r.d(e,{m:()=>s});var a=r(793720),o=r(965732),i=r(976780);class s extends o.L{type=i.d.LineBorder;lArrow=a.Y.None;rArrow=a.Y.LINE_ARROW;update(t){super.update(t);let{lArrow:e,rArrow:r}=t;void 0!==e&&(this.lArrow=e),void 0!==r&&(this.rArrow=r)}clone(){let t=new s;return t.update({...super.clone(),lArrow:this.lArrow,rArrow:this.rArrow}),t}}},891763:function(t,e,r){r.d(e,{A:()=>l,l:()=>h});var a=r(138743),o=r(335342),i=r(754264),s=r(976780),n=r(561347);class l{autoDirection=!1;positionType=o.O.ON_LINE;textBoxWidth=-1;t=-1;textProps=new n.l;constructor(t){this.textProps.sizeMode=a.A.AUTO_HEIGHT,t&&this.update(t)}update(t){void 0!==t.autoDirection&&(this.autoDirection=t.autoDirection),void 0!==t.positionType&&(this.positionType=t.positionType),void 0!==t.textBoxWidth&&(this.textBoxWidth=t.textBoxWidth,t.textBoxWidth<=0&&(this.textProps.sizeMode=a.A.AUTO_WIDTH)),void 0!==t.t&&(this.t=t.t),void 0!==t.position&&(this.position=t.position),void 0!==t.textProps&&this.textProps.update(t.textProps)}clone(){let t=new l;return t.autoDirection=this.autoDirection,t.positionType=this.positionType,t.textBoxWidth=this.textBoxWidth,t.t=this.t,t.position=this.position,t.textProps=this.textProps.clone(),t}}class h extends i.a{type=s.d.LineCaptions;captions=[];update(t){void 0!==t.captions&&(this.captions=t.captions.map((t,e)=>{let r=this.captions[e]??new l;return r.update(t),r}))}clone(){let t=new h;return t.captions=this.captions.map(t=>t.clone()),t}}},873225:function(t,e,r){r.d(e,{o:()=>s});var a=r(937093),o=r(754264),i=r(976780);class s extends o.a{type=i.d.Line;lineType=a.SP.SimpleLine;crossLine=!1;isPointsEdited=!1;padding={left:0,right:0};constructor(t,e=a.SP.SimpleLine){super(),this.points=t,this.lineType=e}update(t){let{lineType:e,points:r,crossLine:a,padding:o,isPointsEdited:i}=t;void 0!==e&&(this.lineType=e),void 0!==r&&(this.points=r),void 0!==o&&(this.padding=o),void 0!==a&&(this.crossLine=a),void 0!==i&&(this.isPointsEdited=i)}clone(){let t=new s(this.points.map(t=>({...t})),this.lineType);return t.padding=this.padding,t.crossLine=this.crossLine,t.isPointsEdited=this.isPointsEdited,t}}},272578:function(t,e,r){r.d(e,{o:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.LockedStatus;locked=!1;update(t){this.locked=t.locked??this.locked}clone(){let t=new i;return t.locked=this.locked,t}}},492663:function(t,e,r){r.d(e,{R:()=>o,v:()=>l});var a,o,i=r(754264),s=r(976780),n=r(797615);(a=o||(o={}))[a.MIND_NOTE_FULL_ROUND_RECT=0]="MIND_NOTE_FULL_ROUND_RECT",a[a.MIND_NOTE_ROUND_RECT=1]="MIND_NOTE_ROUND_RECT",a[a.MIND_NOTE_TEXT=2]="MIND_NOTE_TEXT";class l extends i.a{type=s.d.MindMap;shapeType=o.MIND_NOTE_TEXT;parentId="";autoStyleBitmap=0;layoutEnum=n.gd.MINDMAP_LEFT_RIGHT;lineStyle=n.Zl.ROUND_ANGLE;collapsed=!1;collapseFillColor="";update(t){let{parentId:e,shapeType:r,autoStyleBitmap:a,layoutEnum:o,lineStyle:i,collapsed:s,collapseFillColor:n}=t;void 0!==e&&(this.parentId=e),void 0!==r&&(this.shapeType=r),void 0!==a&&(this.autoStyleBitmap=a),void 0!==o&&(this.layoutEnum=o),void 0!==i&&(this.lineStyle=i),void 0!==s&&(this.collapsed=s),void 0!==n&&(this.collapseFillColor=n)}clone(){let t=new l;return t.parentId=this.parentId,t.shapeType=this.shapeType,t.autoStyleBitmap=this.autoStyleBitmap,t.layoutEnum=this.layoutEnum,t.lineStyle=this.lineStyle,t.collapsed=this.collapsed,t}}},915602:function(t,e,r){r.d(e,{j:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Opacity;constructor(){super(),this.fillOpacity=100,this.borderOpacity=100}update(t){let{fillOpacity:e,borderOpacity:r}=t;void 0!==e&&(this.fillOpacity=e),void 0!==r&&(this.borderOpacity=r)}clone(){let t=new i;return t.fillOpacity=this.fillOpacity,t.borderOpacity=this.borderOpacity,t}}},732526:function(t,e,r){r.d(e,{W:()=>s});var a=r(754264),o=r(976780),i=r(818623);class s extends a.a{type=o.d.Paint;paintType=1;points=[];originWidth=0;originHeight=0;originError=i.PN;update(t){let{points:e,paintType:r}=t;void 0!==e&&(this.points=e),void 0!==r&&(this.paintType=r),void 0!==t.originError&&(this.originError=t.originError),void 0!==t.originWidth&&(this.originWidth=t.originWidth),void 0!==t.originHeight&&(this.originHeight=t.originHeight)}clone(){let t=new s;return t.points=[...this.points],t.paintType=this.paintType,t.originError=this.originError,t.originWidth=this.originWidth,t.originHeight=this.originHeight,t}}},976780:function(t,e,r){var a,o;r.d(e,{d:()=>a}),(o=a||(a={}))[o.Base=0]="Base",o[o.Border=1]="Border",o[o.Color=2]="Color",o[o.Corner=3]="Corner",o[o.Img=4]="Img",o[o.Svg=5]="Svg",o[o.Line=6]="Line",o[o.Text=7]="Text",o[o.TextTransform=8]="TextTransform",o[o.ShapeType=9]="ShapeType",o[o.LineCaptions=10]="LineCaptions",o[o.LineAttach=11]="LineAttach",o[o.LineBorder=12]="LineBorder",o[o.Theme=13]="Theme",o[o.Table=14]="Table",o[o.ImgCrop=15]="ImgCrop",o[o.Flip=16]="Flip",o[o.Title=17]="Title",o[o.StickyNote=18]="StickyNote",o[o.Paint=19]="Paint",o[o.MindMap=20]="MindMap",o[o.TableUML=21]="TableUML",o[o.TableER=22]="TableER",o[o.ResourcePosition=23]="ResourcePosition",o[o.ExtraText=24]="ExtraText",o[o.ExtraText2=25]="ExtraText2",o[o.Lifeline=26]="Lifeline",o[o.Opacity=27]="Opacity",o[o.IconSource=28]="IconSource",o[o.Resource=29]="Resource",o[o.LockedStatus=30]="LockedStatus"},644464:function(t,e,r){r.d(e,{K:()=>s});var a=r(754264),o=r(976780),i=r(213909);class s extends a.a{type=o.d.ResourcePosition;resourcePosition=i.$.RESOURCE_INVALID;update(t){let{resourcePosition:e}=t;void 0!==e&&(this.resourcePosition=e)}clone(){let t=new s;return t.resourcePosition=this.resourcePosition,t}}},826125:function(t,e,r){r.d(e,{Q:()=>s});var a=r(754264),o=r(976780),i=r(797615);class s extends a.a{type=o.d.Resource;key="";refId="";resourceType=i._g.Drive;update(t){void 0!==t.key&&(this.key=t.key),void 0!==t.resourceType&&(this.resourceType=t.resourceType),void 0!==t.refId&&(this.refId=t.refId)}clone(){let t=new s;return t.key=this.key,t.refId=this.refId,t.type=this.type,t}}},995363:function(t,e,r){r.d(e,{M:()=>s});var a=r(754264),o=r(976780),i=r(797379);class s extends a.a{type=o.d.ShapeType;shapeCode=i.DY.pureText;constructor(t=i.DY.pureText,e){super(),this.shapeCode=t,this.controlPoints=e}update(t){void 0!==t.shapeCode&&(this.shapeCode=t.shapeCode),void 0!==t.controlPoints&&(this.controlPoints=t.controlPoints)}clone(){let t=new s;return t.shapeCode=this.shapeCode,t.controlPoints=this.controlPoints,t}}},29725:function(t,e,r){r.d(e,{r:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.StickyNote;showAuthor=!0;autoFontSize=!0;update(t){void 0!==t.showAuthor&&(this.showAuthor=t.showAuthor),void 0!==t.authorInfo&&(this.authorInfo=t.authorInfo),void 0!==t.autoFontSize&&(this.autoFontSize=t.autoFontSize)}clone(){let t=new i;return t.showAuthor=this.showAuthor,t.authorInfo=this.authorInfo,t.autoFontSize=this.autoFontSize,t}}},635094:function(t,e,r){r.d(e,{K:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Svg;width=0;height=0;borderColor="none";borderAlpha=1;fillColor="none";fillAlpha=1;constructor(t){super(),this.svgCode=t}update(t){void 0!==t.svgCode&&(this.svgCode=t.svgCode),void 0!==t.borderColor&&(this.borderColor=t.borderColor),void 0!==t.borderAlpha&&(this.borderAlpha=t.borderAlpha),void 0!==t.fillColor&&(this.fillColor=t.fillColor),void 0!==t.fillAlpha&&(this.fillAlpha=t.fillAlpha),void 0!==t.borderStyleItem&&(this.borderStyleItem=t.borderStyleItem)}clone(){let t=new i(this.svgCode);return t.borderColor=this.borderColor,t.borderAlpha=this.borderAlpha,t.fillColor=this.fillColor,t.fillAlpha=this.fillAlpha,t.borderStyleItem=this.borderStyleItem,t}}},508241:function(t,e,r){r.d(e,{F:()=>s});var a=r(590554),o=r(754264),i=r(976780);class s extends o.a{type=i.d.Theme;fillColorCode=-1;fillCodeType=a._.BUILTIN;borderColorCode=-1;borderColorCodeType=a._.BUILTIN;borderWidthCode=-1;borderHighPrecisionWidth=-1;borderStyleCode=-1;borderColorCodeVersion=-1;connectColor=-1;connectStyleCode=-1;connectWidthCode=-1;connectTypeCode=-1;iconBorderColor=-1;iconFillColor=-1;textColorCode=-1;textBackgroundColorCode=-1;textColorCodeType=a._.BUILTIN;textBgColorCodeType=a._.BUILTIN;update(t){void 0!==t.fillColorCode&&(this.fillColorCode=t.fillColorCode),void 0!==t.fillCodeType&&(this.fillCodeType=t.fillCodeType),void 0!==t.borderColorCode&&(this.borderColorCode=t.borderColorCode),void 0!==t.borderColorCodeType&&(this.borderColorCodeType=t.borderColorCodeType),void 0!==t.borderWidthCode&&(this.borderWidthCode=t.borderWidthCode),void 0!==t.borderHighPrecisionWidth&&(this.borderHighPrecisionWidth=t.borderHighPrecisionWidth),void 0!==t.borderStyleCode&&(this.borderStyleCode=t.borderStyleCode),void 0!==t.borderHighPrecisionWidth&&(this.borderHighPrecisionWidth=t.borderHighPrecisionWidth),void 0!==t.connectColor&&(this.connectColor=t.connectColor),void 0!==t.connectStyleCode&&(this.connectStyleCode=t.connectStyleCode),void 0!==t.connectWidthCode&&(this.connectWidthCode=t.connectWidthCode),void 0!==t.connectTypeCode&&(this.connectTypeCode=t.connectTypeCode),void 0!==t.iconBorderColor&&(this.iconBorderColor=t.iconBorderColor),void 0!==t.iconFillColor&&(this.iconFillColor=t.iconFillColor),void 0!==t.textColorCode&&(this.textColorCode=t.textColorCode),void 0!==t.textBackgroundColorCode&&(this.textBackgroundColorCode=t.textBackgroundColorCode),void 0!==t.textColorCodeType&&(this.textColorCodeType=t.textColorCodeType),void 0!==t.textBgColorCodeType&&(this.textBgColorCodeType=t.textBgColorCodeType)}clone(){let t=new s;return t.connectColor=this.connectColor,t.connectWidthCode=this.connectStyleCode,t.connectStyleCode=this.connectStyleCode,t.connectTypeCode=this.connectTypeCode,t.fillColorCode=this.fillColorCode,t.fillCodeType=this.fillCodeType,t.iconFillColor=this.iconFillColor,t.iconBorderColor=this.iconBorderColor,t.borderColorCode=this.borderColorCode,t.borderColorCodeType=this.borderColorCodeType,t.borderStyleCode=this.borderStyleCode,t.borderWidthCode=this.borderWidthCode,t.borderHighPrecisionWidth=this.borderHighPrecisionWidth,t.textColorCode=this.textColorCode,t.textBackgroundColorCode=this.textBackgroundColorCode,t.textColorCodeType=this.textColorCodeType,t.textBgColorCodeType=this.textBgColorCodeType,t}}},136713:function(t,e,r){r.d(e,{T:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.Title;title="";fontColor="#000000";fontBgColor="";fontBgAlpha=1;titleBorderColor="#000000";titleBorderAlpha=1;update(t){let{title:e,fontColor:r,fontBgColor:a,fontBgAlpha:o,titleBorderAlpha:i,titleBorderColor:s}=t;void 0!==e&&(this.title=e),void 0!==a&&(this.fontBgColor=a),void 0!==o&&(this.fontBgAlpha=o),void 0!==r&&(this.fontColor=r),void 0!==i&&(this.titleBorderAlpha=i),void 0!==s&&(this.titleBorderColor=s)}clone(){let t=new i;return t.title=this.title,t.fontColor=this.fontColor,t.fontBgColor=this.fontBgColor,t.fontBgAlpha=this.fontBgAlpha,t.titleBorderAlpha=this.titleBorderAlpha,t.titleBorderColor=this.titleBorderColor,t}}},213909:function(t,e,r){var a,o;r.d(e,{$:()=>a}),(o=a||(a={}))[o.RESOURCE_TOP=0]="RESOURCE_TOP",o[o.RESOURCE_BOTTOM=1]="RESOURCE_BOTTOM",o[o.RESOURCE_LEFT=2]="RESOURCE_LEFT",o[o.RESOURCE_RIGHT=3]="RESOURCE_RIGHT",o[o.RESOURCE_INVALID=4]="RESOURCE_INVALID"},131326:function(t,e,r){r.d(e,{p:()=>i});var a=r(567524),o=r(805433);class i{cells=[];clone(){let t=new i;return t.cells=this.cells.map(t=>t.map(t=>this.copyCell(t))),t}getCell(t,e){if(t<this.cells.length){let r=this.cells[t];if(e<r.length)return r[e]}return null}getCellList(){let t=[];for(let e=0;e<this.cells.length;e++){let r=this.cells[e];for(let e=0;e<r.length;e++){let a=r[e];if(a.isMerged())continue;let o=this.copyCell(a);if(a.rowSpan&&a.rowSpan>1)for(let t=a.i+1;t<a.i+a.rowSpan;t++){let e=this.cells[t][a.j];o.tableBaseProps.height+=e.tableBaseProps.height}if(a.colSpan&&a.colSpan>1)for(let t=a.j+1;t<a.j+a.colSpan;t++){let e=this.cells[a.i][t];o.tableBaseProps.width+=e.tableBaseProps.width}a.isOverride()&&t.push(o)}}return t}getTranspose(){if(0===this.cells.length)return this;let t=o.G.matrixTranspose(this.cells),e=new i;return e.cells=t,e}updateCellIJ(){for(let t=0;t<this.cells.length;t++){let e=this.cells[t];for(let r=0;r<e.length;r++){let a=e[r];a.i=t,a.j=r}}}copyCell(t){let e=new a.V;return e.i=t.i,e.j=t.j,e.textProps=t.textProps?.clone(),e.textTransformProps=t.textTransformProps?.clone(),e.tableBaseProps.update(t.tableBaseProps),e.rowSpan=t.rowSpan,e.colSpan=t.colSpan,e.refCell=t.refCell,e.overrideCell=t.overrideCell,e.color=t.color,e.alpha=t.alpha,e.themeProps.update(t.themeProps),e.opacityProps.update(t.opacityProps),e.children=[...t.children],e}updateRefCells(){let t=[];for(let e=0;e<this.cells.length;e++){let r=[];for(let t=0;t<this.cells[e].length;t++)r.push(!1);t.push(r)}for(let e=0;e<this.cells.length;e++)for(let r=0;r<this.cells[e].length;r++){let a=this.cells[e][r];if(!t[e][r])for(let o=e;o<e+a.rowSpan;o++)for(let i=r;i<r+a.colSpan;i++){let a=this.cells[o][i];a.refCell.i=e,a.refCell.j=r,t[o][i]=!0}}}}},567524:function(t,e,r){r.d(e,{V:()=>n,f:()=>s});var a=r(873411),o=r(508241),i=r(915602);class s{constructor(t,e){this.i=t,this.j=e}toString(){return`${this.i},${this.j}`}}class n{i=0;j=0;textProps=null;textTransformProps=null;tableBaseProps=new a.s;rowSpan=1;colSpan=1;overrideCell=!1;color=null;alpha=1;themeProps=new o.F;opacityProps=new i.j;children=[];constructor(t=0,e=0){this.i=t,this.j=e,this.refCell=new s(t,e)}isOverride(){return!!this.textProps||!!this.textTransformProps&&0!==this.textTransformProps.angle||null!==this.color&&""!==this.color||1!==this.alpha||1!==this.rowSpan||1!==this.colSpan||this.children.length>0||!1}isMerged(){return this.refCell.i!==this.i||this.refCell.j!==this.j}isRootMergeCell(){return(1!==this.rowSpan||1!==this.colSpan)&&this.refCell.i===this.i&&this.refCell.j===this.j}}},205186:function(t,e,r){r.d(e,{K:()=>s});var a=r(976780),o=r(797615),i=r(754264);class s extends i.a{type=a.d.TableER;erType=o.gu.ER_ENTITY;update(t){let{erType:e,titleCell:r,tableCells:a}=t;void 0!==e&&(this.erType=e)}clone(){let t=new s;return t.erType=this.erType,t}}},272348:function(t,e,r){r.d(e,{N:()=>s});var a=r(976780),o=r(754264),i=r(131326);class s extends o.a{type=a.d.Table;tableCells=[];cellMatrix=new i.p;clone(){let t=new s;return t.columns=[...this.columns],t.rows=[...this.rows],t.cellMatrix=this.cellMatrix.clone(),t}update(t){let{columns:e,rows:r,tableCells:a,cellMatrix:o}=t;void 0!==e&&(this.columns=e),void 0!==r&&(this.rows=r),void 0!==a&&(this.tableCells=a),void 0!==o&&(this.cellMatrix=o)}normalize(){this.cellMatrix.updateRefCells(),this.tableCells=this.cellMatrix.getCellList()}validRowColIndex(t,e){return"number"==typeof t&&"number"==typeof e&&!(t<0)&&!(e<0)&&!(t>=this.rows.length)&&!(e>=this.columns.length)}}},973042:function(t,e,r){r.d(e,{V:()=>s});var a=r(976780),o=r(797615),i=r(754264);class s extends i.a{type=a.d.TableUML;umlType=o.fq.UML_ClASS;propertyNum=1;update(t){let{umlType:e,propertyNum:r}=t;void 0!==e&&(this.umlType=e),void 0!==r&&(this.propertyNum=r,r<1&&(this.propertyNum=1)),e===o.fq.UML_INTERFACE&&(this.propertyNum=0)}clone(){let t=new s;return t.umlType=this.umlType,t.propertyNum=this.propertyNum,t}}},624362:function(t,e,r){r.d(e,{y:()=>i});var a=r(561347),o=r(976780);class i extends a.l{type=o.d.ExtraText;clone(){let t=new i;return t.type=this.type,t.update({...super.clone()}),t}}},607939:function(t,e,r){r.d(e,{A:()=>a});class a{constructor(){this.charIndexSet=new Set}clone(){let t=new a;for(let e of(t.color=this.color,t.backgroundColor=this.backgroundColor,t.bold=this.bold,t.italic=this.italic,t.strikeThrough=this.strikeThrough,t.underline=this.underline,t.fontSize=this.fontSize,t.hyperlink=this.hyperlink,this.charIndexSet))t.charIndexSet.add(e);return this.mentionUser&&(t.mentionUser={...this.mentionUser}),this.mentionDoc&&(t.mentionDoc={...this.mentionDoc}),t}}},893641:function(t,e,r){r.d(e,{W:()=>i});var a=r(797615);class o{static latinLetters="abcdefghijklmnopqrstuvwxyz";static romanMap=[{num:1e3,roman:"m"},{num:900,roman:"cm"},{num:500,roman:"d"},{num:400,roman:"cd"},{num:100,roman:"c"},{num:90,roman:"xc"},{num:50,roman:"l"},{num:40,roman:"xl"},{num:10,roman:"x"},{num:9,roman:"ix"},{num:5,roman:"v"},{num:4,roman:"iv"},{num:1,roman:"i"}];static intToLatin(t){let e="",r=t;if(0===r)return"a";for(;r>0;){let t=--r%26;e=o.latinLetters[t]+e,r=Math.floor(r/26)}return e}static intToRoman(t){let e=t,r="";for(let t of o.romanMap)for(;e>=t.num;)r+=t.roman,e-=t.num;return r}}class i{quote=!1;listType=a.P0.PARAGRAPH;indent=0;listIndex=1;listSpace=0;orderedListShowIndex="";clone(){let t=new i;return t.quote=this.quote,t.listType=this.listType,t.indent=this.indent,t.listIndex=this.listIndex,t}computeOrderedListShowIndex(){if(this.listType!==a.P0.ORDERED){this.orderedListShowIndex="a ";return}let t=this.indent%3;if(1===t){this.orderedListShowIndex=o.intToLatin(this.listIndex)+". ";return}if(2===t){this.orderedListShowIndex=o.intToRoman(this.listIndex)+". ";return}this.orderedListShowIndex=String(this.listIndex)+". "}}},561347:function(t,e,r){r.d(e,{l:()=>d});var a=r(335342),o=r(754264),i=r(976780),s=r(479047),n=r(607939),l=r(138743),h=r(797615);class d extends o.a{type=i.d.Text;text="";textCharProps=[];textParagraphProps=[];constructor(){super(),this.bold=!1,this.italic=!1,this.fontSize=14,this.fontColor="#000000",this.fontFamily=s.H,this.horizonAlign=a.Z.CENTER,this.verticalAlign=a.Z.CENTER,this.sizeMode=l.A.FIXED,this.underline=!1,this.strikeThrough=!1,this.backgroundColor=""}update(t){let{bold:e,italic:r,fontColor:a,fontSize:o,fontFamily:i,horizonAlign:s,verticalAlign:n,overflowHorizonAlign:l,overflowVerticalAlign:h,textCharProps:d,text:p,sizeMode:u,textParagraphProps:c,underline:x,strikeThrough:g,backgroundColor:y,textAlpha:f}=t;void 0!==e&&(this.bold=e),void 0!==r&&(this.italic=r),void 0!==a&&(this.fontColor=a),void 0!==i&&(this.fontFamily=i),void 0!==o&&(this.fontSize=o),void 0!==s&&(this.horizonAlign=s),void 0!==n&&(this.verticalAlign=n),void 0!==l&&(this.overflowHorizonAlign=l),void 0!==h&&(this.overflowVerticalAlign=h),void 0!==p&&(this.text=p),void 0!==d&&(this.textCharProps=d),void 0!==u&&(this.sizeMode=u),void 0!==x&&(this.underline=x),void 0!==g&&(this.strikeThrough=g),void 0!==y&&(this.backgroundColor=y),void 0!==c&&(this.textParagraphProps=c),void 0!==f&&(this.textAlpha=f)}clone(){let t=new d;for(let e of(t.bold=this.bold,t.italic=this.italic,t.fontColor=this.fontColor,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.horizonAlign=this.horizonAlign,t.verticalAlign=this.verticalAlign,t.overflowHorizonAlign=this.overflowHorizonAlign,t.overflowVerticalAlign=this.overflowVerticalAlign,this.textCharProps))t.textCharProps.push(e.clone());for(let e of(t.text=this.text,t.sizeMode=this.sizeMode,t.underline=this.underline,t.strikeThrough=this.strikeThrough,t.backgroundColor=this.backgroundColor,this.textParagraphProps))t.textParagraphProps.push(e.clone());return t}splitTextCharProps(){let t=new Map;for(let e of this.textCharProps)for(let r of e.charIndexSet)if(!t.has(r)){let a=e.clone();a.charIndexSet=new Set([r]),t.set(r,a)}for(let e=0;e<this.text.length;e++)if(!t.has(e)){let r=new n.A;r.charIndexSet=new Set([e]),r.color=this.fontColor,r.backgroundColor=this.backgroundColor,r.bold=this.bold,r.italic=this.italic,r.strikeThrough=this.strikeThrough,r.underline=this.underline,r.fontSize=this.fontSize,t.set(e,r)}return t}mergeTextCharProps(t){let e=[];if(0===t.size)return e;let{size:r}=t,a=[],o=null;for(let i=0;i<r;i++){let r=t.get(i);if(o)if(this.areCharPropsEqual(r,o))a.push(i);else{let t=o.clone();t.charIndexSet=new Set(a),e.push(t),a=[i],o=r}else a.push(i),o=r}if(o&&a.length>0){let t=o.clone();t.charIndexSet=new Set(a),e.push(t)}return e}areCharPropsEqual(t,e){return t.color===e.color&&t.backgroundColor===e.backgroundColor&&t.bold===e.bold&&t.italic===e.italic&&t.strikeThrough===e.strikeThrough&&t.underline===e.underline&&t.fontSize===e.fontSize&&!t.mentionUser&&!e.mentionUser&&!t.mentionDoc&&!e.mentionDoc&&t.hyperlink===e.hyperlink}calculateCharIndex(t,e,r=0){let a=t.charIndex,o=e.paragraphs[t.paragraphIndex];for(let e=0;e<t.lineIndex;e++)a+=o.lines[e].chars.length;for(let r=0;r<t.paragraphIndex;r++)for(let t of e.paragraphs[r].lines)a+=t.chars.length;return a+r}refreshTextParagraphPropsListIndex(){for(let t=0;t<this.textParagraphProps.length;t++)void 0!==this.textParagraphProps[t-1]&&this.textParagraphProps[t-1].listType===h.P0.ORDERED&&this.textParagraphProps[t-1].indent===this.textParagraphProps[t].indent?this.textParagraphProps[t].listIndex=this.textParagraphProps[t-1].listIndex+1:this.textParagraphProps[t].listIndex=1,this.textParagraphProps[t].computeOrderedListShowIndex()}}},224365:function(t,e,r){r.d(e,{_:()=>i});var a=r(754264),o=r(976780);class i extends a.a{type=o.d.TextTransform;angle=0;constructor(t=0){super(),this.angle=t}update(t){let{angle:e}=t;void 0!==e&&(this.angle=e)}clone(){let t=new i;return t.angle=this.angle,t}}},219231:function(t,e,r){r.d(e,{D:()=>P});var a=r(441505),o=r(873411),i=r(976780),s=r(272348),n=r(73428),l=r(596500),h=r(965732),d=r(138743),p=r(567524),u=r(335342);class c{selectCells=[];selectRows=[];selectCols=[];hasSelectItem(){return this.selectCells.length>0||this.selectRows.length>0||this.selectCols.length>0}setTableCells(t){this.selectRows=[],this.selectCols=[],this.selectCells=t}setTableRows(t){this.selectCells=[],this.selectCols=[],this.selectRows=t}setTableCols(t){this.selectCells=[],this.selectRows=[],this.selectCols=t}getSelectedMatrix(t,e){if(!this.hasSelectItem())return Array(t).fill(null).map(()=>Array(e).fill(!0));let r=Array(t).fill(null).map(()=>Array(e).fill(!1));return this.selectCells.forEach(a=>{a.i>=0&&a.i<t&&a.j>=0&&a.j<e&&(r[a.i][a.j]=!0)}),this.selectCols.forEach(a=>{if(a>=0&&a<e)for(let e=0;e<t;e++)r[e][a]=!0}),this.selectRows.forEach(a=>{if(a>=0&&a<t)for(let t=0;t<e;t++)r[a][t]=!0}),r}getSelectedIndexList(){return this.selectRows.length>0&&0===this.selectCols.length?this.selectRows:this.selectCols.length>0&&0===this.selectRows.length?this.selectCols:[]}clear(){this.selectCells=[],this.selectRows=[],this.selectCols=[]}}var x=r(508241),g=r(561347),y=r(329568),f=r(943451);class P extends a.L{static CELL_TEXT_PADDING=8;cellTextMap=new Map;get tableProps(){return this.getProp(i.d.Table)}get textProps(){return this.getProp(i.d.Text)}constructor(t,e){super(t,e),this.tableStatus=new c,this.propMap.set(i.d.Base,new o.s),this.propMap.set(i.d.Table,new s.N),this.propMap.set(i.d.Color,new l.b),this.propMap.set(i.d.Border,new h.L),this.propMap.set(i.d.Theme,new x.F),this.propMap.set(i.d.Text,new g.l)}isAsync(){return Array.from(this.cellTextMap.values()).some(t=>t.isAsync())}isCached(){return Array.from(this.cellTextMap.values()).every(t=>t.isCached())}refreshCache(){return Promise.all(Array.from(this.cellTextMap.values()).map(t=>t.refreshCache())).then(t=>{})}updateNodeProps(t){super.updateNodeProps(t);let e=!!t.find(t=>t.type===i.d.Base),r=!!t.find(t=>t.type===i.d.Table);r&&this.updateTableProps(this.tableProps),(e||r)&&this.updateTableCellTexts(this.tableProps.tableCells,r)}updateTableProps(t){let e=0,r=0,{rows:a,columns:o}=t,i=0;for(let e=0;e<a.length;e++){let r=a[e],s=0;for(let a=0;a<o.length;a++){let n=o[a],l=t.cellMatrix.getCell(e,a);l.tableBaseProps.x=s,l.tableBaseProps.y=i,l.tableBaseProps.width=n,l.tableBaseProps.height=r,s+=n}i+=r}a.forEach(t=>r+=t),o.forEach(t=>e+=t),this.baseProps.width=e,this.baseProps.height=r,t.normalize()}updateTableCellTexts(t,e=!0){for(let r of t)if(r.textProps){let t=new p.f(r.i,r.j),a=this.cellTextMap.get(t.toString());a||(a=new y.v,this.cellTextMap.set(t.toString(),a)),this.updateCellText(r,a,e)}}updateCellText(t,e,r=!0){let a;r&&t.textProps&&(t.textProps.overflowVerticalAlign=u.Z.TOP_OR_LEFT,t.textProps.sizeMode=this.getCellSizeMode(),{textProps:a}=t),e.update(this.graphicContext,[this.getCellTextBaseProps(t),a].filter(t=>!!t),{contentBounds:this.getCellTextContentBounds(t)})}getCellTextBaseProps(t){let{x:e,y:r}=this.globalBaseProps,a=t.tableBaseProps.clone();return a.update({x:e+a.x,y:r+a.y}),a}getCellTextContentBounds(t){let{width:e,height:r}=t.tableBaseProps;return{top:P.CELL_TEXT_PADDING,right:e-P.CELL_TEXT_PADDING,bottom:r-P.CELL_TEXT_PADDING,left:P.CELL_TEXT_PADDING}}getGraphicTexts(){let t=[];return this.tableProps.tableCells.forEach(e=>{if(e.textProps){let r=new p.f(e.i,e.j),a=this.cellTextMap.get(r.toString());a&&t.push({type:f.P.TableCell,graphicText:a,i:e.i,j:e.j})}}),t}modifyContentAlignment(t,e){}drawOnGLCtx(t){t.save(),this.drawBackground(t),this.drawCellColor(t),this.drawBorder(t),this.drawCellText(t),t.restore()}drawCellText(t){let{tableCells:e}=this.tableProps;for(let r of e)if(r.textProps){let e=new p.f(r.i,r.j),a=this.cellTextMap.get(e.toString());a?.drawOnGLCtx(t,!0)}}getCellSizeMode(){return d.A.AUTO_HEIGHT}drawBackground(t){let e=this.getProp(i.d.Table),r=this.globalBaseProps,a=this.getProp(i.d.Color);if(""!==a.color&&0!==a.alpha){for(let o of(t.save(),t.beginPath(),t.fillStyle=a.color,t.globalAlpha=a.alpha,t.rect(r.x,r.y,r.width,r.height),e.tableCells)){if(!this.needClipRectCell(o,a))continue;let{x:e,y:i,width:s,height:n}=o.tableBaseProps;t.rect(r.x+e,r.y+i,s,n)}t.fill("evenodd"),t.restore()}}needClipRectCell(t,e){return 1!==t.alpha||""===t.color}drawCellColor(t){let e=this.getProp(i.d.Table),r=this.globalBaseProps;for(let a of e.tableCells){let{x:e,y:o,width:i,height:s}=a.tableBaseProps;a.color&&(t.fillStyle=a.color,t.globalAlpha=a.alpha,t.fillRect(r.x+e,r.y+o,i,s))}}drawBorder(t){let e=this.globalBaseProps,{tableProps:r}=this,a=this.getProp(i.d.Border),o=[];for(let t of r.tableCells)t.isRootMergeCell()&&o.push(t);if(t.save(),o.length>0){for(let r of(t.beginPath(),t.rect(e.x-a.borderWidth,e.y-a.borderWidth,e.width+2*a.borderWidth,e.height+2*a.borderWidth),o))t.rect(e.x+r.tableBaseProps.x+.5*a.borderWidth,e.y+r.tableBaseProps.y+.5*a.borderWidth,r.tableBaseProps.width-a.borderWidth,r.tableBaseProps.height-a.borderWidth);t.clip("evenodd")}this.drawAllBorder(t),t.restore()}drawAllBorder(t){let e=this.globalBaseProps,{tableProps:r}=this,a=this.getProp(i.d.Border);t.beginPath();let o=e.y;for(let a of r.rows)t.moveTo(e.x,o),t.lineTo(e.x+e.width,o),o+=a;t.moveTo(e.x,o),t.lineTo(e.x+e.width,o);let s=e.x;for(let a of r.columns)t.moveTo(s,e.y),t.lineTo(s,e.y+e.height),s+=a;t.moveTo(s,e.y),t.lineTo(s,e.y+e.height),t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.globalAlpha=a.borderAlpha,t.lineCap="square",t.stroke()}getCellRect(t,e){let{x:r,y:a}=this.globalBaseProps,{rows:o,columns:i}=this.tableProps,s=this.tableProps.cellMatrix.cells[t][e],{width:l,height:h}=s.tableBaseProps;if(s.isRootMergeCell()){if(s.rowSpan>1)for(let t=s.i+1;t<s.i+s.rowSpan;t++)h+=this.tableProps.cellMatrix.cells[t][s.j].tableBaseProps.height;if(s.colSpan>1)for(let t=s.j+1;t<s.j+s.colSpan;t++)l+=this.tableProps.cellMatrix.cells[s.i][t].tableBaseProps.width}let d=r,p=a;for(let e=0;e<t;e++)p+=o[e];for(let t=0;t<e;t++)d+=i[t];return new n.U(d,p,l,h)}canRotate(){return!1}}},77375:function(t,e,r){var a,o;r.d(e,{b:()=>a}),(o=a||(a={}))[o.none=0]="none",o[o.disable=1]="disable",o[o.canMerge=2]="canMerge",o[o.canSplit=3]="canSplit"},613437:function(t,e,r){r.d(e,{CT:()=>p,D6:()=>d,DJ:()=>o,Oj:()=>y,Sq:()=>f,W_:()=>l,Yo:()=>h,d$:()=>g,g6:()=>a,gl:()=>i,lE:()=>s,lS:()=>n,sU:()=>u,vQ:()=>c,yt:()=>x});let a=8,o=12,i=52,s=12,n=75,l=60,h=42,d=92,p="#1f2329",u="#ffffff",c="#EFF0F1",x=14,g=[4,4],y=1/27,f=1/30},3981:function(t,e,r){r.d(e,{H:()=>u});var a=r(797615),o=r(976780),i=r(136713),s=r(219231),n=r(805433),l=r(224365),h=r(915602),d=r(460146),p=r(943451);class u extends s.D{type=a.Jq.Table;constructor(t,e){super(t,e),this.propMap.set(o.d.Title,new i.T),this.propMap.set(o.d.TextTransform,new l._),this.propMap.set(o.d.Opacity,new h.j),this.graphicTitle=new d.l({outsideOffsetY:16})}get textTransform(){return this.getProp(o.d.TextTransform)}updateNodeProps(t){super.updateNodeProps(t);let e=t.find(t=>t.type===o.d.Title);this.graphicTitle.update(this.graphicContext,[this.globalBaseProps.clone(),e].filter(t=>!!t))}updateCellText(t,e,r=!0){super.updateCellText(t,e,r),(t.textTransformProps?.angle===void 0?this.textTransform.angle:t.textTransformProps.angle)&&e.rotateBasePoint()}getCellTextBaseProps(t){let{x:e,y:r}=this.globalBaseProps,a=t.tableBaseProps.clone();a.update({x:e+a.x,y:r+a.y});let o=t.textTransformProps?.angle===void 0?this.textTransform.angle:t.textTransformProps.angle;return o%180!=0&&a.update(n.G.verticalRotateTextBoxRect(a)),a.angle=-o,a}getCellTextContentBounds(t){let{width:e,height:r}=t.tableBaseProps,a=t.textTransformProps?.angle===void 0?this.textTransform.angle:t.textTransformProps.angle;return n.G.getTextContentBoundsInAngle({top:8,right:e-8,bottom:r-8,left:8},e,r,a)}getGraphicTexts(){let t=super.getGraphicTexts();return[{type:p.P.Title,graphicText:this.graphicTitle},...t]}contains(t){return super.contains(t)||this.graphicTitle.contains(t)}getRectNode(){let t=super.getRectNode();if(this.graphicTitle.isInNode)return t;let e=this.graphicTitle.getRectNode();return n.G.getBounds([t,e],this.id)}afterScale(t){this.graphicTitle.afterScale(this.graphicContext,t)}drawTitle(t){this.graphicTitle.needRender()&&this.graphicTitle.drawOnGLCtx(t)}}},329568:function(t,e,r){r.d(e,{v:()=>p});var a=r(889171),o=r(771584),i=r(976780),s=r(873411),n=r(561347),l=r(479047),h=r(920570),d=r(517917);class p{baseProps=new s.s;textProps=new n.l;transform=o.c.generateMatrix();renderText=new h.x;get globalBaseProps(){return this.baseProps.clone()}isAsync(){return this.renderText.isAsync()}isCached(){return this.renderText.isCached()}refreshCache(){return this.renderText.refreshCache()}drawOnGLCtx(t,e=!1){let r=this.contentBounds??this.getDefaultContentBounds(),a=this.renderText.getContentRect(),o=e;e&&(o=a.width>r.right-r.left||a.height>r.bottom-r.top),t.save();let{a:i,b:s,c:n,d:l,e:h,f:d}=this.transform;t.transform(i,s,n,l,h,d),o&&(t.beginPath(),t.rect(this.globalBaseProps.x+r.left,this.globalBaseProps.y+r.top,r.right-r.left,r.bottom-r.top),t.clip()),this.renderText.drawOnGLCtx(t,{x:this.globalBaseProps.x,y:this.globalBaseProps.y}),t.restore()}needRender(){return this.renderText.needRender()}hasText(){return!!this.textProps.text}toGlobalPoint(t){let{angle:e,x:r,y:a}=this.globalBaseProps,i=o.c.generateMatrix().rotate(e);return o.c.generateMatrix().translate(r,a).crossProduct(i).crossPoint(t)}toLocalPoint(t){let{angle:e,x:r,y:a}=this.globalBaseProps,i=o.c.generateMatrix().rotate(-e),s=o.c.generateMatrix().translate(-r,-a);return i.crossProduct(s).crossPoint(t)}detect(t,e="half"){let r=this.toLocalPoint(t);return this.renderText.detect(r,e)}getContentRect(t=!1){let e=this.renderText.getContentRect();return t&&(e.width=this.renderText.getWithIncludingParaSpace()),{x:e.x+this.globalBaseProps.x,y:e.y+this.globalBaseProps.y,width:e.width,height:e.height}}getRectNode(){let{x:t,y:e,width:r,height:a}=this.globalBaseProps;return{id:"graphic-text-rect-node",minX:t,minY:e,maxX:t+r,maxY:e+a}}getRectPoint(){let t=this.getRectNode(),e=new a.E(t.minX,t.minY),r=new a.E(t.maxX,t.minY),o=new a.E(t.maxX,t.maxY),i=new a.E(t.minX,t.maxY);return this.baseProps.angle&&([e,r,o,i]=[e,r,o,i].map(t=>this.transform.crossPoint(t))),{topLeft:e,topRight:r,bottomLeft:i,bottomRight:o}}update(t,e,r={}){let a=e.find(t=>t.type===i.d.Base),o=e.find(t=>t.type===i.d.Text),s=!!o;if(!s&&a){let{width:t,height:e}=a;s=void 0!==t&&t!==this.baseProps.width||void 0!==e&&e!==this.baseProps.height}this.baseProps.update(a??{}),this.textProps.update(o??{}),this.updateTransformMatrix(),r.contentBounds&&(this.contentBounds=r.contentBounds),s&&this.typesetting(t,this.renderText,this.textProps,r.maxWidth)}updateTransformMatrix(){let{angle:t,x:e,y:r}=this.globalBaseProps,a=o.c.generateMatrix().translate(-e,-r),i=o.c.generateMatrix().rotate(t),s=o.c.generateMatrix().translate(e,r);this.transform=s.crossProduct(i.crossProduct(a))}updateRenderTextBaseProps(t){this.renderText.baseProps.update(t)}rotateBasePoint(){let t=this.globalBaseProps,e={x:t.x+t.width/2,y:t.y+t.height/2},r=o.c.generateMatrix().translate(-e.x,-e.y),a=o.c.generateMatrix().rotate(t.angle),{x:i,y:s}=o.c.generateMatrix().translate(e.x,e.y).crossProduct(a.crossProduct(r)).crossPoint({x:t.x,y:t.y});this.baseProps.x=i,this.baseProps.y=s,this.updateTransformMatrix()}typesetting(t,e,r,a=d.X3){let{top:o,right:i,bottom:s,left:n}=this.contentBounds??this.getDefaultContentBounds();e.typesetting(t,r,{x:n,y:o,width:Math.max(i-n,0),height:Math.max(s-o,0)},{maxWidth:a}),e.lineStyleOverride()}getDefaultContentBounds(){let t=this.globalBaseProps;return{top:l.w,right:t.width-l.w,bottom:t.height-l.w,left:l.w}}}},460146:function(t,e,r){r.d(e,{l:()=>d});var a=r(73428),o=r(976780),i=r(136713),s=r(335342),n=r(805433),l=r(329568),h=r(517917);class d extends l.v{titleProps=new i.T;options={outsideOffsetY:8};currentScale=1;renderWidth=0;renderHeight=0;isEditing=!1;get isInNode(){return this.currentScale<.3}get globalBaseProps(){let{x:t,y:e,width:r,height:a}=this.getRenderRect(),o=this.baseProps.clone();return o.update({x:o.x+t,y:o.y+e,width:r,height:a}),o}constructor(t){super(),t&&(this.options=t),this.textProps.update({fontSize:h.IU,bold:!0,horizonAlign:s.Z.TOP_OR_LEFT})}drawOnGLCtx(t){let{titleBorderColor:e,fontBgColor:r,fontBgAlpha:a}=this.titleProps;t.save(),t.fillStyle=r,t.globalAlpha=a,t.textAlign="left",t.textBaseline="top";let{x:o,y:i,width:s,height:n}=this.globalBaseProps;t.beginPath(),t.roundRect(o,i,s,n,h.Y7/this.currentScale),this.isEditing||t.fill(),t.strokeStyle=this.isEditing?"#3370FF":e,t.globalAlpha=this.titleProps.titleBorderAlpha,t.lineWidth=(this.isEditing?h.Hu:h.U_)/this.currentScale,t.stroke(),this.renderText.drawOnGLCtx(t,{x:o,y:i}),t.restore()}update(t,e){let r=e.find(t=>t.type===o.d.Base),a=e.find(t=>t.type===o.d.Title),i=!!a;if(!i&&r){let{width:t}=r;i=void 0!==t&&t!==this.baseProps.width}this.baseProps.update(r??{}),this.titleProps.update(a??{}),this.isEditing||this.textProps.update({fontColor:this.titleProps.fontColor}),i&&this.updateTextProps(t)}updateTextProps(t){let e=this.computeShowText(t);this.textProps.update({text:e});let{left:r,top:a,right:o,bottom:i}=this.getTextContentBounds();this.renderText.typesetting(t,this.textProps,{x:r,y:a,width:o-r,height:i-a}),this.renderText.lineStyleOverride()}afterScale(t,e){!(.01>Math.abs(e-this.currentScale))&&(this.currentScale=e,this.shouldHide()||(this.textProps.update({fontSize:this.isInNode?h.MY/e:h.IU/e}),this.updateTextProps(t)))}enterEdit(t){this.isEditing=!0,this.updateTextProps(t),this.textProps.update({fontColor:"#a6a6a6"})}exitEdit(t){this.isEditing=!1,this.updateTextProps(t),this.textProps.update({fontColor:this.titleProps.fontColor})}contains(t){return n.G.rectContains(t,this.globalBaseProps)}needRender(){return this.isEditing||!this.shouldHide()&&super.needRender()}shouldHide(){return this.isEmpty()||this.baseProps.width*this.currentScale<h.RR}isEmpty(){return!this.titleProps.title&&!this.isEditing}computeShowText(t){t.save(),t.font=n.G.getFontDefine(this.textProps.fontSize,this.textProps.fontFamily,this.textProps.bold,this.textProps.italic);let{title:e}=this.titleProps,{width:r}=t.measureText(e),a=this.isInNode?h.iD/this.currentScale:h.MV/this.currentScale;this.renderHeight=a;let o=h.WE/this.currentScale,i=h.U_/this.currentScale,s=e;if(this.isEditing)this.renderWidth=r+2*o+i;else{let a=this.isInNode?this.baseProps.width-2*(h.$U/this.currentScale):this.baseProps.width,l=a-2*o-i;r<l?this.renderWidth=r+2*o+i:(this.renderWidth=a,s=n.G.compressTextContentByWidth(t,e,l))}return t.restore(),s}getRenderRect(){let{renderWidth:t,renderHeight:e}=this;if(this.isEmpty()&&(t=h.NU/this.currentScale,e=h.s1/this.currentScale),this.isInNode)return new a.U(h.$U/this.currentScale,h.qE/this.currentScale,t,e);let{outsideOffsetY:r}=this.options,o=-(e+r/this.currentScale),i=h.U_/this.currentScale;return new a.U(0,o,t+i,e+i)}getTextContentBounds(){let{width:t,height:e}=this.getRenderRect(),r=h.U_/this.currentScale,a=h.Qs/this.currentScale,o=h.WE/this.currentScale;return{top:a+r/2,right:t-o-r/2,bottom:e-a-r/2,left:o+r/2}}}},920570:function(t,e,r){r.d(e,{x:()=>N});var a=r(138743),o=r(335342),i=r(50552),s=r(889171),n=r(73428),l=r(805433);class h{lines=[];x=0;y=0;height=0;width=0;lastCharIndex=0;limitW=0;draw(t,e,r){let a=new s.E(this.x+e.x,this.y+e.y);for(let e of this.lines)e.draw(t,a,r)}getCharRect(t=-1,e=-1,r=-1,a=-1,o=new s.E){if(0===this.lines.length)return[new n.U(o.x+this.x+.5*this.width,o.y+this.y,2,this.height)];let i=t<0?0:t,l=-1===r||r>this.lines.length-1?this.lines.length-1:r,h=this.lines[i],d=[];if(i===l){let t=h.getCharRect(e,a);return t.x+=this.x+o.x,t.y+=this.y+o.y,d.push(t),d}let p=h.getCharRect(e);p.x+=this.x+o.x,p.y+=this.y+o.y,d.push(p);let u=this.lines[l].getCharRect(-1,a);u.x+=this.x+o.x,u.y+=this.y+o.y,d.push(u);for(let t=i+1;t<l;t++){let e=this.lines[t].getRect(new s.E(this.x+o.x,this.y+o.y));d.push(e)}return d}getRect(t=new s.E){if(0===this.lines.length)return[new n.U(t.x+this.x+.5*this.width,t.y+this.y,2,this.height)];let e=[];for(let r of this.lines)e.push(r.getRect(new s.E(this.x+t.x,this.y+t.y)));return e}getText(t=-1,e=-1,r=-1,a=-1){let o=t<0?0:t,i=-1===r||r>this.lines.length-1?this.lines.length-1:r,s="";if(o===i)return this.lines[o].getText(e,a);for(let t=o;t<=i;t++)t===o?s+=this.lines[t].getText(e):t===i?s+=this.lines[t].getText(-1,a):s+=this.lines[t].getText(-1);return s}modifyXY(t,e,r,a){let o=e-r;this.limitW=o,this.x=r,this.y=a,this.width=o}modifyEmptyParagraph(t,e,r){let a=l.G.computeCharStyle(e,r),o=l.G.measureText(t,"1",a.fontSize,a.fontFamily,a.bold,a.italic);this.height=o.height;let s=new i.b;s.setShapeProp({x:0,y:0,width:0,height:o.height},o.boxAscent,o.boxDescent),this.lines.push(s)}isTail(t,e){return t===this.lines.length-1&&this.lines[t].isTail(e)}}class d{charList=[];width=0;isZh=!1}class p{wordList=[];constructor(){this.paragraph=new h}}var u=r(561347),c=r(873411);class x{constructor(t,e,r){this.startIndex=t,this.endIndex=e,this.color=r.color,this.backgroundColor=r.backgroundColor,this.bold=r.bold,this.italic=r.italic,this.strikeThrough=r.strikeThrough,this.underline=r.underline,this.fontSize=r.fontSize,this.mentionUser=r.mentionUser,this.mentionResource=r.mentionResource,this.mentionDoc=r.mentionDoc,this.hyperlink=r.hyperlink}}var g=r(893641);class y{constructor(){this.start=new s.E,this.end=new s.E}}var f=r(652260),P=r(797615),m=r(517917),T=r(313842);class b{enable(t){return!!t&&!!t.mentionUser}measure(t,e,r,a){let o=e.mentionUser.avatarUrl,{fontSize:i,fontFamily:s,bold:n,italic:h,charText:d}=r;if(a.has(o))e.mentionResource=a.get(o);else{let t=l.G.decodeImageFromUrl(o);e.mentionResource=a.set(o,t)}return this.measureMentionUser(t,e.mentionUser.name,d,i,s,n,h)}measureMentionUser(t,e,r,a,o,i,s){let{width:n,height:h,boxDescent:d,boxAscent:p}=l.G.measureText(t,e,a,o,i,s),u=m.ZH*(a/14)+n,c=new T.c(r,0,0,u,h);return c.boxDescent=d,c.boxAscent=p,c.width=u,c}}var w=r(694611);class C{enable(t){return!!t&&!!t.mentionDoc&&this.onEnable(t.mentionDoc)}measure(t,e,r,a){this.preprocessing(e,a);let{fontSize:o,fontFamily:i,bold:s,italic:n,charText:l}=r;return this.measureMentionDoc(t,e.mentionDoc,l,o,i,s,n)}measureMentionDoc(t,e,r,a,o,i,s){let n=this.showMentionText(e),h=this.mentionIconWidth(),{width:d,height:p,boxDescent:u,boxAscent:c}=l.G.measureText(t,n,a,o,i,s),x=a/14*h+d,g=new T.c(r,0,0,x,p);return g.boxDescent=u,g.boxAscent=c,g.width=x,g}showMentionText(t){return t.title}mentionIconWidth(){return m.zo}}class M extends C{onEnable(t){return 0===t.iconType}preprocessing(t,e){let r=(0,w.E_)(t.mentionDoc.docType),a=w.Wm.icons[r].d,o=t.color===m.Y?m.Y:m.TJ,i=l.G.convertPathToSvg(a,o),s=l.G.svgHashCode(i);if(e.has(s))t.mentionResource=e.get(s);else{let r=l.G.decodeImageFromSvg(i);t.mentionResource=e.set(s,r)}}}class k extends C{onEnable(t){return 2===t.iconType&&!!t.iconUrl}preprocessing(t,e){let r=t.mentionDoc.iconUrl;if(e.has(r))t.mentionResource=e.get(r);else{let a=l.G.decodeImageFromUrl(r);t.mentionResource=e.set(r,a)}}}class E extends C{onEnable(t){return 1===t.iconType}preprocessing(t,e){}showMentionText(t){return t.iconKey+t.title}mentionIconWidth(){return 0}}class L{enable(t){return!0}measure(t,e,r,a){let{charText:o,fontSize:i,fontFamily:s,bold:n,italic:l}=r;return this.measureTextCharacter(t,o,i,s,n,l)}measureTextCharacter(t,e,r,a,o,i){let{width:s,height:n,boxDescent:h,boxAscent:d}=l.G.measureText(t,e,r,a,o,i),p=new T.c(e,0,0,s,n);return p.boxDescent=h,p.boxAscent=d,"\n"===e?p.width=0:p.width=s,p}}var S=r(89260),B=r(72765);class R{split(t){let e=[],r=new B.b(t),a=[],o=r.nextBreak();for(;o;)a.push(o.position),o=r.nextBreak();let i=0;for(let r=0;r<a.length;r++){let o=a[r];e.push({charList:t.substring(i,o),isZh:!1}),i=o}return e}}class I{breakNewLine(t,e,r){r.line.setShapeProp({x:0,y:r.startY,width:r.startX,height:r.lineHeight},r.boxAscent,r.boxDescent),r.startX=0,r.startY=r.startY+r.lineHeight+m.Bh,t.height+=r.lineHeight,t.lines.push(r.line),r.line=new i.b,r.line.y=r.startY,r.lineHeight=0,r.boxAscent=0,r.boxDescent=0}updateCharacter(t,e){t.x=e.startX,t.y=0,e.startX+=t.width,e.lineHeight=Math.max(e.lineHeight,t.height),e.boxAscent=Math.max(e.boxAscent,t.boxAscent),e.boxDescent=Math.max(e.boxDescent,t.boxDescent),e.line.chars.push(t)}}class v extends I{enable(){return!0}layout(t,e,r,a){for(let o of(a.startX+t.width>e.limitW&&this.breakNewLine(e,r,a),t.charList))this.updateCharacter(o,a)}}class O extends I{enable(t,e){return t.isZh||t.width>e}layout(t,e,r,a){for(let o of t.charList)a.startX+o.width>e.limitW&&this.onBreakLine(e,r,a),this.updateCharacter(o,a)}onBreakLine(t,e,r){0===r.line.chars.length||this.breakNewLine(t,e,r)}}var A=r(470608),D=r(3406);class N{paragraphs=[];defaultGlobalAlpha=1;charMap=new Map;asyncResourceMap=new S.q;static splitter=new R;static measureTextCharWorkers=[new b,new M,new k,new E,new L];static linebreaks=[new O,new v];constructor(){this.baseProps=new c.s,this.textProps=new u.l}isAsync(){return this.asyncResourceMap.size>0}isCached(){return this.asyncResourceMap.isAllSettled()}refreshCache(){return this.asyncResourceMap.allSettled()}lineStyleOverride(){let{textCharProps:t}=this.textProps;for(let e of t){let{charIndexSet:t}=e,r=[...t];r=r.sort((t,e)=>t-e),this.dealLineCharOverrideStyle(r,e)}}dealLineCharOverrideStyle(t,e){if(0===t.length)return;let r=[...t],a=this.getChar(t[0]);if(!a){r.shift(),this.dealLineCharOverrideStyle(r,e);return}let{line:o}=a,i=o.chars[o.chars.length-1].charIndex,s=t[0];r.shift();let n=new x(s,s,e);for(let e=1;e<t.length&&!(t[e]>i);e++)if(t[e]===s+1)n.endIndex=t[e],r.shift(),s+=1;else break;o.textCharStyleList.push(n),this.dealLineCharOverrideStyle(r,e)}getChar(t){for(let e of this.paragraphs)for(let r of e.lines)for(let e of r.chars)if(e.charIndex===t)return{char:e,line:r};return null}isEmptyParaText(t){return 0===t.wordList.length||1===t.wordList.length&&0===t.wordList[0].charList.length||!1}typesetting(t,e,r,o={}){let{maxWidth:s=m.X3}=o;this.textProps=e;let n=e.sizeMode===a.A.AUTO_WIDTH,l=this.prepareCharList(t);this.paragraphs=[];let h=n?s:r.width+m.tt,d=-m.I9,p=e.textParagraphProps,u=!1;for(let a=0;a<l.length;a++){let o=l[a],s=new g.W;a<p.length&&(s=p[a]);let c=this.modifyParagraphSpaceX(t,e,s,o);d+=this.modifyParagraphSpaceY(u,s),u=s.quote;let{paragraph:x}=o;if(x.modifyXY(s,h,c,d),this.isEmptyParaText(o)){let r=this.charMap.get(x.lastCharIndex);x.modifyEmptyParagraph(t,e,r)}let y={line:new i.b,startX:0,startY:0,lineHeight:0,boxAscent:0,boxDescent:0};for(let t of o.wordList)for(let r of N.linebreaks)if(r.enable(t,x.limitW)){r.layout(t,x,e.fontSize,y);break}y.line.chars.length>0&&(y.line.setShapeProp({x:0,y:y.startY,width:y.startX,height:y.lineHeight},y.boxAscent,y.boxDescent),x.height+=y.lineHeight,x.lines.push(y.line)),n&&(x.width=Math.max(...x.lines.map(t=>t.width)),x.limitW=r.width+m.tt-c),d+=x.height,this.paragraphs.push(x)}this.alignXY(r)}drawOnGLCtx(t,e=new s.E){let{textProps:r}=this,a=new s.E(this.baseProps.x+e.x,this.baseProps.y+e.y);t.textAlign="left",t.textBaseline="alphabetic",t.fillStyle=r.fontColor;let o=r.textAlpha||this.defaultGlobalAlpha;t.font=l.G.getFontDefine(r.fontSize,r.fontFamily,r.bold,r.italic);for(let e=0;e<this.paragraphs.length;e++){let i=this.paragraphs[e],s=new g.W;e<r.textParagraphProps.length&&(s=r.textParagraphProps[e]),t.globalAlpha=s.quote?m.nk:o,i.draw(t,a,r)}if(r.textParagraphProps.length>0){t.save();for(let e=0;e<this.paragraphs.length;e++){let i=this.paragraphs[e],s=new g.W;if(e<r.textParagraphProps.length){s=r.textParagraphProps[e],t.globalAlpha=o;let n=i.lines[0];if(s.listType===P.P0.ORDERED){let e=s.orderedListShowIndex,r=i.x+a.x+n.x-s.listSpace,o=i.y+a.y+n.y+n.boxAscent,h=s.paragraphListProp;t.font=l.G.getFontDefine(h.fontSize,h.fontFamily,h.bold,h.italic),t.fillText(`${e}`,r,o)}else if(s.listType===P.P0.UNORDERED){let e=i.x+a.x+n.x-s.listSpace,o=i.y+a.y+n.y+.5*n.height,l=s.paragraphListProp;this.drawUnOrderListPrefix(t,e,o,l.fontSize,r.fontColor,s.indent)}}}t.restore()}let i=this.getParaQuoteLine();for(let{start:e,end:r}of(i.length>0&&(t.globalAlpha=o,t.strokeStyle="#8F959E",t.lineWidth=2,t.lineCap="round"),t.setLineDash([]),t.beginPath(),i))t.moveTo(a.x+e.x,a.y+e.y),t.lineTo(a.x+r.x,a.y+r.y);i.length>0&&t.stroke()}drawUnOrderListPrefix(t,e,r,a,o,i){let s=i%3,n=.5*m.jv*a;t.beginPath(),0===s?(t.ellipse(e,r,n,n,0,0,2*Math.PI),t.fill()):1===s?(t.ellipse(e,r,n,n,0,0,2*Math.PI),t.lineWidth=1,t.strokeStyle=o,t.stroke()):2===s&&t.fillRect(e-n,r-n,2*n,2*n)}getParaQuoteLine(){let{textProps:t}=this,e=[],r=null;for(let a=0;a<this.paragraphs.length;a++){let o=this.paragraphs[a],i=new g.W;if(a<t.textParagraphProps.length&&(i=t.textParagraphProps[a]),i.quote){let t=m.wt;null===r&&((r=new y).start.x=t,r.start.y=o.y),r.end.x=t,r.end.y=o.y+o.height}else r&&(e.push(r),r=null)}return null!==r&&e.push(r),e}prepareCharList(t){let{textProps:e}=this,r=N.splitTextByLine(e.text);for(let t of(this.charMap.clear(),e.textCharProps||[]))for(let e of t.charIndexSet)this.charMap.set(e,t);let a=[],o=0;for(let i of r){let r=new p;for(let a of N.splitter.split(i)){let i=new d;for(let r of(i.isZh=a.isZh,A.P.splitIntlText(a.charList))){let a=this.charMap.get(o),{fontSize:s,fontFamily:n,bold:h,italic:d}=l.G.computeCharStyle(e,a);for(let e of N.measureTextCharWorkers)if(e.enable(a)){let l=e.measure(t,a,{charText:r,fontSize:s,fontFamily:n,bold:h,italic:d},this.asyncResourceMap);l.charIndex=o,i.width+=l.width,i.charList.push(l);break}o++}r.wordList.push(i)}r.paragraph.lastCharIndex=o-1,a.push(r)}return a}modifyLinePosX(t,e,r){return t===o.Z.TOP_OR_LEFT?0:t===o.Z.CENTER?.5*(r-e):t===o.Z.BOTTOM_OR_RIGHT?r-e:0}getRectNode(){let{x:t,y:e}=this.baseProps,r=0,a=0;for(let t=0;t<this.paragraphs.length;t++){let e=this.paragraphs[t];r=r>e.x+e.width?r:e.x+e.width,a+=e.height}return{id:"render-text",minX:t,minY:e,maxX:t+r,maxY:e+(a+=this.getQuoteDeltaHeight())}}modifyTextPosY(t,e,r){let a=0;return t===o.Z.CENTER?a=.5*(e-r):t===o.Z.BOTTOM_OR_RIGHT&&(a=e-r),a}getCharIndex(t){let{paragraphIndex:e,lineIndex:r,charIndex:a}=t;if(e<this.paragraphs.length){let t=this.paragraphs[e];if(r<t.lines.length){let e=t.lines[r];if(e.chars[a])return e.chars[a].charIndex}}return -1}getCharPositionByCharIndex(t){let e=D.M.cursorMoveToCharIndex(this,t);return e||new f.t(0,0,-1)}needRender(){return!!this.hasText()||!!(this.textProps.textParagraphProps.filter(t=>t.quote||t.listType!==P.P0.PARAGRAPH).length>0)}hasText(){return!!this.textProps.text}getText({suffix:t="/n",position:e}){let r="";return this.paragraphs.forEach((t,a)=>{if(e){let{startPos:o,endPos:i}=e;if(o.paragraphIndex>=a&&i.paragraphIndex<=a){let e=o.paragraphIndex===a?o.lineIndex:-1,s=o.paragraphIndex===a?o.charIndex:-1,n=i.paragraphIndex===a?i.lineIndex:-1,l=i.paragraphIndex===a?i.charIndex:-1;r+=t.getText(e,s,n,l)}}else r+=t.getText()}),r+=t}getTextPosition(t,e=new s.E){let{paragraphIndex:r,lineIndex:a,charIndex:o}=t,i=this.baseProps,n=this.paragraphs[r];if(0===n.lines.length||-1===a)return{point:new s.E(e.x+i.x+n.x+.5*n.width,e.y+i.y+n.y),lineHeight:this.textProps.fontSize};let l=n.lines[a];if(-1===o)return{point:new s.E(e.x+i.x+n.x+l.x,e.y+i.y+n.y+l.y),lineHeight:l.height};let h=l.chars[o];return{point:new s.E(e.x+i.x+n.x+l.x+h.x+h.width,e.y+i.y+n.y+l.y+h.y),lineHeight:l.height}}detect(t,e="half"){let r=t.x-this.baseProps.x,a=t.y-this.baseProps.y,o="full"===e,i=.5*!o;if(a<0)return{textCursorPosition:new f.t(0,0,-1),fontSize:this.textProps.fontSize};for(let t=0;t<this.paragraphs.length;t++){let e=this.paragraphs[t],s=r-e.x,n=a-e.y;if(!(n>e.height)&&!(n<0)){if(0===e.lines.length)return{textCursorPosition:new f.t(t,-1,-1),fontSize:this.textProps.fontSize};for(let r=0;r<e.lines.length;r++){let a=e.lines[r],l=s-a.x,h=n-a.y;if(h>0&&h<Number(a.height)){if(0===a.chars.length||l<a.chars[0].x+i*a.chars[0].width)return{textCursorPosition:new f.t(t,r,-1),fontSize:a.height};for(let e=0;e<a.chars.length-1;e++){let o=a.chars[e],s=a.chars[e+1];if(l>o.x+i*o.width&&l<s.x+i*s.width)return{textCursorPosition:new f.t(t,r,e),fontSize:a.height,isExactMatch:!0}}let e=a.chars[a.chars.length-1];if(l>e.x+i*e.width&&(!o||l<e.x+e.width))return{textCursorPosition:new f.t(t,r,a.chars.length-("\n"===e.text?2:1)),fontSize:a.height,isExactMatch:!0}}}}}let s=this.paragraphs[this.paragraphs.length-1],n=s.lines.length>0?s.lines[s.lines.length-1]:null;return n?(n.chars.length>0?n.chars[n.chars.length-1]:null)?{textCursorPosition:new f.t(this.paragraphs.length-1,s.lines.length-1,n.chars.length-1),fontSize:n.height}:{textCursorPosition:new f.t(this.paragraphs.length-1,s.lines.length-1,-1),fontSize:n.height}:{textCursorPosition:new f.t(this.paragraphs.length-1,-1,-1),fontSize:this.textProps.fontSize}}getContentRect(){let t=0,e=0,r=[];this.paragraphs.forEach(a=>{t=Math.max(t,...a.lines.map(t=>t.width)),e+=a.height,r.push(Math.min(...a.lines.map(t=>t.x)))});let a=this.getQuoteDeltaHeight();return e+=a,{x:this.baseProps.x+Math.min(...r),y:this.baseProps.y,width:t,height:e}}getWithIncludingParaSpace(){let t=0;return this.paragraphs.forEach(e=>{t=Math.max(t,...e.lines.map(t=>e.x+t.width))}),t}getQuoteDeltaHeight(){let t=0,e=null;for(let r of this.textProps.textParagraphProps)(null!==e&&e.quote)!==r.quote&&(t+=m.x_),e=r;return e&&e.quote&&(t+=m.x_),t}modifyParagraphSpaceY(t,e){return t!==e.quote?m.I9+m.x_:m.I9}modifyParagraphSpaceX(t,e,r,a){let o=0;if(r.quote&&(r.listType===P.P0.PARAGRAPH?o+=m.Ff:o+=m.Ky),r.listType===P.P0.PARAGRAPH)return o;if(this.isEmptyParaText(a)){let i=this.charMap.get(a.paragraph.lastCharIndex),s=l.G.computeCharStyle(e,i),n=l.G.measureText(t,"100",s.fontSize,s.fontFamily),h=l.G.measureText(t,r.orderedListShowIndex,s.fontSize,s.fontFamily);if(r.paragraphListProp={fontSize:s.fontSize,fontFamily:s.fontFamily,bold:!1,italic:!1},r.indent>0){r.listSpace=h.width+m.kQ*e.fontSize;let a=l.G.measureText(t,"10 ",e.fontSize,e.fontFamily);return n.width+(a.width+m.kQ*e.fontSize)*r.indent}return r.listSpace=h.width,o+n.width}let i=this.charMap.get(a.wordList[0].charList[0].charIndex),{fontSize:s}=e,{fontFamily:n}=e;i&&i.fontSize&&(s=i.fontSize),r.paragraphListProp={fontSize:s,fontFamily:n,bold:!1,italic:!1};let h=l.G.measureText(t,"100",s,n),d=l.G.measureText(t,r.orderedListShowIndex,s,n);if(r.indent>0){r.listSpace=d.width+m.kQ*e.fontSize;let a=l.G.measureText(t,"10 ",s,n);return o+h.width+(a.width+m.kQ*s)*r.indent}return r.listSpace=d.width+m.kQ*e.fontSize,o+h.width}alignXY(t){let{verticalAlign:e,horizonAlign:r,overflowVerticalAlign:a,overflowHorizonAlign:o}=this.textProps,i=this.getRectNode(),s=this.getContentRect(),n=s.height,l=s.width,h=e;n>t.height&&void 0!==a&&(h=a);let d=this.modifyTextPosY(h,t.height,n),p=r;for(let e of(l>t.width&&void 0!==o&&(p=o),this.paragraphs)){let t=e.limitW;for(let r of e.lines)r.x=this.modifyLinePosX(p,r.width,t)}this.baseProps.x=t.x,this.baseProps.y=t.y+d,this.baseProps.width=i.maxX-i.minX,this.baseProps.height=i.maxY-i.minY}isTail(t,e,r){return!!(t===this.paragraphs.length-1&&this.paragraphs[t].isTail(e,r))||!1}tailCursorPosition(){let t=this.paragraphs.length-1,e=this.paragraphs[t],r=e.lines.length-1,a=e.lines[r];if(0===a.chars.length)return new f.t(t,r,-1);let o=a.chars.length-1;return new f.t(t,r,o)}static splitTextByLine(t){if(!t)return[""];let e=t.split("\n");return e=e.map((t,r)=>r!==e.length-1?`${t}
`:t)}static measureTextCapbility(t,e){if(!t.text)return new s.E(0,0);let r=new s.E(0,0),a=N.splitTextByLine(t.text),o=0;for(let i of a){let a=N.splitter.split(i),s=0;for(let i of a)for(let a of A.P.splitIntlText(i.charList)){let i=t.overrideInfo?.characterStyleOverrides?.data?.[o]||-1,n=t.overrideInfo?.styleOverrideTable?.data?.[i]||{},{fontFamily:l="Noto Sans SC"}=t,{fontSize:h,fontWeight:d,italic:p}=function(t,e){let{fontSize:r=12,fontWeight:a="Regular",italic:o=!1}=t;return e?.fontWeight!==void 0&&(a=e.fontWeight),e?.italic!==void 0&&(o=e.italic),e?.fontSize!==void 0&&(r=e.fontSize),{fontSize:r,fontWeight:a,italic:o}}(t,n);for(let t of N.measureTextCharWorkers)if(t.enable(n)){let o=t.measure(e,n,{charText:a,fontSize:h,fontFamily:l,bold:"Bold"===d,italic:p},new Map);r.x+=o.width,s=Math.max(s,o.height);break}o++}r.y+=s}return r}}},313842:function(t,e,r){r.d(e,{c:()=>i});var a=r(73428),o=r(805433);class i{charIndex=0;boxAscent=0;boxDescent=0;constructor(t,e,r,a,o){this.text=t,this.x=e,this.y=r,this.width=a,this.height=o}getRect(){return new a.U(this.x,this.y,this.width,this.height)}contains(t){let e=this.getRect();return o.G.rectContains(t,e)}containsX(t){return t>=this.x&&t<=this.x+this.width}}},50552:function(t,e,r){r.d(e,{b:()=>x});var a=r(889171),o=r(73428),i=r(517917),s=r(805433);class n{enable(t){return!!t.hyperlink}draw(t,e,r,{startPos:a,text:n,width:l,boxAscent:h,height:d}){if(!r.hyperlink)return;r.backgroundColor&&s.G.drawTextBgColor(t,r.backgroundColor,new o.U(a.x,a.y-h,l,d),i.Eg);let p=e.fontSize;void 0!==r.fontSize&&(p=r.fontSize),t.save();let u=i.TJ;e.fontColor===i.Y&&(u=i.Y),t.fillStyle=u,t.font=s.G.getFontDefine(p,e.fontFamily,r.bold,r.italic),t.fillText(n,a.x,a.y),t.restore(),r.underline&&s.G.drawTextUnderLine(t,p,u,a,l),r.strikeThrough&&s.G.drawTextThroughLine(t,p,u,a,l,i.FE*h)}}class l{enable(t){return!!t.mentionDoc}draw(t,e,r,{startPos:a,boxAscent:n,width:l,height:h}){if(!r.mentionDoc)return;r.backgroundColor&&s.G.drawTextBgColor(t,r.backgroundColor,new o.U(a.x,a.y-n,l,h),i.Eg);let d=(r.mentionDoc.iconKey||"")+r.mentionDoc.title,p=e.fontSize;void 0!==r.fontSize&&(p=r.fontSize);let u=p/14,c={textColor:i.TJ}.textColor;if(e.fontColor===i.Y&&(c=i.Y),1===r.mentionDoc.iconType)t.save(),t.fillStyle=c,t.globalAlpha=1,t.font=s.G.getFontDefine(p,e.fontFamily,r.bold,r.italic),t.fillText(d,a.x,a.y),t.restore();else if(2===r.mentionDoc.iconType||0===r.mentionDoc.iconType){t.save();let o=(i.N_-2*i.PH)*u;if(t.fillStyle=c,t.globalAlpha=1,t.font=s.G.getFontDefine(p,e.fontFamily,r.bold,r.italic),t.fillText(d,a.x+o+i.LH*u,a.y),r?.mentionResource?.value){let e=i.PH*u;t.save(),t.drawImage(r.mentionResource.value,a.x+0,a.y-n+e,o,o),t.restore()}t.restore()}r.underline&&s.G.drawTextUnderLine(t,p,c,a,l),r.strikeThrough&&s.G.drawTextThroughLine(t,p,c,a,l,i.FE*n)}}var h=r(797615),d=r(161921);class p{enable(t){return!!t.mentionUser}draw(t,e,r,{startPos:a,boxAscent:n,height:l,width:h}){if(!r.mentionUser)return;let p=d.I.getInstance();r.backgroundColor&&s.G.drawTextBgColor(t,r.backgroundColor,new o.U(a.x,a.y-n,h,l),i.Eg);let{fontSize:u}=e;void 0!==r.fontSize&&(u=r.fontSize);let c=(u-1)/14,x=this.computeMentionUserStyle(p.getMentionPermission(r.mentionUser.uid)??r.mentionUser.docPermission);if(t.save(),t.beginPath(),t.fillStyle=x.bgColor,t.globalAlpha=x.bgAlpha,t.roundRect(a.x,a.y-n,h-2*i.df,l-2*i.df,.5*l-i.df),t.fill(),t.fillStyle=x.textColor,t.globalAlpha=1,t.font=s.G.getFontDefine(u,e.fontFamily,r.bold,r.italic),t.fillText(r.mentionUser.name,a.x+i.zg*c,a.y-i.df),r?.mentionResource?.value){let e=(i.N_-2*i.w1-2*i.df)*c,o=.5*e,s=i.$S*c,l=(i.df+i.w1)*c;t.save(),t.beginPath(),t.ellipse(a.x+o+s,a.y-n+o+l,o,o,0,0,2*Math.PI),t.clip(),t.drawImage(r.mentionResource.value,a.x+s,a.y-n+l,e,e),t.restore()}let g=e.fontColor;r.color&&(g=r.color),r.underline&&s.G.drawTextUnderLine(t,u,g,a,h),r.strikeThrough&&s.G.drawTextThroughLine(t,u,g,a,h,i.FE*n),t.restore()}computeMentionUserStyle(t){switch(t){case h.yy.READ:return{textColor:i.GM,bgColor:i.xv,bgAlpha:i.X9};case h.yy.WRITE:return{textColor:i.Cg,bgColor:i.P3,bgAlpha:i.pI};case h.yy.CURRENT_USER:return{textColor:i.I0,bgColor:i.ko,bgAlpha:i.AK};case h.yy.NONE_PERMISSION:default:return{textColor:i.GN,bgColor:i.QJ,bgAlpha:i.Ix}}}}class u{enable(t){return!0}draw(t,e,r,{text:a,startPos:n,boxAscent:l,width:h,lineHeight:d,lineStartPos:p}){if(void 0!==r.backgroundColor&&""!==r.backgroundColor){let e=i.Eg;s.G.drawTextBgColor(t,r.backgroundColor,new o.U(n.x,p.y,h,d),e)}t.save();let u=e.fontColor;r.color&&(u=r.color),t.fillStyle=u;let c=e.fontSize;void 0!==r.fontSize&&(c=r.fontSize),t.font=s.G.getFontDefine(c,e.fontFamily,r.bold,r.italic),t.fillText(a,n.x,n.y),r.underline&&s.G.drawTextUnderLine(t,c,u,n,h),r.strikeThrough&&s.G.drawTextThroughLine(t,c,u,n,h,i.FE*l),t.restore()}}class c{draw(t,e,r){let{text:a,boxAscent:n,startPos:l,width:h,height:d}=r;if(e.backgroundColor){let r=i.Eg;s.G.drawTextBgColor(t,e.backgroundColor,new o.U(l.x,l.y-n,h,d),r)}t.fillText(a,l.x,l.y),e.underline&&a.length>0&&s.G.drawTextUnderLine(t,e.fontSize,e.fontColor,l,h),e.strikeThrough&&a.length>0&&s.G.drawTextThroughLine(t,e.fontSize,e.fontColor,l,h,i.FE*n)}enable(t){return!0}}class x{chars=[];x=0;y=0;width=0;height=0;boxAscent=0;boxDescent=0;textCharStyleList=[];static lineTextDrawer=[new n,new l,new p,new u];static simpleLineTextDrawer=new c;setShapeProp(t,e,r){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.boxAscent=e,this.boxDescent=r}draw(t,e,r){if(0===this.textCharStyleList.length){let o=new a.E(this.x+e.x,this.y+e.y+this.boxAscent);this.drawSimpleText(t,o,0,this.chars.length,r)}else this.mixDraw(t,e,r)}mixDraw(t,e,r){let o=[...this.textCharStyleList];o=o.sort((t,e)=>t.startIndex-e.startIndex);let i=new a.E(this.x+e.x,this.y+e.y+this.boxAscent),s=0,n=this.chars[0].charIndex;for(;s<this.chars.length;)if(o.length>0){let e=o[0];s===e.startIndex-n?(this.drawTextCharStyle(t,e,i,r),s=e.endIndex-n+1,o.shift()):(this.drawSimpleText(t,i,s,e.startIndex-n,r),s=e.startIndex-n)}else{this.drawSimpleText(t,i,s,this.chars.length,r);break}}drawTextCharStyle(t,e,r,o){let i="",s=r,n=0,l=0,h=0,d=0;for(let t=e.startIndex;t<=e.endIndex;t++){let r=t-this.chars[0].charIndex,o=this.chars[r];n+=o.width,l=o.height,h=o.boxAscent,d=o.boxDescent,i+=o.text,t===e.startIndex&&(s=new a.E(s.x+o.x,s.y))}for(let p of x.lineTextDrawer)if(p.enable(e))return void p.draw(t,o,e,{text:i,startPos:s,width:n,height:l,boxAscent:h,boxDescent:d,lineHeight:this.height,lineStartPos:new a.E(r.x,r.y-this.boxAscent)})}drawSimpleText(t,e,r,o,i){let s="",n=new a.E(e.x,e.y),l=0;for(let t=r;t<o;t++){let e=this.chars[t];s+=e.text,l+=e.width,t===r&&(n.x+=e.x,n.y+=e.y)}0!==l&&x.simpleLineTextDrawer.draw(t,i,{text:s,startPos:n,width:l,height:this.height,boxAscent:this.boxAscent,boxDescent:this.boxDescent,lineHeight:this.height,lineStartPos:e})}getCharRect(t=-1,e=-1,r=new a.E){let i=-1===e?this.chars.length-1:e;i=i>this.chars.length-1?this.chars.length-1:i;let s=t<0?this.x:this.x+this.chars[t].x+this.chars[t].width,n=t<0?this.y:this.y+this.chars[t].y,l=this.x+this.chars[i].x+this.chars[i].width,h=this.y+this.chars[i].y+this.height;return new o.U(s+r.x,n+r.y,l-s,h-n)}getRect(t=new a.E){let e=this.x,r=this.y;if(0===this.chars.length)return new o.U(e,r,0,0);let i=this.chars[this.chars.length-1],s=this.x+i.x+i.width,n=this.y+i.y+this.height;return new o.U(e+t.x,r+t.y,s-e,n-r)}getText(t=-1,e=-1){let r=-1===t?0:t,a=-1===e?this.chars.length-1:e;a=a>this.chars.length-1?this.chars.length-1:a;let o="";for(let t=r;t<=a;t++)o+=this.chars[t].text;return o}detectCharIndex(t){for(let e=0;e<this.chars.length;e++)if(this.chars[e].contains(new a.E(t.x-this.x,t.y-this.y)))return e;return -1}detectCursor(t){if(0===this.chars.length||t<=this.x+.5*this.chars[0].width)return -1;let e=t-this.x;for(let t=1;t<this.chars.length;t++){let r=this.chars[t-1],a=this.chars[t];if(e>=r.x+.5*r.width&&e<a.x+.5*a.width)return t-1}return this.chars.length-1}isTail(t){return -1===t&&0===this.chars.length||t===this.chars.length-2&&"\n"===this.chars[t+1].text||t===this.chars.length-1}}},517917:function(t,e,r){r.d(e,{$S:()=>B,$U:()=>tt,AK:()=>E,Bh:()=>n,Cg:()=>b,Eg:()=>l,FE:()=>W,Ff:()=>d,GM:()=>P,GN:()=>M,GX:()=>H,Hu:()=>j,I0:()=>L,I9:()=>s,IU:()=>Z,Ix:()=>C,Ky:()=>u,LH:()=>N,MV:()=>$,MY:()=>V,NU:()=>te,N_:()=>S,Ne:()=>F,O8:()=>i,P3:()=>m,PH:()=>_,QJ:()=>w,Qs:()=>X,RR:()=>J,TJ:()=>D,UG:()=>G,U_:()=>q,WE:()=>U,X3:()=>o,X9:()=>f,Y:()=>a,Y7:()=>z,ZH:()=>O,df:()=>I,iD:()=>Q,jv:()=>g,kQ:()=>Y,ko:()=>k,nk:()=>x,pI:()=>T,qE:()=>K,s1:()=>tr,tt:()=>p,w1:()=>R,wt:()=>c,x_:()=>h,xv:()=>y,zg:()=>v,zo:()=>A});let a="#ffffff",o=65536,i=600,s=0,n=0,l=.2,h=4,d=10,p=1,u=2,c=1,x=.5,g=.33333,y="#94B4FF",f=.18,P="#1F2329",m="#94B4FF",T=.18,b="#1F2329",w="#1F2329",C=.1,M="#646A73",k="#1456F0",E=.87,L=a,S=20,B=2,R=1,I=1,v=24,O=34,A=18,D="#3370ff",N=0,_=2,W=.34,H=1/14,F=.2,G=.05,Y=1/18,U=4,X=4,z=3,Z=14,V=12,q=1,j=2,J=40,$=22,Q=20,K=4,tt=4,te=20,tr=24},459037:function(t,e,r){r.d(e,{f:()=>tu});var a=r(842327);class o{getInfo(t,e,r){for(let a of this.handlers){let o=a.handle(t,e,r.globalTheme,r.isDark);if(null!==o)return o}return this.normalHandleInfo(t,e,r)}normalHandleInfo(t,e,r){return this.handlers[this.handlers.length-1].handle(t,e,r.globalTheme,r.isDark)}}var i=r(402041);class s{handle(t,e,r,a=!1){let o=t.fillColorCode,s=t.fillCodeType;return void 0!==o&&void 0!==s&&i.P.isCustomColor(s,o)?{color:i.P.getCustomColor(o,a),alpha:i.P.getCustomAlpha(o,a)}:null}}var n=r(649356),l=r(575077),h=r(463954),d=r(827555);class p{handle(t,e,r,a=!1){return e!==n.l.SECTION?null:{color:this.getColorFromTheme(t.fillColorCode,e,r,a),alpha:1}}getColorFromTheme(t,e,r,a=!1){let o=t;-1===o&&(o=l.x[r][e]);return a?h.W[r][o]:d.c[r][o]}}var u=r(116141),c=r(871058),x=r(577304);class g{handle(t,e,r,a){let o=t.fillColorCode;return -1===o&&(o=u.o[r][e]),{color:a?c.c[r][o]:x.z[r][o],alpha:1}}}var y=r(589549),f=r(769972),P=r(228760);class m{handle(t,e,r,a){if(e!==n.l.STICKY_NOTE)return null;let o=t.fillColorCode;return void 0===o&&(o=-1),-1===o&&(o=y.L[r][e]),{color:(a?f.j:P.x)[r][o],alpha:1}}}class T extends o{type=a.S.Fill;handlers=[new m,new s,new p,new g]}var b=r(103046),w=r(923183);class C{handle(t,e,r,a=!1){if(!this.enable(t,e,r,a))return null;let o=this.getBorderColor(t,e,r,a),i=this.getBorderAlpha(t,e,r,a);return{color:o,alpha:i,width:this.getBorderWidth(t,e,r,a),dashType:this.getBorderStyle(t,e,r)}}getBorderAlpha(t,e,r,a=!1){return 1}getBorderWidth(t,e,r,a=!1){let o=t.borderWidthCode;return -1===o&&(o=b.$[r][e]),o}getBorderStyle(t,e,r){let a=t.borderStyleCode;return void 0===a&&(a=-1),-1===a&&(a=w.m[r][e]),a}}class M extends C{enable(t,e,r,a=!1){if(void 0===t.borderColorCode)return!1;let o=t.borderColorCodeType,s=t.borderColorCode;return!!i.P.isCustomColor(o,s)}getBorderColor(t,e,r,a=!1){return i.P.getCustomColor(t.borderColorCode,a)}getBorderAlpha(t,e,r,a=!1){return i.P.getCustomAlpha(t.borderColorCode,a)}getBorderWidth(t,e,r,a=!1){return e===n.l.PAINT?t.borderHighPrecisionWidth:super.getBorderWidth(t,e,r,a)}}var k=r(95265),E=r(536599);class L extends C{enable(t,e,r,a=!1){return e===n.l.SECTION}getBorderColor(t,e,r,a){let o=t.borderColorCode;if(-1===o)if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return a?"#ffffff":"#000000";else o=t.fillColorCode;return -1===o&&(o=l.x[r][e]),a?k.n[r][o]:E.x[r][o]}getBorderAlpha(t,e,r,a=!1){return i.P.isCustomColor(t.fillCodeType,t.fillColorCode)?.15:1}}var S=r(281255),B=r(384764),R=r(939780);class I extends C{enable(t,e,r,a=!1){return e===n.l.PAINT}getBorderColor(t,e,r,a=!1){let o=void 0===t.borderColorCode?-1:t.borderColorCode;return -1===o&&(o=S.d[r][e]),a?B.e[r][o]:R.z[r][o]}getBorderWidth(t){return t.borderHighPrecisionWidth}}var v=r(783499),O=r(783444),A=r(437861),D=r(132874);class N extends C{fillRelatedCategory=new Set([n.l.STATUS,n.l.DATA,n.l.OPERATION,n.l.STEP,n.l.DECISION,n.l.CONTAINER,n.l.OTHERS,n.l.NOTE_SHAPE,n.l.STATE_START,n.l.COMPONENT,n.l.LIFE_LINE_OBJECT,n.l.ACTIVATION,n.l.PREDEFINED_PROCESS,n.l.CONDITION_SHAPE]);enable(t,e,r,a=!1){return!!this.fillRelatedCategory.has(e)}getBorderColor(t,e,r,a=!1){let o=void 0===t.borderColorCode?-1:t.borderColorCode,{fillColorCode:s}=t;if(-1===o)if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return"#000000";else if(s>-1)if(a){let t=v.a[r][s];return i.P.getColorFromARGBNumber(t)}else{let t=O.M[r][s];return i.P.getColorFromARGBNumber(t)}else{let t;return o=u.o[r][e],t=a?v.a[r][o]:O.M[r][o],i.P.getColorFromARGBNumber(t)}return a?A.M[r][o]:D.X[r][o]}getBorderAlpha(t,e,r,a=!1){let o=void 0===t.borderColorCode?-1:t.borderColorCode,{fillColorCode:s}=t;if(-1===o){let o,n=1;if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return .15;if(s>-1)o=a?v.a[r][s]:O.M[r][s];else{let t=u.o[r][e];o=a?v.a[r][t]:O.M[r][t]}return 0===(n=i.P.getAlphaFromARGBNumber(o))?1:n}return 1}}var _=r(614405);class W extends C{enable(t,e,r,a=!1){return!0}getBorderColor(t,e,r,a=!1){let o=void 0===t.borderColorCode?-1:t.borderColorCode;return(-1===o&&(o=_.i[r][e]),a)?A.M[r][o]:D.X[r][o]}}var H=r(937093),F=r(579537);class G extends C{enable(t,e,r,a){return e===n.l.CONNECT&&void 0!==t.connectColor}getBorderColor(t,e,r,a){return i.P.isCustomColor(t.fillCodeType,t.connectColor)?i.P.getCustomColor(t.connectColor,a):i.P.getConnectColor(t.connectColor,r,a)}getBorderAlpha(t,e,r,a=!1){return i.P.isCustomColor(t.fillCodeType,t.connectColor)?i.P.getAlphaFromARGBNumber(t.connectColor):1}getBorderWidth(t,e,r,a=!1){let o=t.connectWidthCode;return -1===o&&(o=H.P7.THIN),o}getBorderStyle(t,e,r){let a=t.connectStyleCode;return -1===a&&(a=F.T[r][e]),a}}var Y=r(52957),U=r(255237),X=r(290583);class z extends C{enable(t,e,r,a=!1){return e===n.l.ICON||e===n.l.ICON_UD}getBorderColor(t,e,r,a=!1){let o=void 0===t.iconBorderColor?-1:t.iconBorderColor;return -1===o&&(o=X.D[r][e]),a?Y.V[r][o]:U.I[r][o]}getBorderWidth(t,e,r,a=!1){return 2}}class Z extends o{type=a.S.Border;handlers=[new G,new L,new M,new I,new z,new N,new W]}var V=r(903362),q=r(69624),j=r(970262);class J{handle(t,e,r,a){if(!this.enable(t,e,r,a))return null;let o=this.getTextBgColor(t,e,r,a);return{color:this.getTextColor(t,e,r,a),bgColor:o}}getTextBgColor(t,e,r,a){let o=void 0===t.textBackgroundColorCode?-1:t.textBackgroundColorCode;return -1===o&&(o=V.G[r][e]),a?q.$[r][o]:j.o[r][o]}}var $=r(569250),Q=r(562563),K=r(195706);class tt extends J{enable(t,e,r,a){return!0}getTextColor(t,e,r,a){let o=void 0===t.textColorCode?-1:t.textColorCode;return(-1===o&&(o=$.F[r][e]),a)?Q.P[r][o]:K.C[r][o]}}var te=r(514664),tr=r(223922);class ta extends J{fillRelatedCategory=new Set([n.l.STATUS,n.l.DATA,n.l.OPERATION,n.l.STEP,n.l.DECISION,n.l.CONTAINER,n.l.OTHERS,n.l.NOTE_SHAPE,n.l.STATE_START,n.l.COMPONENT,n.l.LIFE_LINE_OBJECT,n.l.ACTIVATION,n.l.PREDEFINED_PROCESS,n.l.CONDITION_SHAPE,n.l.TABLE]);enable(t,e,r,a){return this.fillRelatedCategory.has(e)}getTextColor(t,e,r,a){let o=void 0===t.textColorCode?-1:t.textColorCode,s=void 0===t.fillColorCode?-1:t.fillColorCode;if(-1===o)if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return this.getCustomFillTextColor(t,a);else if(s>-1)return a?te.D[r][s]:tr.f[r][s];else return(o=u.o[r][e],a)?te.D[r][o]:tr.f[r][o];return a?Q.P[r][o]:K.C[r][o]}getCustomFillTextColor(t,e=!1){let r=t.fillColorCode,a="#ffffff",o=e?"#000000":"#1f2329",s=i.P.blenderARGBWithRGB(`#${r?.toString(16)}`,e?"#1a1a1a":"#ffffff");return i.P.getRGBColorContrast(a,s)>i.P.getRGBColorContrast(o,s)?a:o}}class to extends J{enable(t,e,r,a){return e===n.l.MIND_MAP_ROOT}getTextColor(t,e,r,a){let o=void 0===t.textColorCode?-1:t.textColorCode;if(-1!==o)if(a)return Q.P[r][o];else return K.C[r][o];let i=void 0===t.fillColorCode?-1:t.fillColorCode;return(-1===i&&(i=u.o[r][n.l.MIND_MAP_ROOT]),a)?te.D[r][i]:tr.f[r][i]}}class ti extends J{enable(t,e,r,a){return e===n.l.MIND_MAP_CHILD_OR_TEXT}getTextColor(t,e,r,a){let o=void 0===t.textColorCode?-1:t.textColorCode;if(-1!==o)if(a)return Q.P[r][o];else return K.C[r][o];let i=void 0===t.fillColorCode?-1:t.fillColorCode;return(-1===i&&(i=u.o[r][n.l.MIND_MAP_CHILD_OR_TEXT]),a)?te.D[r][i]:tr.f[r][i]}}var ts=r(288899),tn=r(37645),tl=r(75670),th=r(754405);class td extends J{enable(t,e,r,a){return e===n.l.SECTION}getTextColor(t,e,r,a){let o=t.fillColorCode;if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return this.getCustomFillTextColor(t,a);-1===o&&(o=l.x[r][e]);return a?ts.n[r][o]:tn.E[r][o]}getTextBgColor(t,e,r,a){let o=t.fillColorCode;if(i.P.isCustomColor(t.fillCodeType,t.fillColorCode))return i.P.getCustomColor(t.fillColorCode,a);-1===o&&(o=l.x[r][e]);return a?tl.g[r][o]:th.u[r][o]}getCustomFillTextColor(t,e=!1){let r=t.fillColorCode,a="#ffffff",o=e?"#000000":"#1f2329",s=i.P.blenderARGBWithRGB(`#${r?.toString(16)}`,e?"#1a1a1a":"#ffffff");return i.P.getRGBColorContrast(a,s)>i.P.getRGBColorContrast(o,s)?a:o}}class tp extends o{type=a.S.TextColor;handlers=[new to,new ti,new td,new ta,new tt]}class tu{static instance=null;providers=new Map([[a.S.Fill,new T],[a.S.Border,new Z],[a.S.TextColor,new tp]]);static getInstance(){return this.instance||(this.instance=new tu),this.instance}getProvider(t){return this.providers.get(t)}getFillInfo(t,e,r){return this.getProvider(a.S.Fill).getInfo(t,e,r)}getBorderInfo(t,e,r){return this.getProvider(a.S.Border).getInfo(t,e,r)}getTextColorInfo(t,e,r){return this.getProvider(a.S.TextColor).getInfo(t,e,r)}}},842327:function(t,e,r){var a,o;r.d(e,{S:()=>a}),(o=a||(a={}))[o.Fill=0]="Fill",o[o.Border=1]="Border",o[o.TextColor=2]="TextColor"},178177:function(t,e,r){r.d(e,{Iw:()=>s,il:()=>n});var a=r(166887),o=r(117866);function i(t,e){return new a.O(t.x-e.x,t.y-e.y)}function s(t,e,r){let a=i(e,t),o=i(r,e);return a.dotProduct(o)}function n(t,e,r,a){if((0,o.Zo)(t,e)||(0,o.Zo)(e,r))return!0;let i=s(t,e,r),n=a*a/2,l=n+1;return i>0&&(l=Math.abs(t.x*e.y+e.x*r.y+r.x*t.y-(t.x*r.y+e.x*t.y+r.x*e.y))/2),l<n}},805433:function(t,e,r){r.d(e,{G:()=>g,U:()=>x});var a=r(771584),o=r(889171),i=r(755928),s=r(291418),n=r(797615),l=r(517917),h=r(428202),d=r(920570),p=r(334905),u=r(318440),c=r(470608);let x=.5522848,g={clearDataPoint(t){"number"!=typeof t.x&&(t.x=0),"number"!=typeof t.y&&(t.y=0)},doubleMiddleInsertPoint(t,e,r){let a=new o.E(.5*(t.x+e.x),t.y),i=new o.E(.5*(t.x+e.x),e.y);r.push(t,a,i,e)},circleContains:(t,e,r)=>(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)<r*r,basicGetArrowPoint(t,e,r,o){let i=g.lineAngle(t,e),s=a.c.generateMatrix().translate(t.x,t.y).rotate2(i);return{a:s.crossPoint(r),b:s.crossPoint(o)}},getLArrowPoint(t,e,r=5){let a=new o.E(r,r),i=new o.E(r,-r);return g.basicGetArrowPoint(t,e,a,i)},getRArrowPoint(t,e,r=5){let a=g.distance(t,e),i=new o.E(a-r,r),s=new o.E(a-r,-r);return g.basicGetArrowPoint(t,e,i,s)},clonePoints(t){let e=[];for(let r of t)e.push(new o.E(r.x,r.y));return e},middlePoint:(t,e)=>new o.E(.5*(t.x+e.x),.5*(t.y+e.y)),distance:(t,e)=>Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),lineAngle(t,e){if(.001>Math.abs(t.x-e.x))if(.001>Math.abs(t.y-e.y))return 0;else return e.y>t.y?.5*Math.PI:-(.5*Math.PI);return Math.atan2(e.y-t.y,e.x-t.x)},pad:(t,e)=>({id:t.id,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e}),offset:(t,e)=>({id:t.id,minX:t.minX+e.x,minY:t.minY+e.y,maxX:t.maxX+e.x,maxY:t.maxY+e.y}),stretch(t,e){let r={...t};return e.x<0&&Math.abs(e.x)>t.maxX-t.minX?(r.maxX=r.minX,r.minX+=e.x):r.maxX+=e.x,e.y<0&&Math.abs(e.y)>t.maxY-t.minY?(r.maxY=r.minY,r.minY+=e.y):r.maxY+=e.y,r},getBounds(t,e="getBounds"){let r=[],a=[];for(let e of t)r.push(e.maxX,e.minX),a.push(e.maxY,e.minY);return{id:e,minX:Math.min(...r),maxX:Math.max(...r),minY:Math.min(...a),maxY:Math.max(...a)}},getBoundsByPoints(t){let e=[],r=[];for(let a of t)e.push(a.x),r.push(a.y);return{id:"getBounds",minX:Math.min(...e),maxX:Math.max(...e),minY:Math.min(...r),maxY:Math.max(...r)}},getPoints:t=>[new o.E(t.minX,t.minY),new o.E(t.maxX,t.minY),new o.E(t.minX,t.maxY),new o.E(t.maxX,t.maxY)],rectContains:(t,e)=>t.x>e.x&&t.x<e.x+e.width&&t.y>e.y&&t.y<e.y+e.height,rectContains2:(t,e)=>t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY,rectPointContains(t,e){let{topLeft:r,topRight:a,bottomRight:o,bottomLeft:i}=e,s=[r,a,o,i];for(let e=0;e<4;e++){let r=s[e],a=s[(e+1)%4];if((a.x-r.x)*(t.y-r.y)-(a.y-r.y)*(t.x-r.x)<0)return!1}return!0},centerPoint:t=>({x:t.x+.5*t.width,y:t.y+.5*t.height}),topPoint:t=>({x:t.x+.5*t.width,y:t.y}),rightPoint:t=>({x:t.x+t.width,y:t.y+.5*t.height}),bottomPoint:t=>({x:t.x+.5*t.width,y:t.y+t.height}),leftPoint:t=>({x:t.x,y:t.y+.5*t.height}),topLeft:t=>({x:t.x,y:t.y}),topRight:t=>({x:t.x+t.width,y:t.y}),bottomLeft:t=>({x:t.x,y:t.y+t.height}),bottomRight:t=>({x:t.x+t.width,y:t.y+t.height}),setDashes(t,e,r){if(t!==i.N.None&&t!==i.N.Solid){if(t===i.N.Dash1)return void(.1>Math.abs(e-6)?r.setLineDash([8,8]):.1>Math.abs(e-4)?r.setLineDash([6,6]):r.setLineDash([4,4]));if(t===i.N.Dash2)return void r.setLineDash([e,e+2]);r.setLineDash([4,2])}},calculateBezierHandleLength:t=>4/3*Math.tan(t/4),measureText(t,e,r,a,o=!1,i=!1){let s;t.font=this.getFontDefine(r,a,o,i);let n=t.measureText(e);return s="Noto Sans SC"===a?c.P.getLineHeightRatio(c.P.getMatchFontFamily(e))*r:n.fontBoundingBoxAscent+n.fontBoundingBoxDescent,{width:n.width,height:s,boxAscent:n.fontBoundingBoxAscent,boxDescent:n.fontBoundingBoxDescent}},ctxForMeasureText:new OffscreenCanvas(0,0).getContext("2d"),measureTextCapability(t){return d.x.measureTextCapbility(t,this.ctxForMeasureText)},computeOverrideStyle(t,e,r=!0,a=1){let{textCharProps:o}=t.textProps,i=[];if(0!==o.length){let s=t.getCharIndex(e);for(let t of o){let e=t.clone(),o=new Set;for(let e of t.charIndexSet){let t=e;e>s&&(r?t+=a:t-=a,o.add(t)),(r||e<=s-a)&&o.add(e)}e.charIndexSet=o,i.push(e)}}return i.filter(t=>0!==t.charIndexSet.size)},convertPathToSvg(t,e){let r="";for(let a of(r+=`<svg width="24" height="24" fill="${e}" xmlns="http://www.w3.org/2000/svg">
`,t))r+=`    <path d="${a}"/>
`;return r+"</svg>"},svgHashCode:t=>(0,s.Z)(t).toString(),decodeImageFromUrl:t=>new Promise((e,r)=>{let a=new Image;a.src=t,a.decode().then(()=>{e(a)}).catch(t=>{r(t)})}),decodeImageFromSvg:t=>new Promise((e,r)=>{let a=new Blob([t],{type:"image/svg+xml"}),o=URL.createObjectURL(a),i=new Image;i.src=o,i.decode().then(()=>{e(i)}).catch(t=>{r(t)})}),findNoGroupParent(t){let{parent:e}=t;for(;e&&e.id!==h.r.id&&e.type===n.Jq.DirectFocusGroup;)e=e.parent;return e},getTotalChildNodeCount(t){let e=t.mindMapChildren,r=0;for(let t of e)r+=1,r+=this.getTotalChildNodeCount(t);return r},drawConditionShapeTitleFill(t,e,r,a,o){t.moveTo(e.x,e.y),t.lineTo(e.x,e.y+r),t.lineTo(e.x+a-o,e.y+r),t.lineTo(e.x+a,e.y+r-o),t.lineTo(e.x+a,e.y),t.closePath()},drawConditionShapeTitlePath(t,e,r,a,o){t.moveTo(e.x,e.y+r),t.lineTo(e.x+a-o,e.y+r),t.lineTo(e.x+a,e.y+r-o),t.lineTo(e.x+a,e.y)},compressTextContentByWidth(t,e,r){if(t.measureText(e).width<r)return e;let a=t.measureText("...").width,o=c.P.splitIntlText(e),i=0,s=0;for(let e of o){if(i>r-a)break;i+=t.measureText(e).width,s++}return`${o.slice(0,s-1).join("")}...`},rotateOnCenter(t,e){let{x:r,y:o,width:i,height:s}=t,n=r+i/2,l=o+s/2,h=a.c.generateMatrix().translate(n,l),d=a.c.generateMatrix().rotate2(-e*Math.PI/180),p=a.c.generateMatrix().translate(-n,-l);return h.crossProduct(d).crossProduct(p)},getFontDefine(t,e,r=!1,a=!1){let o=`${t.toString()}px ${e}`;return o=r?`700 ${o}`:`400 ${o}`,a&&(o=`italic ${o}`),o},drawTextUnderLine(t,e,r,a,o){let i=l.Ne*e;t.save(),t.setLineDash([]),t.strokeStyle=r,t.lineWidth=l.UG*e,t.beginPath(),t.moveTo(a.x,a.y+i),t.lineTo(a.x+o,a.y+i),t.stroke(),t.restore()},drawTextThroughLine(t,e,r,a,o,i){t.save(),t.setLineDash([]),t.strokeStyle=r,t.lineWidth=l.GX*e,t.beginPath(),t.moveTo(a.x,a.y-i),t.lineTo(a.x+o,a.y-i),t.stroke(),t.restore()},drawTextBgColor(t,e,r,a=0){t.save(),t.fillStyle=e,t.fillRect(r.x-a,r.y-a,r.width+2*a,r.height+2*a),t.restore()},computeCharStyle(t,e){let{fontSize:r,bold:a,italic:o}=t,{fontFamily:i}=t;return e?.bold!==void 0&&(a=e.bold),e?.italic!==void 0&&(o=e.italic),e?.fontSize!==void 0&&(r=e.fontSize),{fontFamily:i,fontSize:r,bold:a,italic:o}},computeFourPoint(t){let{x:e,y:r,width:a,height:i,angle:s}=t,n=-s*Math.PI/180,l=Math.cos(n),h=Math.sin(n),d=a*l,p=a*h,u=i*l,c=i*h,x=new o.E(e,r),g=new o.E(e+d,r-p);return{a:x,b:g,c:new o.E(e+d+c,r-p+u),d:new o.E(e+c,r+u)}},isNearbyPolyLineBreakPoint(t,e,r=1){let a=[...t];for(let t of(a.pop(),a.shift(),a))if(g.distance(t,e)<r)return!0;return!1},isNearbyEndPoint(t,e,r=1){let a=[];if(0===t.length)return!1;for(let o of(1===t.length?a.push(t[0]):(a.push(t[0]),a.push(t[t.length-1])),a))if(g.distance(o,e)<r)return!0;return!1},drawMindMapHotBox(t,e){t.save(),t.strokeStyle="#e03838",t.lineWidth=1;let r=e.getHotBox();r&&(t.strokeRect(r.x,r.y,r.width,r.height),t.restore())},drawMindMapLayoutBox(t,e){let r=new o.E;if(e.parent){let t=e.parent.globalBaseProps;r.x=t.x,r.y=t.y}t.save(),t.strokeStyle="#000000",t.lineWidth=1;let a=e.getLayoutBox()?.rect;a&&(t.strokeRect(r.x+a.x,r.y+a.y,a.width,a.height),t.restore())},matrixTranspose(t){let e=[],r=t.length,a=t[0].length;for(let t=0;t<a;t++){let t=[];for(let e=0;e<r;e++)t.push(null);e.push(t)}for(let r=0;r<t.length;r++){let a=t[r];for(let t=0;t<a.length;t++)e[t][r]=a[t]}return e},computeViewportInfo(t,e,r){let a=0,o=0,i=0,s=0;r&&4===r.length&&(i=r[0],o=r[1],s=r[2],a=r[3]);let n=e.width-a-o,l=e.height-i-s,h=Math.min(Math.max(Math.min(n/t.width,l/t.height),p.vL),1);return{x:t.x-a/h-.5*(n/h-t.width),y:t.y-i/h-.5*(l/h-t.height),scale:h}},isContainerType:t=>t===n.Jq.DirectFocusGroup||t===n.Jq.Table||t===n.Jq.Section||t===n.Jq.MindMapNode||t===n.Jq.LifelineObject,addFocusNodePlaceholder(t,e,r){[n.Jq.CompositeShape,n.Jq.Text,n.Jq.StickyNote,n.Jq.Connector].includes(t.type)&&e.editTextInfo&&e.editTextInfo.node===t&&r.addOrUpdateAuxiliaryGraphic(u.T.SingleSelectPlaceHolder,{node:t,placeholder:r.globalConfig.textConfig.placeholder})},getTextContentBoundsInAngle(t,e,r,a){let{top:o,right:i,bottom:s,left:n}=t;return 90===a?(t.top=n,t.right=r-o,t.bottom=i,t.left=r-s):180===a?(t.top=r-s,t.right=e-n,t.bottom=r-o,t.left=e-i):270===a&&(t.top=e-i,t.right=s,t.bottom=e-n,t.left=o),t},verticalRotateTextBoxRect(t){let{width:e,height:r}=t,{a,b:o,c:i,d:s}=g.computeFourPoint(t),{minX:n,minY:l,maxX:h,maxY:d}=g.getBoundsByPoints([a,o,i,s]),p={x:(n+h)/2,y:(l+d)/2};return{x:p.x-r/2,y:p.y-e/2,width:r,height:e}},rotatePoint(t,e,r,a,o){let i=-o*Math.PI/180,s=Math.cos(i),n=Math.sin(i),l=t-r,h=e-a;return{x:r+l*s-h*n,y:a+l*n+h*s}},getPadding(t){let e=0,r=0,a=0,o=0;return t&&4===t.length&&(a=t[0],r=t[1],o=t[2],e=t[3]),{topPadding:a,bottomPadding:o,rightPadding:r,leftPadding:e}},isTableLike:t=>t===n.Jq.Table||t===n.Jq.TableER||t===n.Jq.TableUML||t===n.Jq.CombinedFragment}},188893:function(t,e,r){r.d(e,{Q5:()=>n});var a=r(797615),o=r(889171),i=r(805433),s=r(15544);let n=(t,e,r)=>t.isPolyLine()?d(t,e,r):t.isCurveLine()?h(t,e,r):[e.point,r.point],l=(t,e)=>{let r=[],{x:a,y:o}=t.globalBaseProps,i=e[0],s=e[e.length-1];return r.push({x:i.x-a,y:i.y-o}),r.push({x:i.x-a+i.curveFrom.x,y:i.y-o+i.curveFrom.y}),e.length>2&&e.slice(1,e.length-1).forEach(t=>{r.push({x:t.x-a+t.curveTo.x,y:t.y-o+t.curveTo.y}),r.push({x:t.x-a,y:t.y-o}),r.push({x:t.x-a+t.curveFrom.x,y:t.y-o+t.curveFrom.y})}),r.push({x:s.x-a+s.curveTo.x,y:s.y-o+s.curveTo.y}),r.push({x:s.x-a,y:s.y-o}),r},h=(t,e,r)=>{let a=(t=>{let e,r=t.points.slice();t.lineProps.isPointsEdited||7!==r.length||r.splice(2,3);let a=[],o=null;for(let t=0;t<r.length;t++)t%3==1?o.curveFrom={x:r[t].x-o.x,y:r[t].y-o.y}:t%3==2?e={...r[t]}:a.push(o={...r[t],curveTo:e?{x:e.x-r[t].x,y:e.y-r[t].y}:void 0});return a})(t),i=a[0],s=a[a.length-1],{x:n,y:h}=t.globalBaseProps;if(i.x=e.point.x+n,i.y=e.point.y+h,s.x=r.point.x+n,s.y=r.point.y+h,2===a.length)return f(i,s,{start:e,end:r}),l(t,a);let d=[];for(let t=1;t<a.length;t++)d.push(g(a[t],a[t-1]));let u=[];for(let t=0;t<a.length-2;t++){let e=d[t],r=d[t+1];e<r?r=e+(r-e)/2:e=r+(e-r)/2,u.push([e*p,r*p])}f(i,a[1],{start:e}),f(a[a.length-2],s,{end:r});let c=[[new o.E,i.curveFrom]];for(let t=1;t<a.length-1;t++){let e=a[t],r=a[t-1],{vertical:o,bisector:i}=y(e,r,a[t+1]),s=(i.x*(r.y-e.y)-i.y*(r.x-e.x))*(i.x*o.y-i.y*o.x)>0?1:-1,n=u[t-1];c.push([{x:o.x*s*n[0],y:o.y*s*n[0]},{x:o.x*(-1*s*n[1]),y:o.y*(-1*s*n[1])}])}c.push([s.curveTo,new o.E]);for(let t=1;t<a.length-1;t++){let e=a[t],r=a[t-1],o=a[t+1],{vertical:i}=y(e,{x:c[t-1][1].x+r.x,y:c[t-1][1].y+r.y},{x:c[t+1][0].x+o.x,y:c[t+1][0].y+o.y}),s={x:i.x+e.x,y:i.y+e.y},n={x:-1*i.x+e.x,y:-1*i.y+e.y},l=g(s,r)+g(n,o)<g(s,o)+g(n,r)?1:-1,h=u[t-1];a[t].curveTo={x:i.x*l*h[0],y:i.y*l*h[0]},a[t].curveFrom={x:i.x*(-1*l*h[1]),y:i.y*(-1*l*h[1])}}return l(t,a)},d=(t,e,r)=>t.lineProps.isPointsEdited?(0,s.uj)(t,e,r):(0,s.ln)(t,e,r),p=.4,u=(t,e)=>Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?t.x>e.x?a.Tq.SNAPTO_LEFT:a.Tq.SNAPTO_RIGHT:t.y>e.y?a.Tq.SNAPTO_TOP:a.Tq.SNAPTO_BOTTOM,c=(t,e)=>{if(t===a.Tq.SNAPTO_AUTO)return{x:0,y:0};let r=0;switch(t){case a.Tq.SNAPTO_TOP:r=-Math.PI/2;break;case a.Tq.SNAPTO_RIGHT:r=0;break;case a.Tq.SNAPTO_BOTTOM:r=Math.PI/2;break;case a.Tq.SNAPTO_LEFT:r=Math.PI}return{x:Math.cos(r+=e/180*Math.PI),y:Math.sin(r)}},x=(t,e,r)=>{let o=0;switch(t){case a.Tq.SNAPTO_RIGHT:case a.Tq.SNAPTO_LEFT:o=Math.abs(e.x-r.x);break;case a.Tq.SNAPTO_TOP:case a.Tq.SNAPTO_BOTTOM:o=Math.abs(e.y-r.y)}let n=i.G.distance(e,r);return Math.abs(o)<s.YE?Math.min(150,n):Math.min(Math.max(o,100),n)};function g(t,e){let r={x:t.x-e.x,y:t.y-e.y};return 1e-6>Math.abs(r.x)&&1e-6>Math.abs(r.y)?0:i.G.distance(r,{x:0,y:0})}function y(t,e,r){let a=g(e,t),s=g(t,r);if(1e-6>Math.abs(a)||1e-6>Math.abs(s))return{vertical:new o.E,bisector:new o.E};let n=a/(a+s),l={x:e.x+(r.x-e.x)*n,y:e.y+(r.y-e.y)*n},h={x:t.x-l.x,y:t.y-l.y},d=i.G.distance({x:h.x,y:h.y},{x:0,y:0});if(1e-6>Math.abs(d))return{vertical:new o.E,bisector:new o.E};let p={x:h.x/d,y:h.y/d},{x:u,y:c}=new DOMMatrixReadOnly().rotate(90).transformPoint(p);return{vertical:new o.E(u,c),bisector:h}}function f(t,e,r){let{start:n,end:l}=r;if(!n?.node&&!l?.node&&n&&l){let r={x:t.x-e.x,y:t.y-e.y},a=0;(Math.abs(r.x)>=1e-6||Math.abs(r.y)>=1e-6)&&(a=i.G.distance(r,{x:0,y:0})*p);let o=u(t,e),s=u(e,t),n=c(o,0),l=c(s,0);t.curveFrom={x:n.x*a,y:n.y*a},e.curveTo={x:l.x*a,y:l.y*a};return}let h=new o.E(0,0);if(n?.node){let{angle:r}=n.node.baseProps,o=x((0,s.fs)(n.snapTo,r),t,e)*p;if(n.attachType===a.J3.CONTOUR)h.x=t.curveFrom.x,h.y=t.curveFrom.y;else{let{x:t,y:e}=c(n.snapTo,r);h.x=t*o,h.y=e*o}}t.curveFrom=h;let d=new o.E(0,0);if(l?.node){let{angle:r}=l.node.baseProps,o=x((0,s.fs)(l.snapTo,r),t,e)*p;if(l.attachType===a.J3.CONTOUR)d.x=e.curveTo.x,d.y=e.curveTo.y;else{let{x:t,y:e}=c(l.snapTo,r);d.x=t*o,d.y=e*o}}e.curveTo=d}},15544:function(t,e,r){r.d(e,{uj:()=>f,cI:()=>h,ln:()=>g,YE:()=>d,fs:()=>p,nQ:()=>b,IN:()=>T});var a,o,i=r(889171),s=r(797615),n=r(805433);function l(t,e,r,a){let o=t.neighborPoint,s=e.bounds,l=Math.abs(o.y-r.y)<d,p=Math.abs(e.neighborPoint.y-a.y)<d;if(l)if(p&&(a.y<t.bounds.minY||a.y>t.bounds.maxY))return[r,o,new i.E(o.x,a.y),a];else if(p){let e=a.y+r.y>t.bounds.minY+t.bounds.maxY?t.bounds.maxY+h:t.bounds.minY-h,n=s.minX>=t.bounds.maxX?(s.minX-t.bounds.maxX)/2+t.bounds.maxX:(t.bounds.minX-s.maxX)/2+s.maxX;return[r,o,new i.E(o.x,e),new i.E(n,e),new i.E(n,a.y),a]}else if(s.minY>=t.bounds.maxY||s.maxY<=t.bounds.minY){let e=s.minY>=t.bounds.maxY?(s.minY-t.bounds.maxY)/2+t.bounds.maxY:(t.bounds.minY-s.maxY)/2+s.maxY;return[r,o,new i.E(o.x,e),new i.E(a.x,e),a]}else{let l=e.neighborPoint.y>a.y?n.G.getBounds([t.bounds,s]).maxY+h:n.G.getBounds([t.bounds,s]).minY-h;return[r,o,new i.E(o.x,l),new i.E(a.x,l),a]}if(!p&&(a.x<t.bounds.minX||a.x>t.bounds.maxX))return[r,o,new i.E(a.x,o.y),a];if(p)if(s.minX>=t.bounds.maxX||s.maxX<=t.bounds.minX){let e=s.minX>=t.bounds.maxX?(s.minX-t.bounds.maxX)/2+t.bounds.maxX:(t.bounds.minX-s.maxX)/2+s.maxX;return[r,o,new i.E(e,o.y),new i.E(e,a.y),a]}else{let l=e.neighborPoint.x>a.x?n.G.getBounds([t.bounds,s]).maxX+h:n.G.getBounds([t.bounds,s]).minX-h;return[r,o,new i.E(l,o.y),new i.E(l,a.y),a]}{let e=a.x+r.x>t.bounds.minX+t.bounds.maxX?t.bounds.maxX+h:t.bounds.minX-h,n=s.minY>=t.bounds.maxY?(s.minY-t.bounds.maxY)/2+t.bounds.maxY:(t.bounds.minY-s.maxY)/2+s.maxY;return[r,o,new i.E(e,o.y),new i.E(e,n),new i.E(a.x,n),a]}}let h=36,d=.001,p=(t,e)=>{let r=t-1,a=e>0?1:-1,o=Math.abs(e);switch(o>=45&&o<135?r+=a:o>135&&(r+=2*a),r=(r+4)%4){case 0:return s.Tq.SNAPTO_TOP;case 1:return s.Tq.SNAPTO_RIGHT;case 2:return s.Tq.SNAPTO_BOTTOM;case 3:return s.Tq.SNAPTO_LEFT;default:return s.Tq.SNAPTO_AUTO}};function u(t,e){let{node:r}=t,a=r.getBounds(),o={attachInfo:t,point:{...e},neighborPoint:new i.E(0,0),bounds:a,needWinding:!1},{snapTo:n}=t;switch(r&&(n=p(n,r.baseProps.angle)),n){case s.Tq.SNAPTO_TOP:o.point.y=a.minY,o.neighborPoint.x=o.point.x,o.neighborPoint.y=a.minY-h;break;case s.Tq.SNAPTO_BOTTOM:o.point.y=a.maxY,o.neighborPoint.x=o.point.x,o.neighborPoint.y=a.maxY+h;break;case s.Tq.SNAPTO_LEFT:o.point.x=a.minX,o.neighborPoint.x=a.minX-h,o.neighborPoint.y=o.point.y;break;case s.Tq.SNAPTO_RIGHT:default:o.point.x=a.maxX,o.neighborPoint.x=a.maxX+h,o.neighborPoint.y=o.point.y}return o}function c(t,e){let{bounds:r,point:a,neighborPoint:o}=t;return(!(e.x>=r.minX)||!(e.x<=r.maxX)||!(e.y>=r.minY)||!(e.y<=r.maxY))&&(Math.abs(o.y-a.y)<d?(o.x-a.x)*(e.x-a.x)<=0:(o.y-a.y)*(e.y-a.y)<=0)}function x(t,e){return new i.E(t.x+e.x,t.y+e.y)}function g(t,e,r){let a=x(e.point,t.globalBaseProps),o=x(r.point,t.globalBaseProps),s=null,p=null;e.node&&(s=u(e,a)),r.node&&(p=u(r,o)),s&&(s.needWinding=c(s,p?.point??o)),p&&(p.needWinding=c(p,s?.point??a));let g=[];if(s||p){if(s&&!p||!s&&p){let t=s||p,e=s?a:o,r=s?o:a;g=t.needWinding?function(t,e,r){let a=t.bounds,o=t.neighborPoint;if(Math.abs(t.neighborPoint.y-e.y)<d)if(r.y<a.minY||r.y>a.maxY)return[e,o,new i.E(o.x,r.y),r];else{let t=r.y+e.y>a.maxY+a.minY?a.maxY+h:a.minY-h;return[e,o,new i.E(o.x,t),new i.E(r.x,t),r]}{if(r.x<a.minX||r.x>a.maxX)return[e,o,new i.E(r.x,o.y),r];let t=r.x+e.x>a.minX+a.maxX?a.maxX+h:a.minX-h;return[e,o,new i.E(t,o.y),new i.E(t,r.y),r]}}(t,e,r):function(t,e,r){if(Math.abs(e.x-r.x)<d||Math.abs(e.y-r.y)<d)return[e,r];let a=Math.abs(t.neighborPoint.y-e.y)<d,o=r.x-e.x,s=r.y-e.y;if(a)if(!(Math.abs(o)>Math.abs(s)))return[e,new i.E(r.x,e.y),r];else{let t=e.x+o/2;return[e,new i.E(t,e.y),new i.E(t,r.y),r]}{if(Math.abs(o)>Math.abs(s))return[e,new i.E(e.x,r.y),r];let t=e.y+s/2;return[e,new i.E(e.x,t),new i.E(r.x,t),r]}}(t,e,r),s||g.reverse()}else if(s&&p){let t=!!e.node&&e.node.id===r.node?.id;t&&(s.needWinding=!0,p.needWinding=!0),s.needWinding||p.needWinding?s.needWinding&&p.needWinding?g=function(t,e,r,a,o){let s=t.neighborPoint,l=e.neighborPoint,p=n.G.getBounds([t.bounds,e.bounds]),u=Math.abs(s.y-r.y)<d,c=Math.abs(l.y-a.y)<d;if(u&&c){if((Math.abs(r.x-a.x)<d||o)&&Math.abs(s.x-l.x)<d)return[r,s,l,a];let n=s.x,u=l.x,c=0;return t.bounds.maxY<=e.bounds.minY||e.bounds.maxY<=t.bounds.minY?c=t.bounds.maxY<=e.bounds.minY?t.bounds.maxY+(e.bounds.minY-t.bounds.maxY)/2:t.bounds.minY-(t.bounds.minY-e.bounds.maxY)/2:s.x>r.x?(n=p.maxX+h,u=p.minX-h,c=p.minY-h):(n=p.minX-h,u=p.maxX+h,c=p.maxY+h),[r,new i.E(n,r.y),new i.E(n,c),new i.E(u,c),new i.E(u,a.y),a]}if(u||c)if(u){let t=s.x>r.x?p.maxX+h:p.minX-h,e=l.y>a.y?p.maxY+h:p.minY-h;return[r,new i.E(t,r.y),new i.E(t,e),new i.E(a.x,e),a]}else{let t=l.x>a.x?p.maxX+h:p.minX-h,e=s.y>r.y?p.maxY+h:p.minY-h;return[r,new i.E(r.x,e),new i.E(t,e),new i.E(t,a.y),a]}{if((Math.abs(r.y-a.y)<d||o)&&Math.abs(s.y-l.y)<d)return[r,s,l,a];let n=s.y,u=l.y,c=0;return t.bounds.maxX<=e.bounds.minX||e.bounds.maxX<=t.bounds.minX?c=t.bounds.maxX<=e.bounds.minX?t.bounds.maxX+(e.bounds.minX-t.bounds.maxX)/2:t.bounds.minX-(t.bounds.minX-e.bounds.maxX)/2:s.y>r.y?(n=p.maxY+h,u=p.minY-h,c=p.maxX+h):(n=p.minY-h,u=p.maxY+h,c=p.minX-h),[r,new i.E(r.x,n),new i.E(c,n),new i.E(c,u),new i.E(a.x,u),a]}}(s,p,a,o,t):s.needWinding?g=l(s,p,a,o):(g=l(p,s,o,a)).reverse():g=function(t,e,r,a){let o=t.neighborPoint,s=e.neighborPoint,n=Math.abs(o.y-r.y)<d,l=Math.abs(s.y-a.y)<d;if(n&&l||!n&&!l)if(n){let o=(t.point.x+e.point.x)/2;return[r,new i.E(o,r.y),new i.E(o,a.y),a]}else{let o=(t.point.y+e.point.y)/2;return[r,new i.E(r.x,o),new i.E(a.x,o),a]}return n?[r,new i.E(a.x,r.y),a]:[r,new i.E(r.x,a.y),a]}(s,p,a,o)}}else g=function(t,e){if(Math.abs(t.x-e.x)<d||Math.abs(t.y-e.y)<d)return[t,e];let r=e.x-t.x,a=e.y-t.y;if(Math.abs(r)>Math.abs(a)){let a=t.x+r/2;return[t,new i.E(a,t.y),new i.E(a,e.y),e]}{let r=t.y+a/2;return[t,new i.E(t.x,r),new i.E(e.x,r),e]}}(a,o);return g.map(e=>{var r;return r=t.globalBaseProps,new i.E(e.x-r.x,e.y-r.y)})}(a=o||(o={}))[a.NONE=0]="NONE",a[a.HORIZONTAL=1]="HORIZONTAL",a[a.VERTICAL=2]="VERTICAL";let y=t=>{let e=Array(t.length-1).fill(o.VERTICAL),r=0,a=o.NONE;for(r=0;r<t.length-1;r++){let i=t[r],s=t[r+1];if((a=Math.abs(i.y-s.y)<d?Math.abs(i.x-s.x)<d?o.NONE:o.HORIZONTAL:Math.abs(i.x-s.x)<d?o.VERTICAL:o.NONE)!==o.NONE){e[r]=a;break}}let i=a;for(let t=r-1;t>=0;t--)i=i===o.HORIZONTAL?o.VERTICAL:o.HORIZONTAL,e[t]=i;i=a;for(let t=r+1;t<e.length;t++)i=i===o.HORIZONTAL?o.VERTICAL:o.HORIZONTAL,e[t]=i;return e},f=(t,e,r)=>{let{points:a}=t.lineProps;if(a.length<=2)return[e.point,r.point];let i=y(a=a.map(t=>({...t})));return i[0]===o.HORIZONTAL?a[1].y=e.point.y:a[1].x=e.point.x,i[i.length-1]===o.HORIZONTAL?a[a.length-2].y=r.point.y:a[a.length-2].x=r.point.x,a.splice(0,1,e.point),a.splice(a.length-1,1,r.point),a},P=t=>{switch(t){case s.Tq.SNAPTO_TOP:case s.Tq.SNAPTO_BOTTOM:return o.VERTICAL;case s.Tq.SNAPTO_LEFT:case s.Tq.SNAPTO_RIGHT:return o.HORIZONTAL;case s.Tq.SNAPTO_AUTO:default:return o.NONE}},m=(t,e,r,a,i)=>{a?r||(i===o.HORIZONTAL?t.x=e.x:t.y=e.y):i===o.HORIZONTAL?e.x=t.x:e.y=t.y},T=(t,e,r)=>{if(t.length<=2)return t;let a=y(t),i=t.slice();for(let t=0;t<i.length-1&&i.length>2;){let s=i[Math.max(0,t-1)],n=i[t],l=i[t+1],h=i[Math.min(i.length-1,t+2)],p=a[t],u=p===o.HORIZONTAL&&2>Math.abs(n.x-l.x)||p===o.VERTICAL&&2>Math.abs(n.y-l.y),c=p===o.HORIZONTAL&&Math.abs(n.x-l.x)<d||p===o.VERTICAL&&Math.abs(n.y-l.y)<d,x=t<=1&&!!e?.id,g=t>=i.length-3&&!!r?.id,y=x&&g,f=P(e?.snapTo),T=P(r?.snapTo);if(0===t&&u&&(f===o.NONE||p!==f)&&(!y||c)){m(s,h,x,g,p),i.splice(t+1,1),a.splice(t,1);continue}if(t===i.length-2&&u&&(T===o.NONE||p!==T)&&(!y||c)){m(s,h,x,g,p),i.splice(t,1),a.splice(t,1);continue}if(t>=1&&t<=i.length-3&&u&&(!y||c)){m(s,h,x,g,p),i.splice(t,2),a.splice(t,2),t=Math.max(0,t-1);continue}t++}return i},b=(t,e,r)=>{if(!e?.id&&!r?.id)return t;let a=y(t);if(0===a.length)return t;let o=t.slice(),i=a[0],s=P(e?.snapTo);e?.id&&s!==i&&o.splice(1,0,o[0]);let n=P(r?.snapTo),l=a[a.length-1];return r?.id&&n!==l&&o.splice(o.length-2,0,o[o.length-1]),o}},117866:function(t,e,r){r.d(e,{C9:()=>y,N1:()=>M,Pn:()=>c,Qy:()=>x,R:()=>w,XN:()=>P,Zo:()=>T,c4:()=>m,c5:()=>f,fP:()=>b,fy:()=>g,mz:()=>C});var a=r(797615),o=r(889171),i=r(771584),s=r(335342),n=r(107671),l=r(797379),h=r(937093),d=r(873411),p=r(188893),u=r(793720);let c=(t,e,r)=>{let{autoDirection:a,textBoxWidth:o,textProps:i}=t,s=o;o<=0&&(s=i.fontSize/14*280);let n=new d.s;return n.x=e.x-s/2,n.y=e.y,n.width=s,n.height=0,a&&(n.angle=180*function(t){let e=-(180*t)/Math.PI;return e<90&&e>=-90?t:e>=90&&e<=180?-((e-180)*Math.PI)/180:e<-90&&e>=-180?-((e+180)*Math.PI)/180:t}(r)/Math.PI),n},x=({width:t,height:e})=>({top:4,right:t-8,bottom:e-4,left:8}),g=(t,e,r,a)=>{let{width:o,height:i}=r,n=t.baseProps.clone();if(n.height=i+8,e.textBoxWidth<=0){let r=o+16,i=a-r;n.width=r,n.x+=i/2;let l=e.textProps.horizonAlign;l===s.Z.CENTER?t.updateRenderTextBaseProps({x:t.renderText.baseProps.x-i/2}):l===s.Z.BOTTOM_OR_RIGHT&&t.updateRenderTextBaseProps({x:t.renderText.baseProps.x-i})}t.baseProps.update(n)},y=(t,e,r,a)=>{t.updateRenderTextBaseProps({y:4});let{autoDirection:o,positionType:n}=e,l=t.baseProps.clone();if(l.y-=l.height/2,n!==s.O.ON_LINE){let{width:t,height:e}=l,r={x:0,y:0};if(o){let t=8+e/2;r.y=t}else r=function(t,e,r){let a=-(180*r)/Math.PI;return a<=10&&a>=-10?{x:0,y:8+e/2}:a>=80&&a<=100?{x:8+t/2,y:0}:a<=-80&&a>=-100?{x:-(8+t/2),y:0}:a>=170&&a<=180||a<=-170&&a>=-180?{x:0,y:-(8+e/2)}:a>10&&a<80?{x:8*Math.sin(-r)+t/2,y:8*Math.cos(-r)+e/2}:a>100&&a<170?{x:8*Math.sin(-r)+t/2,y:8*Math.cos(-r)-e/2}:a<-10&&a>-80?{x:8*Math.sin(-r)-t/2,y:8*Math.cos(-r)+e/2}:a<-100&&a>-170?{x:8*Math.sin(-r)-t/2,y:8*Math.cos(-r)-e/2}:{x:0,y:0}}(t,e,a);n===s.O.ABOVE_LINE?(l.x-=r.x,l.y-=r.y):(l.x+=r.x,l.y+=r.y)}if(o){let t=i.c.generateMatrix().translate(-r.x,-r.y),e=i.c.generateMatrix().rotate(l.angle),{x:a,y:o}=i.c.generateMatrix().translate(r.x,r.y).crossProduct(e.crossProduct(t)).crossPoint({x:l.x,y:l.y});l.x=a,l.y=o}t.baseProps.update(l),t.updateTransformMatrix()},f=t=>{let{graphicText:e,textPlaceholderRender:r}=t,a=e.getRectPoint();!e.hasText()&&r&&(a=r.getRectPoint());let o=new Path2D;return o.moveTo(a.topLeft.x,a.topLeft.y),o.lineTo(a.topRight.x,a.topRight.y),o.lineTo(a.bottomRight.x,a.bottomRight.y),o.lineTo(a.bottomLeft.x,a.bottomLeft.y),o.closePath(),o},P=(t,e)=>t===u.Y.CIRCLE_ARROW||t===u.Y.EMPTY_CIRCLE_ARROW?0:e&&e!==l.DY.componentAssembly&&e!==l.DY.componentInterface&&e!==l.DY.componentRequiredInterface?3:0,m=(t,e)=>{let{attachProps:r,borderProps:a}=t,o=t.lineProps.clone(),i=e.nodeMap.get(r.start.id),s=e.nodeMap.get(r.end.id);o.padding={left:i?P(a.lArrow,i.shapeType):0,right:s?P(a.rArrow,s.shapeType):0},t.updateNodeProps([o])},T=(t,e)=>1e-4>Math.abs(t.x-e.x)&&1e-4>Math.abs(t.y-e.y),b=(t,e)=>{let{start:r,end:o}=t.attachProps;if((t.isPolyLine()||t.shapeType===h.SP.SimpleLine)&&r.id&&n.R.nodePrefix2Type(r.id[0])===a.Jq.Activation)return;let{points:i}=t.lineProps,s={...i[0]},l={...i[i.length-1]},d=e.nodeMap.get(r.id);d&&r.position&&(s=t.toLocalPoint(d.getLineAttachPoint(r.position)));let u=e.nodeMap.get(o.id);if(u&&o.position&&(l=t.toLocalPoint(u.getLineAttachPoint(o.position))),T(s,i[0])&&T(l,i[i.length-1]))return;let c=t.lineProps.clone();c.points=(0,p.Q5)(t,{attachType:r.attachType,snapTo:r.snapTo,point:s,node:d},{attachType:o.attachType,snapTo:o.snapTo,point:l,node:u}),t.updateNodeProps([c])},w=(t,e,r,a,o)=>({x:Math.pow(1-t,3)*e.x+3*Math.pow(1-t,2)*t*r.x+3*(1-t)*t*t*a.x+Math.pow(t,3)*o.x,y:Math.pow(1-t,3)*e.y+3*Math.pow(1-t,2)*t*r.y+3*(1-t)*t*t*a.y+Math.pow(t,3)*o.y}),C=(t,e,r,a,o)=>({x:3*Math.pow(1-t,2)*(r.x-e.x)+6*(1-t)*t*(a.x-r.x)+3*Math.pow(t,2)*(o.x-a.x),y:3*Math.pow(1-t,2)*(r.y-e.y)+6*(1-t)*t*(a.y-r.y)+3*Math.pow(t,2)*(o.y-a.y)});function M(t,e,r){let a=Math.abs(r.x-e.x),i=Math.abs(r.y-e.y);if(t===h.SP.RightAngledPolyLine||t===h.SP.PolyLine){let t=i>a?[new o.E(e.x,(e.y+r.y)/2),new o.E(r.x,(e.y+r.y)/2)]:[new o.E((e.x+r.x)/2,e.y),new o.E((e.x+r.x)/2,r.y)],s=[];return s.push(e),s.push(...t),s.push(r),s}if(t===h.SP.Curve){let t=function(t,e,r,a){let i=.4*Math.hypot(t,e);return t>e?[new o.E(r.x+i,r.y),new o.E(a.x-i,a.y)]:[new o.E(r.x,r.y+i),new o.E(a.x,a.y-i)]}(a,i,e,r);return[new o.E(e.x,e.y),...t,new o.E(r.x,r.y)]}return[new o.E(e.x,e.y),new o.E(r.x,r.y)]}},140512:function(t,e,r){r.d(e,{R:()=>m});var a=r(243107),o=r(797615),i=r(976780),s=r(492663),n=r(979581),l=r(213909),h=r(73428),d=r(889171),p=r(805433),u=r(808687),c=r(513665),x=r(281042),g=r(459037),y=r(649356),f=r(718077),P=r(339874);class m{static buildMindMapTree(t){let e=new Map;for(let r of t)e.set(r.id,r);let r=[];for(let a of t){let{mindMapProps:t}=a,o=t?.parentId;if(!o){r.push(a);continue}let i=e.get(o);i&&(i.mindMapChildren.push(a),a.mindMapParent=i)}for(let e of t)e.mindMapRoot=m.getMindMapRoot(e);return t.forEach(t=>{m.updateMindMapZIndex(t)}),r}static updateMindMapZIndex(t){let e=t.mindMapProps.layoutEnum;e===o.gd.TREE_LEFT_RIGHT||e===o.gd.TIMELINE_DOWN||e===o.gd.MINDMAP_LEFT_RIGHT||e===o.gd.SUB_LEFT||e===o.gd.SUB_RIGHT?t.mindMapChildren.sort((t,e)=>t.baseProps.y-e.baseProps.y).forEach((t,e)=>{t.mindMapZindex=e}):(e===o.gd.TIMELINE_RIGHT||e===o.gd.MINDMAP_UP_DOWN||e===o.gd.SUB_UP||e===o.gd.SUB_DOWN)&&t.mindMapChildren.sort((t,e)=>t.baseProps.x-e.baseProps.x).forEach((t,e)=>{t.mindMapZindex=e})}static traverseMindMapTree(t,e){let r=t=>{e(t),t.mindMapChildren.forEach(t=>{r(t)})};t.forEach(r)}static getMindMapRoot(t){if(!t?.mindMapParent)return t;let e=t,r=t.mindMapParent;for(;r;)r=(e=r).mindMapParent;return e}static getMindMapNodeLeftRightPadding(t){return t.mindMapProps.shapeType===s.R.MIND_NOTE_FULL_ROUND_RECT?t.baseProps.height/2:t.mindMapProps.parentId||t.mindMapProps.shapeType!==s.R.MIND_NOTE_ROUND_RECT?n.xT:n.No}static getMindMapNodeTopBottomPadding(t){return t.mindMapParent?n.xw:t.mindMapProps.shapeType===s.R.MIND_NOTE_FULL_ROUND_RECT||t.mindMapProps.shapeType===s.R.MIND_NOTE_ROUND_RECT?n.lp:n.en}static recalculatePosition(t,e){if(!e)return o.jd.RESOURCE_TOP;let r=e.getProp(i.d.ResourcePosition)?.resourcePosition;if(void 0!==r&&r!==l.$.RESOURCE_INVALID)return r;let{baseProps:a}=e,s=t.baseProps,n=a.y,h=s.height-(a.y+a.height),d=a.x,p=s.width-(a.x+a.width);if(Math.abs(n-h)>1)if(n>h)return o.jd.RESOURCE_BOTTOM;else return o.jd.RESOURCE_TOP;if(Math.abs(d-p)>1)if(d>p)return o.jd.RESOURCE_RIGHT;else return o.jd.RESOURCE_LEFT;return o.jd.RESOURCE_TOP}static afterInitGraphicElement(t,e,r){let a=m.buildMindMapTree(e),o=a.filter(t=>m.needModifyMindMapLayout(t));m.traverseMindMapTree(o,t=>{t.updateLayoutType()}),m.traverseMindMapTree(o,t=>{let{width:e,height:r}=t.modifyBaseProps();t.baseProps.width=e,t.baseProps.height=r}),o.forEach(t=>{m.layoutRoot(t)}),m.traverseMindMapTree(a,e=>{try{e.afterScale(r),e.afterNodeInit(t),e.updateByRoot(),t.updateIndexNode(e.getRectNode())}catch(r){console.error("\u540E\u521D\u59CB\u5316\u8282\u70B9\u51FA\u9519\uFF0C\u9519\u8BEF\u4FE1\u606F:",e.id,r),t.removeNode(e)}}),a.forEach(e=>t.mindMapRoots.set(e.id,e))}static layoutRoot(t){t.computeLayoutBox(),m.traverseMindMapTree([t],t=>{let e=t.mindMapParent;if(e){let r=t.getLayoutBox();r.rect.x+=e.baseProps.x,r.rect.y+=e.baseProps.y,t.baseProps.x=r.rect.x+r.relativePos.x,t.baseProps.y=r.rect.y+r.relativePos.y}t.updateTextPosition(t.globalBaseProps.x,t.globalBaseProps.y)});let e=t.mindMapChildren.map(t=>t.getLayoutBox().rect);e.push(h.U.baseProps2Rect(t.baseProps));let r=h.U.getRectBounds(e),a=new d.E(t.baseProps.x-r.x,t.baseProps.y-r.y);t.layoutBox={rect:r,relativePos:a},t.computeHotBox()}static needModifyMindMapLayout(t){let e=t.mindMapProps.layoutEnum;return e===o.gd.AUTO_LAYOUT||e===o.gd.MINDMAP_UP_DOWN||e===o.gd.MINDMAP_LEFT_RIGHT||e===o.gd.SUB_UP||e===o.gd.SUB_DOWN||e===o.gd.SUB_RIGHT||e===o.gd.TREE_RIGHT||e===o.gd.TREE_LEFT||e===o.gd.TREE_LEFT_RIGHT||e===o.gd.TIMELINE_DOWN||e===o.gd.TIMELINE_RIGHT||e===o.gd.SUB_LEFT}static getStartEndPoint(t,e,r){switch(r){case o.gd.MINDMAP_UP_DOWN:case o.gd.SUB_DOWN:case o.gd.SUB_UP:if(t.y>e.y)return a.e.bottomTopWorker.layout(p.G.bottomPoint(e),p.G.topPoint(t));return a.e.topBottomWorker.layout(p.G.topPoint(e),p.G.bottomPoint(t));case o.gd.TREE_LEFT_RIGHT:if(t.x<p.G.centerPoint(e).x)return a.e.bottomRightWorker.layout(p.G.bottomPoint(e),p.G.rightPoint(t));return a.e.bottomLeftWorker.layout(p.G.bottomPoint(e),p.G.leftPoint(t));case o.gd.TREE_LEFT:return a.e.bottomRightWorker.layout(p.G.bottomPoint(e),p.G.rightPoint(t));case o.gd.TREE_RIGHT:case o.gd.SUB_TOP_RIGHT:if(e.y<t.y)return a.e.bottomLeftWorker.layout(p.G.bottomPoint(e),p.G.leftPoint(t));return a.e.topLeftLayoutWorker.layout(p.G.topPoint(e),p.G.leftPoint(t));case o.gd.TIMELINE_DOWN:{let r=p.G.bottomPoint(e);return a.e.bottomTopWorker.layout(r,{x:r.x,y:t.y})}case o.gd.TIMELINE_RIGHT:{let r=p.G.rightPoint(e);return a.e.rightLeftWorker.layout(r,{x:t.x,y:r.y})}default:if(t.x>e.x)return a.e.rightLeftWorker.layout(p.G.rightPoint(e),p.G.leftPoint(t));return a.e.leftRightWorker.layout(p.G.leftPoint(e),p.G.rightPoint(t))}}static detectInteractiveMindNode(t,e,r=new Set){for(let a of[...t.mindMapRoots.values()]){if(a.parent){let t=a.parent.globalBaseProps;e.x=e.x-t.x,e.y=e.y-t.y}let t=this.mindNodeBoxContain(a,e,r);if(t)return t}return null}static mindNodeBoxContain(t,e,r=new Set){let a=t.getLayoutBox().rect,o=new h.U(a.x-100,a.y-20,a.width+110+100,a.height+40+100);if(this.judgeParentInSet(t,r))return null;let i=t.mindMapChildren,s=u.D.overlapRectV2(e,t.getHotBox());if(u.D.overlapRectV2(e,o)){if(s)return t;for(let t of i){let a=this.mindNodeBoxContain(t,e,r);if(a)return a}}return null}static judgeParentInSet(t,e){if(e.has(t))return!0;let r=t.mindMapParent;for(;r;){if(e.has(r))return!0;r=r.mindMapParent}return!1}static computeMindMapActionLogs(t,e,r,a){let o=t[0];for(let s=0;s<t.length;s++){let n=t[s],l=o.globalBaseProps,h=l.x+r.x,d=l.y+r.y;o=n;let p=n.getMindMapPath(),u=[...e.getMindMapPath(),e.id],g=e.id,y={id:n.id,fromParent:p,toParent:u},f={type:i.d.Base,x:h,y:d},P={type:i.d.MindMap,parentId:g},m={id:n.id,props:[f,P]};a.actionManager.execAction(new c.x(m)),a.actionManager.execAction(new x.$(y))}}static updateMindMapTreeAndSendMsg(t,e){m.traverseMindMapTree([t],t=>{t.clearHotBox(),t.clearLayoutBox(),t.updateLayoutType()}),t.computeLayoutBox(),m.traverseMindMapTree([t],t=>{let r=t.mindMapParent;if(r){let a=t.getLayoutBox();a.rect.x+=r.baseProps.x,a.rect.y+=r.baseProps.y;let{width:o,height:s}=t.modifyBaseProps(),n={type:i.d.Base,x:a.rect.x+a.relativePos.x,y:a.rect.y+a.relativePos.y,width:o,height:s},l={id:t.id,props:[n]};e.actionManager.execAction(new c.x(l))}});let r=t.mindMapChildren.map(t=>t.getLayoutBox().rect);r.push(h.U.baseProps2Rect(t.baseProps));let a=h.U.getRectBounds(r),o=new d.E(t.baseProps.x-a.x,t.baseProps.y-a.y);t.layoutBox={rect:a,relativePos:o}}static modifyMindMapNodeAndSendMsg(t,e,r){let a=r?y.l.MIND_MAP_CHILD_OR_TEXT:y.l.MIND_MAP_ROOT;for(let r of t){let t=g.f.getInstance().getFillInfo(r.themeProps,a,{globalTheme:e.docState.globalTheme,isDark:e.docState.isDark}),o=g.f.getInstance().getTextColorInfo(r.themeProps,a,{globalTheme:e.docState.globalTheme,isDark:e.docState.isDark}),{width:s,height:n}=r.modifyBaseProps(),l={type:i.d.Base,width:s,height:n},h={type:i.d.Text,fontColor:o.color,backgroundColor:o.bgColor},d={type:i.d.Color,color:t.color},p={id:r.id,props:[l,h,d]};e.actionManager.execAction(new c.x(p))}}static convertToCollapseSideEnum(t){switch(t){case o.gd.SUB_LEFT:return f.A.LEFT;case o.gd.SUB_UP:case o.gd.SUB_TOP_RIGHT:return f.A.TOP;case o.gd.SUB_DOWN:case o.gd.TREE_RIGHT:case o.gd.TREE_LEFT:case o.gd.TREE_LEFT_RIGHT:case o.gd.TIMELINE_DOWN:return f.A.BOTTOM;case o.gd.SUB_RIGHT:default:return f.A.RIGHT}}static computeCollapsePosition(t,e=m.convertToCollapseSideEnum(t.mindMapProps.layoutEnum),r=P.tv){let a=t.globalBaseProps,o=P.D7,i=2*o;switch(e){case f.A.LEFT:{let t=p.G.leftPoint(a),e=new d.E(t.x-(r+i),t.y-o);return new h.U(e.x,e.y,i,i)}case f.A.BOTTOM:{let t=p.G.bottomPoint(a),e=new d.E(t.x-.5*i,t.y+r);return new h.U(e.x,e.y,i,i)}case f.A.TOP:{let t=p.G.topPoint(a),e=new d.E(t.x-.5*i,t.y-(r+i));return new h.U(e.x,e.y,i,i)}case f.A.RIGHT:default:{let t=p.G.rightPoint(a),e=new d.E(t.x+r,t.y-o);return new h.U(e.x,e.y,i,i)}}}static computeInsertRect(t){let e=[];if(!t.mindMapParent){let r=t.mindMapProps.layoutEnum;if(r===o.gd.MINDMAP_LEFT_RIGHT){let r=m.computeCollapsePosition(t,f.A.RIGHT);e.push({rect:r,collapseEnum:f.A.RIGHT});let a=m.computeCollapsePosition(t,f.A.LEFT);return e.push({rect:a,collapseEnum:f.A.LEFT}),e}if(r===o.gd.MINDMAP_UP_DOWN){let r=m.computeCollapsePosition(t,f.A.TOP);e.push({rect:r,collapseEnum:f.A.TOP});let a=m.computeCollapsePosition(t,f.A.BOTTOM);return e.push({rect:a,collapseEnum:f.A.BOTTOM}),e}}let r=m.computeCollapsePosition(t),a=m.convertToCollapseSideEnum(t.mindMapProps.layoutEnum);return t.mindMapParent&&t.mindMapChildren.length>0&&(r=m.computeCollapsePosition(t,a,P.u)),[{rect:r,collapseEnum:a}]}static getLastMindMapPos(t,e){let r=t.mindMapChildren,a=t.mindMapProps.layoutEnum,i=t.baseProps,s=r.length>0?r[r.length-1].baseProps:i;if(a===o.gd.SUB_RIGHT||a===o.gd.SUB_LEFT||a===o.gd.TREE_RIGHT||a===o.gd.TREE_LEFT||a===o.gd.TREE_LEFT_RIGHT||a===o.gd.TIMELINE_DOWN)return new d.E(s.x,s.y+100);if(a===o.gd.SUB_UP||a===o.gd.SUB_DOWN||a===o.gd.TIMELINE_RIGHT)return new d.E(s.x+100,s.y);if(a===o.gd.MINDMAP_LEFT_RIGHT){if(e===f.A.LEFT){let t=r.filter(t=>t.baseProps.x<i.x).sort((t,e)=>t.baseProps.y-e.baseProps.y);if(0===t.length)return new d.E(i.x-100,i.y+100);let e=t[t.length-1].baseProps;return new d.E(e.x-100,e.y+100)}let t=r.filter(t=>t.baseProps.x>i.x).sort((t,e)=>t.baseProps.y-e.baseProps.y);if(0===t.length)return new d.E(i.x-100,i.y+100);let a=t[t.length-1].baseProps;return new d.E(a.x+100,a.y+100)}if(a===o.gd.MINDMAP_UP_DOWN){if(e===f.A.TOP){let t=r.filter(t=>t.baseProps.y<i.y).sort((t,e)=>t.baseProps.x-e.baseProps.x);if(0===t.length)return new d.E(i.x+100,i.y-100);let e=t[t.length-1].baseProps;return new d.E(e.x+100,e.y-100)}let t=r.filter(t=>t.baseProps.y>i.y).sort((t,e)=>t.baseProps.x-e.baseProps.x);if(0===t.length)return new d.E(i.x+100,i.y+100);let a=t[t.length-1].baseProps;return new d.E(a.x+100,a.y+100)}}}},402041:function(t,e,r){r.d(e,{P:()=>y});var a=r(649356),o=r(116141),i=r(871058),s=r(577304),n=r(962629),l=r(908877),h=r(899329),d=r(579537),p=r(290583),u=r(52957),c=r(255237),x=r(590554),g=r(874772);class y{static isNotFillRelatedShapeType(t){return void 0!==t&&!!g.q.has(t)}static getConnectStyle(t,e,r){let a=t;return -1===a&&(a=d.T[r][e]),a}static getConnectColor(t,e,r=!1){let o=t;if(-1===o){let t=a.l.CONNECT;o=n.Z[e][t]}return r?l.F[e][o]:h.O[e][o]}static getRGBNumberFromString(t){let e=parseInt(t.split("#")[1],16);return{r:(0xffffff&e)>>16,g:(65535&e)>>8,b:255&e}}static luminanceFormat(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}static getLuminance(t){let{r:e,g:r,b:a}=this.getRGBNumberFromString(t);return .2126*y.luminanceFormat(e)+.715*y.luminanceFormat(r)+.0722*y.luminanceFormat(a)}static blenderColor(t,e){let r=1-(1-t.alpha)*(1-e.alpha),a=this.getRGBNumberFromString(t.color),o=this.getRGBNumberFromString(e.color);return{color:`#${Math.floor((a.r*t.alpha+o.r*e.alpha*(1-t.alpha))/r).toString(16).padStart(2,"0")}${Math.floor((a.g*t.alpha+o.g*e.alpha*(1-t.alpha))/r).toString(16).padStart(2,"0")}${Math.floor((a.b*t.alpha+o.b*e.alpha*(1-t.alpha))/r).toString(16).padStart(2,"0")}`,alpha:r}}static getRGBColorContrast(t,e){let r=this.getLuminance(t),a=this.getLuminance(e);return(Math.max(r,a)+.05)/(Math.min(r,a)+.05)}static blenderARGBWithRGB(t,e){let r={alpha:(parseInt(t.split("#")[1],16)>>24)/100,...y.getRGBNumberFromString(t)},a=y.getRGBNumberFromString(e);return`#${Math.floor(r.r*r.alpha+a.r*(1-r.alpha)).toString(16).padStart(2,"0")}${Math.floor(r.g*r.alpha+a.g*(1-r.alpha)).toString(16).padStart(2,"0")}${Math.floor(r.b*r.alpha+a.b*(1-r.alpha)).toString(16).padStart(2,"0")}`}static getIconColorFromTheme(t,e,r,a=!1){if(void 0===t.iconFillColor)return;if(y.isCustomColor(t.fillCodeType,t.iconFillColor))return{color:y.getCustomColor(t.iconFillColor,a),alpha:y.getCustomAlpha(t.iconFillColor)};let n=t.iconFillColor;return -1===n&&(n=o.o[r][e]),{color:a?i.c[r][n]:s.z[r][n],alpha:1}}static getIconBorderColorFromTheme(t,e,r,a=!1){if(void 0===t.iconBorderColor)return;if(y.isCustomColor(t.borderColorCodeType,t.iconBorderColor))return{color:y.getCustomColor(t.iconBorderColor,a),alpha:y.getCustomAlpha(t.iconBorderColor)};let o=t.iconBorderColor;return -1===o&&(o=p.D[r][e]),{color:a?u.V[r][o]:c.I[r][o],alpha:1}}static isCustomColor(t,e){return -1!==e&&t===x._.CUSTOM}static getCustomColor(t,e=!1){let r=(0xffffff&t).toString(16);return`#${r.padStart(6,"0")}`}static getCustomAlpha(t,e=!1){return((0xff000000&t)>>24)/100}static getColorFromARGBNumber(t){if(t<0)return`#${t.toString(16).padStart(6,"0")}`;let e=0xffffff&t;return`#${e.toString(16).padStart(6,"0")}`}static getARGBNumberFromColor(t){return parseInt(t.replace(/^#/,"").toUpperCase(),16)>>>0}static getColorCodeFromColorString(t,e){return t?parseInt(t.slice(1),16)+(100*e<<24):0}static getAlphaFromARGBNumber(t){return t<0?1:(t>>24)/100}}},694611:function(t,e,r){var a,o;function i(t){switch(t){case a.SHEET:return"NEW_SHEET_ICON";case a.BITABLE:return"NEW_BITABLE_ICON";case a.MINDNOTE:return"NEW_MINDNOTE_ICON";case a.FILE:return"FILE_ICON";case a.DOCX:return"NEW_DOCX_ICON";case a.SLIDES:return"NEW_SLIDES_ICON";case a.WHITEBOARD:return"WHITEBOARD_ICON";case a.DOC:case a.SUITE_DOC:case a.WIKI:default:return"NEW_DOC_ICON"}}r.d(e,{E_:()=>i,Wm:()=>s}),(o=a||(a={}))[o.DOC=1]="DOC",o[o.SUITE_DOC=2]="SUITE_DOC",o[o.SHEET=3]="SHEET",o[o.BITABLE=8]="BITABLE",o[o.MINDNOTE=11]="MINDNOTE",o[o.FILE=12]="FILE",o[o.WIKI=16]="WIKI",o[o.DOCX=22]="DOCX",o[o.SLIDES=30]="SLIDES",o[o.WHITEBOARD=38]="WHITEBOARD";let s={icons:{WHITEBOARD_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M13.7279 17.9221H15.6424C16.0181 17.9221 16.3784 17.7758 16.6441 17.5153L22.245 12.0363C23.1968 11.1032 23.1968 9.59025 22.2451 8.65709C21.2933 7.72394 19.7502 7.72398 18.7985 8.6572L13.1984 14.137C12.9327 14.3974 12.7835 14.7507 12.7835 15.119V16.9961C12.7835 17.5075 13.2063 17.9221 13.7279 17.9221Z","M9.11555 17.5718C9.15851 18.0429 9.0216 18.5304 8.846 18.9713C8.83652 18.9951 8.82779 19.0178 8.81974 19.0394C9.01632 19.0122 9.25835 18.9581 9.53536 18.8747C9.94768 18.7505 10.3687 18.5823 10.7184 18.419C11.3036 18.1457 12.0039 18.3893 12.2826 18.963C12.5614 19.5367 12.313 20.2233 11.7278 20.4966C10.9196 20.8741 9.59792 21.3717 8.51759 21.3615C7.98885 21.3565 7.12502 21.2196 6.64812 20.4317C6.3324 19.9101 6.32981 19.3268 6.4537 18.783C5.43972 19.287 4.27071 20.0932 3.90536 20.3692C3.39194 20.7571 2.65504 20.6635 2.25944 20.1601C1.86384 19.6567 1.95936 18.9342 2.47278 18.5463C2.92765 18.2027 4.45941 17.1397 5.76685 16.553C6.09931 16.4038 6.45792 16.2666 6.80676 16.1855C7.11712 16.1133 7.60756 16.0387 8.09247 16.2165C8.36353 16.3158 8.62684 16.4929 8.82287 16.7654C9.01331 17.0301 9.0924 17.3179 9.11555 17.5718Z","M2 4.87474C2 3.01106 3.51081 1.50024 5.37449 1.50024H19.4606C21.3243 1.50024 22.8351 3.01106 22.8351 4.87474V5.16854C22.8351 5.72082 22.3874 6.16854 21.8351 6.16854C21.2828 6.16854 20.8351 5.72082 20.8351 5.16854V4.87474C20.8351 4.11563 20.2197 3.50024 19.4606 3.50024H5.37449C4.61538 3.50024 4 4.11563 4 4.87474V14.8618C4 15.4141 3.55228 15.8618 3 15.8618C2.44772 15.8618 2 15.4141 2 14.8618V4.87474Z"]},BITABLE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M8 11a1 1 0 1 0 0 2h3.5a1 1 0 1 0 0-2H8Zm-1 4.5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm5 2.5a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-4Zm2-6a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1Zm-6 6a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2H8Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 2h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5V3Z"]},DOCX_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["m11.883 13.195-.003-.004-2.782-3.6a.2.2 0 0 0-.158-.077H6.946a.2.2 0 0 0-.159.322l3.907 5.056a.2.2 0 0 1 0 .244l-3.907 5.056a.2.2 0 0 0 .159.322H8.94a.2.2 0 0 0 .158-.078l2.782-3.6.003-.003 1.405-1.819-1.405-1.819Zm5.248-3.681a.2.2 0 0 1 .158.322l-3 3.884-1.25-1.618 1.94-2.51a.2.2 0 0 1 .158-.078h1.994Zm-2.153 10.922-1.94-2.51 1.25-1.618 3.001 3.884a.2.2 0 0 1-.158.322h-1.994a.2.2 0 0 1-.159-.078Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 21V3h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5Z"]},DOC_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M8 11a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm0 7a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2H8Zm-1-2.5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 21V3h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5Z"]},FILE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M7 12.5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 21V3h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5Z"]},MINDNOTE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M9.5 11.75a1.75 1.75 0 0 1-1.25 1.678V14.5h1a.75.75 0 0 1 0 1.5h-1v2c0 .138.112.25.25.25h1a.75.75 0 0 1 0 1.5h-1A1.75 1.75 0 0 1 6.75 18v-4.814A1.75 1.75 0 1 1 9.5 11.75Zm1.5-.25a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Zm0 3.5a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Zm1 2.5a1 1 0 1 0 0 2h4.5a1 1 0 1 0 0-2H12Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 2h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5V3Z"]},NEW_BITABLE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M4 3h12.595c.93 0 1.806.355 2.439.96A3.07 3.07 0 0 1 20 6.177V21H7.405a3.53 3.53 0 0 1-2.439-.96A3.068 3.068 0 0 1 4 17.823V3ZM3 1a1 1 0 0 0-1 1v15.824c0 1.372.57 2.69 1.583 3.66A5.529 5.529 0 0 0 7.405 23H21a1 1 0 0 0 1-1V6.177c0-1.373-.57-2.69-1.583-3.66A5.53 5.53 0 0 0 16.595 1H3Z","M6.25 8a1 1 0 0 1 1-1h1.5a1 1 0 1 1 0 2h-1.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h1.5a1 1 0 1 1 0 2h-1.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h1.5a1 1 0 1 1 0 2h-1.5a1 1 0 0 1-1-1Zm5-8a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2h-4.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2h-4.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2h-4.5a1 1 0 0 1-1-1Z"]},NEW_DOCX_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M4 3h12.595c.93 0 1.806.355 2.439.96A3.07 3.07 0 0 1 20 6.176V21H7.405a3.53 3.53 0 0 1-2.439-.96A3.068 3.068 0 0 1 4 17.823V3ZM3 1a1 1 0 0 0-1 1v15.823c0 1.373.57 2.69 1.583 3.66A5.529 5.529 0 0 0 7.405 23H21a1 1 0 0 0 1-1V6.176a5.07 5.07 0 0 0-1.583-3.66A5.53 5.53 0 0 0 16.595 1H3Z","M6.75 8a1 1 0 0 1 1-1h8.5a1 1 0 1 1 0 2h-8.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h8.5a1 1 0 1 1 0 2h-8.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2h-4.5a1 1 0 0 1-1-1Z"]},NEW_DOC_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M4 3h12.595c.93 0 1.806.355 2.439.96A3.07 3.07 0 0 1 20 6.176V21H7.405a3.53 3.53 0 0 1-2.439-.96A3.068 3.068 0 0 1 4 17.823V3ZM3 1a1 1 0 0 0-1 1v15.823c0 1.373.57 2.69 1.583 3.66A5.529 5.529 0 0 0 7.405 23H21a1 1 0 0 0 1-1V6.176a5.07 5.07 0 0 0-1.583-3.66A5.53 5.53 0 0 0 16.595 1H3Z","M6.75 8a1 1 0 0 1 1-1h8.5a1 1 0 1 1 0 2h-8.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h8.5a1 1 0 1 1 0 2h-8.5a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h4.5a1 1 0 1 1 0 2h-4.5a1 1 0 0 1-1-1Z"]},NEW_MINDNOTE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M4 3h12.595c.93 0 1.806.355 2.439.96A3.07 3.07 0 0 1 20 6.177V21H7.405a3.53 3.53 0 0 1-2.439-.96A3.068 3.068 0 0 1 4 17.823V3ZM3 1a1 1 0 0 0-1 1v15.824c0 1.372.57 2.69 1.583 3.66A5.529 5.529 0 0 0 7.405 23H21a1 1 0 0 0 1-1V6.177c0-1.373-.57-2.69-1.583-3.66A5.53 5.53 0 0 0 16.595 1H3Z","M12 12a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm.49 3.269a2 2 0 0 1-1.733-1.004l-1.598-2.78a1 1 0 0 0-.867-.5H6.8a1 1 0 1 0 0 2h.913l1.31 2.277a4 4 0 0 0 3.468 2.007h3.764a1 1 0 0 0 0-2h-3.764Z","M12.49 8.7a2 2 0 0 0-1.733 1.003l-1.598 2.78a1 1 0 0 1-.867.5l-1.492.001a1 1 0 1 1 0-2h.913l1.31-2.278A4 4 0 0 1 12.491 6.7h3.764a1 1 0 1 1 0 2h-3.764Z"]},NEW_SHEET_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M4 3h12.595c.93 0 1.806.355 2.439.96A3.07 3.07 0 0 1 20 6.176V21H7.405a3.53 3.53 0 0 1-2.439-.96A3.068 3.068 0 0 1 4 17.823V3ZM3 1a1 1 0 0 0-1 1v15.823c0 1.373.57 2.69 1.583 3.66A5.529 5.529 0 0 0 7.405 23H21a1 1 0 0 0 1-1V6.176a5.07 5.07 0 0 0-1.583-3.66A5.53 5.53 0 0 0 16.595 1H3Z","M6.5 6.5h9.3a1.7 1.7 0 0 1 1.7 1.7v9.3H8.2a1.7 1.7 0 0 1-1.7-1.7V6.5Zm2 2v7h7v-7h-7Z","M12.9 11.1V8h-1.8v3.1H8v1.8h3.1V16h1.8v-3.1H16v-1.8h-3.1Z"]},NEW_SLIDES_ICON:{width:"25",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M20.762 2.515A5.536 5.536 0 0 0 16.94 1H3.345a1 1 0 0 0-1.001 1v15.826a5.07 5.07 0 0 0 1.582 3.659A5.536 5.536 0 0 0 7.746 23h13.597a1 1 0 0 0 1.001-1V6.173a5.07 5.07 0 0 0-1.582-3.659Zm-.417 18.486H7.75c-.93 0-1.806-.355-2.437-.961a3.076 3.076 0 0 1-.968-2.217V2.999H16.94c.931 0 1.806.355 2.438.961.63.604.967 1.404.967 2.217v14.824Z","M6.567 12.604c.288 2.918 3.156 5.34 6.085 5.197 3.648-.177 5.62-3.484 5.513-5.938a.457.457 0 0 0-.464-.422h-4.442a.462.462 0 0 1-.461-.461V6.655a.465.465 0 0 0-.442-.467c-3.164-.042-6.153 2.731-5.79 6.413v.003Zm4.771 3.117a3.806 3.806 0 0 1-2.706-2.681 3.85 3.85 0 0 1 2.32-4.62v4.407c0 .255.207.462.462.462h4.543c-.638 1.778-2.533 2.963-4.619 2.432Z","M18.148 9.52c-.464-1.543-1.72-2.815-3.393-3.312a.482.482 0 0 0-.63.456V9.67c0 .263.213.476.476.476h3.089c.324 0 .55-.316.458-.627Z"]},SHEET_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M6.5 12a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2v-6Zm5.1 0v1.5h3.9V12h-3.9ZM10 12H8.5v1.5H10V12Zm0 3.1H8.5V18H10v-2.9Zm1.6 2.9h3.9v-2.9h-3.9V18Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 21V3h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5Z"]},SLIDE_ICON:{width:"24",height:"24",fill:"#3370FF",fillRule:"",clipRule:"",d:["M6.5 12a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2v-6Zm1.5.5v5h8v-5H8Z","M5 1a2 2 0 0 0-2 2v19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.553a2 2 0 0 0-.555-1.383l-4.354-4.552A2 2 0 0 0 14.645 1H5Zm0 21V3h9.5v3.5a1 1 0 0 0 1 1h3.45l.05.053V22H5Z"]}}}},580182:function(t,e,r){r.d(e,{w:()=>a});class a{keyup(t,e){}}},515599:function(t,e,r){r(625904),r(512370),r(90854)}}]);