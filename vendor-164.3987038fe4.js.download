"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["20476"],{992313:function(t,e,i){i.d(e,{g:()=>r});var s=i(683330),a=i(480971),n=i(20408),l=i(695723);class r extends s.k{_prepareAnimate(t){if(!1!==this.attribute.animation){let{animation:e,animationEnter:i,animationExit:s,animationUpdate:r}=this.attribute,o=(0,a.Z)(e)?e:{};this._animationConfig={enter:!1!==i&&(0,n.Z)({},t,o,null!=i?i:{}),exit:!1!==s&&(0,n.Z)({},t,o,null!=s?s:{}),update:!1!==r&&((0,l.Z)(r)?r:(0,n.Z)({},t,o,null!=r?r:{}))}}else this._animationConfig={enter:!1,exit:!1,update:!1}}}},961970:function(t,e,i){i.d(e,{I:()=>v});var s=i(222669),a=i(228708),n=i(551976),l=i(944843),r=i(20408),o=i(796241),h=i(408830),d=i(625397),u=i(118785),c=i(883731),b=i(743394),g=i(909065),p=i(484412),f=i(569402),m=i(601501),x=i(670144),_=i(992313);let y={type:"default",duration:300,easing:"linear"};class v extends _.g{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=t=>{this._lastHover=(0,x.fM)(t,this.axisContainer,this._lastHover)},this._onUnHover=t=>{this._lastHover=(0,x.lO)(t,this.axisContainer,this._lastHover)},this._onClick=t=>{this._lastSelect=(0,x.Q6)(t,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(t){let e=(0,n.Z)(this.attribute);e.scale=this.attribute.scale,this.attribute=t;let i=s.i.group({x:this.attribute.x,y:this.attribute.y});return this.add(i),this._renderInner(i),this.removeChild(i),this.attribute=e,i.AABBBounds}render(){this._prepare(),this._prevInnerView=this._innerView&&(0,m.uX)(this._innerView),this.removeAllChild(!0),this._innerView=s.i.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent(),this.runAnimation()}_prepare(){this._prepareAnimate(y)}_bindEvent(){if(this.attribute.disableTriggerEvent)return;let{hover:t,select:e}=this.attribute;t&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),e&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(t){let{title:e,label:i,tick:a,line:n,items:l}=this.attribute,r=s.i.group({x:0,y:0,zIndex:1,pickable:!1});if(r.name=g.X9.axisContainer,r.id=this._getNodeId("container"),r.setMode(this.mode),this.axisContainer=r,t.add(r),n&&n.visible&&this.renderLine(r),l&&l.length&&(this.data=this._transformItems(l[0]),a&&a.visible&&this.renderTicks(r),i&&i.visible)){let t=s.i.group({x:0,y:0,pickable:!1});t.name=g.X9.labelContainer,t.id=this._getNodeId("label-container"),this.axisLabelsContainer=t,r.add(t),l.forEach((e,i)=>{let s=this.renderLabels(t,e,i),a=s.getChildren();this.beforeLabelsOverlap(a,e,s,i,l.length),this.handleLabelsOverlap(a,e,s,i,l.length),this.afterLabelsOverlap(a,e,s,i,l.length);let n=0,r=0,o="center",h="middle",d=0;a.forEach((t,e)=>{var i;let s=t.attribute,a=null!=(i=s.angle)?i:0,l=t.AABBBounds,u=l.width(),c=l.height();a&&(u=Math.abs(u*Math.cos(a)),c=Math.abs(c*Math.sin(a))),n=Math.max(n,u),r=Math.max(r,c),o=s.textAlign,h=s.textBaseline,0===e&&(d=s.x)}),this.axisLabelLayerSize[i]={width:n,height:r,labelPos:d,textAlign:o,textBaseline:h}})}e&&e.visible&&this.renderTitle(r)}renderTicks(t){let e=this.getTickLineItems(),i=s.i.group({x:0,y:0,pickable:!1});i.name=g.X9.tickContainer,i.id=this._getNodeId("tick-container"),t.add(i),e.forEach((t,a)=>{var n;let h=s.i.line(Object.assign({},this._getTickLineAttribute("tick",t,a,e)));if(h.name=g.X9.tick,h.id=this._getNodeId(t.id),(0,l.Z)(null==(n=this.attribute.tick)?void 0:n.state))h.states=b.n0;else{let t=this.data[a],e=(0,r.Z)({},b.n0,this.attribute.tick.state);Object.keys(e).forEach(i=>{(0,o.Z)(e[i])&&(e[i]=e[i](t.rawValue,a,t,this.data))}),h.states=e}i.add(h)}),this.tickLineItems=e;let{subTick:a}=this.attribute;if(a&&a.visible){let t=this.getSubTickLineItems();t.length&&t.forEach((t,n)=>{let h=s.i.line(Object.assign({},this._getTickLineAttribute("subTick",t,n,e)));if(h.name=g.X9.subTick,h.id=this._getNodeId(`${n}`),(0,l.Z)(a.state))h.states=b.n0;else{let i=(0,r.Z)({},b.n0,a.state);Object.keys(i).forEach(s=>{(0,o.Z)(i[s])&&(i[s]=i[s](t.value,n,t,e))}),h.states=i}i.add(h)}),this.subTickLineItems=t}}renderLabels(t,e,i){let{dataFilter:a}=this.attribute.label;a&&(0,o.Z)(a)&&(e=a(e,i));let n=this._transformItems(e),h=s.i.group({x:0,y:0,pickable:!1});return h.name=`${g.X9.labelContainer}-layer-${i}`,h.id=this._getNodeId(`label-container-layer-${i}`),t.add(h),n.forEach((t,e)=>{var s;let a=this._getLabelAttribute(t,e,n,i),d=(0,u.vS)(a);if(d.name=g.X9.label,d.id=this._getNodeId(`layer${i}-label-${t.id}`),(0,l.Z)(null==(s=this.attribute.label)?void 0:s.state))d.states=b.n0;else{let s=(0,r.Z)({},b.n0,this.attribute.label.state);Object.keys(s).forEach(a=>{(0,o.Z)(s[a])&&(s[a]=s[a](t,e,n,i))}),d.states=s}d.data=Object.assign(Object.assign({},t),{index:e,layer:i}),h.add(d)}),h}renderTitle(t){let e=this.getTitleAttribute(),i=new f.V(Object.assign({},e));i.name=g.X9.title,i.id=this._getNodeId("title"),t.add(i)}getVerticalCoord(t,e,i){return(0,m.cN)(t,this.getVerticalVector(e,i,t))}getTickLineItems(){let{tick:t}=this.attribute,e=this.data,i=[],{alignWithLabel:s,inside:a=!1,length:n,dataFilter:l}=t,r=1;return e.length>=2&&(r=e[1].value-e[0].value),(l&&(0,o.Z)(l)?l(e):e).forEach(t=>{let e=t.point,l=t.value;if(!s){let i=t.value-r/2;if(this.isInValidValue(i))return;e=this.getTickCoord(i),l=i}let o=this.getVerticalCoord(e,n,a);if("3d"===this.mode){let s=this.getVerticalVector(n,a,e),r=0,d=0;(0,h.Wn)(s[0])>(0,h.Wn)(s[1])?r=h.pi/2*(o.x>e.x?1:-1):d=h.pi/2*(o.y>e.y?-1:1),i.push({start:e,end:o,value:l,id:`tick-${t.id}`,anchor:[e.x,e.y],alpha:r,beta:d})}else i.push({start:e,end:o,value:l,id:`tick-${t.id}`})}),i}getSubTickLineItems(){let{subTick:t}=this.attribute,e=[],{count:i=4,inside:s=!1,length:a=2}=t,n=this.tickLineItems,l=n.length;if(l>=2)for(let t=0;t<l-1;t++){let l=n[t],r=n[t+1];for(let t=0;t<i;t++){let n=(t+1)/(i+1),o=(1-n)*l.value+n*r.value,h=this.getTickCoord(o),d=this.getVerticalCoord(h,a,s);e.push({start:h,end:d,value:o,id:`sub-tick-${o}`})}}return e}_getTickLineAttribute(t,e,i,s){let a=(0,d.Z)(this.attribute,`${t}.style`),n=this.data[i];a=(0,o.Z)(a)?(0,r.Z)({},(0,d.Z)(p.p,`${t}.style`),"tick"===t?a(n.rawValue,i,n,this.data):a(e.value,i,e,s)):a;let{start:l,end:h,anchor:u,alpha:c,beta:b}=e;return Object.assign({points:[l,h],anchor:u,alpha:c,beta:b},a)}_getLabelAttribute(t,e,i,s){var a,n;let{space:l=4,inside:h=!1,formatMethod:u,type:c="text",text:b}=this.attribute.label,g=l,f=0;(null==(a=this.attribute.tick)?void 0:a.visible)&&this.attribute.tick.inside===h&&(f=this.attribute.tick.length||4),(null==(n=this.attribute.subTick)?void 0:n.visible)&&this.attribute.subTick.inside===h&&(f=Math.max(f,this.attribute.subTick.length||2)),g+=f;let m=this.getRelativeVector(t.point);s>0&&(0===m[1]?g+=(this.axisLabelLayerSize[s-1].height+(0,d.Z)(this.attribute,"label.space",4))*s:g+=(this.axisLabelLayerSize[s-1].width+(0,d.Z)(this.attribute,"label.space",4))*s);let x=this.getVerticalCoord(t.point,g,h),_=this.getVerticalVector(g||1,h,x),y=u?u(`${t.label}`,t,e,i,s):t.label,{style:v}=this.attribute.label;v=(0,o.Z)(v)?(0,r.Z)({},p.p.label.style,v(t,e,i,s)):v;let A=this.getLabelAlign(_,h,v.angle);return v=(0,r.Z)(A,v),(0,o.Z)(v.text)&&(v.text=v.text({label:t.label,value:t.rawValue,index:t.index,layer:s})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(x,_,y,v)),{text:null!=b?b:y,_originText:t.label,lineHeight:null==v?void 0:v.fontSize,type:c}),v)}getLabelPosition(t,e,i,s){return t}_transformItems(t){let e=[];return t.forEach(t=>{var i;e.push(Object.assign(Object.assign({},t),{point:this.getTickCoord(t.value),id:null!=(i=t.id)?i:t.label}))}),e}runAnimation(){let t=this.lastScale;if(this.attribute.scale){let t=this.attribute.scale;this.lastScale=t.clone(),this.lastScale.range([0,1])}if(this.attribute.animation&&this.applyAnimationState){let e=this.getInnerView(),i=this.getPrevInnerView();if(!i)return;let s=this._animationConfig;this._newElementAttrMap={},(0,c.Ck)(e,e=>{var n;if("group"!==e.type&&e.id){let l=i[e.id];if(e.setFinalAttributes(e.attribute),l){l.release();let i=l.attribute,r=e.getFinalAttribute(),o=(0,a.H)(i,r),h=Object.keys(o).length>0;if("opacity"in i&&r.opacity!==i.opacity&&(o.opacity=null!=(n=r.opacity)?n:1,h=!0),s.update&&h){this._newElementAttrMap[e.id]={state:"update",node:e,attrs:e.attribute};let i=l.attribute;e.setAttributes(i),e.applyAnimationState(["update"],[{name:"update",animation:Object.assign(Object.assign({selfOnly:!0},s.update),{type:"axisUpdate",customParameters:{config:s.update,diffAttrs:o,lastScale:t}})}])}}else s.enter&&(this._newElementAttrMap[e.id]={state:"enter",node:e,attrs:e.attribute},e.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},s.enter),{type:"axisEnter",selfOnly:!0,customParameters:{config:s.enter,lastScale:t,getTickCoord:this.getTickCoord.bind(this)}})}]))}})}}release(){super.release(),this._prevInnerView=null,this._innerView=null}}},236874:function(t,e,i){i.d(e,{W:()=>S});var s=i(222669),a=i(20408),n=i(89530),l=i(944843),r=i(625397),o=i(454326),h=i(796241),d=i(536163),u=i(612430),c=i(743394),b=i(961970),g=i(484412),p=i(909065),f=i(867389),m=i(601501),x=i(485972),_=i(762092);function y(t,e){let i=t.length;return{prevLabel:e>=1?t[e-1]:t[i-1],nextLabel:e<i-1?t[e+1]:t[0]}}function v(t,e,i){var s;t.setAttributes({maxLineWidth:e,ellipsis:null!=(s=t.attribute.ellipsis)?s:i})}function A(t,e,i){let s=[];if(t.length>=3){let{prevLabel:i,nextLabel:a}=y(t,e);s.push(i,a)}else 2===t.length&&s.push(t[+(0===e)]);let a=t[e],n=Math.min(Math.abs(a.attribute.y-i.y1),Math.abs(a.attribute.y-i.y2));s.forEach(t=>{n=Math.min(n,Math.abs(t.attribute.y-a.attribute.y))}),n>0&&a.setAttributes({whiteSpace:"normal",heightLimit:n})}var B=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,x.WF)();class S extends b.I{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},S.defaultAttributes,t))}renderLine(t){let{startAngle:e=c.v2,endAngle:i=c.Di,radius:r,center:o,innerRadius:h=0,line:d={},inside:u=!1,sides:b}=this.attribute,g,f=r,x=h;if(u&&h>0&&(f=h,x=0),(0,n.Z)(b)&&b>=3){let t=(0,m.zl)(o,b,f,e,i);g=s.i.path(Object.assign(Object.assign({},d.style),{path:(0,m.st)(t,!0)}))}else{let t=Object.assign(Object.assign(Object.assign({},o),{startAngle:e,endAngle:i,radius:f,innerRadius:x}),d.style);g=s.i.circle(t)}g.name=p.X9.line,g.id=this._getNodeId("line"),(0,l.Z)(d.state)||(g.states=(0,a.Z)({},p.n0,d.state)),t.add(g)}getTitleAttribute(){var t,e,i;let{center:s,radius:n,innerRadius:l=0}=this.attribute,h=this.attribute.title,{space:d=4,textStyle:u={},shape:c,background:b,state:g={}}=h,f=B(h,["space","textStyle","shape","background","state"]),m=s,x=0;(null==(t=this.attribute.label)?void 0:t.visible)&&!1===this.attribute.label.inside&&(x=(0,r.Z)(this.attribute.label,"style.fontSize",12)+(0,r.Z)(this.attribute.label,"space",4));let _=0;(null==(e=this.attribute.tick)?void 0:e.visible)&&!1===this.attribute.tick.inside&&(_=this.attribute.tick.length||4),(null==(i=this.attribute.subTick)?void 0:i.visible)&&!1===this.attribute.subTick.inside&&(_=Math.max(_,this.attribute.subTick.length||2));let y=n+_+x+d,v="middle",{position:A}=this.attribute.title;(0,o.Z)(A)&&(A=0===l?"end":"middle"),"start"===A?(v="bottom",m={x:s.x,y:s.y-y}):"end"===A&&(v="top",m={x:s.x,y:s.y+y});let S=Object.assign(Object.assign(Object.assign({},m),f),{textStyle:Object.assign({textBaseline:v,textAlign:"center"},u),state:{text:(0,a.Z)({},p.n0,g.text),shape:(0,a.Z)({},p.n0,g.shape),panel:(0,a.Z)({},p.n0,g.background)}}),{angle:k}=f;return S.angle=k,c&&c.visible&&(S.shape=Object.assign({visible:!0},c.style),c.space&&(S.space=c.space)),b&&b.visible&&(S.panel=Object.assign({visible:!0},b.style)),S}getSubTickLineItems(){var t,e;let{subTick:i}=this.attribute,s=[],{count:a=4,inside:n=!1,length:l=2}=i,r=this.tickLineItems,o=r.length;if(o>=2){let i=this.data[1].value-this.data[0].value,h=null==(e=null==(t=this.attribute)?void 0:t.tick)?void 0:e.alignWithLabel;for(let t=0;t<o;t++){let e=r[t],o=r[t+1];for(let t=0;t<a;t++){let r=(t+1)/(a+1),d=(1-r)*e.value+r*(o?o.value:h?1:e.value+i),u=this.getTickCoord(d),c=this.getVerticalCoord(u,l,n);s.push({start:u,end:c,value:d})}}}return s}beforeLabelsOverlap(t,e,i,s,a){}handleLabelsOverlap(t,e,i,s,a){if((0,l.Z)(t))return;let{inside:n,radius:r,center:o,size:u,label:c,orient:b}=this.attribute,g=u?{x1:0,y1:0,x2:u.width,y2:u.height}:{x1:o.x-r,y1:o.y-r,x2:o.x+r,y2:o.y+r},{layoutFunc:p,autoLimit:f,limitEllipsis:m,autoHide:x,autoHideMethod:B,autoHideSeparation:S,autoWrap:k}=c;(0,h.Z)(p)?p(t,e,s,this):((f||k)&&function(t,e){let{ellipsis:i,inside:s,bounds:a,autoWrap:n,center:l}=e;s||t.forEach((e,s)=>{let{x:r,y:o}=e.attribute,h=e.AABBBounds;if((0,d.Yt)(r,l.x)){if(o>a.y2||o<a.y1)return void v(e,0,i);let n=a.x2-a.x1;if(t.length>=3){let{prevLabel:a,nextLabel:l}=y(t,s),o=a.attribute.x,h=l.attribute.x;o>h&&(o=l.attribute.x,h=a.attribute.x);let d=o===h?n:r>=o&&r<=h?h-o:Math.min(Math.abs(o-r),Math.abs(h-r));e.AABBBounds.width()>d&&v(e,d,i)}else e.AABBBounds.width()>n&&v(e,n,i)}else r>l.x&&h.x2>a.x2?(v(e,a.x2-r,i),n&&A(t,s,a)):r<l.x&&h.x1<a.x1&&(v(e,r-a.x1,i),n&&A(t,s,a))})}(t,{inside:n,autoWrap:k,bounds:g,ellipsis:m,center:o}),x&&(0,_.t)(t,{orient:b,method:B,separation:S}))}afterLabelsOverlap(t,e,i,s,a){}getTextBaseline(t){return .3>Math.abs(t[1]/t[0])?"middle":t[1]<0?"bottom":t[1]>0?"top":"middle"}getLabelAlign(t,e,i){return(0,d.Yt)(t[0],0)?{textAlign:"center",textBaseline:t[1]>0?"top":"bottom"}:t[0]<0?{textAlign:"right",textBaseline:this.getTextBaseline(t)}:t[0]>0?{textAlign:"left",textBaseline:this.getTextBaseline(t)}:{textAlign:"center",textBaseline:"middle"}}getLabelPosition(t,e,i,s){return t}}S.defaultAttributes=g.p,(0,u.jB)(S,f.N)},484412:function(t,e,i){i.d(e,{P:()=>a,p:()=>s});let s={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},a={size:8,stroke:"#000",lineWidth:1,zIndex:1}},909065:function(t,e,i){var s,a,n,l;i.d(e,{X9:()=>s,bz:()=>o,n0:()=>r}),(n=s||(s={})).innerView="inner-view",n.axisContainer="axis-container",n.labelContainer="axis-label-container",n.tickContainer="axis-tick-container",n.tick="axis-tick",n.subTick="axis-sub-tick",n.label="axis-label",n.title="axis-title",n.gridContainer="axis-grid-container",n.grid="axis-grid",n.gridRegion="axis-grid-region",n.line="axis-line",n.background="axis-background",n.axisLabelBackground="axis-label-background",n.axisBreak="axis-break",n.axisBreakSymbol="axis-break-symbol",(l=a||(a={})).selected="selected",l.selectedReverse="selected_reverse",l.hover="hover",l.hoverReverse="hover_reverse";let r={[a.selectedReverse]:{},[a.selected]:{},[a.hover]:{},[a.hoverReverse]:{}},o=999},306946:function(t,e,i){i.d(e,{w:()=>g});var s=i(919498),a=i(20408),n=i(796241),l=i(408830),r=i(695723),o=i(536163),h=i(222669),d=i(683330),u=i(909065),c=i(601501);function b(t,e,i,a){let n="";if(!t||0===e.length)return n;let l=e[0],r=s.HL.distancePP(t,l),o=+!i;return a?n+=`M${t.x},${t.y-r}A${r},${r},0,0,${o},${t.x},${t.y+r}A${r},${r},0,0,${o},${t.x},${t.y-r}Z`:e.forEach((t,e)=>{0===e?n=`M${t.x},${t.y}`:n+=`A${r},${r},0,0,${o},${t.x},${t.y}`}),n}class g extends d.k{constructor(){super(...arguments),this.name="axis-grid",this.data=[]}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}render(){this._prevInnerView=this._innerView&&(0,c.uX)(this._innerView),this.removeAllChild(!0),this._innerView=h.i.group({x:0,y:0,pickable:!1}),this.add(this._innerView);let{items:t,visible:e}=this.attribute;t&&t.length&&!1!==e&&(this.data=this._transformItems(t),this._renderGrid(this._innerView))}getVerticalCoord(t,e,i){return(0,c.cN)(t,this.getVerticalVector(e,i,t))}_transformItems(t){let e=[];return t.forEach(t=>{var i;e.push(Object.assign(Object.assign({},t),{point:this.getTickCoord(t.value),id:null!=(i=t.id)?i:t.label}))}),e}_renderGrid(t){let{visible:e}=this.attribute.subGrid||{};e&&this._renderGridByType(!0,t),this._renderGridByType(!1,t)}_renderGridByType(t,e){let i=(0,a.Z)({},this.attribute,this.getGridAttribute(t)),{type:d,items:p,style:f,closed:m,alternateColor:x,depth:_=0}=i,y=t?`${u.X9.grid}-sub`:`${u.X9.grid}`;if(p.forEach((t,i)=>{let{id:s,points:l}=t,r="";if("line"===d||"polygon"===d)r=(0,c.st)(l,!!m);else if("circle"===d){let{center:t}=this.attribute;r=b(t,l,!1,!!m)}let o=h.i.path(Object.assign({path:r,z:_},(0,n.Z)(f)?(0,a.Z)({},this.skipDefault?null:g.defaultAttributes.style,f(t,i)):f));o.name=`${y}-line`,o.id=this._getNodeId(`${y}-path-${s}`),e.add(o)}),_&&"line"===d&&p.forEach((t,i)=>{let{id:s,points:r}=t,o=[];o.push(r[0]);let d=r[1].x-r[0].x,u=r[1].y-r[0].y,b=_/Math.sqrt(d*d+u*u);o.push({x:r[0].x+d*b,y:r[0].y+u*b});let p=(0,c.st)(o,!!m),x=(0,l.Wn)(o[0].x-o[1].x),v=(0,l.Wn)(o[0].y-o[1].y),A=h.i.path(Object.assign({path:p,z:0,alpha:x>v?(r[1].x-r[0].x>0?-1:1)*l.pi/2:0,beta:x<v?-l.pi/2:0,anchor3d:x>v?[o[0].x,0]:[0,o[0].y]},(0,n.Z)(f)?(0,a.Z)({},this.skipDefault?null:g.defaultAttributes.style,f(t,i)):f));A.name=`${y}-line`,A.id=this._getNodeId(`${y}-path-${s}`),e.add(A)}),p.length>1&&x){let t=(0,r.Z)(x)?x:[x,"transparent"],a=e=>t[e%t.length],n=this.attribute.items,l=n[0],d=n[n.length-1],u=!(0,o.Yt)(l.value,0)&&!(0,o.Yt)(d.value,0),g=!(0,o.Yt)(l.value,1)&&!(0,o.Yt)(d.value,1),f=[],m=l.value>d.value;(m&&g||!m&&u)&&f.push(this.getGridPointsByValue(+!!m)),p.forEach(t=>{f.push(t.points)}),(m&&u||!m&&g)&&f.push(this.getGridPointsByValue(+!m));for(let t=0;t<f.length-1;t++){let n=function(t,e,i){let{type:a,closed:n}=i,l=e.slice(0).reverse(),r="",o="";if("line"===a&&i.smoothLink&&i.center){let e=t[0],a=l[0],h=i.center;r=(0,c.st)(t,!!n),o=(0,c.st)(l,!!n);let d=s.HL.distancePP(a,h),u=s.HL.distancePP(e,h);r+=`A${d},${d},0,0,1,${a.x},${a.y}L${a.x},${a.y}`,o+=`A${u},${u},0,0,0,${e.x},${e.y}`}else if("circle"===a){let{center:e}=i;r=b(e,t,!1,!!n),o=b(e,l,!0,!!n)}else"line"!==a&&"polygon"!==a||(r=(0,c.st)(t,!!n),o=(0,c.st)(l,!!n));return n?r+=o:(r+=o="L"+o.substring(1),r+="Z"),r}(f[t],f[t+1],i),l=h.i.path({path:n,fill:a(t)});l.name=`${y}-region`,l.id=this._getNodeId(`${y}-region-${t}`),e.add(l)}}}_getNodeId(t){return`${this.id}-${t}`}_parseTickSegment(){let t=1;return this.data.length>=2&&(t=this.data[1].value-this.data[0].value),t}_getPointsOfSubGrid(t,e){let i=this.data.length,s=[];return i>=2&&this.data.forEach(i=>{let a=i.value;if(!e){let e=i.value-t/2;if(this.isInValidValue(e))return;a=e}s.push({value:a})}),s}release(){super.release(),this._prevInnerView=null,this._innerView=null}}g.defaultAttributes={style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]},subGrid:{visible:!1,style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]}}}},286501:function(t,e,i){i.d(e,{U:()=>d});var s=i(20408),a=i(612430),n=i(306946),l=i(743394),r=i(867389),o=i(485972),h=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,o.sC)();class d extends n.w{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},n.w.defaultAttributes,t),e)}getGridPointsByValue(t){let e=this.getTickCoord(t),{radius:i,innerRadius:s=0}=this.attribute;return[e,this.getVerticalCoord(e,i-s,!0)]}getGridAttribute(t){let e,i=[],a=this.attribute,{radius:n,innerRadius:r=0,startAngle:o=l.v2,endAngle:d=l.Di,center:u,subGrid:c}=a,b=h(a,["radius","innerRadius","startAngle","endAngle","center","subGrid"]),{alignWithLabel:g=!0}=b||{},p=n-r,f=this._parseTickSegment();if(t){e=(0,s.Z)({},b,c);let t=[],{count:a=4}=c||{},n=this.data.length;if(n>=2){let e=this._getPointsOfSubGrid(f,g);for(let i=0;i<n;i++){let s=e[i],n=e[i+1];t.push({id:`sub-${i}-0`,points:[this.getTickCoord(s.value),this.getVerticalCoord(this.getTickCoord(s.value),p,!0)],datum:{}});for(let e=0;e<a;e++){let l=(e+1)/(a+1),r=(1-l)*s.value+l*(n?n.value:g?1:s.value+f),o=this.getTickCoord(r),h=this.getVerticalCoord(o,p,!0);t.push({id:`sub-${i}-${e+1}`,points:[o,h],datum:{}})}}Math.abs(d-o)%(2*Math.PI)==0&&t.push(t[0]),i=t}}else{e=b;let t=[];(Math.abs(d-o)%(2*Math.PI)==0?[...this.data].concat(this.data[0]):this.data).forEach(e=>{let{point:i}=e;if(!g){let t=e.value-f/2;if(this.isInValidValue(t))return;i=this.getTickCoord(t)}let s=this.getVerticalCoord(i,p,!0);t.push({id:e.id,points:[i,s],datum:e})}),i=t}return Object.assign(Object.assign({},e),{items:i,center:u,type:"line"})}}(0,a.jB)(d,r.N)},942357:function(t,e,i){i.d(e,{E:()=>u});var s=i(20408),a=i(919498),n=i(612430),l=i(306946),r=i(743394),o=i(11218),h=i(485972),d=i(601501);(0,h.nZ)();class u extends l.w{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},l.w.defaultAttributes,t),e)}_getGridPoint(t,e){let i;if("line"===t){let{length:t}=this.attribute;i=[e,this.getVerticalCoord(e,t,!0)]}else if("circle"===t||"polygon"===t){let{center:t,sides:s=6,startAngle:n=r.v2,endAngle:l=r.Di}=this.attribute,o=a.HL.distancePP(t,e);i=(0,d.zl)(t,s,o,n,l)}return i}getGridPointsByValue(t){let e=this.getTickCoord(t);return this._getGridPoint(this.attribute.type,e)}getGridAttribute(t){let{type:e,alignWithLabel:i=!0}=this.attribute,a=this._parseTickSegment(),n,l=[];if(t){n=(0,s.Z)({},this.attribute,this.attribute.subGrid);let t=[],{count:e=4}=n;if(this.data.length>=2){let s=this._getPointsOfSubGrid(a,i);for(let i=0;i<s.length-1;i++){let a=s[i],n=s[i+1];t.push({id:`sub-${i}-0`,points:this.getGridPointsByValue(a.value),datum:{}});for(let s=0;s<e;s++){let l=(s+1)/(e+1),r=(1-l)*a.value+l*n.value;t.push({id:`sub-${i}-${s+1}`,points:this.getGridPointsByValue(r),datum:{}})}i===s.length-2&&t.push({id:`sub-${i}-${e+1}`,points:this.getGridPointsByValue(n.value),datum:{}})}l=t}}else{n=this.attribute;let t=[];this.data.forEach(s=>{let{point:n}=s;if(!i){let t=s.value-a/2;if(this.isInValidValue(t))return;n=this.getTickCoord(t)}t.push({id:s.label,datum:s,points:this._getGridPoint(e,n)})}),l=t}return Object.assign(Object.assign({},n),{items:l})}}(0,n.jB)(u,o.b)},491611:function(t,e,i){i.d(e,{$:()=>E});var s=i(20408),a=i(944843),n=i(536163),l=i(625397),r=i(454326),o=i(89530),h=i(999051),d=i(796241),u=i(364776),c=i(464639),b=i(612430),g=i(222669),p=i(373550),f=i(881650),m=i(961970),x=i(484412),_=i(909065),y=i(118785),v=i(762092),A=i(309762),B=i(553983);function S(t=0){if(t<0)for(;t<0;)t+=2*Math.PI;if(t>0)for(;t>=2*Math.PI;)t-=2*Math.PI;return t}function k(t,e=0){let i,s=["center","left","left","left","center","right","right","right","left"],a=["top","top","middle","bottom","bottom","bottom","middle","top","top"];"top"===t&&(s=["center","right","right","right","center","left","left","left","right"],a=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);let n=(e=S(e))/(.5*Math.PI);return{textAlign:s[i=n===Math.floor(n)?2*Math.floor(n):2*Math.floor(n)+1],textBaseline:a[i]}}function w(t,e=0){let i,s=["right","right","center","left","left","left","center","right","right"],a=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];"right"===t&&(s=["left","left","center","right","right","right","center","left","left"],a=["middle","middle","bottom","bottom","middle","middle","top","middle","middle"]);let n=(e=S(e))/(.5*Math.PI);return{textAlign:s[i=n===Math.floor(n)?2*Math.floor(n):2*Math.floor(n)+1],textBaseline:a[i]}}var M=i(480971),O=i(408830);function C(t,e,i){let s;return(0,o.Z)(e)&&(s=Math.abs(e-t)),(0,o.Z)(i)&&(s=(0,o.Z)(s)?Math.min(Math.abs(t-i),s):Math.abs(t-i)),s}var L=i(11218),T=i(485972),P=i(601501),I=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,T.Vu)();class E extends m.I{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},E.defaultAttributes,t),e)}_renderInner(t){var e;if(this._breaks=null,this.attribute.breaks&&this.attribute.breaks.length){let t=[];for(let e=0;e<this.attribute.breaks.length;e++){let{range:i,breakSymbol:s,rawRange:a}=this.attribute.breaks[e];t.push({startPoint:this.getTickCoord(i[0]),endPoint:this.getTickCoord(i[1]),range:i,breakSymbol:s,rawRange:a})}this._breaks=t}super._renderInner(t),this._breaks&&this._breaks.length&&this._breaks.forEach((e,i)=>{let{startPoint:s,endPoint:a,breakSymbol:n,rawRange:l}=e;if(!1!==(null==n?void 0:n.visible)){let e=g.i.group({zIndex:_.bz});e.name=_.X9.axisBreak,e.id=this._getNodeId(`${_.X9.axisBreak}-${i}`),e.data=l;let r=(0,P.uf)(n),o=g.i.symbol(Object.assign({x:s.x,y:s.y},r));o.name=_.X9.axisBreakSymbol;let h=g.i.symbol(Object.assign({x:a.x,y:a.y},r));h.name=_.X9.axisBreakSymbol,e.add(o),e.add(h),t.add(e)}});let{panel:i}=this.attribute;if(i&&i.visible){let t=this.axisContainer,a=t.AABBBounds,n=g.i.rect(Object.assign({x:a.x1,y:a.y1,width:a.width(),height:a.height()},i.style));n.name=_.X9.background,n.id=this._getNodeId("background"),n.states=(0,s.Z)({},_.n0,null!=(e=i.state)?e:{}),t.insertBefore(n,t.firstChild)}}renderLine(t){let{start:e,end:i,line:n}=this.attribute,{startSymbol:l,endSymbol:r,style:o,state:h}=n,d=Object.assign({startSymbol:l,endSymbol:r,lineStyle:o},I(n,["startSymbol","endSymbol","style","state"]));if(this._breaks&&this._breaks.length){let t=[],s=e;this._breaks.forEach(e=>{let{startPoint:i,endPoint:a}=e;t.push([s,i]),s=a}),t.push([s,i]),d.points=t,d.multiSegment=!0}else d.points=[e,i];(0,a.Z)(h)||(d.state={line:(0,s.Z)({},_.n0,h),symbol:(0,s.Z)({},_.n0,h)});let u=new p.X(d);u.name=_.X9.line,u.id=this._getNodeId("line"),t.add(u)}getTextAlign(t){let e="center";return(0,n.Yt)(t[0],0)?(0,n.Yt)(t[1],0)?Object.is(t[1],-0)?e="start":Object.is(t[0],-0)&&(e="end"):e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e}getTitleAttribute(){var t,e,i;let a=this.attribute.title,{position:n="middle",space:h=4,textStyle:d={},autoRotate:u=!0,shape:c,background:b,state:g={},maxWidth:p}=a,m=I(a,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]),x=.5;"start"===n?x=0:"end"===n&&(x=1);let{verticalFactor:y=1}=this.attribute,v=this.getTickCoord(x),A=this.getRelativeVector(),B=0;if((null==(t=this.attribute.label)?void 0:t.visible)&&!1===this.attribute.label.inside){let t=+(0,l.Z)(this.attribute,"label.space",4);B+=t;let e=Object.keys(this.axisLabelLayerSize).length;if(0===A[1]){let i=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(i)?B+=i+(e-1)*t:B=0}else if(0===A[0])if(this.axisLabelsContainer&&this.axisLabelsContainer.AABBBounds&&!this.axisLabelsContainer.AABBBounds.empty()){let i=this.axisLabelLayerSize[0].labelPos,s=this.axisLabelsContainer.AABBBounds;B+=(1==-1*y?s.x2>i?Math.min(s.x2-i,s.width()):0:s.x1<i?Math.min(i-s.x1,s.width()):0)+(e-1)*t}else B=0;else Object.keys(this.axisLabelLayerSize).forEach((e,i)=>{B+=this.axisLabelLayerSize[e].width+(i>0?t:0)})}let S=0;(null==(e=this.attribute.tick)?void 0:e.visible)&&!1===this.attribute.tick.inside&&(S=this.attribute.tick.length||4),(null==(i=this.attribute.subTick)?void 0:i.visible)&&!1===this.attribute.subTick.inside&&(S=Math.max(S,this.attribute.subTick.length||2));let k=S+B+h,w=this.getVerticalCoord(v,k,!1),M=this.getVerticalVector(k,!1,{x:0,y:0}),O,C,{angle:L}=m;if(O="start"===n?"start":"end"===n?"end":"center",(0,r.Z)(L)&&u){L=(0,f.Dg)(A,[1,0],!0);let{verticalFactor:t=1}=this.attribute;C=1==-1*t?"bottom":"top"}else O=this.getTextAlign(M),C=this.getTextBaseline(M,!1);let T=p;if((0,r.Z)(T)){let{verticalLimitSize:t,verticalMinSize:e,orient:i}=this.attribute,s=Math.min(t||1/0,e||1/0);if((0,o.Z)(s))if("bottom"===i||"top"===i)if(L!==Math.PI/2){let t=Math.abs(Math.cos(null!=L?L:0));T=t<1e-6?1/0:this.attribute.end.x/t}else T=s-k;else if(L&&0!==L){let t=Math.abs(Math.sin(L));T=t<1e-6?1/0:this.attribute.end.y/t}else T=s-k}let P=Object.assign(Object.assign(Object.assign({},w),m),{maxWidth:T,textStyle:Object.assign({textAlign:O,textBaseline:C},d),state:{text:(0,s.Z)({},_.n0,g.text),shape:(0,s.Z)({},_.n0,g.shape),panel:(0,s.Z)({},_.n0,g.background)}});return P.angle=L,c&&c.visible&&(P.shape=Object.assign({visible:!0},c.style),c.space&&(P.space=c.space)),b&&b.visible&&(P.panel=Object.assign({visible:!0},b.style)),P}getTextBaseline(t,e){let i="middle",{verticalFactor:s=1}=this.attribute;return(0,n.Yt)(t[1],0)?i=!(0,n.Yt)(t[0],0)||Object.is(t[0],-0)||Object.is(t[1],-0)?"middle":1==(e?1:-1)*s?"bottom":"top":t[1]>0?i="top":t[1]<0&&(i="bottom"),i}getLabelAlign(t,e,i){let s=this.attribute.orient;if(["top","bottom","right","left"].includes(s)||0===t[0]&&0===t[1]){if("top"===s||"bottom"===s)return k(e?"bottom"===s?"top":"bottom":s,i);if("left"===s||"right"===s)return w(e?"left"===s?"right":"left":s,i)}return{textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline(t,e)}}beforeLabelsOverlap(t,e,i,s,a){var n,l,r,o;let{flush:d=!1}=this.attribute.label||{};if(d&&t.length){let{orient:e,start:i,end:s}=this.attribute,a="bottom"===e||"top"===e,d=t[0],u=(0,h.Z$)(t),c=a?d.attribute.x>u.attribute.x:d.attribute.y<u.attribute.y;if(a){let t=c?u:d,e=c?d:u,a=i.x,r=s.x,o=t.AABBBounds.x1,h=e.AABBBounds.x2;o<a&&(t.attribute.angle?t.setAttributes({dx:(null!=(n=t.attribute.dx)?n:0)+a-o}):t.setAttributes({x:a,textAlign:"left"})),h>r&&(e.attribute.angle?e.setAttributes({dx:(null!=(l=e.attribute.dx)?l:0)+r-h}):e.setAttributes({x:r,textAlign:"right"}))}else{let t=c?u:d,e=c?d:u,a=t.AABBBounds.y2,n=e.AABBBounds.y1,l=i.y,h=s.y;n<l&&(e.attribute.angle?e.setAttributes({dy:(null!=(r=e.attribute.dy)?r:0)+l-n}):e.setAttributes({y:l,textBaseline:"top"})),a>h&&(t.attribute.angle?t.setAttributes({dy:(null!=(o=t.attribute.dy)?o:0)+h-a}):t.setAttributes({y:h,textBaseline:"bottom"}))}}}handleLabelsOverlap(t,e,i,s,n){if((0,a.Z)(t))return;let{verticalLimitSize:l,label:h,orient:u}=this.attribute,c=this._getAxisLabelLimitLength(l,n),{layoutFunc:b,autoRotate:g,autoRotateAngle:p,autoLimit:f,limitEllipsis:m,autoHide:x,autoHideMethod:_,autoHideSeparation:y,lastVisible:L,firstVisible:T,autoWrap:P,overflowLimitLength:I}=h;if((0,d.Z)(b))b(t,e,s,this);else{if(g)!function(t,e){if((0,a.Z)(t))return;let{orient:i,labelRotateAngle:s=[0,45,90]}=e;if(0===s.length||t.some(t=>!!t.attribute.angle))return;let n=0,l=0;for(s&&s.length>0&&(l=s.length);n<l;){var r,o;let e=s[n++];if(t.forEach(t=>{t.attribute.angle=(0,A.M4)(e)}),r=i,o=t,"bottom"!==r&&"top"!==r||function(t,e){e.forEach(e=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},k(t,e.attribute.angle)),{angle:S(e.attribute.angle)}))})}(r,o),"left"!==r&&"right"!==r||function(t,e){e.forEach((e,i)=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},w(t,e.attribute.angle)),{angle:S(e.attribute.angle)}))})}(r,o),(0,B.PY)(o),!function(t){for(let e=1;e<t.length;e++)if((0,B.Ph)(t[e-1],t[e]))return!0;return!1}(t))break}}(t,{labelRotateAngle:p,orient:u});else if(P){let e="left"===u||"right"===u?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x);!function(t,e){let{limitLength:i,axisLength:s,ellipsis:n="...",orient:l}=e;if((0,a.Z)(t)||!(0,o.Z)(i))return;let r=t[0].attribute.angle,h=(0,B.nw)(r),d=(0,B.GK)(r),u="top"===l||"bottom"===l,c=s/t.length;t.forEach((e,s)=>{var a,l,r,b,g;if(u){if(d&&Math.floor(e.AABBBounds.height())<=i)return;if(h){let i=C(e.attribute.x,null==(a=t[s+1])?void 0:a.attribute.x,null==(l=t[s-1])?void 0:l.attribute.x);(0,o.Z)(i)&&(c=(0,O.VV)(c,i))}}else{if(d){let i=C(e.attribute.y,null==(r=t[s+1])?void 0:r.attribute.y,null==(b=t[s-1])?void 0:b.attribute.y);(0,o.Z)(i)&&(c=(0,O.VV)(c,i))}if(h&&Math.floor(e.AABBBounds.width())<=i)return}let p=null,f=null;u?d?(p=i,f=c):(p=c,f=i):d?(p=c,f=i):(p=i,f=c),e.setAttributes({maxLineWidth:p,ellipsis:null!=(g=e.attribute.ellipsis)?g:n,whiteSpace:"normal",heightLimit:f})})}(t,{orient:u,limitLength:c,axisLength:e,ellipsis:m})}if(!P&&f&&(0,o.Z)(c)&&c>0){let e="left"===u||"right"===u,i=e?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x),s=e?i/t.length:x||g?1/0:i/t.length;!function(t,e){var i;let{limitLength:s,verticalLimitLength:n,ellipsis:l="...",orient:h,axisLength:d}=e;if((0,a.Z)(t)||!(0,o.Z)(s))return;let u=(i=e.overflowLimitLength,(0,o.Z)(i)?{left:i,right:i}:(0,M.Z)(i)?{left:i.left||0,right:i.right||0}:{left:0,right:0}),c=t[0],b=c.attribute.angle,g=!(0,r.Z)(b),p=g?Math.cos(b):1,f=g?Math.sin(b):0,m=(0,B.nw)(b),x=(0,B.GK)(b),_="top"===h||"bottom"===h,y=c.attribute.direction,v=!m&&!x&&_&&(t.length<2||t.some(t=>Math.abs(t.AABBBounds.width()-c.AABBBounds.width())>=2))&&c.AABBBounds.width()>Math.abs(s/f);t.forEach(t=>{var e;if(_&&(x&&Math.floor(t.AABBBounds.height())<=s||m&&Math.floor(t.AABBBounds.width())<=n))return;if(!_&&("vertical"===y&&Math.floor(t.AABBBounds.height())<=n||"vertical"!==y&&(m&&Math.floor(t.AABBBounds.width())<=s||x&&Math.floor(t.AABBBounds.height())<=n)))return;let i=null;if(m||x)i=_?m?n:s:"vertical"===y||x?n:s;else if(_){let{x1:e,x2:a}=t.AABBBounds,n=f/p,l=Math.abs(s/f);i=v&&n>0&&e<=d+u.right&&s/n+e>d+u.right?Math.min((d-e+u.right)/Math.abs(p),l):v&&n<0&&a>=-u.left&&s/n+a<-u.left?Math.min((a+u.left)/Math.abs(p),l):l}else i=Math.abs(s/p);(0,o.Z)(t.attribute.maxLineWidth)&&(i=(0,o.Z)(i)?Math.min(t.attribute.maxLineWidth,i):t.attribute.maxLineWidth),t.setAttributes({maxLineWidth:i,ellipsis:null!=(e=t.attribute.ellipsis)?e:l})})}(t,{limitLength:c,verticalLimitLength:s,ellipsis:m,orient:u,axisLength:i,overflowLimitLength:I})}x&&(0,v.t)(t,{orient:u,method:_,separation:y,lastVisible:L,firstVisible:T})}}afterLabelsOverlap(t,e,i,s,a){let{verticalLimitSize:n,orient:l}=this.attribute,r="bottom"===l||"top"===l,h=i.AABBBounds,d=r?h.height():h.width(),{verticalMinSize:c}=this.attribute;if((0,o.Z)(c)&&(!(0,o.Z)(n)||c<=n)){let t,e;d=Math.max(d,this._getAxisLabelLimitLength(c,a)),"left"===l?(t=h.x2-d,e=h.y1):"right"===l?(t=h.x1,e=h.y1):"top"===l?(t=h.x1,e=h.y2-d):"bottom"===l&&(t=h.x1,e=h.y1);let s=g.i.rect({x:t,y:e,width:r?h.width():d,height:r?d:h.height(),pickable:!1});s.name=_.X9.axisLabelBackground,s.id=this._getNodeId("axis-label-background"),i.insertBefore(s,i.firstChild)}if((0,u.Z)(this.attribute.label.containerAlign)){var b,p,f;let e;"left"===l?e=h.x2-d:"right"===l?e=h.x1:"top"===l?e=h.y2-d:"bottom"===l&&(e=h.y1),b=e,p=d,f=this.attribute.label.containerAlign,"left"===l||"right"===l?"left"===f?t.forEach(t=>{var e;t.setAttributes({dx:(null!=(e=t.attribute.dx)?e:0)+b-t.AABBBounds.x1})}):"right"===f?t.forEach(t=>{var e;t.setAttributes({dx:(null!=(e=t.attribute.dx)?e:0)+b+p-t.AABBBounds.x2})}):"center"===f&&t.forEach(t=>{var e;t.setAttributes({dx:(null!=(e=t.attribute.dx)?e:0)+b+p/2-(t.AABBBounds.x1+t.AABBBounds.x2)/2})}):"bottom"!==l&&"top"!==l||("top"===f?t.forEach(t=>{var e;t.setAttributes({dy:(null!=(e=t.attribute.dy)?e:0)+b-t.AABBBounds.y1})}):"bottom"===f?t.forEach(t=>{var e;t.setAttributes({dy:(null!=(e=t.attribute.dy)?e:0)+b+p-t.AABBBounds.y2})}):"middle"===f&&t.forEach(t=>{var e;t.setAttributes({dy:(null!=(e=t.attribute.dy)?e:0)+b+p/2-(t.AABBBounds.y1+t.AABBBounds.y2)/2})}))}}_getAxisLabelLimitLength(t,e){var i,s,a,n,l;let{label:r,title:o,line:h,tick:d}=this.attribute,u=null!=(i=r.space)?i:4,b=t,g=0,p=0,f=h&&h.visible?null!=(s=h.style.lineWidth)?s:1:0,m=d&&d.visible?null!=(a=d.length)?a:4:0;if(o&&o.visible&&"string"==typeof o.text){g=(0,y.fe)(o.text,o.textStyle,null==(l=null==(n=this.stage)?void 0:n.getTheme())?void 0:l.text).height;let t=(0,c.o)(o.padding);p=o.space+t[0]+t[2]}return b&&(b=(b-u-p-g-f-m)/e),b}release(){super.release(),this._breaks=null}}E.defaultAttributes=x.p,(0,b.jB)(E,L.b)},867389:function(t,e,i){i.d(e,{N:()=>l});var s=i(309762),a=i(743394),n=i(601501);class l{isInValidValue(t){let{startAngle:e=a.v2,endAngle:i=a.Di}=this.attribute;return Math.abs(i-e)%(2*Math.PI)==0?t>1:t<0||t>1}getTickCoord(t){let{startAngle:e=a.v2,endAngle:i=a.Di,center:n,radius:l,inside:r=!1,innerRadius:o=0}=this.attribute;return(0,s.op)(n,r&&o>0?o:l,e+(i-e)*t)}getVerticalVector(t,e=!1,i){return(0,n.jO)(t,i,this.attribute.center,e,this.attribute.inside)}getRelativeVector(t){let{center:e}=this.attribute;return[t.y-e.y,-1*(t.x-e.x)]}}},11218:function(t,e,i){i.d(e,{b:()=>a});var s=i(881650);class a{isInValidValue(t){return t<0||t>1}getTickCoord(t){let{start:e}=this.attribute,i=this.getRelativeVector();return{x:e.x+i[0]*t,y:e.y+i[1]*t}}getRelativeVector(t){let{start:e,end:i}=this.attribute;return[i.x-e.x,i.y-e.y]}getVerticalVector(t,e=!1,i){let{verticalFactor:a=1}=this.attribute,n=this.getRelativeVector(),l=(0,s.Fv)(n),r=[l[1],-1*l[0]];return(0,s.bA)(r,t*(e?1:-1)*a)}}},762092:function(t,e,i){i.d(e,{t:()=>d});var s=i(944843),a=i(796241),n=i(999051),l=i(601501);let r={parity:function(t){return t.filter((t,e)=>e%2?t.setAttribute("opacity",0):1)},greedy:function(t,e){let i;return t.filter((t,s)=>s&&(0,l.qw)(i,t,e)?t.setAttribute("opacity",0):(i=t,1))}};function o(t){let e;return(e=t.OBBBounds.empty()?t.AABBBounds:t.OBBBounds).width()>1&&e.height()>1}function h(t,e,i,s,a=!1){if(i&&!t.attribute.opacity){let i=e.length;if(i>1){t.setAttribute("opacity",1);for(let t=0;t<i;t++){let n=a?e[i-1-t]:e[t];if(!s(n))break;n.setAttribute("opacity",0)}}}}function d(t,e){let i;if((0,s.Z)(t))return;let d=t.filter(o);if((0,s.Z)(d))return;d.forEach(t=>t.setAttribute("opacity",1)),i=d;let{method:u="parity",separation:c=0}=e,b=(0,a.Z)(u)?u:r[u]||r.parity;if(i.length>=3&&(0,l.A9)(i,c)){do i=b(i,c);while(i.length>=3&&(0,l.A9)(i,c));let t=(t,e,i=!0)=>i&&t<3||e,s=t(i.length,e.firstVisible,!1),a=t(i.length,e.lastVisible),r=d[0],o=(0,n.Z$)(d);(0,l.qw)(r,o,c)&&s&&a&&(o.setAttribute("opacity",0),a=!1),h(r,i,s,t=>(0,l.qw)(t,r,c)),h(o,i,a,t=>(0,l.qw)(t,o,c)||!(!s||t===r)&&(0,l.qw)(t,r,c),!0)}d.forEach(t=>{t.setAttribute("visible",!!t.attribute.opacity)})}},553983:function(t,e,i){i.d(e,{GK:()=>o,PY:()=>n,Ph:()=>l,nw:()=>h});var s=i(219273),a=i(454326);function n(t){t.forEach(t=>{if(t.rotatedBounds||!t.attribute.angle)return;let e=function(t){let e=t.AABBBounds;return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,centerX:t.attribute.x,centerY:t.attribute.y,angle:t.attribute.angle}}(t),i=(0,s.xj)({x:t.attribute.x,y:t.attribute.y},e.angle,{x:e.centerX,y:e.centerY}),a=i.x-e.centerX,n=i.y-e.centerY;e.x1+=a,e.x2+=a,e.y1+=n,e.y2+=n,e.centerX+=a,e.centerY+=n,t.rotatedBounds=e})}function l(t,e){var i,a;return(null==(i=t.OBBBounds)?void 0:i.empty())||(null==(a=e.OBBBounds)?void 0:a.empty())?(0,s.SX)(t.AABBBounds,e.AABBBounds,!1)&&(!t.rotatedBounds||!e.rotatedBounds||(0,s.nn)(t.rotatedBounds,e.rotatedBounds,!0)):t.OBBBounds.intersects(e.OBBBounds)}let r=Math.sin(Math.PI/10);function o(t,e=r){let i=!(0,a.Z)(t)&&0!==t,s=i?Math.cos(t):1;return i&&Math.abs(s)<=e}function h(t,e=r){let i=!(0,a.Z)(t)&&0!==t,s=i?Math.sin(t):0;return!i||Math.abs(s)<=e}},485972:function(t,e,i){i.d(e,{sC:()=>_,Vu:()=>f,WF:()=>m,nZ:()=>x});var s=i(745772),a=i(262041),n=i(657256),l=i(865509),r=i(18029),o=i(692616),h=i(479816),d=i(672968),u=i(581607),c=i(552029);class b extends d.Or{onBind(){var t;let e=(0,u.L)(this.target);this._animator=e;let i=this.duration,s=this.easing,{config:a,lastScale:n,getTickCoord:l}=this.params,r=1,o=this.target.data;if(n&&l&&o){r=.7;let t=l(n.scale(o.rawValue)),a=this.target.attribute.x,h=this.target.attribute.y;this.target.setAttributes({x:t.x,y:t.y}),e.animate(this.target,{type:"to",to:{x:a,y:h},duration:i,easing:s})}e.animate(this.target,{type:null!=(t=a.type)?t:"fadeIn",to:a.to,duration:i*r,easing:s}),this.completeBind(e)}}class g extends d.Or{onBind(){let t=(0,u.L)(this.target);this._animator=t;let e=this.duration,i=this.easing,{config:s,diffAttrs:a}=this.params;t.animate(this.target,{type:"to",to:Object.assign({},a),duration:e,easing:i,customParameters:{diffAttrs:Object.assign({},a)}}),this.completeBind(t)}deleteSelfAttr(t){super.deleteSelfAttr(t),this._animator.deleteSelfAttr(t)}tryPreventConflict(){}}function p(){(0,s.M)(),(0,a.N)(),(0,n.v)(),(0,l.g)(),c.a.registerBuiltInAnimate("axisEnter",b),c.a.registerBuiltInAnimate("axisUpdate",g)}function f(){p(),(0,r.k)()}function m(){p(),(0,o.f)()}function x(){(0,s.M)(),(0,h.N)()}function _(){(0,s.M)(),(0,h.N)()}},967115:function(t,e,i){i.d(e,{m:()=>u});var s=i(437196),a=i(364776),n=i(796241),l=i(999051),r=i(510396),o=i(601501);function h(t,e,i,s){let a,{breakData:n}=t;if(n&&n()){let{breakDomains:t}=n(),l=e.domain();a=[];for(let e=0;e<l.length-1;e++)s(i,[l[e],l[e+1]]).forEach(e=>{t.some(t=>e>=t[0]&&e<=t[1])||a.push(e)});e.domain(l)}else a=s(i);return a}function d(t,e,i,s,a=!1){if(i&&!e.includes(t)){let i=e.length;if(i>1){a?e.push(t):e.unshift(t);for(let t=0;t<i;t++){let n=a?i-1-t:t;if(!s(e[n]))break;e.splice(n,1),t--,i--}}}}let u=(t,e)=>{var i,u,b,g,p,f;let m;if(!(0,s.z2)(t.type))return(0,r.KV)(t.domain());let x=t.range(),_=Math.abs(x[x.length-1]-x[0]);if(_<2)return(0,r.KV)([t.domain()[0]]);let{tickCount:y,forceTickCount:v,tickStep:A,noDecimals:B=!1,labelStyle:S,breakData:k}=e;if((0,a.Z)(A))p=t.stepTicks(A),m=(f=k&&k()?k().breakDomains:null)&&f.length?p.filter(t=>f.every(e=>t<e[0]||t>e[1])):p;else if((0,a.Z)(v))m=h(e,t,v,(e,i)=>i&&i.length?t.domain(i,!0).forceTicks(e):t.forceTicks(e));else if("d3"===e.tickMode)m=h(e,t,null!=(i=(0,n.Z)(y)?y({axisLength:_,labelStyle:S}):y)?i:5,(e,i)=>i&&i.length?t.domain(i,!0).d3Ticks(e,{noDecimals:B}):t.d3Ticks(e,{noDecimals:B}));else{let i=null!=(u=(0,n.Z)(y)?y({axisLength:_,labelStyle:S}):y)?u:5,s=(0,n.Z)(e.tickMode)?e.tickMode:void 0;m=h(e,t,i,(e,i)=>i&&i.length?t.domain(i,!0).ticks(e,{noDecimals:B,customTicks:s}):t.ticks(e,{noDecimals:B,customTicks:s}))}let w=t.domain();if(e.labelFirstVisible&&w[0]!==m[0]&&!m.includes(w[0])&&m.unshift(w[0]),e.labelLastVisible&&w[w.length-1]!==m[m.length-1]&&!m.includes(w[w.length-1])&&m.push(w[w.length-1]),e.sampling&&m.length>1&&("cartesian"===e.coordinateType||"polar"===e.coordinateType&&"radius"===e.axisOrientType)){let i,{labelGap:s=4,labelFlush:a}=e;if(6*m.length>_){let s=[],a=Math.floor(6*m.length/_);m.forEach((t,e)=>{e%a!=0&&e!==m.length-1||s.push(t)}),i=null==(b=(0,r.SZ)(t,s,e))?void 0:b.map((t,e)=>({AABBBounds:t,value:s[e]}))}else i=null==(g=(0,r.SZ)(t,m,e))?void 0:g.map((t,e)=>({AABBBounds:t,value:m[e]}));if(i){let t=i[0],n=(0,l.Z$)(i),r=k&&k()?c.greedy:c.parity;for(;i.length>=3&&(0,o.A9)(i,s);)i=r(i,s);let h=e.labelFirstVisible,u=e.labelLastVisible;(0,o.qw)(t,n,s)&&i.includes(n)&&i.length>1&&h&&u&&(i.splice(i.indexOf(n),1),u=!1),d(t,i,h,e=>(0,o.qw)(e,t,s)),d(n,i,u,e=>(0,o.qw)(e,n,s)||!(!h||e===t)&&(0,o.qw)(e,t,s),!0);let b=i.map(t=>t.value);b.length<3&&a&&(b.length>1&&b.pop(),(0,l.Z$)(b)!==(0,l.Z$)(m)&&b.push((0,l.Z$)(m))),m=b}}return(0,r.KV)(m)},c={parity:function(t){return t.filter((t,e)=>e%2==0)},greedy:function(t,e){let i;return t.filter((t,s)=>(!s||!(0,o.qw)(i,t,e))&&(i=t,!0))}}},366138:function(t,e,i){i.d(e,{U:()=>c});var s=i(364776),a=i(796241),n=i(999051),l=i(454326),r=i(106161),o=i(510396);let h=(t,e,i,s)=>{let a=(0,o.SZ)(t,e,i);return a&&a.map(t=>s?[t.x1,t.x2,t.width()]:[t.y1,t.y2,t.height()])},d=(t,e,i=0)=>Math.max(t[0],e[0])-i/2<=Math.min(t[1],e[1])+i/2,u=(t,e)=>t[1]<e[0]?e[0]-t[1]:e[1]<t[0]?t[0]-e[1]:0,c=(t,e)=>{var i;let r,d=t.domain();if(!d.length)return[];let{tickCount:u,forceTickCount:c,tickStep:g,labelGap:p=4,axisOrientType:f,labelStyle:m}=e,x=(0,o.tz)(f),_=t.range(),y=t.calculateWholeRangeSize();if(y<2)return e.labelLastVisible?(0,o.KV)([d[d.length-1]]):(0,o.KV)([d[0]]);if((0,s.Z)(g))r=t.stepTicks(g);else if((0,s.Z)(c))r=t.forceTicks(c);else if((0,s.Z)(u)){let e=(0,a.Z)(u)?u({axisLength:y,labelStyle:m}):u;r=t.ticks(e)}else if(e.sampling){let s=(null!=(i=e.labelStyle.fontSize)?i:12)+2,a=(0,n.iH)(_),l=(0,n.CE)(_);if(d.length<=y/s){let i=h(t,d,e,x);if(i){let s=Math.min(...i.map(t=>t[2])),n=(l-a)/d.length,o=b(d,i,p,e.labelLastVisible,Math.floor(s/n),!1);r=t.stepTicks(o.step),e.labelLastVisible&&(o.delCount&&(r=r.slice(0,r.length-o.delCount)),r.push(d[d.length-1]))}}else{let i=h(t,[d[0],d[Math.floor(d.length/2)],d[d.length-1]],e,x);if(i){let s=null;i.forEach(t=>{s?s[2]<t[2]&&(s=t):s=t});let n=l-a-p>0?Math.ceil(d.length*(p+s[2])/(l-a-p)):d.length-1;r=t.stepTicks(n),!e.labelLastVisible||r.length&&r[r.length-1]===d[d.length-1]||(r.length&&Math.abs(t.scale(r[r.length-1])-t.scale(d[d.length-1]))<s[2]&&(r=r.slice(0,-1)),r.push(d[d.length-1]))}}}return(0,l.Z)(r)&&(r=t.domain()),(0,o.KV)(r)},b=(t,e,i,s,a,n)=>{let l=0,o=0,h=-1,c=Number.MAX_VALUE,b=s=>{let a=!0,n=0;do n+s<t.length&&d(e[n],e[n+s],i)&&(a=!1),n+=s;while(a&&n<t.length);return a},g=(0,r.o0)(a,t.length,t=>b(t)?1:-1),p=g;do if(!(p>g)||n||b(p)){if(!s){o=p;break}{let s=t.length-1,a,n=0;a=t.length%p>0?t.length-t.length%p+p:t.length;do{if((a-=p)!==s&&!d(e[a],e[s],i))break;n++}while(a>0);if(a===s){o=p,l=n;break}{let i=Math.floor(t.length/p)-n+1;if(i<h)break;{h=i;let t=u(e[a],e[s]),r=a-p>=0?u(e[a-p],e[a]):t,d=Math.abs(t-r);if(d<c&&(c=d,o=p,l=n),t<=r)break}}}p++}else p++;while(p<=t.length);return{step:o,delCount:l}}},465359:function(t,e,i){i.d(e,{t:()=>u});var s=i(536163),a=i(364776),n=i(796241),l=i(999051),r=i(510396),o=i(263401),h=i(118785),d=i(601501);let u=(t,e)=>{let i,{tickCount:u,forceTickCount:b,tickStep:g,getRadius:p,labelOffset:f,labelGap:m=0,labelStyle:x}=e,_=null==p?void 0:p();if(!_)return(0,r.KV)(t.domain());if((0,a.Z)(g))i=t.stepTicks(g);else if((0,a.Z)(b))i=t.forceTicks(b);else if((0,a.Z)(u)){let e=t.range(),s=Math.abs(e[e.length-1]-e[0]),a=(0,n.Z)(u)?u({axisLength:s,labelStyle:x}):u;i=t.ticks(a)}else if(e.sampling){let a=t.domain(),n=t.range(),u=((t,e,i)=>{var a;let{labelStyle:n,getRadius:l,labelOffset:u,labelFormatter:c,inside:b}=i,g=null==l?void 0:l(),p=null!=(a=n.angle)?a:0,f=(0,h.gM)(n);return e.map(e=>{let i=c?c(e):`${e}`,{width:a,height:l}=f.quickMeasure(i),h=Math.max(a,r.rd),m=Math.max(l,r.rd),x=t.scale(e),_={x:0,y:0},y=0,v=0,A={align:n.textAlign,baseline:n.textBaseline},{x:B,y:S}=(0,d.DJ)(x,_,g,u,b);return A.align||((0,s.Yt)(B,_.x)?A.baseline||(A.baseline=S>_.y?"top":"bottom"):B>_.x?A.align="left":B<_.x&&(A.align="right")),y=B+("right"===A.align?-h:"left"===A.align?0:-h/2),v=S+("bottom"===A.baseline?-m:"top"===A.baseline?0:-m/2),(new o.FB).set(y,v,y+h,v+m).rotate(p,y+h/2,v+m/2)})})(t,a,e),b=(0,l.iH)(n),g=Math.abs((0,l.CE)(n)-b)*(_+f)/a.length,{step:p,delCount:x}=c(a,u,m,Math.floor(u.reduce((t,e)=>Math.min(t,e.width(),e.height()),Number.MAX_VALUE)/g));i=(i=t.stepTicks(p)).slice(0,i.length-x)}else i=t.domain();return(0,r.KV)(i)},c=(t,e,i,s)=>{let a=s;do{let s=!0;a++;let n=0;do n+a<t.length&&(0,r.jY)(e[n],e[n+a],i)&&(s=!1),n+=a;while(s&&n<t.length);if(s)break}while(a<=t.length);let n=0;if(t.length>2){let i=t.length-t.length%a;for(i>=t.length&&(i-=a);i>0&&(0,r.jY)(e[0],e[i]);)n++,i-=a}return{step:a,delCount:n}}},510396:function(t,e,i){i.d(e,{KV:()=>r,SZ:()=>u,jY:()=>o,rd:()=>h,tz:()=>c});var s=i(263401),a=i(309762),n=i(535415),l=i(118785);let r=t=>t.map((t,e)=>({index:e,value:t})),o=(t,e,i=0)=>{let a=new s.FB(t).expand(i/2),n=new s.FB(e).expand(i/2);return a.intersects(n)},h=12,d=(t,e,i,s)=>i<t?Math.max(t-e/2,i):i>t?Math.min(t-e/2,i-e):i<s?i:i-e,u=(t,e,i)=>{var r,o,h;let{labelStyle:u,axisOrientType:c,labelFlush:b,labelFormatter:g,startAngle:p=0}=i,f=null!=(r=u.angle)?r:0;"vertical"===u.direction&&(f+=(0,a.M4)(90));let m=["bottom","top"].includes(c),x=["left","right"].includes(c),_=1,y=0;m||(x?(_=0,y=1):p&&(_=Math.cos(p),y=-Math.sin(p)));let v=(0,l.gM)(u),A=t.range(),B=[];for(let i=0;i<e.length;i++){let a=e[i],l=g?g(a):`${a}`;if((0,n.Z)(l)){B=void 0;break}let{width:r,height:c}=v.quickMeasure(l),p=Math.max(r,12),S=Math.max(c,12),k=t.scale(a),w=_*k,M=y*k,O,C,L=w,T=M;b&&m&&0===i?L=d(w,p,A[0],A[A.length-1]):b&&m&&i===e.length-1?L=d(w,p,A[A.length-1],A[0]):O=null!=(o=u.textAlign)?o:"center","right"===O?L-=p:"center"===O&&(L-=p/2),b&&x&&0===i?T=d(M,S,A[0],A[A.length-1]):b&&x&&i===e.length-1?T=d(M,S,A[A.length-1],A[0]):C=null!=(h=u.textBaseline)?h:"middle","bottom"===C?T-=S:"middle"===C&&(T-=S/2);let P=(new s.FB).set(L,T,L+p,T+S);f&&P.rotate(f,w,M),B.push(P)}return B},c=t=>["bottom","top","z"].includes(t)},601501:function(t,e,i){i.d(e,{A9:()=>_,DJ:()=>p,cN:()=>c,jO:()=>b,mU:()=>g,qw:()=>x,st:()=>m,uX:()=>u,uf:()=>d,zl:()=>f});var s=i(20408),a=i(309762),n=i(548393),l=i(883731),r=i(881650),o=i(484412),h=i(553983);function d(t={}){var e,i;let{style:a={},angle:n=.5*Math.PI}=t,l=(0,s.Z)({},o.P,a),r=null!=(e=l.size)?e:o.P.size;return Object.assign(Object.assign({},l),{symbolType:null!=(i=l.symbolType)?i:`M ${-r/2} ${r*Math.sin(n)} L ${r/2} ${-r*Math.sin(n)}`,symbolSize:r})}function u(t){let e={};return(0,l.Ck)(t,t=>{"group"!==t.type&&t.id&&(e[t.id]=t)}),e}function c(t,e){return{x:t.x+e[0],y:t.y+e[1]}}function b(t,e,i,s=!1,a=!1){let n=[e.x-i.x,e.y-i.y];return(0,r.bA)(n,(s?-1:1)*(a?-1:1)*t/(0,r.kE)(n))}function g(t){let e="center";return{align:e=(t=(0,a.LW)(t))>=5/3*Math.PI||t<=1/3*Math.PI?"left":t>=2/3*Math.PI&&t<=4/3*Math.PI?"right":"center",baseline:t>=7/6*Math.PI&&t<=11/6*Math.PI?"bottom":t>=1/6*Math.PI&&t<=5/6*Math.PI?"top":"middle"}}function p(t,e,i,s,n){var l;let r=(0,a.op)({x:0,y:0},i,t),o=c(r,b(s,r,e,n));return l=b(s||1,o,e,n),{x:o.x+l[0],y:o.y+l[1]}}function f(t,e,i,s,n){let l=[],r=n-s;for(let n=0;n<e;n++){let o=s+n*r/e;l.push((0,a.op)(t,i,o))}return l}function m(t,e){let i="";return 0===t.length||(t.forEach((t,e)=>{0===e?i=`M${t.x},${t.y}`:i+=`L${t.x},${t.y}`}),e&&(i+="Z")),i}function x(t,e,i){var s;let a=null==(s=t.attribute)?void 0:s.angle;if((0,h.nw)(a,Number.EPSILON))return i>(0,n.YB)(t.AABBBounds,e.AABBBounds);let l=t.OBBBounds,r=e.OBBBounds;return!l||!r||l.empty()||r.empty()?i>(0,n.YB)(t.AABBBounds,e.AABBBounds):l.intersects(r)||i>(0,n.up)(l,r)}function _(t,e){for(let i,s=1,a=t.length,n=t[0];s<a;n=i,++s)if(x(n,i=t[s],e))return!0;return!1}},945758:function(t,e,i){i.d(e,{B:()=>m});var s=i(222669),a=i(80204),n=i(649275),l=i(20408),r=i(999051),o=i(551976),h=i(942708),d=i(944843),u=i(683330),c=i(209482);let b={trigger:"pointerdown",updateTrigger:"pointermove",endTrigger:["pointerup","pointerleave"],resetTrigger:"pointerupoutside",hasMask:!0,brushMode:"single",brushType:"rect",brushStyle:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",strokeWidth:2},brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:10,interactiveRange:{minY:-1/0,maxY:1/0,minX:-1/0,maxX:1/0}};var g=i(745772),p=i(401470);let f={debounce:a.Z,throttle:n.Z};(0,g.M)(),(0,p.M)();class m extends u.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,l.Z)({},m.defaultAttributes,t)),this.name="brush",this._activeBrushState=!1,this._activeDrawState=!1,this._cacheDrawPoints=[],this._activeMoveState=!1,this._operatingMaskMoveDx=0,this._operatingMaskMoveDy=0,this._operatingMaskMoveRangeX=[-1/0,1/0],this._operatingMaskMoveRangeY=[-1/0,1/0],this._brushMaskAABBBoundsDict={},this._firstUpdate=!0,this._onBrushStart=t=>{let{updateTrigger:e=b.updateTrigger,endTrigger:i=b.endTrigger,brushMoved:s=!0}=this.attribute;(0,r.IX)(e).forEach(t=>this.stage.addEventListener(t,this._onBrushingWithDelay)),(0,r.IX)(i).forEach(t=>this.stage.addEventListener(t,this._onBrushEnd)),t.stopPropagation(),this._firstUpdate=!0,this._activeMoveState=s&&this._isPosInBrushMask(t),this._activeDrawState=!this._activeMoveState,this._startPos=this.eventPosToStagePos(t),this._cacheDrawPoints=[this._startPos]},this._onBrushing=t=>{this._outOfInteractiveRange(t)||(t.stopPropagation(),this._firstUpdate?(this._activeDrawState&&this._initDraw(t),this._activeMoveState&&this._initMove(t),this._firstUpdate=!1):(this._activeDrawState&&this._drawing(t),this._activeMoveState&&this._moving(t)))},this._onBrushingWithDelay=0===this.attribute.delayTime?this._onBrushing:f[this.attribute.delayType](this._onBrushing,this.attribute.delayTime),this._onBrushEnd=t=>{this._releaseBrushUpdateEvents(),t.preventDefault(),this._activeDrawState&&this._drawEnd(t),this._activeMoveState&&this._moveEnd(t),this._activeDrawState=!1,this._activeMoveState=!1},this._onBrushClear=t=>{t.preventDefault(),this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(c.Y.brushClear,t)),this._activeDrawState=!1,this._activeMoveState=!1}}_bindBrushEvents(){if(this.releaseBrushEvents(),this.attribute.disableTriggerEvent)return;let{trigger:t=b.trigger,resetTrigger:e=b.resetTrigger}=this.attribute;(0,r.IX)(t).forEach(t=>this.stage.addEventListener(t,this._onBrushStart)),(0,r.IX)(e).forEach(t=>this.stage.addEventListener(t,this._onBrushClear))}_initDraw(t){let{brushMode:e}=this.attribute,i=this.eventPosToStagePos(t);this._cacheDrawPoints.push(i),"single"===e&&this._clearMask(),this._addBrushMask(),this._dispatchBrushEvent(c.Y.drawStart,t),this._activeBrushState=!1}_initMove(t){var e,i;this._cacheMovePoint=this.eventPosToStagePos(t),this._operatingMaskMoveDx=null!=(e=this._operatingMask.attribute.dx)?e:0,this._operatingMaskMoveDy=null!=(i=this._operatingMask.attribute.dy)?i:0;let{interactiveRange:s}=this.attribute,{minY:a=-1/0,maxY:n=1/0,minX:l=-1/0,maxX:r=1/0}=s,{x1:o,x2:h,y1:d,y2:u}=this._operatingMask.globalAABBBounds;this._operatingMaskMoveRangeX=[l-o,r-h],this._operatingMaskMoveRangeY=[a-d,n-u],this._operatingMask.setAttribute("pickable",!0),this._dispatchBrushEvent(c.Y.moveStart,t)}_drawing(t){var e;let i=this.eventPosToStagePos(t),{brushType:s,sizeThreshold:a=5}=this.attribute,n=this._cacheDrawPoints.length;if(n>0){let t=null!=(e=this._cacheDrawPoints[this._cacheDrawPoints.length-1])?e:{};if(i.x===t.x&&i.y===t.y)return}"polygon"===s||n<=1?this._cacheDrawPoints.push(i):this._cacheDrawPoints[n-1]=i;let l=this._computeMaskPoints();this._operatingMask.setAttribute("points",l);let{x:r,y:o}=this._startPos,{x:h,y:d}=this.eventPosToStagePos(t);(Math.abs(h-r)>a||Math.abs(o-d)>a)&&(1!==Object.keys(this._brushMaskAABBBoundsDict).length||this._activeBrushState?this._dispatchBrushEvent(c.Y.drawing,t):(this._activeBrushState=!0,this._dispatchBrushEvent(c.Y.brushActive,t)))}_moving(t){let e=this._cacheMovePoint,i=this.eventPosToStagePos(t);if(i.x===(null==e?void 0:e.x)&&i.y===(null==e?void 0:e.y))return;let s=i.x-e.x,a=i.y-e.y,n=Math.min(this._operatingMaskMoveRangeX[1],Math.max(this._operatingMaskMoveRangeX[0],s))+this._operatingMaskMoveDx,l=Math.min(this._operatingMaskMoveRangeY[1],Math.max(this._operatingMaskMoveRangeY[0],a))+this._operatingMaskMoveDy;this._operatingMask.setAttributes({dx:n,dy:l}),this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchBrushEvent(c.Y.moving,t)}_drawEnd(t){let{removeOnClick:e=!0,sizeThreshold:i=5}=this.attribute;if(this._outOfInteractiveRange(t))this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(c.Y.brushClear,t));else{let{x:s,y:a}=this._startPos,{x:n,y:l}=this.eventPosToStagePos(t);1>=Math.abs(n-s)&&1>=Math.abs(l-a)&&e?this._isEmptyMask()||(this._clearMask(),this._dispatchBrushEvent(c.Y.brushClear,t)):Math.abs(n-s)<i&&Math.abs(a-l)<i?(delete this._brushMaskAABBBoundsDict[this._operatingMask.name],this._container.setAttributes({}),this._container.removeChild(this._operatingMask),this._isEmptyMask()&&this._dispatchBrushEvent(c.Y.brushClear,t)):(this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchBrushEvent(c.Y.drawEnd,t))}}_moveEnd(t){this._operatingMask&&this._operatingMask.setAttribute("pickable",!1),this._dispatchBrushEvent(c.Y.moveEnd,t)}render(){this._bindBrushEvents();let t=this.createOrUpdateChild("brush-container",{},"group");this._container=t}releaseBrushEvents(){let{trigger:t=b.trigger,resetTrigger:e=b.resetTrigger}=this.attribute;(0,r.IX)(t).forEach(t=>this.stage.removeEventListener(t,this._onBrushStart)),(0,r.IX)(e).forEach(t=>this.stage.removeEventListener(t,this._onBrushClear)),this._releaseBrushUpdateEvents()}_releaseBrushUpdateEvents(){let{updateTrigger:t=b.updateTrigger,endTrigger:e=b.endTrigger}=this.attribute;(0,r.IX)(t).forEach(t=>this.stage.removeEventListener(t,this._onBrushingWithDelay)),(0,r.IX)(e).forEach(t=>this.stage.removeEventListener(t,this._onBrushEnd))}_computeMaskPoints(){let{brushType:t,xRange:e=[0,0],yRange:i=[0,0]}=this.attribute,s=this._cacheDrawPoints[0],a=this._cacheDrawPoints[this._cacheDrawPoints.length-1];return"rect"===t?[s,{x:a.x,y:s.y},a,{x:s.x,y:a.y}]:"x"===t?[{x:s.x,y:i[0]},{x:a.x,y:i[0]},{x:a.x,y:i[1]},{x:s.x,y:i[1]}]:"y"===t?[{x:e[0],y:s.y},{x:e[0],y:a.y},{x:e[1],y:a.y},{x:e[1],y:s.y}]:(0,o.Z)(this._cacheDrawPoints)}_addBrushMask(){var t;let{brushStyle:e,hasMask:i}=this.attribute,a=s.i.polygon(Object.assign(Object.assign({points:(0,o.Z)(this._cacheDrawPoints),cursor:"move",pickable:!1},e),{opacity:i?null!=(t=e.opacity)?t:1:0}));a.name=`brush-${Date.now()}`,this._operatingMask=a,this._container.add(a),this._brushMaskAABBBoundsDict[a.name]=a.AABBBounds}_isPosInBrushMask(t){let e=this.eventPosToStagePos(t),i=this._container.getChildren();for(let t=0;t<i.length;t++){let{points:s=[],dx:a=0,dy:n=0}=i[t].attribute,l=s.map(t=>({x:t.x+a,y:t.y+n}));if((0,h.O0)(l,e.x,e.y))return this._operatingMask=i[t],!0}return!1}_outOfInteractiveRange(t){let{interactiveRange:e}=this.attribute,{minY:i=-1/0,maxY:s=1/0,minX:a=-1/0,maxX:n=1/0}=e,l=this.eventPosToStagePos(t);return l.x>n||l.x<a||l.y>s||l.y<i}_dispatchBrushEvent(t,e){this._dispatchEvent(t,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:e})}_clearMask(){this._brushMaskAABBBoundsDict={},this._container.removeAllChild(),this._operatingMask=null}_isEmptyMask(){return(0,d.Z)(this._brushMaskAABBBoundsDict)||Object.keys(this._brushMaskAABBBoundsDict).every(t=>this._brushMaskAABBBoundsDict[t].empty())}}m.defaultAttributes=b},209482:function(t,e,i){var s,a;i.d(e,{Y:()=>s}),(a=s||(s={})).drawStart="drawStart",a.drawEnd="drawEnd",a.drawing="drawing",a.moving="moving",a.moveStart="moveStart",a.moveEnd="moveEnd",a.brushActive="brushActive",a.brushClear="brushClear"},743394:function(t,e,i){var s,a;i.d(e,{$M:()=>o,Di:()=>l,HW:()=>s,Ze:()=>d,eV:()=>c,gB:()=>b,iR:()=>r,m3:()=>u,n0:()=>h,v2:()=>n});let n=-.5*Math.PI,l=1.5*Math.PI,r="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",o=14;(a=s||(s={})).selected="selected",a.selectedReverse="selected_reverse",a.hover="hover",a.hoverReverse="hover_reverse";let h={[s.selectedReverse]:{},[s.selected]:{},[s.hover]:{},[s.hoverReverse]:{}},d={container:"",width:30,height:30,style:{}},u="scrollDown",c="scrollDrag",b="scrollUp"},683330:function(t,e,i){i.d(e,{k:()=>d});var s=i(989568),a=i(693906),n=i(535415),l=i(796241),r=i(20408),o=i(454326);let h=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class d extends s.ZA{constructor(t,e){super(t),this._skipRenderAttributes=h,(null==e?void 0:e.mode)&&(this.mode=e.mode,this.setMode(e.mode)),(null==e?void 0:e.skipDefault)&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=t,this.onSetStage(()=>{this.render(),this.bindEvents()})}setAttribute(t,e,i,s){let a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,s);if(a)return this._setAttributes(a,i);(0,n.Z)(this.attribute[t])&&(0,n.Z)(e)&&!(0,l.Z)(this.attribute[t])&&!(0,l.Z)(e)?(0,r.Z)(this.attribute[t],e):this.attribute[t]=e,this._skipRenderAttributes.includes(t)||this.render(),this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(i||this.needUpdateTag(t))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(t,e,i){return t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,i)||t,this._setAttributes(t,e)}_setAttributes(t,e){let i=Object.keys(t);this._mergeAttributes(t,i),i.every(t=>this._skipRenderAttributes.includes(t))||this.render(),this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(e||this.needUpdateTags(i))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(t,e){(0,o.Z)(e)&&(e=Object.keys(t));for(let i=0;i<e.length;i++){let s=e[i];!(0,n.Z)(this.attribute[s])||(0,l.Z)(this.attribute[s])||(0,l.Z)(t[s])?this.attribute[s]=t[s]:(0,r.Z)(this.attribute[s],t[s])}}bindEvents(){}_getNodeId(t){var e;return`${null!=(e=this.id)?e:this._uid}-${this.name}-${t}`}_dispatchEvent(t,e){var i;let s=new a.A(t,e);s.manager=null==(i=this.stage)?void 0:i.eventSystem.manager,this.dispatchEvent(s)}eventPosToStagePos(t){var e,i;let s={x:0,y:0},a=null!=(i=null==(e=this.stage)?void 0:e.eventPointTransform(t))?i:{x:0,y:0};return this.globalTransMatrix.transformPoint(a,s),s}}},381364:function(t,e,i){i.d(e,{M:()=>a});var s=i(683330);class a extends s.k{constructor(){super(...arguments),this.name="crosshair"}render(){this.renderCrosshair(this)}}},651874:function(t,e,i){i.d(e,{g:()=>l});var s=i(20408),a=i(919498),n=i(381364);(0,i(467044).pC)();class l extends n.M{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},l.defaultAttributes,t))}renderCrosshair(t){let{center:e,radius:i,lineStyle:s}=this.attribute;return t.createOrUpdateChild("crosshair-circle",Object.assign(Object.assign(Object.assign(Object.assign({},e),{outerRadius:i}),this.attribute),s),"arc")}setLocation(t){let{center:e}=this.attribute,i=a.HL.distancePP(t,e);this.setAttribute("radius",i)}}l.defaultAttributes={lineStyle:{stroke:["#b2bacf",!1,!1,!1],lineWidth:1,lineDash:[2]}}},790426:function(t,e,i){i.d(e,{c:()=>n});var s=i(20408),a=i(381364);(0,i(467044).BL)();class n extends a.M{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},n.defaultAttributes,t))}renderCrosshair(t){let{start:e,end:i,lineStyle:s}=this.attribute;return t.createOrUpdateChild("crosshair-line",Object.assign({points:[e,i]},s),"line")}setLocation(t){let{start:e,end:i}=t;this.setAttributes({start:e,end:i})}}n.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}}},220585:function(t,e,i){i.d(e,{l:()=>r});var s=i(20408),a=i(309762),n=i(919498),l=i(381364);(0,i(467044).CS)();class r extends l.M{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},r.defaultAttributes,t))}renderCrosshair(t){let e,{center:i,radius:s,sides:n=6,lineStyle:l}=this.attribute,{startAngle:r,endAngle:o}=this.attribute,h=(o-r)%(2*Math.PI)==0,d=(o-r)/n;for(let t=0;t<=n;t++){let l=(0,a.op)(i,s,r+d*t);0===t?e=`M${l.x},${l.y}`:e+=`L${l.x},${l.y}`,t===n&&h&&(e+="Z")}return t.createOrUpdateChild("crosshair-polygon",Object.assign({path:e},l),"path")}setLocation(t){let{center:e}=this.attribute,i=n.HL.distancePP(t,e);this.setAttribute("radius",i)}}r.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}}},865599:function(t,e,i){i.d(e,{f:()=>n});var s=i(20408),a=i(381364);(0,i(467044).oe)();class n extends a.M{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},n.defaultAttributes,t))}renderCrosshair(t){let{start:e,end:i,rectStyle:s}=this.attribute;return t.createOrUpdateChild("crosshair-rect",Object.assign({x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y},s),"rect")}setLocation(t){let{start:e,end:i}=t;this.setAttributes({start:e,end:i})}}n.defaultAttributes={rectStyle:{fill:"#b2bacf",opacity:.2}}},467044:function(t,e,i){i.d(e,{BL:()=>o,CS:()=>d,DH:()=>c,oe:()=>u,pC:()=>h});var s=i(745772),a=i(262041),n=i(249157),l=i(479816),r=i(18029);function o(){(0,s.M)(),(0,a.N)()}function h(){(0,s.M)(),(0,n.x)()}function d(){(0,s.M)(),(0,l.N)()}function u(){(0,s.M)(),(0,r.k)()}function c(){(0,s.M)(),(0,n.x)()}},919080:function(t,e,i){i.d(e,{B:()=>r});var s=i(20408),a=i(309762),n=i(743394),l=i(381364);(0,i(467044).DH)();class r extends l.M{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},r.defaultAttributes,t))}renderCrosshair(t){let{center:e,radius:i,innerRadius:s=0,sectorStyle:a}=this.attribute,{startAngle:n,endAngle:l}=this.attribute;return t.createOrUpdateChild("crosshair-sector",Object.assign(Object.assign(Object.assign({},e),{outerRadius:i,innerRadius:s,startAngle:n,endAngle:l}),a),"arc")}setLocation(t){let{center:e,startAngle:i=n.v2,endAngle:s=n.Di}=this.attribute,l=s-i,r=(0,a.Dt)((0,a.Oy)(e,t));this.setAttributes({startAngle:r-l/2,endAngle:r+l/2})}}r.defaultAttributes={sectorStyle:{fill:"#b2bacf",opacity:.2}}},664002:function(t,e,i){i.d(e,{B:()=>E});var s,a,n,l,r,o=i(20408),h=i(364776),d=i(999051),u=i(796241),c=i(683330);(s=n||(n={})).startHandler="startHandler",s.endHandler="endHandler",s.middleHandler="middleHandler",s.background="background",(a=l||(l={})).stateUpdate="stateUpdate",a.maskUpdate="maskUpdate",a.dataZoomUpdate="dataZoomUpdate",(r||(r={})).dataZoomChange="dataZoomChange";var b=i(795149),g=i(263401),p=i(569402);let f="M -0.0544 0.25 C -0.0742 0.25 -0.0901 0.234 -0.0901 0.2143 L -0.0901 -0.1786 C -0.0901 -0.1983 -0.0742 -0.2143 -0.0544 -0.2143 L -0.0187 -0.2143 L -0.0187 -0.5 L 0.017 -0.5 L 0.017 -0.2143 L 0.0527 -0.2143 C 0.0724 -0.2143 0.0884 -0.1983 0.0884 -0.1786 L 0.0884 0.2143 C 0.0884 0.234 0.0724 0.25 0.0527 0.25 L 0.017 0.25 L 0.017 0.5 L -0.0187 0.5 L -0.0187 0.25 L -0.0544 0.25 Z M -0.0187 -0.1429 L -0.0544 -0.1429 L -0.0544 0.1786 L -0.0187 0.1786 L -0.0187 -0.1429 Z M 0.0527 -0.1429 L 0.017 -0.1429 L 0.017 0.1786 L 0.0527 0.1786 L 0.0527 -0.1429 Z",m={horizontal:{angle:0,strokeBoundsBuffer:0,boundsPadding:2,pickMode:"imprecise",cursor:"ew-resize"},vertical:{angle:Math.PI/180*90,cursor:"ns-resize",boundsPadding:2,pickMode:"imprecise",strokeBoundsBuffer:0}},x=(t,e,i,s)=>{if(!e)return!1;if(s){if("start"===i){if(e.x1<t.x1)return!0}else if(e.x2>t.x2)return!0}else if("start"===i){if(e.y1<t.y1)return!0}else if(e.y2>t.y2)return!0;return!1};var _=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class y{get startHandlerMask(){return this._startHandlerMask}get middleHandlerSymbol(){return this._middleHandlerSymbol}get middleHandlerRect(){return this._middleHandlerRect}get endHandlerMask(){return this._endHandlerMask}get selectedBackground(){return this._selectedBackground}get dragMask(){return this._dragMask}get startText(){return this._startText}get endText(){return this._endText}get startValue(){return this._startValue}get endValue(){return this._endValue}set showText(t){this._showText=t}get background(){return this._background}set previewData(t){this._previewData=t}get previewGroup(){return this._previewGroup}get selectedPreviewGroup(){return this._selectedPreviewGroup}set previewPointsX(t){this._previewPointsX=t}set previewPointsY(t){this._previewPointsY=t}set previewPointsX1(t){this._previewPointsX1=t}set previewPointsY1(t){this._previewPointsY1=t}set statePointToData(t){this._statePointToData=t}_initAttrs(t){this.attribute=t.attribute,this._isHorizontal="top"===this.attribute.orient||"bottom"===this.attribute.orient;let{previewData:e,previewPointsX:i,previewPointsY:s,previewPointsX1:a,previewPointsY1:n}=this.attribute;e&&(this._previewData=e),(0,u.Z)(i)&&(this._previewPointsX=i),(0,u.Z)(s)&&(this._previewPointsY=s),(0,u.Z)(a)&&(this._previewPointsX1=a),(0,u.Z)(n)&&(this._previewPointsY1=n),this._getState=t.getState,this._getLayoutAttrFromConfig=t.getLayoutAttrFromConfig,this._getContainer=t.getContainer}constructor(t){this._previewData=[],this._statePointToData=t=>t;let{showDetail:e}=t.attribute;this._showText="auto"!==e&&e,this._initAttrs(t)}setAttributes(t){this._initAttrs(t)}renderDataZoom(t=!1){var e,i,s,a,n,l;let{backgroundChartStyle:r={},selectedBackgroundChartStyle:o={},brushSelect:h}=this.attribute;this._renderBackground(),(null==(e=r.line)?void 0:e.visible)&&!t&&this._setPreviewAttributes("line",this._getContainer()),(null==(i=r.area)?void 0:i.visible)&&!t&&this._setPreviewAttributes("area",this._getContainer()),h&&this.renderDragMask(),this._renderSelectedBackground(),(null==(s=o.line)?void 0:s.visible)&&this._setSelectedPreviewClipAttributes("line",this._getContainer()),(null==(a=o.line)?void 0:a.visible)&&!t&&this._setSelectedPreviewAttributes("line"),(null==(n=o.line)?void 0:n.visible)&&this._setSelectedPreviewClipAttributes("area",this._getContainer()),(null==(l=o.area)?void 0:l.visible)&&!t&&this._setSelectedPreviewAttributes("area"),this._renderHandler(),this._showText&&this.renderText()}renderDragMask(){let{dragMaskStyle:t}=this.attribute,{position:e,width:i,height:s}=this._getLayoutAttrFromConfig(),{start:a,end:n}=this._getState();return this._isHorizontal?this._dragMask=this._getContainer().createOrUpdateChild("dragMask",Object.assign({x:e.x+a*i,y:e.y,width:(n-a)*i,height:s},t),"rect"):this._dragMask=this._getContainer().createOrUpdateChild("dragMask",Object.assign({x:e.x,y:e.y+a*s,width:i,height:(n-a)*s},t),"rect"),{start:a,end:n}}_renderBackground(){var t;let{backgroundStyle:e,brushSelect:i,zoomLock:s}=this.attribute,{position:a,width:n,height:l}=this._getLayoutAttrFromConfig(),r=this._getContainer();this._background=r.createOrUpdateChild("background",Object.assign(Object.assign({x:a.x,y:a.y,width:n,height:l,cursor:i?"crosshair":"auto"},e),{pickable:!s&&(null==(t=e.pickable)||t)}),"rect")}_renderHandler(){var t,e,i,s,a,n,l,r,o,h,d,u,c,b,g,p,f,x,_,y,v,A,B,S,k,w,M;let{orient:O,middleHandlerStyle:C={},startHandlerStyle:L={},endHandlerStyle:T={},zoomLock:P}=this.attribute,{start:I,end:E}=this._getState(),{position:Z,width:H,height:j}=this._getLayoutAttrFromConfig(),R=null!=(t=L.triggerMinSize)?t:40,z=null!=(e=T.triggerMinSize)?e:40,V=this._getContainer();if(this._isHorizontal){if(C.visible){let t=(null==(i=C.background)?void 0:i.size)||10;this._middleHandlerRect=V.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:Z.x+I*H,y:Z.y-t,width:(E-I)*H,height:t},null==(s=C.background)?void 0:s.style),{pickable:!P&&(null==(l=null==(n=null==(a=C.background)?void 0:a.style)?void 0:n.pickable)||l)}),"rect"),this._middleHandlerSymbol=V.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:Z.x+(I+E)/2*H,y:Z.y-t/2,strokeBoundsBuffer:0,angle:0,symbolType:null!=(o=null==(r=C.icon)?void 0:r.symbolType)?o:"square"},C.icon),{pickable:!P&&(null==(h=C.icon.pickable)||h)}),"symbol")}this._startHandler=V.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:Z.x+I*H,y:Z.y+j/2,size:j,symbolType:null!=(d=L.symbolType)?d:"square"},m.horizontal),L),{pickable:!P&&(null==(u=L.pickable)||u)}),"symbol"),this._endHandler=V.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:Z.x+E*H,y:Z.y+j/2,size:j,symbolType:null!=(c=T.symbolType)?c:"square"},m.horizontal),T),{pickable:!P&&(null==(b=T.pickable)||b)}),"symbol");let t=Math.max(this._startHandler.AABBBounds.width(),R),e=Math.max(this._startHandler.AABBBounds.height(),R),g=Math.max(this._endHandler.AABBBounds.width(),z),p=Math.max(this._endHandler.AABBBounds.height(),z);this._startHandlerMask=V.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:Z.x+I*H-t/2,y:Z.y+j/2-e/2,width:t,height:e,fill:"white",fillOpacity:0,zIndex:999},m.horizontal),{pickable:!P}),"rect"),this._endHandlerMask=V.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:Z.x+E*H-g/2,y:Z.y+j/2-p/2,width:g,height:p,fill:"white",fillOpacity:0,zIndex:999},m.horizontal),{pickable:!P}),"rect")}else{if(C.visible){let t=(null==(g=C.background)?void 0:g.size)||10;this._middleHandlerRect=V.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:"left"===O?Z.x-t:Z.x+H,y:Z.y+I*j,width:t,height:(E-I)*j},null==(p=C.background)?void 0:p.style),{pickable:!P&&(null==(_=null==(x=null==(f=C.background)?void 0:f.style)?void 0:x.pickable)||_)}),"rect"),this._middleHandlerSymbol=V.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:"left"===O?Z.x-t/2:Z.x+H+t/2,y:Z.y+(I+E)/2*j,angle:Math.PI/180*90,symbolType:null!=(v=null==(y=C.icon)?void 0:y.symbolType)?v:"square",strokeBoundsBuffer:0},C.icon),{pickable:!P&&(null==(B=null==(A=C.icon)?void 0:A.pickable)||B)}),"symbol")}this._startHandler=V.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:Z.x+H/2,y:Z.y+I*j,size:H,symbolType:null!=(S=L.symbolType)?S:"square"},m.vertical),L),{pickable:!P&&(null==(k=L.pickable)||k)}),"symbol"),this._endHandler=V.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:Z.x+H/2,y:Z.y+E*j,size:H,symbolType:null!=(w=T.symbolType)?w:"square"},m.vertical),T),{pickable:!P&&(null==(M=T.pickable)||M)}),"symbol");let t=Math.max(this._startHandler.AABBBounds.width(),R),e=Math.max(this._startHandler.AABBBounds.height(),R),i=Math.max(this._endHandler.AABBBounds.width(),z),s=Math.max(this._endHandler.AABBBounds.height(),z);this._startHandlerMask=V.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:Z.x+H/2+t/2,y:Z.y+I*j-e/2,width:s,height:i,fill:"white",fillOpacity:0,zIndex:999},m.vertical),{pickable:!P}),"rect"),this._endHandlerMask=V.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:Z.x+H/2+i/2,y:Z.y+E*j-s/2,width:s,height:i,fill:"white",fillOpacity:0,zIndex:999},m.vertical),{pickable:!P}),"rect")}}_renderSelectedBackground(){var t,e;let{selectedBackgroundStyle:i={},selectedBackgroundChartStyle:s={},brushSelect:a,zoomLock:n}=this.attribute,{start:l,end:r}=this._getState(),{position:o,width:h,height:d}=this._getLayoutAttrFromConfig(),u=this._getContainer();this._isHorizontal?this._selectedBackground=u.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:o.x+l*h,y:o.y,width:(r-l)*h,height:d,cursor:a?"crosshair":"move"},i),{pickable:!n&&(null==(t=s.pickable)||t)}),"rect"):this._selectedBackground=u.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:o.x,y:o.y+l*d,width:h,height:(r-l)*d,cursor:a?"crosshair":"move"},i),{pickable:!n&&(null==(e=i.pickable)||e)}),"rect")}_setPreviewAttributes(t,e){this._previewGroup||(this._previewGroup=e.createOrUpdateChild("previewGroup",{pickable:!1},"group")),"line"===t?this._previewLine=this._previewGroup.createOrUpdateChild("previewLine",{},"line"):this._previewArea=this._previewGroup.createOrUpdateChild("previewArea",{curveType:"basis"},"area");let{backgroundChartStyle:i={}}=this.attribute;"line"===t&&this._previewLine.setAttributes(Object.assign({points:this._getPreviewLinePoints(),curveType:"basis",pickable:!1},i.line)),"area"===t&&this._previewArea.setAttributes(Object.assign({points:this._getPreviewAreaPoints(),curveType:"basis",pickable:!1},i.area))}_setSelectedPreviewClipAttributes(t,e){this._selectedPreviewGroupClip||(this._selectedPreviewGroupClip=e.createOrUpdateChild("selectedPreviewGroupClip",{pickable:!1},"group"),this._selectedPreviewGroup=this._selectedPreviewGroupClip.createOrUpdateChild("selectedPreviewGroup",{},"group"));let{start:i,end:s}=this._getState(),{position:a,width:n,height:l}=this._getLayoutAttrFromConfig();this._selectedPreviewGroupClip.setAttributes({x:this._isHorizontal?a.x+i*n:a.x,y:this._isHorizontal?a.y:a.y+i*l,width:this._isHorizontal?(s-i)*n:n,height:this._isHorizontal?l:(s-i)*l,clip:!0,pickable:!1}),this._selectedPreviewGroup.setAttributes({x:-(this._isHorizontal?a.x+i*n:a.x),y:-(this._isHorizontal?a.y:a.y+i*l),width:this._isHorizontal?(s-i)*n:n,height:this._isHorizontal?l:(s-i)*l,pickable:!1})}_setSelectedPreviewAttributes(t){let{selectedBackgroundChartStyle:e={}}=this.attribute;"line"===t?this._selectedPreviewLine=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewLine",{},"line"):this._selectedPreviewArea=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewArea",{curveType:"basis"},"area"),"line"===t&&this._selectedPreviewLine.setAttributes(Object.assign({points:this._getPreviewLinePoints(),curveType:"basis",pickable:!1},e.line)),"area"===t&&this._selectedPreviewArea.setAttributes(Object.assign({points:this._getPreviewAreaPoints(),curveType:"basis",pickable:!1},e.area))}_computeBasePoints(){let t,e,{orient:i}=this.attribute,{position:s,width:a,height:n}=this._getLayoutAttrFromConfig();return this._isHorizontal?(t=[{x:s.x,y:s.y+n}],e=[{x:s.x+a,y:s.y+n}]):"left"===i?(t=[{x:s.x+a,y:s.y}],e=[{x:s.x+a,y:s.y+n}]):(t=[{x:s.x,y:s.y+n}],e=[{x:s.x,y:s.y}]),{basePointStart:t,basePointEnd:e}}_simplifyPoints(t){var e;if(t.length>1e4){let i=null!=(e=this.attribute.tolerance)?e:this._previewData.length/1e4;return(0,b.E)(t,i,!1)}return t}_getPreviewLinePoints(){let t=this._previewData.map(t=>({x:this._previewPointsX&&this._previewPointsX(t),y:this._previewPointsY&&this._previewPointsY(t)}));if(0===t.length)return t;t=this._simplifyPoints(t);let{basePointStart:e,basePointEnd:i}=this._computeBasePoints();return e.concat(t).concat(i)}_getPreviewAreaPoints(){let t=this._previewData.map(t=>({x:this._previewPointsX&&this._previewPointsX(t),y:this._previewPointsY&&this._previewPointsY(t),x1:this._previewPointsX1&&this._previewPointsX1(t),y1:this._previewPointsY1&&this._previewPointsY1(t)}));if(0===t.length)return t;t=this._simplifyPoints(t);let{basePointStart:e,basePointEnd:i}=this._computeBasePoints();return e.concat(t).concat(i)}renderText(){let t=null,e=null;if(this._setTextAttr(t,e),this._showText){t=this._startText.AABBBounds,e=this._endText.AABBBounds,this._setTextAttr(t,e),t=this._startText.AABBBounds,e=this._endText.AABBBounds;let{x1:i,x2:s,y1:a,y2:n}=t,{dx:l=0,dy:r=0}=this.attribute.startTextStyle;if((new g.YZ).set(i,a,s,n).intersects(e)){let t="bottom"===this.attribute.orient||"right"===this.attribute.orient?-1:1;this._isHorizontal?this._startText.setAttribute("dy",r+t*Math.abs(e.y1-e.y2)):this._startText.setAttribute("dx",l+t*Math.abs(e.x1-e.x2))}else this._isHorizontal?this._startText.setAttribute("dy",r):this._startText.setAttribute("dx",l)}}_setTextAttr(t,e){var i,s,a,n,l,r,h,d;let u,c,b,g,{startTextStyle:p,endTextStyle:f}=this.attribute,{formatMethod:m}=p,y=_(p,["formatMethod"]),{formatMethod:v}=f,A=_(f,["formatMethod"]),{start:B,end:S}=this._getState();this._startValue=this._statePointToData(B),this._endValue=this._statePointToData(S);let{position:k,width:w,height:M}=this._getLayoutAttrFromConfig(),O=m?m(this._startValue):this._startValue,C=v?v(this._endValue):this._endValue,L={x1:k.x,y1:k.y,x2:k.x+w,y2:k.y+M};this._isHorizontal?(u={x:k.x+B*w,y:k.y+M/2},c={x:k.x+S*w,y:k.y+M/2},b={textAlign:x(L,t,"start",this._isHorizontal)?"left":"right",textBaseline:null!=(s=null==(i=null==y?void 0:y.textStyle)?void 0:i.textBaseline)?s:"middle"},g={textAlign:x(L,e,"end",this._isHorizontal)?"right":"left",textBaseline:null!=(n=null==(a=null==A?void 0:A.textStyle)?void 0:a.textBaseline)?n:"middle"}):(u={x:k.x+w/2,y:k.y+B*M},c={x:k.x+w/2,y:k.y+S*M},b={textAlign:null!=(r=null==(l=null==y?void 0:y.textStyle)?void 0:l.textAlign)?r:"center",textBaseline:x(L,t,"start",this._isHorizontal)?"top":"bottom"},g={textAlign:null!=(d=null==(h=null==A?void 0:A.textStyle)?void 0:h.textAlign)?d:"center",textBaseline:x(L,e,"end",this._isHorizontal)?"bottom":"top"}),this._startText=this._maybeAddLabel(this._getContainer(),(0,o.Z)({},y,{text:O,x:u.x,y:u.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:b}),"data-zoom-start-text"),this._endText=this._maybeAddLabel(this._getContainer(),(0,o.Z)({},A,{text:C,x:c.x,y:c.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:g}),"data-zoom-end-text")}_maybeAddLabel(t,e,i){let s=t.find(t=>t.name===i,!0);return s?s.setAttributes(e):((s=new p.V(e)).name=i,t.add(s)),s}}var v=i(85637),A=i(990389),B=i(80204),S=i(649275),k=i(421883),w=i.n(k),M=i(994030);let O={debounce:B.Z,throttle:S.Z};class C extends w(){constructor(t){super(),this._activeState=!1,this._activeCache={startPos:{x:0,y:0},lastPos:{x:0,y:0}},this._layoutCache={attPos:"x",attSize:"width",size:0},this._handleTouchMove=t=>{this._activeState&&t.preventDefault()},this._onHandlerPointerDown=(t,e)=>{this.clearDragEvents(),"start"===e?(this._activeTag=n.startHandler,this._activeItem=this._startHandlerMask):"end"===e?(this._activeTag=n.endHandler,this._activeItem=this._endHandlerMask):"middleRect"===e?(this._activeTag=n.middleHandler,this._activeItem=this._middleHandlerRect):"middleSymbol"===e?(this._activeTag=n.middleHandler,this._activeItem=this._middleHandlerSymbol):"background"===e&&(this._activeTag=n.background,this._activeItem=this._background),this._activeState=!0,this._activeCache.startPos=this._eventPosToStagePos(t),this._activeCache.lastPos=this._eventPosToStagePos(t);let i="browser"===A.rF.env?A.rF:this.stage,s=(0,v.G)();i.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.on("pointermove",this._onHandlerPointerMove,{capture:!0}),s.forEach(t=>{i.addEventListener(t,this._onHandlerPointerUp)})},this._pointerMove=t=>{let{brushSelect:e}=this.attribute,{position:i}=this._getLayoutAttrFromConfig(),s=this._eventPosToStagePos(t),{attPos:a,size:r,attSize:o}=this._layoutCache,h=(s[a]-this._activeCache.lastPos[a])/r,d=(s[a]-i[a])/this._getLayoutAttrFromConfig()[o],{start:u,end:c}=this._getState(),b=!0;this._activeState&&(this._activeTag===n.middleHandler?{start:u,end:c}=this._moveZoomWithMiddle(h):this._activeTag===n.startHandler?{start:u,end:c}=this._moveZoomWithHandler(d,"start"):this._activeTag===n.endHandler?{start:u,end:c}=this._moveZoomWithHandler(d,"end"):this._activeTag===n.background&&e&&({start:u,end:c}=this._moveZoomWithBackground(d),b=!1,this._dispatchEvent(l.maskUpdate)),this._activeCache.lastPos=s),this._getState().start===u&&this._getState().end===c||(this._setStateAttr(u,c),this._dispatchEvent(l.stateUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:b,tag:this._activeTag}),this.attribute.realTime&&this._dispatchEvent(l.dataZoomUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag}))},this._onHandlerPointerUp=t=>{this._activeState&&this._activeTag===n.background&&(this._setStateAttr(this._getState().start,this._getState().end),this._dispatchEvent(l.stateUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag})),this._activeState=!1,this._dispatchEvent(l.dataZoomUpdate,{start:this._getState().start,end:this._getState().end,shouldRender:!0,tag:this._activeTag}),this.clearDragEvents()},this._initAttrs(t)}setAttributes(t){var e,i,s,a,n,l;this._initAttrs(t),this._onHandlerPointerMove=0===(null!=(i=null==(e=this.attribute)?void 0:e.delayTime)?i:0)?this._pointerMove:O[null!=(a=null==(s=this.attribute)?void 0:s.delayType)?a:"debounce"](this._pointerMove,null!=(l=null==(n=this.attribute)?void 0:n.delayTime)?l:0)}_initAttrs(t){this.stage=t.stage,this.attribute=t.attribute,this._startHandlerMask=t.startHandlerMask,this._endHandlerMask=t.endHandlerMask,this._middleHandlerSymbol=t.middleHandlerSymbol,this._middleHandlerRect=t.middleHandlerRect,this._selectedBackground=t.selectedBackground,this._background=t.background,this._previewGroup=t.previewGroup,this._selectedPreviewGroup=t.selectedPreviewGroup,this._getLayoutAttrFromConfig=t.getLayoutAttrFromConfig,this._getState=t.getState,this._setState=t.setState;let{width:e,height:i}=this._getLayoutAttrFromConfig();this._spanCache=this._getState().end-this._getState().start;let s="top"===this.attribute.orient||"bottom"===this.attribute.orient;this._layoutCache.size=s?e:i,this._layoutCache.attPos=s?"x":"y",this._layoutCache.attSize=s?"width":"height",this._getGlobalTransMatrix=t.getGlobalTransMatrix}clearDragEvents(){let t="browser"===A.rF.env?A.rF:this.stage,e=(0,v.G)();t.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),e.forEach(e=>{t.removeEventListener(e,this._onHandlerPointerUp)}),this.off("pointermove",this._onHandlerPointerMove,{capture:!0})}clearVGlobalEvents(){("browser"===A.rF.env?A.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}bindEvents(){var t,e,i,s,a,n,l,r;let{brushSelect:o}=this.attribute;null==(t=this._startHandlerMask)||t.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"start")),null==(e=this._endHandlerMask)||e.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"end")),null==(i=this._middleHandlerSymbol)||i.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"middleSymbol")),null==(s=this._middleHandlerRect)||s.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"middleRect"));let h=o?"background":"middleRect";null==(a=this._selectedBackground)||a.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,h)),o&&(null==(n=this._background)||n.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"background"))),o&&(null==(l=this._previewGroup)||l.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,"background"))),null==(r=this._selectedPreviewGroup)||r.addEventListener("pointerdown",t=>this._onHandlerPointerDown(t,h)),("browser"===A.rF.env?A.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}_setStateAttr(t,e){let{zoomLock:i=!1,minSpan:s=0,maxSpan:a=1}=this.attribute,n=e-t;n!==this._spanCache&&(i||n<s||n>a)||(this._spanCache=n,this._setState({start:t,end:e}))}_moveZoomWithMiddle(t){let{start:e,end:i}=this._getState();return t>0&&i+t>1?t=1-i:t<0&&e+t<0&&(t=-e),{start:(0,M.Z)(e+t,0,1),end:(0,M.Z)(i+t,0,1)}}_moveZoomWithHandler(t,e){let{start:i,end:s}=this._getState(),a=i,l=s;return"start"===e?t>s?(a=s,l=t,this._activeTag=n.endHandler):a=t:"end"===e&&(t<i?(l=i,a=t,this._activeTag=n.startHandler):l=t),{start:(0,M.Z)(a,0,1),end:(0,M.Z)(l,0,1)}}_moveZoomWithBackground(t){let{position:e}=this._getLayoutAttrFromConfig(),{attSize:i}=this._layoutCache,s=(this._activeCache.startPos[this._layoutCache.attPos]-e[this._layoutCache.attPos])/this._getLayoutAttrFromConfig()[i],a=(0,M.Z)(s,0,1),n=(0,M.Z)(t,0,1);return a>n&&([a,n]=[n,a]),{start:a,end:n}}_eventPosToStagePos(t){var e,i;let s={x:0,y:0},a=null!=(i=null==(e=this.stage)?void 0:e.eventPointTransform(t))?i:{x:0,y:0};return this._getGlobalTransMatrix().transformPoint(a,s),s}_dispatchEvent(t,e){this.emit(t,e)}}var L=i(18029),T=i(483590),P=i(279423),I=i(262041);(0,i(975320).b)(),(0,L.k)(),(0,T.k)(),(0,P.d)(),(0,I.N)();class E extends c.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,o.Z)({},E.defaultAttributes,t)),this.name="dataZoom",this._state={start:0,end:1},this.getLayoutAttrFromConfig=()=>{var t,e,i,s,a,n;let l,r,o;if(this._layoutCacheFromConfig)return this._layoutCacheFromConfig;let{position:h,size:d,orient:u,middleHandlerStyle:c={},startHandlerStyle:b={},endHandlerStyle:g={},backgroundStyle:p={}}=this.attribute,{width:f,height:m}=d,x=null!=(e=null==(t=c.background)?void 0:t.size)?e:10;c.visible?this._isHorizontal?(l=f,r=m-x,o={x:h.x,y:h.y+x}):(l=f-x,r=m,o={x:h.x+("left"===u?x:0),y:h.y}):(l=f,r=m,o=h);let _=null!=(i=b.size)?i:this._isHorizontal?r:l,y=null!=(s=g.size)?s:this._isHorizontal?r:l;return b.visible&&(this._isHorizontal?(l-=(_+y)/2,o={x:o.x+_/2,y:o.y}):(r-=(_+y)/2,o={x:o.x,y:o.y+_/2})),r+=(null!=(a=p.lineWidth)?a:2)/2,l+=(null!=(n=p.lineWidth)?n:2)/2,this._layoutCacheFromConfig={position:o,width:l,height:r},this._layoutCacheFromConfig};let{start:i,end:s,orient:a}=this.attribute;this._isHorizontal="top"===a||"bottom"===a,i&&(this._state.start=i),s&&(this._state.end=s),this._renderer=new y(this._getRendererAttrs()),this._interaction=new C(this._getInteractionAttrs())}_getRendererAttrs(){return{attribute:this.attribute,getLayoutAttrFromConfig:this.getLayoutAttrFromConfig,setState:t=>{this._state=t},getState:()=>this._state,getContainer:()=>this._container}}_getInteractionAttrs(){return{stage:this.stage,attribute:this.attribute,startHandlerMask:this._renderer.startHandlerMask,endHandlerMask:this._renderer.endHandlerMask,middleHandlerSymbol:this._renderer.middleHandlerSymbol,middleHandlerRect:this._renderer.middleHandlerRect,selectedBackground:this._renderer.selectedBackground,background:this._renderer.background,previewGroup:this._renderer.previewGroup,selectedPreviewGroup:this._renderer.selectedPreviewGroup,getLayoutAttrFromConfig:this.getLayoutAttrFromConfig,setState:t=>{this._state=t},getState:()=>this._state,getGlobalTransMatrix:()=>this.globalTransMatrix}}bindEvents(){this.attribute.disableTriggerEvent?this.setAttribute("childrenPickable",!1):(this._interaction.bindEvents(),this._interaction.on(l.stateUpdate,({shouldRender:t})=>{t&&this._renderer.renderDataZoom(!0)}),this._interaction.on(l.dataZoomUpdate,({start:t,end:e,tag:i})=>{this._dispatchEvent(r.dataZoomChange,{start:t,end:e,tag:i})}),this._interaction.on(l.maskUpdate,()=>{this._renderer.renderDragMask()}),"auto"===this.attribute.showDetail&&(this._container.addEventListener("pointerenter",()=>{this._renderer.showText=!0,this._renderer.renderText()}),this._container.addEventListener("pointerleave",()=>{this._renderer.showText=!1,this._renderer.renderText()})))}setAttributes(t,e){let{start:i,end:s}=this.attribute;i&&(this._state.start=i),s&&(this._state.end=s),this._renderer.setAttributes(this._getRendererAttrs()),this._interaction.setAttributes(this._getInteractionAttrs()),super.setAttributes(t,e)}render(){this._layoutCacheFromConfig=null,this._container=this.createOrUpdateChild("datazoom-container",{},"group"),this._renderer.renderDataZoom(),this._interaction.setAttributes(this._getInteractionAttrs())}release(t){super.release(t),this._interaction.clearDragEvents()}setStartAndEnd(t,e){let{start:i,end:s}=this._state;(0,h.Z)(t)&&(0,h.Z)(e)&&(t!==i||e!==s)&&(this._state={start:t,end:e},this._renderer.renderDataZoom(!0),this._dispatchEvent(r.dataZoomChange,{start:t,end:e}))}setPreviewData(t){this._renderer.previewData=t}setText(t,e){"start"===e?this._renderer.startText.setAttribute("text",t):this._renderer.endText.setAttribute("text",t)}getStartValue(){return this._renderer.startValue}getEndTextValue(){return this._renderer.endValue}getMiddleHandlerSize(){var t,e,i,s;let{middleHandlerStyle:a={}}=this.attribute,n=null!=(e=null==(t=a.background)?void 0:t.size)?e:10,l=null!=(s=null==(i=a.icon)?void 0:i.size)?s:10;return Math.max(n,...(0,d.IX)(l))}setPreviewPointsX(t){(0,u.Z)(t)&&(this._renderer.previewPointsX=t)}setPreviewPointsY(t){(0,u.Z)(t)&&(this._renderer.previewPointsY=t)}setPreviewPointsX1(t){(0,u.Z)(t)&&(this._renderer.previewPointsX1=t)}setPreviewPointsY1(t){(0,u.Z)(t)&&(this._renderer.previewPointsY1=t)}setStatePointToData(t){(0,u.Z)(t)&&(this._renderer.statePointToData=t)}}E.defaultAttributes={orient:"bottom",showDetail:"auto",brushSelect:!0,zoomLock:!1,minSpan:0,maxSpan:1,delayType:"throttle",delayTime:0,realTime:!0,backgroundStyle:{fill:"white",stroke:"#D1DBEE",lineWidth:1,cornerRadius:2},dragMaskStyle:{fill:"#B0C8F9",fillOpacity:.2},backgroundChartStyle:{area:{visible:!0,stroke:"#D1DBEE",lineWidth:1,fill:"#F6F8FC"},line:{visible:!0,stroke:"#D1DBEE",lineWidth:1}},selectedBackgroundStyle:{fill:"#B0C8F9",fillOpacity:.5},selectedBackgroundChartStyle:{area:{visible:!0,stroke:"#B0C8F9",lineWidth:1,fill:"#fbb934"},line:{visible:!0,stroke:"#fbb934",lineWidth:1}},middleHandlerStyle:{visible:!0,background:{size:8,style:{fill:"white",stroke:"#B0C8F9",cornerRadius:2}},icon:{size:6,fill:"white",stroke:"#B0C8F9",symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}},startHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:f,fill:"white",stroke:"#B0C8F9",lineWidth:.5},endHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:f,fill:"white",stroke:"#B0C8F9",lineWidth:.5},startTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}},endTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}}}},938145:function(t,e,i){i.d(e,{z:()=>g});var s=i(20408),a=i(625397),n=i(364776),l=i(89530),r=i(999051),o=i(683330),h=i(118785);let d={title:{style:{text:"",fontSize:20,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{style:{text:"",fontSize:16,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}};var u=i(745772),c=i(865509),b=i(657256);(0,u.M)(),(0,c.g)(),(0,b.v)();class g extends o.k{constructor(){super(...arguments),this.name="indicator"}_renderText(t,e,i,r,o,u){if(!1!==e.visible){let c=(0,s.Z)({},(0,a.Z)(d,o),e.style,{visible:e.visible});c.lineHeight=(0,n.Z)(c.lineHeight)?c.lineHeight:c.fontSize,e.formatMethod&&(c._originText=c.text,c.text=e.formatMethod(c.text,c));let b=(0,h.vS)(c);return b.name=u,t.appendChild(b),e.autoFit&&(0,l.Z)(i)&&this._setLocalAutoFit(i,b,e),e.autoLimit&&(0,l.Z)(r)&&b.setAttribute("maxLineWidth",i),b}}render(){var t,e;if(this.removeAllChild(!0),!0!==this.attribute.visible)return;let{title:i={},content:s,size:a,limitRatio:l=1/0}=this.attribute,o=Math.min(a.width,a.height)*l,h=this.createOrUpdateChild("indicator-container",{x:0,y:0,zIndex:1,pickable:null==(t=this.attribute.pickable)||t},"group");if((0,n.Z)(i)&&(this._title=this._renderText(h,i,o,l,"title.style","indicator-title")),(0,n.Z)(s)){let t=(0,r.IX)(s),e=[];t.forEach((t,i)=>{!1!==t.visible&&e.push(this._renderText(h,t,o,l,"content.style","indicator-content-"+i))}),this._content=e}this._setGlobalAutoFit(o),this._setYPosition();let d=null!=(e=null==h?void 0:h.AABBBounds.height())?e:0;h.setAttribute("y",a.height/2-d/2),h.setAttribute("x",a.width/2)}_setLocalAutoFit(t,e,i){var s,a,l,r,o,d,u,c,b;if("default"!==(null!=(s=i.fitStrategy)?s:"default"))return;let g=(0,h.fe)(null!=(l=null==(a=i.style)?void 0:a.text)?l:"",null!=(r=i.style)?r:{},null==(d=null==(o=this.stage)?void 0:o.getTheme())?void 0:d.text).width;if(g>0){let s=t*(null!=(u=i.fitPercent)?u:.5)/g,a=Math.floor((null!=(b=null==(c=i.style)?void 0:c.fontSize)?b:20)*s);e.setAttribute("fontSize",a),e.setAttribute("lineHeight",(0,n.Z)(i.style.lineHeight)?i.style.lineHeight:a)}}_setGlobalAutoFit(t){var e,i,s,a,o,h,d;let u=[],c=0,b=null!=(e=this.attribute.title)?e:{};b.autoFit&&"inscribed"===b.fitStrategy?(this._title.setAttribute("fontSize",12),u.push({text:this._title,spec:null!=(i=this.attribute.title)?i:{}})):c+=null!=(h=null==(o=null==(a=null==(s=this._title)?void 0:s.AABBBounds)?void 0:a.height)?void 0:o.call(a))?h:0;let g=null!=(d=b.space)?d:0;if(c+=g,(0,r.IX)(this.attribute.content).filter(t=>!1!==t.visible).forEach((t,e)=>{var i,s,a,n;let l=this._content[e];t.autoFit&&"inscribed"===t.fitStrategy?(l.setAttribute("fontSize",12),u.push({text:l,spec:t})):c+=null!=(a=null==(s=null==(i=null==l?void 0:l.AABBBounds)?void 0:i.height)?void 0:s.call(i))?a:0;let r=null!=(n=t.space)?n:0;c+=r}),u.length<=0)return;let p=12/u.reduce((t,e)=>Math.max(t,e.text.AABBBounds.width()),0)*u.length,f=c/2,m=p**2+1,x=2*f*p,_=2*(p*((-x+Math.sqrt(x**2-4*m*(f**2-(t/2)**2)))/(2*m))+f),y=(_-c)/u.length;(0,l.Z)(_)&&u.forEach(t=>{var e;let i=null==(e=t.spec.style)?void 0:e.lineHeight;t.text.setAttribute("fontSize",y),t.text.setAttribute("lineHeight",(0,n.Z)(i)?i:y)})}_setYPosition(){var t,e,i,s,a,n;let l=0,o=null!=(s=null==(i=null==(e=null==(t=this._title)?void 0:t.AABBBounds)?void 0:e.height)?void 0:i.call(e))?s:0,h=null!=(n=null==(a=this.attribute.title)?void 0:a.space)?n:0;(0,r.IX)(this.attribute.content).filter(t=>!1!==t.visible).forEach((t,e)=>{var i;let s=this._content[e];s.setAttribute("y",o+h+l);let a=null!=(i=t.space)?i:0;l+=s.AABBBounds.height()+a})}}},977886:function(t,e,i){i.d(e,{lp:()=>p});var s=i(20408),a=i(454326),n=i(309762),l=i(536163),r=i(89530),o=i(173941),h=i(469707),d=i(695866),u=i(796241),c=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class b{constructor(t,e,i,s,a,n,l,r,o){this.refDatum=t,this.center=e,this.outerCenter=i,this.quadrant=s,this.radian=a,this.middleAngle=n,this.innerRadius=l,this.outerRadius=r,this.circleCenter=o,this.labelVisible=!0}getLabelBounds(){return this.labelPosition&&this.labelSize?{x1:this.labelPosition.x-this.labelSize.width/2,y1:this.labelPosition.y-this.labelSize.height/2,x2:this.labelPosition.x+this.labelSize.width/2,y2:this.labelPosition.y+this.labelSize.height/2}:{x1:0,x2:0,y1:0,y2:0}}}class g extends o.E{constructor(t,e){let{data:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({data:i},(0,s.Z)({},g.defaultAttributes,c(t,["data"])))),this.name="arc-label",this._ellipsisWidth=0,this._arcLeft=new Map,this._arcRight=new Map,this._line2MinLength=0,this._alignOffset=0}_overlapping(t){return["inside","inside-center"].includes(this.attribute.position)?super._overlapping(t):t}labeling(t,e,i="outside",s=0){if(t&&e)return{x:0,y:0}}_layout(t){var e,i,s;if(!t||!t.length)return;let a=super._layout(t),n=a.map(t=>this.getGraphicBounds(t)),l=Object.assign(Object.assign({},this.attribute.textStyle),{text:"\u2026"}),r=1/0;if(!1!==l.ellipsis){let t=this._createLabelText(l),e=this.getGraphicBounds(t);r=e.x2-e.x1}let o=a.map(t=>t.attribute),h=Array.from(this._idToGraphic.values());this._line2MinLength=(0,u.Z)(this.attribute.line.line2MinLength)?this.attribute.line.line2MinLength(t,h,this.attribute):this.attribute.line.line2MinLength,this._alignOffset=null!=(e=(0,u.Z)(this.attribute.layout.alignOffset)?this.attribute.layout.alignOffset(t,h,this.attribute):this.attribute.layout.alignOffset)?e:0;let d=this.layoutArcLabels(this.attribute.position,this.attribute,h,o,n,r);for(let t=0;t<o.length;t++){let e=o[t],n=d.find(t=>{var i;return(null==(i=t.refDatum)?void 0:i.id)===e.id});if(n){let e={visible:n.labelVisible,x:n.labelPosition.x,y:n.labelPosition.y,angle:n.angle,points:n.pointA&&n.pointB&&n.pointC?[n.pointA,n.pointB,n.pointC]:void 0,line:n.labelLine};"richtext"===a[t].type?e.width=null!=(i=n.labelLimit)?i:a[t].attribute.width:e.maxLineWidth=null!=(s=n.labelLimit)?s:a[t].attribute.maxLineWidth,n.refArc&&"arc3d"===n.refArc.type&&(e.anchor3d=[n.circleCenter.x-e.x,n.circleCenter.y-e.y],e.beta=n.refArc.attribute.beta),a[t].setAttributes(e)}}return a}layoutArcLabels(t,e,i,s,l,r){this._arcLeft.clear(),this._arcRight.clear(),this._ellipsisWidth=r;let o=0;i.forEach(t=>{t.attribute.outerRadius>o&&(o=t.attribute.outerRadius)}),s.forEach((t,i)=>{var r,d;let u=this._idToGraphic.get(t.id),c=u.getAttributes(!0),g={x:null!=(r=null==c?void 0:c.x)?r:0,y:null!=(d=null==c?void 0:c.y)?d:0};if(!(0,a.Z)(s[i])&&!(0,a.Z)(l[i])){let t=s[i]?s[i]:null,a=l[i]?l[i]:{x1:0,x2:0,y1:0,y2:0},r=(c.startAngle+c.endAngle)/2,d=c.endAngle-c.startAngle,p=(0,n.tc)(c.endAngle-d/2),f=new b(t,(0,n.op)(g,c.outerRadius,r),(0,n.op)(g,o+e.line.line1MinLength,r),p,d,r,c.innerRadius,c.outerRadius,g);f.refArc=u,f.pointA=(0,n.op)(g,this.computeDatumRadius(2*g.x,2*g.y,c.outerRadius),f.middleAngle),f.labelSize={width:a.x2-a.x1,height:a.y2-a.y1},(0,h.sk)(f.quadrant)?this._arcRight.set(f.refDatum,f):(0,h.vE)(f.quadrant)&&this._arcLeft.set(f.refDatum,f)}});let d=Array.from(this._arcLeft.values()),u=Array.from(this._arcRight.values()),c=[];switch(t){case"inside":case"inside-inner":case"inside-outer":case"inside-center":c.push(...this._layoutInsideLabels(u,e,i)),c.push(...this._layoutInsideLabels(d,e,i));break;default:c.push(...this._layoutOutsideLabels(u,e,i)),c.push(...this._layoutOutsideLabels(d,e,i))}return c}_layoutInsideLabels(t,e,i){var s,a;let r=e.spaceWidth,o=null!=(s=e.position)?s:"inside",d=null!=(a=e.offsetRadius)?a:-r;return t.forEach(t=>{var i,s,a;let u,{labelSize:c,radian:b}=t,g=t.innerRadius,p=t.outerRadius;u=b<(0,h.aD)(p,c.height)?0:p-(b>=Math.PI?g:Math.max(g,c.height/2/Math.tan(b/2)))-r,!0!==e.rotate&&(u=p-r);let f=this._getFormatLabelText(t.refDatum,u);t.labelText=f;let m=Math.min(u,t.labelSize.width),x=this._computeAlign(t,e),_,y=0;if("inside"===o&&(y="left"===x?m:"right"===x?0:m/2),_="inside-inner"===o?g-d+y:"inside-center"===o?g+(p-g)/2:p+d-y,t.labelPosition=(0,n.op)(t.circleCenter,_,t.middleAngle),t.labelLimit=m,(0,l.Vy)(m,0)||(t.labelVisible=!1),!1!==e.rotate){t.angle=null!=(s=null==(i=e.textStyle)?void 0:i.angle)?s:t.middleAngle;let n=null!=(a=e.offsetAngle)?a:0;["inside-inner","inside-outer"].includes(o)&&(n+=Math.PI/2),t.angle+=n}}),t}_layoutOutsideLabels(t,e,i){var s,a,n;let r=null!=(s=i[0].attribute.x)?s:0,o=2*(null!=(a=i[0].attribute.y)?a:0),d=e.layout,u=e.spaceWidth;if(t.forEach(t=>{let e=(0,h.vE)(t.quadrant)?-1:1;t.labelPosition={x:t.outerCenter.x+e*(t.labelSize.width/2+this._line2MinLength+u),y:t.outerCenter.y}}),t.sort((t,e)=>t.labelPosition.y-e.labelPosition.y),!1!==e.coverEnable||"none"===d.strategy){for(let s of t){let{labelPosition:t,labelSize:a}=s;s.labelLimit=a.width,s.pointB=(0,h.vE)(s.quadrant)?{x:t.x+a.width/2+this._line2MinLength+u,y:t.y}:{x:t.x-a.width/2-this._line2MinLength-u,y:t.y},this._computeX(s,e,i)}!1===e.coverEnable&&"none"===d.strategy&&this._coverLabels(t)}else{let s=o/((null==(n=e.textStyle)?void 0:n.fontSize)||16);this._adjustY(t,s,e,i);let{minY:a,maxY:l}=t.reduce((t,e)=>{let{y1:i,y2:s}=e.getLabelBounds();return t.minY=Math.max(0,Math.min(i,t.minY)),t.maxY=Math.min(o,Math.max(s,t.maxY)),t},{minY:1/0,maxY:-1/0}),r=Math.max(Math.abs(o/2-a),Math.abs(l-o/2)),h=this._computeLayoutRadius(r,e,i);for(let s of t)this._computePointB(s,h,e,i),this._computeX(s,e,i)}let c=2*r;return t.forEach(t=>{var i,s;t.labelVisible&&((0,l.SQ)(t.pointB.x,this._line2MinLength+u)||(0,l.Vy)(t.pointB.x,c-this._line2MinLength-u))&&(t.labelVisible=!1),t.angle=null!=(s=null==(i=e.textStyle)?void 0:i.angle)?s:0,e.offsetAngle&&(t.angle+=e.offsetAngle),t.labelLine=Object.assign(Object.assign({},e.line),{visible:t.labelVisible})}),t}_computeX(t,e,i){var s;let a=t.circleCenter,n=this.attribute.width;this.attribute.height;let l=0;i.forEach(t=>{t.getAttributes(!0).outerRadius>l&&(l=t.getAttributes(!0).outerRadius)});let o=this.computeLayoutOuterRadius(l,e.width,e.height),d=e.line.line1MinLength,u=null==(s=e.layout)?void 0:s.align,c=e.spaceWidth,{labelPosition:b,quadrant:g,pointB:p}=t;(0,r.Z)(p.x*p.y)||(t.pointC={x:NaN,y:NaN},b.x=NaN,t.labelLimit=0);let f=this.computeRadius(o,e.width,e.height),m=(0,h.vE)(g)?-1:1,x=0,_=(m>0?n-p.x:p.x-0)+this._alignOffset-this._line2MinLength-c;"labelLine"===u&&(x=(f+d+this._line2MinLength)*m+a.x,_=(m>0?n-x:x-0)-c);let y=this._getFormatLabelText(t.refDatum,_);t.labelText=y;let v=Math.min(_,t.labelSize.width);switch(u){case"labelLine":break;case"edge":x=m>0?n-v-c:0+v+c;break;default:x=p.x+m*this._line2MinLength}let A=(v=Math.max(this._ellipsisWidth,v))<t.labelSize.width-1;t.labelLimit=A?v:null,t.pointC={x:x,y:b.y};let B=this._computeAlign(t,e),S=(0,h.qA)(B)*(A?v:t.labelSize.width);"edge"===u?(b.x=(m>0?n:0)-m*S+m*this._alignOffset,t.pointC.x+=m*this._alignOffset):b.x=x+m*(this._alignOffset+c+S)}_computeAlign(t,e){var i,s,n,l,r,o;let d=null!=(s=null==(i=e.textStyle)?void 0:i.textAlign)?s:null==(n=e.textStyle)?void 0:n.align,u=null!=(r=null==(l=e.layout)?void 0:l.textAlign)?r:null==(o=e.layout)?void 0:o.align;return"inside"!==e.position?(0,a.Z)(d)||"auto"===d?"edge"===u?(0,h.vE)(t.quadrant)?"left":"right":(0,h.vE)(t.quadrant)?"right":"left":d:(0,a.Z)(d)||"auto"===d?"center":d}_getFormatLabelText(t,e){var i;return null!=(i=null==t?void 0:t.text)?i:""}_adjustY(t,e,i,s){var a;s[0].attribute.x;let n=2*(null!=(a=s[0].attribute.y)?a:0),r=i.layout;if("vertical"===r.strategy){let e,i=0,s=t.length;if(s<=0)return;for(let a=0;a<s;a++){let{y1:n}=t[a].getLabelBounds();if(e=n-i,(0,l.SQ)(e,0)){let i=this._shiftY(t,a,s-1,-e);this._shiftY(t,i,0,e/2)}let{y2:r}=t[a].getLabelBounds();i=r}let{y1:a}=t[0].getLabelBounds();e=a-0,(0,l.SQ)(e,0)&&this._shiftY(t,0,s-1,-e);for(let e=t.length-1;e>=0&&t[e].getLabelBounds().y2>n;e--)t[e].labelVisible=!1}else if("none"!==r.strategy){let a=t.map((t,e)=>({arc:t,originIndex:e,priorityIndex:0}));a.sort((t,e)=>e.arc.radian-t.arc.radian),a.forEach((t,e)=>{t.priorityIndex=e,t.arc.labelVisible=!1});let o=1/0,h=-1/0;for(let d=0;d<e&&d<t.length;d++){let e;this._storeY(t);let u=a[d].arc;this._computeYRange(u,i,s),u.labelVisible=!0;let c=u.labelPosition.y,{lastIndex:b,nextIndex:g}=this._findNeighborIndex(t,a[d]),p=t[b],f=t[g];if(-1===b&&-1!==g){let e=f.labelPosition.y;c>e?u.labelPosition.y=e-f.labelSize.height/2-u.labelSize.height/2:this._twoWayShift(t,u,f,g)}else if(-1!==b&&-1===g){let e=p.labelPosition.y;c<e?u.labelPosition.y=e+p.labelSize.height/2+u.labelSize.height/2:this._twoWayShift(t,p,u,a[d].originIndex)}else if(-1!==b&&-1!==g){let e=p.labelPosition.y,i=f.labelPosition.y;c>i?(u.labelPosition.y=i-f.labelSize.height/2-u.labelSize.height/2,this._twoWayShift(t,p,u,a[d].originIndex)):(c<e?u.labelPosition.y=e+p.labelSize.height/2+u.labelSize.height/2:this._twoWayShift(t,p,u,a[d].originIndex),this._twoWayShift(t,u,f,g))}let m=Math.min(o,a[d].originIndex),x=Math.max(h,a[d].originIndex);if(e=t[x].getLabelBounds().y2-n,(0,l.Vy)(e,0)&&this._shiftY(t,x,0,-e),e=t[m].getLabelBounds().y1-0,(0,l.SQ)(e,0)&&this._shiftY(t,m,t.length-1,-e),e=t[x].getLabelBounds().y2-n,(0,l.Vy)(e,0)){u.labelVisible=!1,this._restoreY(t);break}r.tangentConstraint&&!this._checkYRange(t)?(u.labelVisible=!1,this._restoreY(t)):(o=m,h=x)}}}_shiftY(t,e,i,s){let a=e<i?1:-1,n=e;for(;-1!==n;){t[n].labelPosition.y+=s;let e=this._findNextVisibleIndex(t,n,i,a);if(e>=0&&e<t.length){let{y1:i,y2:s}=t[n].getLabelBounds(),{y1:l,y2:r}=t[e].getLabelBounds();if(a>0&&s<l||a<0&&i>r)return n}n=e}return i}_findNextVisibleIndex(t,e,i,s){let a=(i-e)*s;for(let i=1;i<=a;i++){let a=e+i*s;if(t[a].labelVisible)return a}return -1}_computePointB(t,e,i,s){let a=0;s.forEach(t=>{t.getAttributes(!0).outerRadius>a&&(a=t.getAttributes(!0).outerRadius)});let n=this.computeLayoutOuterRadius(a,i.width,i.height),l=i.line.line1MinLength;if("none"===i.layout.strategy)t.pointB={x:t.outerCenter.x,y:t.outerCenter.y};else{let s=t.circleCenter,a=this.computeRadius(n,i.width,i.height),{labelPosition:o,quadrant:d}=t,u=e-Math.max(a+l,t.outerRadius),c=Math.sqrt(e**2-Math.abs(s.y-o.y)**2)-u;(0,r.Z)(c)?t.pointB={x:s.x+c*((0,h.vE)(d)?-1:1),y:o.y}:t.pointB={x:NaN,y:NaN}}}_storeY(t){for(let e of t)e.labelVisible&&(e.lastLabelY=e.labelPosition.y)}_computeYRange(t,e,i){let s,a,n,r,o,d=t.circleCenter,u={width:2*d.x,height:2*d.y},c=0;i.forEach(t=>{t.getAttributes(!0).outerRadius>c&&(c=t.getAttributes(!0).outerRadius)});let b=this.computeLayoutOuterRadius(c,e.width,e.height),g=e.line.line1MinLength,{width:p,height:f}=u,m=this.computeRadius(b,e.width,e.height),x=this._computeLayoutRadius(f/2,e,i),_=Math.abs(t.center.x-p/2),y=t.center.y-f/2;if((0,l.Yt)(p/2,_))s=0,a=1,n=-y;else if((0,l.Yt)(f/2,y))s=1,a=0,n=-_;else{let t=-1/(y/_);s=t,a=-1,n=y-t*_}let v=(0,h.KZ)(s,a,n,g+m-x,0,x);v.length<2||(v[0].x>v[1].x&&v.reverse(),v[0].x<0?(0,l.Yt)(v[0].y,v[1].y)?(0,l.Vy)(t.middleAngle,-Math.PI)&&(0,l.SQ)(t.middleAngle,0)||(0,l.Vy)(t.middleAngle,Math.PI)&&(0,l.SQ)(t.middleAngle,2*Math.PI)?(r=0,o=v[1].y+f/2):(r=v[1].y+f/2,o=f):v[0].y<v[1].y?(r=0,o=v[1].y+f/2):(r=v[1].y+f/2,o=u.height):(r=Math.min(v[0].y,v[1].y)+f/2,o=Math.max(v[0].y,v[1].y)+f/2),t.labelYRange=[r,o])}_computeLayoutRadius(t,e,i){let s=e.layoutArcGap,a=e.line.line1MinLength,n=0;i.forEach(t=>{t.getAttributes(!0).outerRadius>n&&(n=t.getAttributes(!0).outerRadius)});let l=this.computeLayoutOuterRadius(n,e.width,e.height),r=this.computeRadius(l,e.width,e.height)+a,o=r-s;return Math.max((o**2+t**2)/(2*o),r)}_findNeighborIndex(t,e){let i=e.originIndex,s=-1,a=-1;for(let e=i-1;e>=0;e--)if(t[e].labelVisible){s=e;break}for(let e=i+1;e<t.length;e++)if(t[e].labelVisible){a=e;break}return{lastIndex:s,nextIndex:a}}_twoWayShift(t,e,i,s){let a=i.getLabelBounds().y1-e.getLabelBounds().y2;if((0,l.SQ)(a,0)){let e=this._shiftY(t,s,t.length-1,-a);this._shiftY(t,e,0,a/2)}}_restoreY(t){for(let e of t)e.labelVisible&&(e.labelPosition.y=e.lastLabelY)}_checkYRange(t){for(let e of t){let{labelYRange:t,labelPosition:i}=e;if(e.labelVisible&&t&&((0,l.SQ)(i.y,t[0])||(0,l.Vy)(i.y,t[1])))return!1}return!0}_coverLabels(t){if(t.length<=1)return;let e=t[0].getLabelBounds();for(let i=1;i<t.length;i++){let s=t[i].getLabelBounds();(0,h.qP)(e,s)?t[i].labelVisible=!1:e=s}}_getLabelLinePoints(t,e){return t.attribute.points}_createLabelLine(t,e){var i,s,a,n,l;let{line:r={},visible:o}=t.attribute,h=super._createLabelLine(t,e);if(h&&(h.setAttributes({visible:null==(a=null!=(i=r.visible&&o)?i:null==(s=t.attribute)?void 0:s.visible)||a,lineWidth:null!=(l=null==(n=r.style)?void 0:n.lineWidth)?l:1}),r.smooth&&h.setAttributes({curveType:"basis"}),"arc3d"===e.type&&e)){let{beta:t,x:i,y:s}=e.getAttributes(!0);h.setAttributes({beta:t,anchor3d:[i,s]})}return h}computeRadius(t,e,i,s){return this.computeLayoutRadius(e||0,i||0)*t*((0,a.Z)(s)?1:s)}computeLayoutRadius(t,e){return Math.min(t/2,e/2)}_canPlaceInside(t,e){return"inside"===this.attribute.position||"inside-center"===this.attribute.position}computeLayoutOuterRadius(t,e,i){return t/(Math.min(e,i)/2)}computeDatumRadius(t,e,i){let s=this.computeLayoutOuterRadius(i,t,e);return this.computeLayoutRadius(t||0,e||0)*s}}g.defaultAttributes={coverEnable:!1,spaceWidth:5,layoutArcGap:6,textStyle:{visible:!0,fontSize:14,fontWeight:"normal",fillOpacity:1,boundsPadding:[-1,0,-1,0],ellipsis:!0},position:"outside",line:{visible:!0,line1MinLength:20,line2MinLength:10},layout:{align:"arc",strategy:"priority",tangentConstraint:!0}};let p=()=>{(0,d.a)("arc",g)}},173941:function(t,e,i){i.d(e,{E:()=>K});var s=i(513438),a=i(222669),n=i(922552),l=i(20408),r=i(944843),o=i(454326),h=i(796241),d=i(863778),u=i(364776),c=i(695723),b=i(480971),g=i(83624),p=i(219273),f=i(571229),m=i(656874);let x=["#ffffff","#000000"];function _(t,e,i,s,a,n){if("string"!=typeof t||"string"!=typeof e)return t;let l=new f.Il(t).toHex(),r=new f.Il(e).toHex();return y(l,r,i,s,n)?l:function(t,e,i,s,a,n){let l=[];for(let r of(a&&(a instanceof Array?l.push(...a):l.push(a)),l.push(...x),l))if(t!==r&&y(r,e,i,s,n))return r}(l,r,i,s,a,n)}function y(t,e,i,s,a){if("lightness"===a){let i=f.Il.getColorBrightness(new f.Il(e));return .5>f.Il.getColorBrightness(new f.Il(t))?i>=.5:i<.5}return s?v(t,e)>s:"largeText"===i?v(t,e)>3:v(t,e)>4.5}function v(t,e){let i=A(t),s=A(e);return((i>s?i:s)+.05)/((i>s?s:i)+.05)}function A(t){let e=(0,m.Z)(t),i=e[0]/255,s=e[1]/255,a=e[2]/255;return .2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))}function B(t,e,i,s){let a;switch(t){case"base":a=e;break;case"invertBase":a=i;break;case"similarBase":a=s}return a}var S=i(883731),k=i(118785),w=i(743394),M=i(922491);function O(t,e,i,s=!0,a=0){let n=i;a>0&&(n={x1:i.x1-a,x2:i.x2+a,y1:i.y1-a,y2:i.y2+a}),n=(0,M.dK)(t,n);let l=e.outOfBounds(n);return(!s||!l)&&(l&&(n=(0,M.nR)(t,n)),!e.getRange(n))}function C(t,e,i,s=[],a=!0,n=0,l=!1){let r=s.filter(t=>(0,u.Z)(t));for(let s=0;s<r.length;s++){let o;if((o=l?i:i.clone()).setAttributes(r[s]),O(t,e,o.AABBBounds,a,n))return e.setRange((0,M.dK)(t,o.AABBBounds,!0)),r[s]}return!1}let L=["top","bottom","right","left","top-right","bottom-right","top-left","bottom-left"],T=["top","inside-top","inside"];function P(t,e,i,s={}){let{x1:a,x2:n,y1:l,y2:r}=t.AABBBounds,{top:o=0,left:h=0,right:d=0,bottom:u=0}=s,c=Math.min(a,n),b=Math.max(a,n),g=Math.min(l,r),p=Math.max(l,r),f=e+d,m=i+u,x=0,_=0;return c<0-h?x=-c:b>f&&(x=f-b),g<0-o?_=-g:p>m&&(_=m-p),{dx:x,dy:_}}let I={mode:"same-time",duration:300,easing:"linear"};var E=i(469707),Z=i(745772),H=i(865509),j=i(657256),R=i(262041),z=i(672968),V=i(581607),D=i(552029),W=i(503840),F=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class U extends z.Or{onBind(){let t=(0,V.L)(this.target);this._animator=t;let e=this.duration,i=this.easing,{prevText:s,curText:a,prevLabelLine:n,curLabelLine:l,increaseEffect:r=!0}=this.params,o={};for(let t in a.attribute)s.attribute[t]!==a.attribute[t]&&(o[t]=a.attribute[t]);let{text:h}=o,d=F(o,["text"]);t.animate(s,{type:"to",to:d,duration:e,easing:i}),!1!==r&&t.animate(s,{type:"increaseCount",to:{text:a.attribute.text},duration:e,easing:i}),n&&t.animate(n,{type:"to",to:l.attribute,duration:e,easing:i}),this.completeBind(t)}tryPreventConflict(){}}class G extends z.Or{onBind(){let t=(0,V.L)(this.target);this._animator=t;let e=this.duration,i=this.easing,{relatedGraphic:s,relatedGraphics:a,config:n}=this.params,{mode:l,type:r="fadeIn"}=n,o=this.target,h=0;"after"===l?s.animates&&s.animates.forEach(t=>{h=Math.max(h,t.getStartTime()+t.getTotalDuration())}):"after-all"===l?a&&a.forEach(t=>{t.animates&&t.animates.forEach(t=>{h=Math.max(h,t.getStartTime()+t.getTotalDuration())})}):s.animates&&s.animates.forEach(t=>{h=Math.max(h,t.getStartTime())}),t.animate(o,Object.assign(Object.assign({},n),{duration:e,easing:i,startTime:h,type:r})),this.completeBind(t)}tryPreventConflict(){}}var $=i(536163);let X=(t,e)=>Math.ceil(t)>Math.floor(e),Y=([t,e],[i,s])=>s>t&&e>i;var N=i(992313),q=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,Z.M)(),(0,H.g)(),(0,j.v)(),(0,R.N)(),D.a.registerBuiltInAnimate("increaseCount",W.B),D.a.registerBuiltInAnimate("labelUpdate",U),D.a.registerBuiltInAnimate("labelEnter",G);class K extends N.g{setBitmap(t){this._bitmap=t}setBitmapTool(t){this._bmpTool=t}constructor(t,e){let{data:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({data:i},(0,l.Z)({},K.defaultAttributes,q(t,["data"])))),this.name="label",this._onHover=t=>{let e=t.target;e===this._lastHover||(0,r.Z)(e.states)||(e.addState(w.HW.hover,!0),(0,S.Ck)(this,t=>{t===e||(0,r.Z)(t.states)||t.addState(w.HW.hoverReverse,!0)}),this._lastHover=e)},this._onUnHover=t=>{this._lastHover&&((0,S.Ck)(this,t=>{(0,r.Z)(t.states)||(t.removeState(w.HW.hoverReverse),t.removeState(w.HW.hover))}),this._lastHover=null)},this._onClick=t=>{let e=t.target;if(this._lastSelect===e&&e.hasState("selected"))return this._lastSelect=null,void(0,S.Ck)(this,t=>{(0,r.Z)(t.states)||(t.removeState(w.HW.selectedReverse),t.removeState(w.HW.selected))});(0,r.Z)(e.states)||(e.addState(w.HW.selected,!0),(0,S.Ck)(this,t=>{t===e||(0,r.Z)(t.states)||t.addState(w.HW.selectedReverse,!0)}),this._lastSelect=e)},this._handleRelatedGraphicSetState=t=>{var e,i,a,n,l;if((null==(e=t.detail)?void 0:e.type)===s.Gk.STATE||(null==(i=t.detail)?void 0:i.type)===s.Gk.ANIMATE_UPDATE&&(null==(a=t.detail.animationState)?void 0:a.isFirstFrameOfStep)){let e=null!=(l=null==(n=t.target)?void 0:n.currentStates)?l:[],i=this._isCollectionBase?[...this._graphicToText.values()]:[this._graphicToText.get(t.target)];this.updateStatesOfLabels(i,e)}}}labeling(t,e,i,s){}_getLabelLinePoints(t,e){return(0,E.XI)(t.AABBBounds,null==e?void 0:e.AABBBounds)}_createLabelLine(t,e){let i=this._getLabelLinePoints(t,e);if(i){let s=a.i.line({points:i}),{line:l={}}=t.attribute;if(l.customShape){let i=l.customShape;s.pathProxy=s=>i({text:t,baseMark:e},s,new n.r)}return e&&e.getAttributes(!0).fill&&s.setAttribute("stroke",e.getAttributes(!0).fill),this.attribute.line&&!(0,r.Z)(this.attribute.line.style)&&s.setAttributes(this.attribute.line.style),this._setStatesOfLabelLine(s),s}}render(){if(this._prepare(),(0,o.Z)(this._idToGraphic)||this._isCollectionBase&&(0,o.Z)(this._idToPoint))return;let t=[];!1!==this._enableAnimation&&this._baseMarks.forEach(e=>{t.push(e.attribute),e.initAttributes(e.getAttributes(!0))});let{overlap:e,smartInvert:i,dataFilter:s,customLayoutFunc:a,customOverlapFunc:n}=this.attribute,l=this.attribute.data;if((0,h.Z)(s)&&(l=s(l)),l&&l.length){let t=new Set;l=l.filter(e=>!t.has(e.id)&&t.add(e.id))}let r=this._initText(l);r=(0,h.Z)(a)?a(l,r,this.getRelatedGraphic.bind(this),this._isCollectionBase?t=>this._idToPoint.get(t.id):null,this):this._layout(r);let u=[],c=r;if(!(0,d.Z)(e)&&(0,h.Z)(e.filterBeforeOverlap)){let t=this.getRelatedGraphic.bind(this);r.forEach(i=>{e.filterBeforeOverlap(i,t,this)?c.push(i):u.push(i)})}(0,h.Z)(n)?r=n(c,this.getRelatedGraphic.bind(this),this._isCollectionBase?t=>this._idToPoint.get(t.id):null,this).concat(u):!1!==e&&(r=this._overlapping(c).concat(u)),(0,h.Z)(this.attribute.onAfterOverlapping)&&this.attribute.onAfterOverlapping(r,this.getRelatedGraphic.bind(this),this._isCollectionBase?t=>this._idToPoint.get(t.id):null,this),r&&r.length&&r.forEach(t=>{this._bindEvent(t),this._setStatesOfText(t)}),!1!==i&&this._smartInvert(r),this._renderLabels(r),!1!==this._enableAnimation&&this._baseMarks.forEach((e,i)=>{e.initAttributes(t[i])})}_bindEvent(t){if(this.attribute.disableTriggerEvent||!t)return;let{hover:e,select:i}=this.attribute;e&&(t.addEventListener("pointermove",this._onHover),t.addEventListener("pointerout",this._onUnHover)),i&&t.addEventListener("pointerdown",this._onClick)}_setStatesOfText(t){if(!t)return;let e=this.attribute.state;e&&!(0,r.Z)(e)&&(t.states=e)}_setStatesOfLabelLine(t){if(!t)return;let e=this.attribute.labelLineState;e&&!(0,r.Z)(e)&&(t.states=e)}_createLabelText(t){var e,i;let s=Object.assign(Object.assign({},null==(i=null==(e=this.stage)?void 0:e.getTheme())?void 0:i.text),t);return(0,k.vS)(s,"textType")}_prepare(){var t,e;let i=[];if(((0,h.Z)(this.attribute.getBaseMarks)?this.attribute.getBaseMarks():(0,S.tP)(this.getRootNode(),this.attribute.baseMarkGroupName)).forEach(t=>{"willRelease"!==t.releaseStatus&&i.push(t)}),null==(t=this._idToGraphic)||t.clear(),null==(e=this._idToPoint)||e.clear(),this._baseMarks=i,this._isCollectionBase="line-data"===this.attribute.type,!i||0===i.length)return;let{data:s}=this.attribute;if(s&&0!==s.length){if(this._idToGraphic||(this._idToGraphic=new Map),this._isCollectionBase){this._idToPoint||(this._idToPoint=new Map);let t=0;for(let e=0;e<i.length;e++){let a=i[e],n=(0,E.CB)(a);if(n&&n.length)for(let e=0;e<n.length;e++){let i=s[t];i&&n[e]&&((0,u.Z)(i.id)||(i.id=`vrender-component-${this.name}-${t}`),this._idToPoint.set(i.id,n[e]),this._idToGraphic.set(i.id,a)),t++}}}else for(let t=0;t<i.length;t++){let e=s[t],a=i[t];e&&a&&((0,u.Z)(e.id)||(e.id=`vrender-component-${this.name}-${t}`),this._idToGraphic.set(e.id,a))}this._prepareAnimate(I)}}getRelatedGraphic(t){return this._idToGraphic.get(t.id)}_initText(t=[]){let{textStyle:e={}}=this.attribute,i=[];for(let s=0;s<t.length;s++){let a=t[s],n=this.getRelatedGraphic(a);if(!n)continue;let l=n.getAttributes(!0),r=Object.assign(Object.assign({fill:this._isCollectionBase?(0,c.Z)(l.stroke)?l.stroke.find(t=>!!t&&!0!==t):l.stroke:l.fill},e),a),o=this._createLabelText(r);i.push(o)}return i}_layout(t){let{position:e,offset:i}=this.attribute;for(let s=0;s<t.length;s++){let a=t[s];if(!a)return;let n=a.attribute,l=this.getRelatedGraphic(n);if(!l)continue;a.attachedThemeGraphic=this;let r=this.getGraphicBounds(a);a.attachedThemeGraphic=null;let o=(0,h.Z)(e)?e(n):e,d=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(n.id),o):this.getGraphicBounds(l,{x:n.x,y:n.y},o),u=this.labeling(r,d,o,i);u&&a.setAttributes(u)}return t}_overlapping(t){var e,i,s;if(0===t.length)return[];let a=(0,b.Z)(this.attribute.overlap)?this.attribute.overlap:{},n=this.getBaseMarkGroup(),l=null!=(e=a.size)?e:{width:null!=(i=null==n?void 0:n.AABBBounds.width())?i:0,height:null!=(s=null==n?void 0:n.AABBBounds.height())?s:0};if(0===l.width||0===l.height)return t;let{strategy:r,priority:o}=a,h=this._bmpTool||(0,M.OM)(l.width,l.height),d=this._bitmap||h.bitmap();return o&&(t=t.sort((t,e)=>o(e.attribute.data)-o(t.attribute.data))),"shiftY"===(null==r?void 0:r.type)?this._overlapGlobal(t,a,h,d):this._overlapByStrategy(t,a,h,d)}_overlapGlobal(t,e,i,s){let a=t.filter(t=>t.attribute.visible&&0!==t.attribute.opacity&&this.isMarkInsideRect(this.getRelatedGraphic(t.attribute),i)),{clampForce:n=!0,hideOnHit:l=!0,hideOnOverflow:r=!1,overlapPadding:o,strategy:h}=e;if(n||r)for(let e=0;e<a.length;e++){let s=t[e],{dx:a=0,dy:n=0}=P(s,i.width,i.height,i.padding);0===a&&0===n||(r?s.setAttributes({visible:!1}):(s.setAttributes({x:s.attribute.x+a,y:s.attribute.y+n}),s._isClamped=!0))}a=function(t,e){let{maxY:i=Number.MAX_VALUE,labelling:s,globalShiftY:a={enable:!0,maxIterations:10,maxError:.1,padding:1}}=e,n=t.length;if(n<=1)return t;let l=new Map,r=new Map,o=t=>r.get(t).y1Initial,h=t=>r.get(t).height,d=t=>r.get(t).y1,u=t=>r.get(t).x,c=t=>r.get(t).x1,b=t=>r.get(t).x2,g=t=>r.get(t).attempts,p=(t,e)=>{r.get(t).y1=e},f=(t,e)=>{r.get(t).attempts=e};for(let e of(t.sort((t,e)=>t.attribute.x-e.attribute.x),t)){let{y1:t,y2:i,x1:s,x2:a}=e.AABBBounds,{x:n,y:o}=e.attribute;r.set(e,{y1Initial:t,y1:t,y2:i,y:o,height:i-t,x1:s,x2:a,x:n,attempts:0});let h=!1;for(let[t,i]of l){let{start:r,end:o}=t;if(s>=r&&a<=o)i.push(e),h=!0;else if((0,$.Yt)(n,u(i[0]),void 0,5)){let n={start:Math.min(r,s),end:Math.max(o,a)};i.push(e),l.set(n,i),l.delete(t),h=!0}else if(function(t,e){let[i,s]=t,[a,n]=e;return Math.max(0,Math.min(s,n)-Math.max(i,a))}([r,o],[s,a])/(o-r)>.5){let n={start:Math.min(r,s),end:Math.max(o,a)};i.push(e),l.set(n,i),l.delete(t),h=!0}if(h)break}h||l.set({start:s,end:a},[e])}for(let t of l.values())t.sort((t,e)=>o(t)-o(e)),function(t){for(let e=t.length-1;e>=0;e--){let a=t[e],n=t[e-1],l=t[e+1];if(n&&X(d(n)+h(n),d(a))||0===d(a)&&a._isClamped){let{y:t}=s(a);l&&X(t+h(a)/2,d(l))||t+h(a)/2<=i&&p(a,d(a)+t-r.get(a).y)}}}(t);if(!1!==a.enable){let{maxIterations:e=10,maxError:s=.1,padding:l=1,maxAttempts:r=1e3,deltaYTolerance:u=Number.MAX_VALUE}=a;for(let a=0;a<e;a++){t.sort((t,e)=>o(t)-o(e));let e=0;for(let s=0;s<n-1;s++){let a=t[s];if(g(a)>=r)continue;let n,m=s+1;for(;(n=t[m])&&!Y([c(a),b(a)],[c(n),b(n)]);)m+=1;if(n){let t=d(a),s=h(a),r=d(n),c=r-(t+s);if(c<l){let s=(l-c)/2;if(e=Math.max(e,s),t+s+h(n)>i){let e=t-(l-c);Math.abs(o(a)-e)<=u&&(p(a,e),f(a,g(a)+1))}else if(t-s<0){let t=r+(l-c);Math.abs(o(n)-t)<=u&&(p(n,t),f(n,g(n)+1))}else{let e=t-s,i=o(a)-e,l=r+s,h=o(n)-l;Math.abs(i)<=u&&Math.abs(h)<=u&&(p(a,e),p(n,l),f(a,g(a)+1),f(n,g(n)+1))}}}}if(e<s)break}}for(let e of t){let t=e.attribute.y+d(e)-o(e);e.setAttribute("y",t)}let m=[];t.sort((t,e)=>t.attribute.x-e.attribute.x);let x=0,_=t.length-1;for(;x<=_;)x===_?m.push(t[x]):(m.push(t[x]),m.push(t[_])),x++,_--;return m}(a,Object.assign(Object.assign({maxY:i.height},h),{labelling:t=>{let e=this.getRelatedGraphic(t.attribute),i=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(t.attribute.id)):this.getGraphicBounds(e,t);return this.labeling(t.AABBBounds,i,"bottom",this.attribute.offset)}}));for(let t=0;t<a.length;t++){let e=a[t],h=e.AABBBounds,d=(0,M.dK)(i,h,!0);if(O(i,s,h,n||r,o))s.setRange(d);else{if(r){if(this._processHideOnOverflow(e,i))continue}else if(n&&this._processClampForce(e,i,s,o))continue;l?e.setAttributes({visible:!1}):s.setRange(d)}}return a}_processHideOnOverflow(t,e){let{dy:i=0,dx:s=0}=P(t,e.width,e.height,e.padding);return 0===s&&0===i||(t.setAttributes({visible:!1}),!1)}_processClampForce(t,e,i,s=0){let{dy:a=0,dx:n=0}=P(t,e.width,e.height,e.padding);if(0===n&&0===a){if(O(e,i,t.AABBBounds,!1,s))return i.setRange((0,M.dK)(e,t.AABBBounds,!0)),!0}else if(O(e,i,{x1:t.AABBBounds.x1+n,x2:t.AABBBounds.x2+n,y1:t.AABBBounds.y1+a,y2:t.AABBBounds.y2+a}))return t.setAttributes({x:t.attribute.x+n,y:t.attribute.y+a}),i.setRange((0,M.dK)(e,t.AABBBounds,!0)),!0;return!1}_overlapByStrategy(t,e,i,s){var a;let{avoidBaseMark:n,strategy:l=[],hideOnHit:r=!0,clampForce:o=!0,avoidMarks:d=[],overlapPadding:u,hideOnOverflow:c=!1}=e,b=[],p=l.some(t=>"bound"===t.type);n&&(null==(a=this._baseMarks)||a.forEach(t=>{t.AABBBounds&&s.setRange((0,M.dK)(i,t.AABBBounds,!0))})),d.length>0&&d.forEach(t=>{(0,g.Z)(t)?(0,S.Dh)(this.getRootNode(),t).forEach(t=>{t.AABBBounds&&s.setRange((0,M.dK)(i,t.AABBBounds,!0))}):t.AABBBounds&&s.setRange((0,M.dK)(i,t.AABBBounds,!0))});for(let e=0;e<t.length;e++){if(!1===t[e].attribute.visible)continue;let a=t[e],n=this.getRelatedGraphic(a.attribute);if(a.update(),!this.isMarkInsideRect(n,i))continue;if(O(i,s,a.AABBBounds,o||c,u)&&(!p||p&&n&&n.AABBBounds&&this._canPlaceInside(a.AABBBounds,n.AABBBounds))){s.setRange((0,M.dK)(i,a.AABBBounds,!0)),b.push(a);continue}let d=!1;for(let r=0;r<l.length;r++)if(!1!==(d=function(t,e,i,s,a,n,l){var r,o;let d=null==(r=s.overlap)?void 0:r.clampForce,u=null==(o=s.overlap)?void 0:o.overlapPadding;if("bound"===i.type||"position"===i.type){if((0,h.Z)(l)){let r=(((0,h.Z)(i.position)?i.position(a.attribute):i.position)||("rect"===s.type?T:L)).map(t=>l(a.AABBBounds,n,t,s.offset));return C(t,e,a,r,d,u,!1===i.restorePosition)}return!1}if("moveY"===i.type){let s=(i.offset?(0,h.Z)(i.offset)?i.offset(a.attribute):i.offset:[]).map(t=>({x:a.attribute.x,y:a.attribute.y+t}));return C(t,e,a,s,d,u)}if("moveX"===i.type){let s=(i.offset?(0,h.Z)(i.offset)?i.offset(a.attribute):i.offset:[]).map(t=>({x:a.attribute.x+t,y:a.attribute.y}));return C(t,e,a,s,d,u)}return!1}(i,s,l[r],this.attribute,a,this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(t[e].attribute.id)):this.getGraphicBounds(n,t[e].attribute),this.labeling))&&(a.setAttributes({x:d.x,y:d.y}),!c||this._processHideOnOverflow(a,i))){b.push(a);break}if(!d){if(c&&!this._processHideOnOverflow(a,i))continue;if(o&&this._processClampForce(a,i,s,u)){b.push(a);continue}}d||r||b.push(a)}return b}isMarkInsideRect(t,e){let{left:i,right:s,top:a,bottom:n}=e.padding,l={x1:-i,x2:e.width+s,y1:-a,y2:e.height+n},r=t.AABBBounds;if(0!==r.width()&&0!==r.height())return(0,p.SX)(t.AABBBounds,l,!0);let{attribute:o}=t;if("rect"===t.type){let{x:t,x1:e,y:i,y1:s}=o;return(0,p.qr)({x:null!=t?t:e,y:null!=i?i:s},l,!0)}return"x"in o&&"y"in o&&(0,p.qr)({x:o.x,y:o.y},l,!0)}getBaseMarkGroup(){let{baseMarkGroupName:t}=this.attribute;if(t)return this.getRootNode().find(e=>e.name===t,!0)}getGraphicBounds(t,e={},i){var s;if(t){if(!1!==t.attribute.visible){if(null==(s=t.context)?void 0:s.animationState){let e=t.clone();return Object.assign(e.attribute,t.getAttributes(!0)),e.AABBBounds}return t.AABBBounds}let{x:e,y:i}=t.attribute;return{x1:e,x2:e,y1:i,y2:i}}if(e&&i&&"inside-middle"===i){let{x:t,y:i,x1:s=t,y1:a=i}=e;return{x1:(t+s)/2,x2:(t+s)/2,y1:(i+a)/2,y2:(i+a)/2}}let{x:a,y:n}=e;return{x1:a,x2:a,y1:n,y2:n}}_renderLabels(t){var e;let{syncState:i}=this.attribute,s=new Map,a=this._graphicToText||new Map,n=[],l=[],{visible:r}=null!=(e=this.attribute.line)?e:{};t&&t.forEach((t,e)=>{var o;let h,d=this.getRelatedGraphic(t.attribute),u=this._isCollectionBase?t.attribute.id:d,c=(null==a?void 0:a.get(u))?"update":"enter";r&&(h=this._createLabelLine(t,d));let b=h?{text:t,labelLine:h}:{text:t};if(i&&this.updateStatesOfLabels([b],null!=(o=d.currentStates)?o:[]),"enter"===c)n.push(t),s.set(u,b),this._addLabel(b,n,l,e);else if("update"===c){let t=a.get(u);a.delete(u),s.set(u,t),this._updateLabel(t,b)}}),this._removeLabel(a),this._graphicToText=s}runEnterAnimation(t,e){if(!1===this._enableAnimation||!this._animationConfig.enter)return;let i=this.getRelatedGraphic(t.attribute),{enter:s}=this._animationConfig;[t,e].filter(Boolean).forEach(e=>e.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},s),{type:"labelEnter",selfOnly:!0,customParameters:{relatedGraphic:i,relatedGraphics:this._idToGraphic,config:Object.assign(Object.assign({},s),{type:e===t?s.type:"fadeIn"})}})}]))}_runUpdateAnimation(t,e){let{text:i,labelLine:s}=t,{text:a,labelLine:n}=e;i.applyAnimationState(["update"],[{name:"update",animation:{type:"labelUpdate",customParameters:Object.assign(Object.assign({},this._animationConfig.update),{prevText:i,curText:a,prevLabelLine:s,curLabelLine:n})}}])}_syncStateWithRelatedGraphic(t){this.attribute.syncState&&t&&t.on("afterStateUpdate",this._handleRelatedGraphicSetState)}_addLabel(t,e,i,s){let{text:a,labelLine:n}=t,l=this.getRelatedGraphic(a.attribute);this._syncStateWithRelatedGraphic(l),a&&this.add(a),n&&this.add(n),this.runEnterAnimation(a,n)}_updateLabel(t,e){let{text:i,labelLine:s}=t,{text:a,labelLine:n}=e;!1===this._enableAnimation||!1===this._animationConfig.update?(t.text.setAttributes(a.attribute),s&&n&&t.labelLine.setAttributes(n.attribute)):this._runUpdateAnimation(t,e)}_removeLabel(t){let e=t=>{this.removeChild(t.text),t.labelLine&&this.removeChild(t.labelLine)};!1!==this._enableAnimation&&!1!==this._animationConfig.exit?t.forEach(t=>{var i;t.text.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{e(t)}),null==(i=t.labelLine)||i.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{})}):t.forEach(t=>{e(t)})}updateStatesOfLabels(t,e){t.forEach(t=>{t&&(t.text&&t.text.useStates(e),t.labelLine&&t.labelLine.useStates(e))})}_smartInvert(t){var e,i,s,a,n,l,r;let o=(0,b.Z)(this.attribute.smartInvert)?this.attribute.smartInvert:{},{textType:h,contrastRatiosThreshold:d,alternativeColors:u,mode:c,interactInvertType:g}=o,p=null!=(e=o.fillStrategy)?e:"invertBase",f=null!=(i=o.strokeStrategy)?i:"base",m=null!=(s=o.brightColor)?s:"#ffffff",x=null!=(a=o.darkColor)?a:"#000000",v=null!=(n=o.outsideEnable)&&n;if("null"!==p||"null"!==f)for(let e=0;e<t.length;e++){let i=t[e];if(!i)continue;let s=this.getRelatedGraphic(i.attribute),a=s.getAttributes(!0).fill,n=i.attribute.fill;if((0,b.Z)(a)&&a.gradient){let t=null==(r=null==(l=a.stops)?void 0:l[0])?void 0:r.color;t&&(a=t,n=t)}let o=_(n,a,h,d,u,c),A=y(o,m)?m:x,S=this._canPlaceInside(i.AABBBounds,s.AABBBounds),k=!S&&i.AABBBounds&&s.AABBBounds&&s.AABBBounds.intersects(i.AABBBounds);if(S||v||k&&"inside"===g){let t=B(p,a,o,A);if(t&&i.setAttributes({fill:t}),0===i.attribute.lineWidth||0===i.attribute.strokeOpacity)continue;let e=B(f,a,o,A);e&&i.setAttributes({stroke:e})}else if(k&&"none"!==g){if(0===i.attribute.lineWidth||0===i.attribute.strokeOpacity)continue;if(i.attribute.stroke){i.setAttributes({fill:_(i.attribute.fill,i.attribute.stroke,h,d,u,c)});continue}let t=B(p,a,o,A);t&&i.setAttributes({fill:t});let e=B(f,a,o,A);e&&i.setAttributes({stroke:e})}}}_canPlaceInside(t,e){return!(!t||!e)&&e.encloses(t)}setLocation(t){this.translateTo(t.x,t.y)}disableAnimation(){this._enableAnimation=!1}enableAnimation(){this._enableAnimation=!0}}K.defaultAttributes={textStyle:{fontSize:12,textAlign:"center",textBaseline:"middle",boundsPadding:[-2,-1,-2,-1]},offset:0,pickable:!1}},695866:function(t,e,i){i.d(e,{X:()=>n,a:()=>a});let s={},a=(t,e)=>{s[t]=e},n=t=>s[t]},815896:function(t,e,i){i.d(e,{w:()=>d});var s=i(20408),a=i(89530),n=i(683330),l=i(922491),r=i(173941),o=i(695866),h=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class d extends n.k{constructor(t,e){let{dataLabels:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({dataLabels:i},(0,s.Z)({},d.defaultAttributes,h(t,["dataLabels"])))),this.name="data-label"}render(){var t;let{dataLabels:e,size:i}=this.attribute;if(!e||0===e.length)return;let{width:s=0,height:n=0,padding:h}=i||{};if(!s||!n||!(0,a.Z)(n*s))return;this._componentMap||(this._componentMap=new Map);let d=(0,l.OM)(s,n,h),u=d.bitmap(),c=new Map,b=this._componentMap;for(let s=0;s<e.length;s++){let a=e[s],n=(0,o.X)(a.type)||r.E;if(n){let{baseMarkGroupName:e,type:l}=a,r=null!=(t=a.id)?t:`${e}-${l}-${s}`;"arc"===a.type&&(a.width=i.width,a.height=i.height);let o=this._componentMap.get(r);o?(o.setBitmapTool(d),o.setBitmap(u),o.setAttributes(a)):((o=new n(a)).setBitmap(u),o.setBitmapTool(d),this.add(o)),c.set(r,o)}}b.forEach((t,e)=>{c.get(e)||this.removeChild(t)}),this._componentMap=c}setLocation(t){this.translateTo(t.x,t.y)}disableAnimation(){this._componentMap.forEach(t=>{t.disableAnimation()})}enableAnimation(){this._componentMap.forEach(t=>{t.enableAnimation()})}}d.defaultAttributes={pickable:!1}},144129:function(t,e,i){i.d(e,{h:()=>h});var s=i(20408),a=i(173941),n=i(469707),l=i(695866),r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class o extends a.E{constructor(t,e){let{data:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({data:i},(0,s.Z)({},o.defaultAttributes,r(t,["data"])))),this.name="line-label"}getGraphicBounds(t,e={},i="end"){if(!t||"line"!==t.type&&"area"!==t.type)return super.getGraphicBounds(t,e);let s=t.attribute.points,a=t.attribute.segments;!s&&a&&a.length&&(s=a.reduce((t,e)=>{var i;return t.concat(null!=(i=e.points)?i:[])},[])),s&&0!==s.length||(s=[e]);let n="start"===i?0:s.length-1;return s[n]?{x1:s[n].x,x2:s[n].x,y1:s[n].y,y2:s[n].y}:void 0}labeling(t,e,i="end",s=0){return(0,n.KN)(t,e,i,s)}}o.defaultAttributes={textStyle:{fill:"#000"},position:"end",offset:6};let h=()=>{(0,l.a)("line",o),(0,l.a)("area",o)}},922491:function(t,e,i){i.d(e,{OM:()=>l,dK:()=>o,nR:()=>r});var s=i(994030);let a=new Uint32Array(33),n=new Uint32Array(33);n[0]=0,a[0]=~n[0];for(let t=1;t<=32;++t)n[t]=n[t-1]<<1|1,a[t]=~n[t];function l(t,e,i={top:0,left:0,right:0,bottom:0}){let{top:s=0,left:r=0,right:o=0,bottom:h=0}=i,d=Math.max(1,Math.sqrt(t*e/1e6)),u=~~((t+r+o+d)/d),c=~~((e+s+h+d)/d),b=t=>~~(t/d);return b.bitmap=()=>(function(t,e){let i=new Uint32Array(~~((t*e+32)/32));return{array:i,get:(e,s)=>{let a=s*t+e;return i[a>>>5]&1<<(31&a)},set:(e,s)=>{let a=s*t+e;i[a>>>5]|=1<<(31&a)},clear:(e,s)=>{let a=s*t+e;i[a>>>5]&=~(1<<(31&a))},getRange:({x1:s,y1:l,x2:r,y2:o})=>{if(r<0||o<0||s>t||l>e)return!0;let h,d,u,c,b=o;for(;b>=l;--b)if(h=b*t+s,d=b*t+r,(u=h>>>5)==(c=d>>>5)){if(i[u]&a[31&h]&n[1+(31&d)])return!0}else{if(i[u]&a[31&h]||i[c]&n[1+(31&d)])return!0;for(let t=u+1;t<c;++t)if(i[t])return!0}return!1},setRange:({x1:s,y1:l,x2:r,y2:o})=>{var h,d,u,c;let b,g,p,f,m;if(!(r<0)&&!(o<0)&&!(s>t)&&!(l>e))for(;l<=o;++l)if(b=l*t+s,g=l*t+r,(p=b>>>5)==(f=g>>>5))h=a[31&b]&n[1+(31&g)],i[p]|=h;else for(d=a[31&b],i[p]|=d,u=n[1+(31&g)],i[f]|=u,m=p+1;m<f;++m)c=m,i[c]|=0xffffffff},clearRange:({x1:e,y1:s,x2:l,y2:r})=>{var o,h,d,u;let c,b,g,p,f;for(;s<=r;++s)if(c=s*t+e,b=s*t+l,(g=c>>>5)==(p=b>>>5))o=n[31&c]|a[1+(31&b)],i[g]&=o;else for(h=n[31&c],i[g]&=h,d=a[1+(31&b)],i[p]&=d,f=g+1;f<p;++f)u=f,i[u]&=0},outOfBounds:({x1:i,y1:s,x2:a,y2:n})=>i<0||s<0||n>=e||a>=t,toImageData:s=>{let a=s.createImageData(t,e),n=a.data;for(let s=0;s<e;++s)for(let e=0;e<t;++e){let a=s*t+e,l=4*a,r=i[a>>>5]&1<<(31&a);n[l+0]=255*r,n[l+1]=255*r,n[l+2]=255*r,n[l+3]=31}return a}}})(u,c),b.x=t=>~~((t+r)/d),b.y=t=>~~((t+s)/d),b.ratio=d,b.padding=i,b.width=t,b.height=e,b}function r(t,e){let{x1:i,x2:a,y1:n,y2:l}=e,{top:r=0,left:o=0,right:h=0,bottom:d=0}=t.padding,u=(0,s.Z)(i,-o,t.width+h),c=(0,s.Z)(a,-o,t.width+h),b=(0,s.Z)(n,-r,t.height+d),g=(0,s.Z)(l,-r,t.height+d);return{x1:t.x(u),x2:t.x(c),y1:t.y(b),y2:t.y(g)}}function o(t,e,i=!1){return i?r(t,e):{x1:t.x(e.x1),x2:t.x(e.x2),y1:t.y(e.y1),y2:t.y(e.y2)}}},839102:function(t,e,i){i.d(e,{n:()=>h});var s=i(20408),a=i(548393),n=i(173941),l=i(695866),r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class o extends n.E{constructor(t,e){let{data:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({data:i},(0,s.Z)({},o.defaultAttributes,r(t,["data"]))))}labeling(t,e,i="top",s=0){if(!t||!e)return;let{x1:n,y1:l,x2:r,y2:o}=t,h=Math.abs(r-n),d=Math.abs(o-l),{x:u,y:c}=(0,a.v1)(e,i),b=0,g=0,p=i.includes("inside");switch(i.includes("top")?g=p?1:-1:i.includes("bottom")?g=p?-1:1:i.includes("left")?b=p?1:-1:i.includes("right")&&(b=p?-1:1),i){case"top-right":case"bottom-right":b=-1;break;case"top-left":case"bottom-left":b=1}return{x:u+b*s+b*h/2,y:c+g*s+g*d/2}}}o.tag="rect-label",o.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};let h=()=>{(0,l.a)("rect",o)}},248419:function(t,e,i){i.d(e,{n:()=>h});var s=i(20408),a=i(173941),n=i(469707),l=i(695866),r=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};class o extends a.E{constructor(t,e){let{data:i}=t;super((null==e?void 0:e.skipDefault)?t:Object.assign({data:i},(0,s.Z)({},o.defaultAttributes,r(t,["data"])))),this.name="symbol-label"}labeling(t,e,i="top",s=0){return(0,n.hw)(t,e,i,s)}}o.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};let h=()=>{(0,l.a)("symbol",o),(0,l.a)("line-data",o)}},469707:function(t,e,i){i.d(e,{CB:()=>d,KN:()=>u,KZ:()=>l,XI:()=>c,aD:()=>r,hw:()=>h,qA:()=>g,qP:()=>o,sk:()=>n,vE:()=>a});var s=i(219273);function a(t){return 3===t||4===t}function n(t){return 1===t||2===t}function l(t,e,i,s,a,n){if(0===t&&0===e||n<=0)return[];if(0===t){let t=-i/e,l=n**2-(t-a)**2;return l<0?[]:0===l?[{x:s,y:t}]:[{x:Math.sqrt(l)+s,y:t},{x:-Math.sqrt(l)+s,y:t}]}if(0===e){let e=-i/t,l=n**2-(e-s)**2;return l<0?[]:0===l?[{x:e,y:a}]:[{x:e,y:Math.sqrt(l)+a},{x:e,y:-Math.sqrt(l)+a}]}let l=(e/t)**2+1,r=2*(e/t*(i/t+s)-a),o=r**2-4*l*((i/t+s)**2+a**2-n**2);if(o<0)return[];let h=(-r+Math.sqrt(o))/(2*l),d=(-r-Math.sqrt(o))/(2*l),u=-(e*h+i)/t;return 0===o?[{x:u,y:h}]:[{x:u,y:h},{x:-(e*d+i)/t,y:d}]}function r(t,e){return e>2*t?NaN:2*Math.asin(e/2/t)}function o(t,e){let{x1:i,y1:s,x2:a,y2:n}=t,{x1:l,y1:r,x2:o,y2:h}=e;return!(i<=l&&a<=l||i>=o&&a>=o||s<=r&&n<=r||s>=h&&n>=h)}let h=(t,e,i="top",s=0)=>{if(!t)return;let{x1:a,y1:n,x2:l,y2:r}=t,o=Math.abs(l-a),h=Math.abs(r-n),d=(e.x1+e.x2)/2,u=(e.y1+e.y2)/2,c=0,b=0,g=0,p=0;e&&(g=Math.abs(e.x1-e.x2)/2,p=Math.abs(e.y1-e.y2)/2);let f={"top-right":-235,"top-left":235,"bottom-right":45,"bottom-left":-45};switch(i){case"top":b=-1;break;case"bottom":b=1;break;case"left":c=-1;break;case"right":c=1;break;case"bottom-left":case"bottom-right":case"top-left":case"top-right":c=Math.sin(f[i]*(Math.PI/180)),b=Math.cos(f[i]*(Math.PI/180));break;case"center":c=0,b=0}return{x:d+c*(s+g)+o/2*Math.sign(c),y:u+b*(s+p)+h/2*Math.sign(b)}},d=t=>{if(!t||!t.attribute)return[];let{points:e,segments:i}=t.attribute;if(i&&i.length){let t=[];return i.forEach(e=>{e.points.forEach(e=>{t.push(e)})}),t}return e};function u(t,e,i="end",s=0){if(!t||!e)return{x:1/0,y:1/0};let{x1:a,x2:n}=t,l=Math.abs(n-a),r=e.x1,o=r;return"end"===i?o=r+l/2+s:"start"===i&&(o=r-l/2-s),{x:o,y:e.y1}}function c(t,e){if(!t||!e||(0,s.SX)(t,e,!0))return;let i=Math.min(t.x1,t.x2),a=Math.min(t.y1,t.y2),n=Math.min(e.x1,e.x2),l=Math.min(e.y1,e.y2),r=Math.abs(t.x2-i)/2,o=Math.abs(t.y2-a)/2,h=Math.abs(e.x2-n)/2,d=Math.abs(e.y2-l)/2,u=i+r,c=a+o,g=n+h,p=l+d,f=g-u,m=p-c;return[b(f,m,u,c,r,o),b(-f,-m,g,p,h,d)]}function b(t,e,i,s,a,n){return Math.abs(e/t)<n/a?{x:i+(t>0?a:-a),y:s+e*a/Math.abs(t)}:{x:i+t*n/Math.abs(e),y:s+(e>0?n:-n)}}function g(t){return"left"===t?0:"right"===t?1:.5}},295694:function(t,e,i){i.d(e,{U:()=>h});var s=i(464639),a=i(364776),n=i(222669),l=i(683330),r=i(569402),o=i(290620);class h extends l.k{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);let{interactive:t=!0,title:e,padding:i=0}=this.attribute;this._parsedPadding=(0,s.o)(i);let a=n.i.group({x:this._parsedPadding[3],y:this._parsedPadding[0],pickable:t,childrenPickable:t});a.name=o.GN.innerView,this.add(a),this._innerView=a,(null==e?void 0:e.visible)&&this._renderTitle(e),this._renderContent(),this._adjustLayout(),t&&this._bindEvents();let l=this._innerView.AABBBounds;this.attribute.width=l.width()+this._parsedPadding[1]+this._parsedPadding[3],this.attribute.height=l.height()+this._parsedPadding[0]+this._parsedPadding[2]}_renderTitle(t){let{text:e="",textStyle:i,padding:n=0,background:l,minWidth:h,maxWidth:d,shape:u}=t,c={x:0,y:0,text:e,textStyle:i,padding:(0,s.o)(n),minWidth:h,maxWidth:d};u&&u.visible&&(c.shape=Object.assign({visible:!0},u.style),(0,a.Z)(u.space)&&(c.space=u.space)),l&&l.visible&&(c.panel=Object.assign({visible:!0},l.style));let b=new r.V(c);b.name=o.GN.title,this._title=b,this._innerView.add(b)}_adjustLayout(){var t;if(this._title){let e=this._innerView.AABBBounds.width(),i=this._title.AABBBounds.width(),s=null==(t=this.attribute.title)?void 0:t.align;"center"===s?this._title.setAttribute("x",(e-i)/2):"end"===s&&this._title.setAttribute("x",e-i)}}}},627096:function(t,e,i){i.d(e,{e:()=>u});var s=i(20408),a=i(454326),n=i(625397),l=i(944843),r=i(510145),o=i(295694),h=i(414427),d=i(290620);(0,i(356512).Fw)();class u extends o.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},u.defaultAttributes,t)),this.name="colorLegend",this._onSliderToolipChange=t=>{let e=this._slider.tooltipShape;if(e&&t.detail&&!(0,a.Z)(t.detail.value)){let i=this._colorScale.scale(t.detail.value);e.setAttribute("fill",i)}this.dispatchEvent(t)},this._onSliderChange=t=>{this._updateColor(),this.dispatchEvent(t)}}setSelected(t){this._slider&&(this._slider.setValue(t),this._updateColor())}_renderContent(){let{colors:t,slidable:e,layout:i,align:s,min:a,max:l,value:o,railWidth:u,railHeight:c,showHandler:b=!0,handlerSize:g,handlerStyle:p,railStyle:f,trackStyle:m,startText:x,endText:_,handlerText:y,showTooltip:v,tooltip:A,inverse:B,disableTriggerEvent:S}=this.attribute,k=[],w=(l-a)/(t.length-1);for(let e=0;e<t.length;e++)k.push(a+w*e);this._colorScale=(new r.f).domain(k,!0).range(t),this._color=this._getTrackColor();let M=new h.i({x:0,y:0,range:{draggableTrack:!0},slidable:e,layout:i,align:s,min:a,max:l,value:o,railWidth:u,railHeight:c,showHandler:b,handlerSize:g,handlerStyle:p,railStyle:f,trackStyle:Object.assign({fill:this._color},m),startText:x,endText:_,handlerText:y,showTooltip:v,tooltip:A,disableTriggerEvent:S,inverse:B});this._innerView.add(M),this._slider=M,M.translateTo(0-M.AABBBounds.x1,(this._title?this._title.AABBBounds.height()+(0,n.Z)(this.attribute,"title.space",d.$5):0)-M.AABBBounds.y1),this._updateColor()}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}_getTrackColor(){let{colors:t,layout:e,inverse:i}=this.attribute;if((0,l.Z)(t))return;let s=t.length;if(1===s)return t[0];let a=[];for(let e=0;e<s;e++){let i=e/(s-1);a.push({offset:i,color:t[e]})}let n="horizontal"===e,r={gradient:"linear",stops:a,x0:0,y0:0,x1:+!!n,y1:+!n};return i&&(n?(r.x0=1,r.x1=0):(r.y0=1,r.y1=0)),r}_updateColor(){var t;let{layout:e="horizontal",colors:i,railWidth:s,railHeight:a}=this.attribute,{startHandler:n,endHandler:l,track:r,attribute:o}=this._slider,{startValue:h,endValue:d,startPos:u,endPos:c}=this._slider.currentValue,b=null==(t=o.handlerStyle)?void 0:t.fill;if(n&&!b){let t=this._colorScale.scale(h);n.setAttribute("fill",t)}if(l&&!b){let t=this._colorScale.scale(d);l.setAttribute("fill",t)}let g="horizontal"===e?s:a;if(Math.abs(u-c)!==g&&i&&i.length>1){let t=this._color.stops,e=Math.min(u,c)/g,i=Math.max(u,c)/g,s=i-e,a=t.filter(t=>t.offset>e&&t.offset<i),n=Math.min(h,d),l=Math.max(h,d),o=this._colorScale.scale(n),b=this._colorScale.scale(l),p=[{offset:0,color:o}];a.forEach(t=>{p.push({offset:(t.offset-e)/s,color:t.color})}),p.push({offset:1,color:b}),r.setAttribute("fill",Object.assign(Object.assign({},this._color),{stops:p}))}}}u.defaultAttributes={layout:"horizontal",title:{align:"start",space:d.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{fill:null,lineWidth:4,stroke:"#fff",outerBorder:{distance:2,lineWidth:1,stroke:"#ccc"}},tooltip:{shapeStyle:{lineWidth:4,stroke:"#fff"}}}},290620:function(t,e,i){var s,a,n,l,r,o;i.d(e,{$5:()=>p,DN:()=>u,GN:()=>n,Nu:()=>b,SX:()=>h,Th:()=>f,dk:()=>a,g:()=>d,qL:()=>c,so:()=>g,uu:()=>s});let h=10,d=8,u=8,c=8,b=16,g=8,p=12,f=12;(l=s||(s={})).selected="selected",l.unSelected="unSelected",l.selectedHover="selectedHover",l.unSelectedHover="unSelectedHover",l.focus="focus",(r=a||(a={})).legendItemHover="legendItemHover",r.legendItemUnHover="legendItemUnHover",r.legendItemClick="legendItemClick",r.legendItemAttributeUpdate="legendItemAttributeUpdate",(o=n||(n={})).innerView="innerView",o.title="legendTitle",o.item="legendItem",o.itemShape="legendItemShape",o.itemLabel="legendItemLabel",o.itemValue="legendItemValue",o.focus="legendItemFocus"},800063:function(t,e,i){i.d(e,{W:()=>C});var s=i(20408),a=i(695723),n=i(364776),l=i(944843),r=i(999051),o=i(625397),h=i(480971),d=i(464639),u=i(454326),c=i(649275),b=i(536163),g=i(994030),p=i(796241),f=i(222669),m=i(295694),x=i(704654),_=i(683330),y=i(118785),v=i(256031);let A={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};(0,v.s)();class B extends _.k{getCurrent(){return this._current}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},B.defaultAttributes,t)),this.name="pager",this._current=1,this._onHover=t=>{let e=t.target;e.hasState("disable")||e.addState("hover")},this._onUnHover=t=>{t.target.removeState("hover")},this._onClick=t=>{let e=t.target;if("preHandler"===e.name){if(1===this._current)return;this._current-=1,1===this._current?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:t})}if("nextHandler"===e.name){if(this._current===this._total)return;this._current+=1,this._current===this._total?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:t})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var t,e,i;this._reset();let{layout:s="horizontal",handler:a=A,total:n,defaultCurrent:l=1,textStyle:r,padding:o=0}=this.attribute;this._current=l;let h=(0,d.o)(o),u="horizontal"===s,c=f.i.group({x:0,y:0}),b=a.style||{},g=b.size||15,p=null!=(t=a.space)?t:8,m=a.state||{},{preShape:_,nextShape:v}=a;_||(_=u?"triangleLeft":"triangleUp"),v||(v=u?"triangleRight":"triangleDown");let B=f.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},b),{x:0,y:0,symbolType:_,size:g}));B.states=m,B.name="preHandler",this.preHandler=B,c.add(B);let{width:S,height:k}=(0,y.fe)(this._getPageText(n),Object.assign({textAlign:"center",textBaseline:"middle"},r),null==(i=null==(e=this.stage)?void 0:e.getTheme())?void 0:i.text),w=(0,x.Z)(g)?g:g[0],M=(0,x.Z)(g)?g:g[1],O=f.i.text(Object.assign({x:u?w/2+p+S/2:0,y:u?0:M/2+p+k/2,text:this._getPageText(l),textAlign:"center",textBaseline:"middle",lineHeight:null==r?void 0:r.fontSize},r));this.text=O,c.add(O);let C=f.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},b),{x:u?w+2*p+S:0,y:u?0:M+2*p+k,symbolType:v,size:g}));C.name="nextHandler",C.states=m,this.nextHandler=C,c.add(C),1===this._total?(B.addState("disable"),C.addState("disable")):1===this._current?B.addState("disable"):this._current===n&&C.addState("disable");let L=c.AABBBounds,T=L.width(),P=L.height();c.translateTo(0-L.x1+h[3],0-L.y1+h[0]),this.add(c),this.attribute.width=T+h[1]+h[3],this.attribute.height=P+h[0]+h[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(t){let{pageFormatter:e}=this.attribute;return e?(0,p.Z)(e)?e(t,this._total):`${e}`.replace("{current}",`${t}`).replace("{total}",`${this._total}`):`${t}/${this._total}`}setTotal(t){t!==this.attribute.total&&(this._total=t,1!==this._current&&this._current<=t?this.setAttributes({total:t,defaultCurrent:this._current}):this.setAttribute("total",t))}}B.defaultAttributes={handler:A,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};var S=i(290620),k=i(356512),w=i(131096),M=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};let O={[S.uu.focus]:{},[S.uu.selected]:{},[S.uu.selectedHover]:{},[S.uu.unSelected]:{},[S.uu.unSelectedHover]:{}};(0,k.cV)();class C extends m.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},C.defaultAttributes,t)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._contentMaxHeight=0,this._onHover=t=>{let e=t.target;if(e&&e.name&&e.name.startsWith(S.GN.item)){let i=e.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===i.id)return;this._unHover(this._lastActiveItem,t)}this._hover(i,t)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onUnHover=t=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onClick=t=>{var e,i,s,a;let n=t.target;if(n&&n.name&&n.name.startsWith(S.GN.item)){let l=n.delegate,{selectMode:r="multiple"}=this.attribute;if(n.name===S.GN.focus||"focus"===r){let s=l.hasState(S.uu.focus);l.toggleState(S.uu.focus),s?null==(e=this._itemsContainer)||e.getChildren().forEach(e=>{this._removeLegendItemState(e,[S.uu.unSelected,S.uu.unSelectedHover,S.uu.focus],t),this._setLegendItemState(e,S.uu.selected,t)}):(this._setLegendItemState(l,S.uu.selected,t),this._removeLegendItemState(l,[S.uu.unSelected,S.uu.unSelectedHover],t),null==(i=this._itemsContainer)||i.getChildren().forEach(e=>{l!==e&&(this._removeLegendItemState(e,[S.uu.selected,S.uu.selectedHover,S.uu.focus],t),this._setLegendItemState(e,S.uu.unSelected,t))}))}else{null==(s=this._itemsContainer)||s.getChildren().forEach(t=>{t.removeState(S.uu.focus)});let{allowAllCanceled:e=!0}=this.attribute,i=l.hasState(S.uu.selected),n=this._getSelectedLegends();if("multiple"===r){if(!1===e&&i&&1===n.length)return void this._dispatchLegendEvent(S.dk.legendItemClick,l,t);i?(this._removeLegendItemState(l,[S.uu.selected,S.uu.selectedHover],t),this._setLegendItemState(l,S.uu.unSelected,t)):(this._setLegendItemState(l,S.uu.selected,t),this._removeLegendItemState(l,[S.uu.unSelected,S.uu.unSelectedHover],t))}else this._setLegendItemState(l,S.uu.selected,t),this._removeLegendItemState(l,[S.uu.unSelected,S.uu.unSelectedHover],t),null==(a=this._itemsContainer)||a.getChildren().forEach(e=>{l!==e&&(this._removeLegendItemState(e,[S.uu.selected,S.uu.selectedHover],t),this._setLegendItemState(e,S.uu.unSelected,t))})}this._dispatchLegendEvent(S.dk.legendItemClick,l,t)}}}render(){super.render(),this._lastActiveItem=null}setSelected(t){var e;(null==(e=this._itemsContainer)?void 0:e.getChildren()).forEach(e=>{let i=e.data;t.includes(i.label)?(this._setLegendItemState(e,S.uu.selected),this._removeLegendItemState(e,[S.uu.unSelected,S.uu.unSelectedHover])):(this._removeLegendItemState(e,[S.uu.selected,S.uu.selectedHover]),this._setLegendItemState(e,S.uu.unSelected))})}_renderItems(){let{item:t={},maxCol:e=1,maxRow:i=2,maxWidth:s,defaultSelected:l,lazyload:r,autoPage:o}=this.attribute,{spaceCol:h=S.Nu,spaceRow:d=S.so,verticalAlign:u="middle"}=t,c=this._itemsContainer,{items:b,isHorizontal:g,startIndex:p,isScrollbar:f}=this._itemContext,m=f?1:g?i:e,x=this._contentMaxHeight,_,{doWrap:y,maxWidthInCol:v,startX:A,startY:B,pages:k}=this._itemContext,w=0,M=0,O=[];for(let t=p,e=b.length;t<e&&!(r&&k>this._itemContext.currentPage*m);t++){r&&(this._itemContext.startIndex=t+1),(_=b[t]).id||(_.id=_.label),_.index=t;let e=!0;(0,a.Z)(l)&&(e=l.includes(_.label));let i=this._renderEachItem(_,e,t,b),p=i.attribute.width,m=i.attribute.height;this._itemHeight=Math.max(this._itemHeight,m),v=Math.max(p,v),this._itemMaxWidth=Math.max(p,this._itemMaxWidth),g?((0,n.Z)(s)&&(f&&o?y=(k=Math.ceil((A+p)/s))>1:A+p>s&&(y=!0,A>0&&("middle"!==u&&"bottom"!==u||O.forEach(t=>{t.setAttributes({y:t.attribute.y+(M-t.attribute.height)/("middle"===u?2:1)})}),k+=1,A=0,B+=M+d,M=0,O.length=0))),0===A&&0===B||i.setAttributes({x:A,y:B}),A+=h+p,M=Math.max(M,m),O.push(i)):((0,n.Z)(x)&&(f&&o?y=(k=Math.ceil((B+m)/x))>1:x<=m?(k+=1,y=!0,B=0,t>0&&(A+=w+h)):x<B+m&&(k+=1,y=!0,B=0,A+=v+h,v=0)),0===A&&0===B||i.setAttributes({x:A,y:B}),B+=d+m),c.add(i),w=p}return g&&("middle"===u||"bottom"===u)&&O.forEach(t=>{t.setAttributes({y:t.attribute.y+(M-t.attribute.height)/("middle"===u?2:1)})}),this._itemContext.doWrap=y,this._itemContext.startX=A,this._itemContext.startY=B,this._itemContext.maxWidthInCol=v,this._itemContext.pages=k,this._itemContext.maxPages=m,f&&(this._itemContext.totalPage=k),r||(this._itemContext.startIndex=b.length),this._itemContext}_renderContent(){let{item:t={},items:e,reversed:i,maxWidth:s,maxHeight:a}=this.attribute;if(!1===t.visible||(0,l.Z)(e))return;let h=e;i&&(h=null==e?void 0:e.reverse()),this._contentMaxHeight=Math.max(0,a-this._parsedPadding[0]-this._parsedPadding[2]);let d=f.i.group({x:0,y:0});this._itemsContainer=d;let{layout:u,autoPage:c}=this.attribute,{maxWidth:b,width:g,height:p}=t,m=[];(0,n.Z)(b)&&m.push(b),(0,n.Z)(g)&&m.push(g),m.length&&((0,n.Z)(s)&&m.push(s),this._itemWidthByUser=(0,r.iH)(m)),(0,n.Z)(p)&&(this._itemHeightByUser=p);let x=this.attribute.pager;this._itemContext={currentPage:x&&x.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:h,isHorizontal:"horizontal"===u,totalPage:1/0,isScrollbar:x&&"scrollbar"===x.type,clipContainer:void 0},this._itemContext=this._renderItems();let _=!1;this._itemContext.doWrap&&c&&this._itemContext.pages>this._itemContext.maxPages&&(_=this._renderPagerComponent()),_||(d.setAttribute("y",this._title?this._title.AABBBounds.height()+(0,o.Z)(this.attribute,"title.space",8):0),this._innerView.add(d))}_bindEvents(){if(this.attribute.disableTriggerEvent||!this._itemsContainer)return;let{hover:t=!0,select:e=!0}=this.attribute;if(t){let e="pointermove",i="pointerleave";(0,h.Z)(t)&&(t.trigger&&(e=t.trigger),t.triggerOff&&(i=t.triggerOff)),this._itemsContainer.addEventListener(e,this._onHover),this._itemsContainer.addEventListener(i,this._onUnHover)}if(e){let t="pointerdown";(0,h.Z)(e)&&e.trigger&&(t=e.trigger),this._itemsContainer.addEventListener(t,this._onClick)}}_autoEllipsis(t,e,i,s){var a,n;let{label:l,value:r}=this.attribute.item,o=s.AABBBounds,h=i.AABBBounds,d=o.width(),u=h.width(),c=!1;"labelFirst"===t?u>e?c=!0:s.setAttribute("maxLineWidth",e-u):"valueFirst"===t?d>e?c=!0:i.setAttribute("maxLineWidth",e-d):d+u>e&&(c=!0),c&&(s.setAttribute("maxLineWidth",Math.max(e*(null!=(a=l.widthRatio)?a:.5),e-u)),i.setAttribute("maxLineWidth",Math.max(e*(null!=(n=r.widthRatio)?n:.5),e-d)))}_renderEachItem(t,e,i,s){var l,r;let h,{id:c,label:b,value:g,shape:p}=t,{padding:m=0,focus:x,focusIconStyle:_,align:v,autoEllipsisStrategy:A}=this.attribute.item,{shape:B,label:k,value:w,background:M}=this.attribute.item,O=this._handleStyle(B,t,e,i,s),C=this._handleStyle(k,t,e,i,s),L=this._handleStyle(w,t,e,i,s),T=this._handleStyle(M,t,e,i,s),P=(0,d.o)(m);!1===M.visible?(h=f.i.group({x:0,y:0,cursor:null==(l=T.style)?void 0:l.cursor}),this._appendDataToShape(h,S.GN.item,t,h)):(h=f.i.group(Object.assign({x:0,y:0},T.style)),this._appendDataToShape(h,S.GN.item,t,h,T.state)),h.id=`${null!=c?c:b}-${i}`,h.addState(e?S.uu.selected:S.uu.unSelected);let I=f.i.group({x:0,y:0,pickable:!1});h.add(I);let E,Z=0,H=0,j=0;if(B&&!1!==B.visible){let i=(0,o.Z)(O,"style.size",S.SX);H=(0,a.Z)(i)?i[0]||0:i,j=(0,o.Z)(B,"space",S.g);let s=f.i.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},p),O.style));Object.keys(O.state||{}).forEach(t=>{let e=O.state[t].fill||O.state[t].stroke;p.fill&&(0,u.Z)(O.state[t].fill)&&e&&(O.state[t].fill=e),p.stroke&&(0,u.Z)(O.state[t].stroke)&&e&&(O.state[t].stroke=e)}),this._appendDataToShape(s,S.GN.itemShape,t,h,O.state),s.addState(e?S.uu.selected:S.uu.unSelected),I.add(s)}let R=0;if(x){let e=(0,o.Z)(_,"size",S.SX);E=f.i.symbol(Object.assign(Object.assign({x:0,y:-e/2-1,strokeBoundsBuffer:0,boundsPadding:P},_),{visible:!0,pickMode:"imprecise"})),this._appendDataToShape(E,S.GN.focus,t,h),R=e}let z=k.formatMethod?k.formatMethod(b,t,i):b,V=Object.assign(Object.assign({x:H/2+j,y:0,textAlign:"start",textBaseline:"middle",lineHeight:null==(r=C.style)?void 0:r.fontSize},C.style),{text:z,_originText:k.formatMethod?b:void 0}),D=(0,y.vS)(V);this._appendDataToShape(D,S.GN.itemLabel,t,h,C.state),D.addState(e?S.uu.selected:S.uu.unSelected),I.add(D);let W=(0,o.Z)(k,"space",S.DN);if((0,n.Z)(g)){let s=(0,o.Z)(w,"space",x?S.qL:0),a=w.formatMethod?w.formatMethod(g,t,i):g,n=Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:L.style.fontSize},L.style),{text:a,_originText:w.formatMethod?g:void 0}),l=(0,y.vS)(n);if(this._appendDataToShape(l,S.GN.itemValue,t,h,L.state),l.addState(e?S.uu.selected:S.uu.unSelected),this._itemWidthByUser){let t=this._itemWidthByUser-P[1]-P[3]-H-j-W-R-s;this._autoEllipsis(A,t,D,l),w.alignRight?l.setAttributes({textAlign:"right",x:this._itemWidthByUser-H/2-P[1]-P[3]-R-s}):l.setAttribute("x",W+(D.AABBBounds.empty()?0:D.AABBBounds.x2))}else l.setAttribute("x",W+(D.AABBBounds.empty()?0:D.AABBBounds.x2));Z=s+(l.AABBBounds.empty()?0:l.AABBBounds.x2),I.add(l)}else this._itemWidthByUser&&D.setAttribute("maxLineWidth",this._itemWidthByUser-P[1]-P[3]-H-j-R),Z=W+(D.AABBBounds.empty()?0:D.AABBBounds.x2);E&&(E.setAttribute("x",Z),I.add(E));let F=I.AABBBounds,U=F.width();if("right"===v){let t=F.x2,e=F.x1;I.forEachChildren((i,s)=>{"symbol"!==i.type&&"right"!==i.attribute.textAlign||i===E?i.setAttribute("x",e+t-i.attribute.x-i.AABBBounds.width()):"symbol"!==i.type?i.setAttributes({x:e+t-i.attribute.x,textAlign:"left"}):i.setAttribute("x",e+t-i.attribute.x)})}let G=F.height(),$=(0,n.Z)(this.attribute.item.width)?this.attribute.item.width:U+P[1]+P[3],X=this._itemHeightByUser||G+P[0]+P[2];return h.attribute.width=$,h.attribute.height=X,E&&E.setAttribute("visible",!1),I.translateTo(-F.x1+P[3],-F.y1+P[0]),h}_createPager(t){var e,i;let{disableTriggerEvent:a,maxRow:n}=this.attribute,l=t=>t<=99?99:t<=999?999:9999;return new B(this._itemContext.isHorizontal?Object.assign(Object.assign({layout:1===n?"horizontal":"vertical",total:l(this._itemContext.pages)},(0,s.Z)({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},t)),{defaultCurrent:null==(e=this.attribute.pager)?void 0:e.defaultCurrent,disableTriggerEvent:a}):Object.assign({layout:"horizontal",total:l(this._itemContext.pages),disableTriggerEvent:a,defaultCurrent:null==(i=this.attribute.pager)?void 0:i.defaultCurrent},t))}_createScrollbar(t,e){let{disableTriggerEvent:i}=this.attribute;return new w.B(this._itemContext.isHorizontal?Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:i,range:[0,.5],height:12*(!1!==t.visible)},t),{width:e}):Object.assign(Object.assign({direction:"vertical",width:12*(!1!==t.visible),range:[0,.5]},t),{height:e,disableTriggerEvent:i}))}_updatePositionOfPager(t,e,i){let{pager:s}=this.attribute,{totalPage:a,isHorizontal:n}=this._itemContext,l=s&&s.position||"middle";if(this._pagerComponent.setTotal(a),n){let s;s="start"===l?t:"end"===l?t+i-this._pagerComponent.AABBBounds.height()/2:t+i/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:e-this._pagerComponent.AABBBounds.width(),y:s})}else{let t;t="start"===l?0:"end"===l?e-this._pagerComponent.AABBBounds.width():(e-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:t,y:i-this._pagerComponent.AABBBounds.height()})}}_computeScrollbarDelta(){let{isHorizontal:t,clipContainer:e}=this._itemContext,i=this._itemsContainer.AABBBounds,s=e.AABBBounds;return t?s.width()/i.width():s.height()/i.height()}_updatePositionOfScrollbar(t,e,i){let{isHorizontal:s,currentPage:a,totalPage:n}=this._itemContext,l=(a-1)/n;this._pagerComponent.setScrollRange([l,l+this._computeScrollbarDelta()]),s?this._pagerComponent.setAttributes({x:0,y:i+e}):this._pagerComponent.setAttributes({x:t,y:i})}_bindEventsOfPager(t,e){let{animation:i=!0,animationDuration:s=450,animationEasing:a="quadIn"}=this.attribute.pager||{},n=this._itemContext.isScrollbar?t=>{let{value:e}=t.detail;return 0===e[0]?1:1===e[1]?this._itemContext.totalPage:e[0]*this._itemContext.totalPage+1}:t=>t.detail.current,l=l=>{let r=n(l);if(r!==this._itemContext.currentPage){if(this._itemContext.currentPage=r,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();let t=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);if(this._itemContext.totalPage=t,this._itemContext.isScrollbar&&this._pagerComponent){let t=this._computeScrollbarDelta(),[e]=this._pagerComponent.getScrollRange();this._pagerComponent.setScrollRange([e,e+t])}}if(this._itemContext.isScrollbar){let[t]=this._pagerComponent.getScrollRange(),n=(this._itemContext.isHorizontal?this._itemsContainer.AABBBounds.width():this._itemsContainer.AABBBounds.height())*t;this.updateScrollMask(),i?this._itemsContainer.animate().to({[e]:-n},s,a):this._itemsContainer.setAttribute(e,-n)}else i?this._itemsContainer.animate().to({[e]:-(r-1)*t},s,a):this._itemsContainer.setAttribute(e,-(r-1)*t)}};this._itemContext.isScrollbar?(this._pagerComponent.addEventListener("scrollDrag",l),this._pagerComponent.addEventListener("scrollUp",l),this.attribute.pager.roamScroll&&(this.addEventListener("wheel",t=>t.nativeEvent.preventDefault()),this.addEventListener("wheel",(0,c.Z)(t=>{let e=this._pagerComponent,i=e.getScrollRange(),{direction:s}=e.attribute,{width:a,height:n}=e.getSliderRenderBounds(),l="vertical"===s?t.deltaY/n:t.deltaX/a;e.setScrollRange([i[0]+l,i[1]+l],!0),this.updateScrollMask()},50)))):(this._pagerComponent.addEventListener("toPrev",l),this._pagerComponent.addEventListener("toNext",l))}_renderPager(){let t=this._title?this._title.AABBBounds.height()+(0,o.Z)(this.attribute,"title.space",8):0,{maxWidth:e,maxCol:i=1,maxRow:s=2,item:a={},pager:n={}}=this.attribute,{spaceCol:l=S.Nu,spaceRow:r=S.so}=a,h=this._itemsContainer,{space:d=S.Th,defaultCurrent:u=1}=n,c=M(n,["space","defaultCurrent"]),{isHorizontal:b}=this._itemContext,g=this._contentMaxHeight,p,m=0,x=0,_=0,y=0,v=0,A=0,B=1;if(b){if(x=(s-1)*r+this._itemHeight*s,m=e,p=this._createPager(c),this._pagerComponent=p,this._innerView.add(p),(_=e-p.AABBBounds.width()-d)<=0)return this._innerView.removeChild(p),!1;h.getChildren().forEach((t,e)=>{let{width:i,height:s}=t.attribute;_<v+i&&e>0&&(v=0,A+=s+r,B+=1),e>0&&t.setAttributes({x:v,y:A}),v+=l+i}),this._itemContext.startX=v,this._itemContext.startY=A,this._itemContext.pages=B;let i=Math.ceil(B/s);this._itemContext.totalPage=i,this._updatePositionOfPager(t,m,x)}else{if(m=this._itemMaxWidth*i+(i-1)*l,x=g,_=m,p=this._createPager(c),this._pagerComponent=p,this._innerView.add(p),(y=g-p.AABBBounds.height()-d-t)<=0)return this._innerView.removeChild(p),!1;h.getChildren().forEach((t,e)=>{let{width:i,height:s}=t.attribute;y<A+s&&e>0&&(A=0,v+=this._itemMaxWidth+l,B+=1),e>0&&t.setAttributes({x:v,y:A}),A+=r+s});let e=Math.ceil(B/i);this._itemContext.totalPage=e,this._updatePositionOfPager(t,m,x)}u>1&&(b?h.setAttribute("y",-(u-1)*(x+r)):h.setAttribute("x",-(u-1)*(m+l)));let k=f.i.group({x:0,y:t,width:b?_:m,height:b?x:y,clip:!0,pickable:!1});return k.add(h),this._innerView.add(k),this._itemContext.clipContainer=k,this._bindEventsOfPager(b?x+r:m+l,b?"y":"x"),!0}_renderScrollbar(){var t;let e=this._title?this._title.AABBBounds.height()+(0,o.Z)(this.attribute,"title.space",8):0,{maxWidth:i,item:s={},pager:a={}}=this.attribute,{spaceCol:n=S.Nu,spaceRow:l=S.so}=s,r=this._itemsContainer,{space:h=S.Th,defaultCurrent:d=1}=a,u=M(a,["space","defaultCurrent"]),{isHorizontal:c}=this._itemContext,b=this._contentMaxHeight,g,p=0,m=0,x=0,_=1;if(c)p=i,m=this._itemHeight,g=this._createScrollbar(u,p),this._pagerComponent=g,this._innerView.add(g);else{if(m=b-e,p=this._itemMaxWidth,g=this._createScrollbar(u,m),this._pagerComponent=g,this._innerView.add(g),m<=0)return this._innerView.removeChild(g),!1;let t=r.getChildren(),i=t.map(t=>t.attribute.height);if(1===i.length||i.every(t=>t===i[0])){let e=i[0],s=Math.floor(m/(l+e));m=s*(l+e),_=Math.ceil(t.length/s)}else t.forEach((t,e)=>{let{height:i}=t.attribute,s=_,a=x;_=Math.floor((x+i)/m)+1,x+=l+i,s!==_&&e===r.getChildren().length-1&&x-m>=1/3*i&&(m=a+i,_-=1)});this._itemContext.totalPage=_,this._itemContext.pages=_}if(d>1)if(c){let t=this._itemsContainer.AABBBounds.width()-p;r.setAttribute("x",-Math.min((d-1)*(p+n),t))}else{let t=this._itemsContainer.AABBBounds.height()-m;r.setAttribute("y",-Math.min((d-1)*(m+l),t))}let y=f.i.group({x:0,y:e,width:p,height:m,clip:!0,pickable:!1});return y.add(r),this._innerView.add(y),this._itemContext.clipContainer=y,this._updatePositionOfScrollbar(p,m,e),(null==(t=a.scrollMask)?void 0:t.visible)&&this.renderScrollMask(y),this._bindEventsOfPager(c?p:m,c?"x":"y"),!0}renderScrollMask(t){let{scrollMask:e={}}=this.attribute.pager,{visible:i=!0,gradientLength:s=16,gradientStops:a}=e;if(!i||!a)return;let n=t.AABBBounds.width(),l=t.AABBBounds.height(),r=this._itemContext.isHorizontal?n:l,o=a.map(t=>({offset:s*t.offset/r,color:t.color})),h=a.map(t=>({offset:(r-s*t.offset)/r,color:t.color})),d=f.i.rect({x:0,y:0,width:n,height:l});this._scrollMask=d,this._scrollMaskContext={startStops:o,endStops:h},this.updateScrollMask(),t.add(d)}updateScrollMask(){if(!this._scrollMask||!this._pagerComponent||!this._itemContext.isScrollbar)return;let[t,e]=this._pagerComponent.getScrollRange(),i=[];(0,b.Yt)((0,g.Z)(e,0,1),1)||i.push(...this._scrollMaskContext.endStops),(0,b.Yt)((0,g.Z)(t,0,1),0)||i.push(...this._scrollMaskContext.startStops),i.length&&(this._itemContext.isHorizontal?this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:i}}):this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:i}}))}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(t,e){this._lastActiveItem=t,t.hasState(S.uu.selected)?this._setLegendItemState(t,S.uu.selectedHover,e):this._setLegendItemState(t,S.uu.unSelectedHover,e);let i=t.getChildren()[0].find(t=>t.name===S.GN.focus,!1);i&&i.setAttribute("visible",!0),this._dispatchLegendEvent(S.dk.legendItemHover,t,e)}_unHover(t,e){let i=!1;(t.hasState(S.uu.unSelectedHover)||t.hasState(S.uu.selectedHover))&&(i=!0),t.removeState(S.uu.unSelectedHover),t.removeState(S.uu.selectedHover),t.getChildren()[0].getChildren().forEach(t=>{!i&&(t.hasState(S.uu.unSelectedHover)||t.hasState(S.uu.selectedHover))&&(i=!0),t.removeState(S.uu.unSelectedHover),t.removeState(S.uu.selectedHover)});let s=t.getChildren()[0].find(t=>t.name===S.GN.focus,!1);s&&s.setAttribute("visible",!1),i&&this._dispatchLegendEvent(S.dk.legendItemAttributeUpdate,t,e),this._dispatchLegendEvent(S.dk.legendItemUnHover,t,e)}_setLegendItemState(t,e,i){let s=!1;t.hasState(e)||(s=!0),t.addState(e,!0),t.getChildren()[0].getChildren().forEach(t=>{t.name!==S.GN.focus&&(s||t.hasState(e)||(s=!0),t.addState(e,!0))}),s&&this._dispatchLegendEvent(S.dk.legendItemAttributeUpdate,t,i)}_removeLegendItemState(t,e,i){let s=!1;e.forEach(e=>{!s&&t.hasState(e)&&(s=!0),t.removeState(e)}),t.getChildren()[0].getChildren().forEach(t=>{t.name!==S.GN.focus&&e.forEach(e=>{!s&&t.hasState(e)&&(s=!0),t.removeState(e)})}),s&&this._dispatchLegendEvent(S.dk.legendItemAttributeUpdate,t,i)}_getSelectedLegends(){var t;let e=[];return null==(t=this._itemsContainer)||t.getChildren().forEach(t=>{t.hasState(S.uu.selected)&&e.push(t.data)}),e}_appendDataToShape(t,e,i,a,n={}){t.name=e,t.data=i,t.delegate=a,t.states=(0,s.Z)({},O,n)}_dispatchLegendEvent(t,e,i){let s=this._getSelectedLegends();s.sort((t,e)=>t.index-e.index);let a=s.map(t=>t.label);this._dispatchEvent(t,{item:e,data:e.data,selected:e.hasState(S.uu.selected),currentSelectedItems:s,currentSelected:a,event:i})}_handleStyle(t,e,i,s,a){let n={};return t.style&&((0,p.Z)(t.style)?n.style=t.style(e,i,s,a):n.style=t.style),t.state&&(n.state={},Object.keys(t.state).forEach(l=>{t.state[l]&&((0,p.Z)(t.state[l])?n.state[l]=t.state[l](e,i,s,a):n.state[l]=t.state[l])})),n}release(){super.release(),this.removeAllEventListeners()}}C.defaultAttributes={layout:"horizontal",title:{align:"start",space:S.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:S.Nu,spaceRow:S.so,shape:{space:S.g,style:{size:S.SX,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:S.DN,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:S.SX,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:S.Th,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0}},356512:function(t,e,i){i.d(e,{Fw:()=>u,Vo:()=>c,cV:()=>d});var s=i(745772),a=i(479816),n=i(975320),l=i(256031),r=i(580525),o=i(650290);function h(){(0,s.M)(),(0,n.b)()}function d(){h(),(0,l.s)(),(0,o.M)()}function u(){h(),(0,r.d)()}function c(){h(),(0,r.d)(),(0,a.N)()}},948984:function(t,e,i){i.d(e,{D:()=>h});var s=i(222669),a=i(20408),n=i(625397),l=i(295694),r=i(414427),o=i(290620);(0,i(356512).Vo)();class h extends l.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},h.defaultAttributes,t)),this.name="sizeLegend",this._onSliderChange=t=>{this.dispatchEvent(t)},this._onSliderToolipChange=t=>{this.dispatchEvent(t)}}setSelected(t){this._slider&&this._slider.setValue(t)}_renderContent(){let{slidable:t,layout:e,align:i,min:a,max:l,value:h,railWidth:d,railHeight:u,showHandler:c=!0,handlerSize:b,handlerStyle:g,railStyle:p,trackStyle:f,startText:m,endText:x,handlerText:_,showTooltip:y,tooltip:v,sizeBackground:A,disableTriggerEvent:B,inverse:S}=this.attribute,k=s.i.group({x:0,y:0});this._innerView.add(k);let w=new r.i({x:0,y:0,zIndex:1,range:{draggableTrack:!0},slidable:t,layout:e,align:i,min:a,max:l,value:h,railWidth:d,railHeight:u,showHandler:c,handlerSize:b,handlerStyle:Object.assign({symbolType:function(t="bottom"){let e=0;return"top"===t?`
    M${e},-6L${e-3.5},-2.5
    v5
    h7
    v-5
    Z
`:"left"===t?(e=1,`
    M${e-6},0L${e-6+2.5},-3.5
    h5
    v7
    h-5
    Z
`):"right"===t?(e=-1,`
    M${e+6},0L${e+6-2.5},-3.5
    h-5
    v7
    h5
    Z
  `):`
    M${e},6L${e-3.5},2.5
    v-5
    h7
    v5
    Z
`}(i)},g),railStyle:p,trackStyle:f,startText:m,endText:x,handlerText:_,showTooltip:y,tooltip:v,disableTriggerEvent:B,inverse:S});k.add(w);let M,O=0;"horizontal"===e?"top"===i?(M=`M0,0L${d},0L${S?0:d},12Z`,O=u):(M=`M0,12L${d},12L${S?0:d},0Z`,w.setAttribute("y",12)):"left"===i?M=`M${d},0L${d+12},${S?0:u}L${d},${u}Z`:(M=`M0,${S?0:u}L12,${u}L12,0Z`,w.setAttribute("x",12));let C=s.i.path(Object.assign(Object.assign({x:0,y:O,path:M},A),{zIndex:0}));k.add(C);let L=this._title?this._title.AABBBounds.height()+(0,n.Z)(this.attribute,"title.space",o.$5):0;k.translate(0-k.AABBBounds.x1,L-k.AABBBounds.y1),this._slider=w}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}}h.defaultAttributes={layout:"horizontal",title:{align:"start",space:o.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{lineWidth:1,stroke:"#ccc",fill:"#fff"},sizeBackground:{fill:"rgba(20,20,20,0.1)"}}},280546:function(t,e,i){function s(t,e,i,s){var a,n,l,r,o;if(!t)return;null==(a=null==t?void 0:t.animates)||a.forEach(t=>t.stop("end"));let h=null!=(l=null==(n=t.attribute)?void 0:n.fillOpacity)?l:1,d=null!=(o=null==(r=t.attribute)?void 0:r.strokeOpacity)?o:1;t.setAttributes({fillOpacity:0,strokeOpacity:0}),t.animate().wait(e).to({fillOpacity:h,strokeOpacity:d},i,s)}function a(t,e,i,a){t&&(s(t.startSymbol,e,i,a),t.lines.forEach(t=>s(t,e,i,a)),s(t.line,e,i,a),s(t.endSymbol,e,i,a))}function n(t,e,i,a){t&&(s(t.getTextShape(),e,i,a),s(t.getBgRect(),e,i,a))}function l(t,e,i,s){var a,n,l,r;t&&(t.setAttributes({fillOpacity:null!=(n=null==(a=t.attribute)?void 0:a.fillOpacity)?n:1,strokeOpacity:null!=(r=null==(l=t.attribute)?void 0:l.strokeOpacity)?r:1}),t.animate().wait(e).to({fillOpacity:0,strokeOpacity:0},i,s))}function r(t,e,i,s){t&&(l(t.startSymbol,e,i,s),t.lines.forEach(t=>l(t,e,i,s)),l(t.line,e,i,s),l(t.endSymbol,e,i,s))}function o(t,e,i,s){t&&(l(t.getTextShape(),e,i,s),l(t.getBgRect(),e,i,s))}i.d(e,{dq:()=>y,Bu:()=>_,mF:()=>A,Pc:()=>f,ap:()=>m,_h:()=>B,lw:()=>x,ZA:()=>v});var h=i(999051);function d(t,e,i,a,n){let l=.1*i,r=.7*i,o=.1*i,d=.1*i;s(t.startSymbol,a,l,n),t.lines.forEach(t=>t.setAttribute("clipRange",0)),t.lines.forEach((e,i)=>{let s=r/t.lines.length;e.animate().wait(a+l+i*s).to({clipRange:1},s,n)}),s(t.endSymbol,a+l+r,o,n),(0,h.IX)(e).forEach(t=>{let e=a+l+r+o;s(t.getTextShape(),e,d,n),s(t.getBgRect(),e,d,n)})}function u(t,e,i,s,l){a(t,s,i,l),(0,h.IX)(e).forEach(t=>{n(t,s,i,l)})}function c(t,e,i,a,l){s(t,a,i,l),(0,h.IX)(e).forEach(t=>{n(t,a,i,l)})}function b(t,e,i,a,l){s(t,a,i,l),(0,h.IX)(e).forEach(t=>{n(t,a,i,l)})}function g(t,e,i,l,r,o){var h;a(t,r,l,o),s(e,r,l,o),(null==(h=i.getTextShape)?void 0:h.call(i))?n(i,r,l,o):s(i,r,l,o)}function p(t,e,i,a,n,l){var r;let o=.1*a,h=.65*a,d=.05*a,u=.1*a,c=.1*a;s(t.startSymbol,n,o,l),t.lines.forEach(t=>t.setAttribute("clipRange",0)),t.lines.forEach((e,i)=>{let s=h/t.lines.length;e.animate().wait(n+o+i*s).to({clipRange:1},s,l)}),s(e,n+o+h,d,l),s(t.endSymbol,n+o+h+d,u,l),(null==(r=i.getTextShape)?void 0:r.call(i))?(s(i.getTextShape(),n+o+h+d+u,c,l),s(i.getBgRect(),n+o+h+u,c,l)):s(i,n+o+h+u,c,l)}function f(t,e,i,s){let{enter:a,update:n,exit:l}=i;if("enter"===s){let{type:i,duration:s,delay:n,easing:l}=a;"clipIn"===i?d(t,e,s,n,l):"fadeIn"===i&&u(t,e,s,n,l)}else if("update"===s){let{type:i,duration:s,delay:a,easing:l}=n;"clipIn"===i?d(t,e,s,a,l):"fadeIn"===i&&u(t,e,s,a,l)}else if("exit"===s){let{duration:i,delay:s,easing:a}=l;r(t,s,i,a),(0,h.IX)(e).forEach(t=>{o(t,s,i,a)})}}function m(t,e,i,s){let{enter:a,update:n,exit:r}=i;if("enter"===s){let{type:i,duration:s,delay:n,easing:l}=a;"fadeIn"===i&&c(t,e,s,n,l)}else if("update"===s){let{type:i,duration:s,delay:a,easing:l}=n;"fadeIn"===i&&c(t,e,s,a,l)}else if("exit"===s){let{duration:i,delay:s,easing:a}=r;l(t,s,i,a),(0,h.IX)(e).forEach(t=>{o(t,s,i,a)})}}function x(t,e,i,s){let{enter:a,update:n,exit:r}=i;if("enter"===s){let{type:i,duration:s,delay:n,easing:l}=a;"fadeIn"===i&&b(t,e,s,n,l)}else if("update"===s){let{type:i,duration:s,delay:a,easing:l}=n;"fadeIn"===i&&b(t,e,s,a,l)}else if("exit"===s){let{duration:i,delay:s,easing:a}=r;l(t,s,i,a),(0,h.IX)(e).forEach(t=>{o(t,s,i,a)})}}function _(t,e,i,s){let[a,n]=t,{enter:h,update:d,exit:u}=i;if("enter"===s){let{type:t,duration:i,delay:s,easing:l}=h;"fadeIn"===t?g(a,n,e,i,s,l):"callIn"===t&&p(a,n,e,i,s,l)}else if("update"===s){let{type:t,duration:i,delay:s,easing:l}=d;"fadeIn"===t?g(a,n,e,i,s,l):"callIn"===t&&p(a,n,e,i,s,l)}else if("exit"===s){var c;let{duration:t,delay:i,easing:s}=u;r(a,i,t,s),l(n,i,t,s),(null==(c=e.getTextShape)?void 0:c.call(e))?o(e,i,t,s):l(e,i,t,s)}}let y={type:"clipIn",duration:500,easing:"linear",delay:0},v={type:"fadeIn",duration:500,easing:"linear",delay:0},A={type:"callIn",duration:500,easing:"linear",delay:0},B={type:"fadeOut",duration:500,easing:"linear",delay:0}},48963:function(t,e,i){i.d(e,{E:()=>p,z:()=>g});var s=i(222669),a=i(20408),n=i(612430),l=i(646428),r=i(689037),o=i(809505),h=i(212697),d=i(94916),u=i(743394),c=i(280546),b=i(13323);function g(){p._animate=c.lw}(0,d.bK)();class p extends l.J{markerAnimate(t){p._animate&&this._animationConfig&&p._animate(this._area,this._label,this._animationConfig,t)}getArea(){return this._area}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},p.defaultAttributes,t)),this.name="markArcArea",this.defaultUpdateAnimation=c.ZA,this.defaultExitAnimation=c._h}getPointAttrByPosition(t,e){let i,s,{center:a,innerRadius:n,outerRadius:l,startAngle:r,endAngle:h}=this.attribute,{refX:d=0,refY:u=0}=e;switch(t){case o.cm.center:i=(n+l)/2,s=(r+h)/2;break;case o.cm.arcInnerStart:i=n,s=r;break;case o.cm.arcOuterStart:i=l,s=r;break;case o.cm.arcInnerEnd:i=n,s=h;break;case o.cm.arcOuterEnd:i=l,s=h;break;case o.cm.arcInnerMiddle:i=n,s=(r+h)/2;break;case o.cm.arcOuterMiddle:i=l,s=(r+h)/2;break;default:i=n,s=(r+h)/2}return{position:{x:a.x+(i+u)*Math.cos(s)+d*Math.cos(s-Math.PI/2),y:a.y+(i+u)*Math.sin(s)+d*Math.sin(s-Math.PI/2)},angle:s}}setLabelPos(t,e){var i;if(this._area){let{position:s="arcInnerMiddle",autoRotate:a}=e,n=this.getPointAttrByPosition(s,e);if(t.setAttributes(Object.assign(Object.assign({},n.position),{angle:a?n.angle-Math.PI/2+(null!=(i=e.refAngle)?i:0):0,textStyle:Object.assign(Object.assign({},r.d8[s]),e.textStyle)})),this.attribute.limitRect&&e.confine){let{x:e,y:i,width:s,height:a}=this.attribute.limitRect;(0,h.v)(t,{x1:e,y1:i,x2:e+s,y2:i+a})}}}initMarker(t){let{center:e,innerRadius:i,outerRadius:n,startAngle:l,endAngle:r,areaStyle:o,state:h}=this.attribute,d=s.i.arc(Object.assign({x:e.x,y:e.y,innerRadius:i,outerRadius:n,startAngle:l,endAngle:r},o));d.states=(0,a.Z)({},u.n0,null==h?void 0:h.area),d.name="polar-mark-area-area",this._area=d,t.add(d),this._addMarkLabels(t,"mark-area-label",p.defaultAttributes.label)}updateMarker(){let{center:t,innerRadius:e,outerRadius:i,startAngle:s,endAngle:n,areaStyle:l,label:r,state:o}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({x:t.x,y:t.y,innerRadius:e,outerRadius:i,startAngle:s,endAngle:n},l)),this._area.states=(0,a.Z)({},u.n0,null==o?void 0:o.area)),this._updateMarkLabels(p.defaultAttributes.label)}isValidPoints(){return!0}}p.defaultAttributes=r.HY,(0,n.jB)(p,b.p)},478245:function(t,e,i){i.d(e,{A:()=>u,f:()=>c});var s=i(20408),a=i(211465),n=i(94916),l=i(743394),r=i(200307),o=i(809505),h=i(689037),d=i(280546);function u(){c._animate=d.Pc}(0,n.x_)();class c extends r.C{markerAnimate(t){c._animate&&this._animationConfig&&c._animate(this._line,this._label,this._animationConfig,t)}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t)),this.name="markArcLine"}getPointAttrByPosition(t,e){let i,{center:s,radius:a,startAngle:n,endAngle:l}=this.attribute,{refX:r=0,refY:h=0}=e;switch(t){case o.cm.arcInnerStart:i=n;case o.cm.arcOuterStart:i=n;break;case o.cm.arcInnerEnd:i=l;case o.cm.arcOuterEnd:i=l;break;case o.cm.center:case o.cm.arcInnerMiddle:case o.cm.arcOuterMiddle:default:i=(n+l)/2}return{position:{x:s.x+(a+h)*Math.cos(i)+r*Math.cos(i-Math.PI/2),y:s.y+(a+h)*Math.sin(i)+r*Math.sin(i-Math.PI/2)},angle:i}}getTextStyle(t){return h.d8[t]}getRotateByAngle(t,e){var i;return t-Math.PI/2+(null!=(i=e.refAngle)?i:0)}createSegment(){let{center:t,radius:e,startAngle:i,endAngle:n,startSymbol:r,endSymbol:o,lineStyle:h,state:d}=this.attribute;return new a.S({center:t,radius:e,startAngle:i,endAngle:n,startSymbol:r,endSymbol:o,lineStyle:h,state:{line:(0,s.Z)({},l.n0,null==d?void 0:d.line),startSymbol:(0,s.Z)({},l.n0,null==d?void 0:d.lineStartSymbol),endSymbol:(0,s.Z)({},l.n0,null==d?void 0:d.lineEndSymbol)}})}setLineAttributes(){let{center:t,radius:e,startAngle:i,endAngle:a,startSymbol:n,endSymbol:r,lineStyle:o,state:h}=this.attribute;this._line&&this._line.setAttributes({center:t,radius:e,startAngle:i,endAngle:a,startSymbol:n,endSymbol:r,lineStyle:o,state:{line:(0,s.Z)({},l.n0,null==h?void 0:h.line),startSymbol:(0,s.Z)({},l.n0,null==h?void 0:h.lineStartSymbol),endSymbol:(0,s.Z)({},l.n0,null==h?void 0:h.lineEndSymbol)}})}isValidPoints(){return!0}addMarkLineLabels(t){this._addMarkLabels(t,"mark-common-line-label",c.defaultAttributes.label)}updateMarkLineLabels(){this._updateMarkLabels(c.defaultAttributes.label)}}c.defaultAttributes=h.Xk},248994:function(t,e,i){i.d(e,{J:()=>g,v:()=>p});var s=i(222669),a=i(20408),n=i(89530),l=i(612430),r=i(646428),o=i(689037),h=i(212697),d=i(94916),u=i(743394),c=i(280546),b=i(13323);function g(){p._animate=c.ap}(0,d.Pu)();class p extends r.J{markerAnimate(t){p._animate&&this._animationConfig&&p._animate(this._area,this._label,this._animationConfig,t)}getArea(){return this._area}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},p.defaultAttributes,t)),this.name="markArea",this.defaultUpdateAnimation=c.ZA,this.defaultExitAnimation=c._h}getPointAttrByPosition(t){let{x1:e,x2:i,y1:s,y2:a}=this._area.AABBBounds,n={x:(e+i)/2,y:(s+a)/2};return(t.includes("left")||t.includes("Left"))&&(n.x=e),(t.includes("right")||t.includes("Right"))&&(n.x=i),(t.includes("top")||t.includes("Top"))&&(n.y=s),(t.includes("bottom")||t.includes("Bottom"))&&(n.y=a),n}setLabelPos(t,e){var i;if(this._area){let s=null!=(i=e.position)?i:"middle",a=this.getPointAttrByPosition(s);if(t.setAttributes(Object.assign(Object.assign({},a),{textStyle:Object.assign(Object.assign({},o.tO[s]),e.textStyle)})),this.attribute.limitRect&&e.confine){let{x:e,y:i,width:s,height:a}=this.attribute.limitRect;(0,h.v)(t,{x1:e,y1:i,x2:e+s,y2:i+a})}}}initMarker(t){let{points:e,areaStyle:i,state:n}=this.attribute,l=s.i.polygon(Object.assign({points:e},i));l.states=(0,a.Z)({},u.n0,null==n?void 0:n.area),l.name="mark-area-polygon",this._area=l,t.add(l),this._addMarkLabels(t,"mark-area-label",p.defaultAttributes.label)}updateMarker(){let{points:t,areaStyle:e,state:i}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({points:t},e)),this._area.states=(0,a.Z)({},u.n0,null==i?void 0:i.area)),this._updateMarkLabels(p.defaultAttributes.label)}isValidPoints(){let{points:t}=this.attribute;if(!t||t.length<3)return!1;let e=!0;return t.forEach(t=>{(0,n.Z)(t.x)&&(0,n.Z)(t.y)||(e=!1)}),e}}p.defaultAttributes=o.O7,(0,l.jB)(p,b.p)},646428:function(t,e,i){i.d(e,{J:()=>o});var s=i(222669),a=i(683330),n=i(670144),l=i(480971),r=i(20408);class o extends a.k{constructor(){super(...arguments),this.name="marker",this._onHover=t=>{this._lastHover=(0,n.fM)(t,this._container,this._lastHover)},this._onUnHover=t=>{this._lastHover=(0,n.lO)(t,this._container,this._lastHover)},this._onClick=t=>{this._lastSelect=(0,n.Q6)(t,this._container,this._lastSelect)}}transAnimationConfig(){var t,e,i;if(!1!==this.attribute.animation){let s=(0,l.Z)(this.attribute.animation)?this.attribute.animation:{};this._animationConfig={enter:(0,r.Z)({},this.defaultUpdateAnimation,s,null!=(t=this.attribute.animationEnter)?t:{}),exit:(0,r.Z)({},this.defaultExitAnimation,s,null!=(e=this.attribute.animationExit)?e:{}),update:(0,r.Z)({},this.defaultUpdateAnimation,s,null!=(i=this.attribute.animationUpdate)?i:{})}}}setAttribute(t,e,i){super.setAttribute(t,e,i),"visible"===t&&this.render()}_bindEvent(){var t,e,i;if(!this.attribute.interactive)return;let{hover:s,select:a}=this.attribute;s&&(null==(t=this._container)||t.addEventListener("pointermove",this._onHover),null==(e=this._container)||e.addEventListener("pointerout",this._onUnHover)),a&&(null==(i=this._container)||i.addEventListener("pointerdown",this._onClick))}_releaseEvent(){var t,e,i;null==(t=this._container)||t.removeEventListener("pointermove",this._onHover),null==(e=this._container)||e.removeEventListener("pointerout",this._onUnHover),null==(i=this._container)||i.removeEventListener("pointerdown",this._onClick)}_initContainer(){var t,e;let i,{limitRect:a={},clipInRange:n}=this.attribute;if(n){let n=s.i.group(Object.assign(Object.assign({},a),{clip:!0,pickable:!1}));i=s.i.group({x:-(null!=(t=a.x)?t:0),y:-(null!=(e=a.y)?e:0),pickable:!1}),n.add(i),this._containerClip=n,this.add(n)}else i=s.i.group({x:0,y:0,pickable:!1}),this.add(i);i.name="marker-container",this._container=i}_updateContainer(){var t,e;let{limitRect:i={},clipInRange:s}=this.attribute;this._containerClip&&this._containerClip.setAttributes(Object.assign({},i)),this._container.setAttributes({x:s?-(null!=(t=i.x)?t:0):0,y:s?-(null!=(e=i.y)?e:0):0})}render(){var t;this.transAnimationConfig(),this.setAttribute("pickable",!1);let e=null==(t=this.attribute.visible)||t;!1===this.attribute.interactive&&this.setAttribute("childrenPickable",!1),e&&this.isValidPoints()?this._container?(this._updateContainer(),this.updateMarker(),this.markerAnimate("update")):(this._initContainer(),this.initMarker(this._container),this.markerAnimate("enter")):(this.markerAnimate("exit"),this._container=null,this.removeAllChild(!0)),this._releaseEvent(),this._bindEvent()}release(){this.markerAnimate("exit"),super.release(),this._releaseEvent(),this._container=null}}},200307:function(t,e,i){i.d(e,{C:()=>o});var s=i(612430),a=i(212697),n=i(646428),l=i(280546),r=i(13323);class o extends n.J{constructor(){super(...arguments),this.name="markCommonLine",this.defaultUpdateAnimation=l.dq,this.defaultExitAnimation=l._h}getLine(){return this._line}setLabelPos(t,e){let{limitRect:i}=this.attribute,{position:s,confine:n,autoRotate:l}=e,r=this.getPointAttrByPosition(s,e),o=s.toString().toLocaleLowerCase().includes("start")?this._line.getStartAngle()||0:this._line.getEndAngle()||0;if(t.setAttributes(Object.assign(Object.assign({},r.position),{angle:l?this.getRotateByAngle(r.angle,e):0,textStyle:Object.assign(Object.assign({},this.getTextStyle(s,o,l)),e.textStyle)})),i&&n){let{x:e,y:s,width:n,height:l}=i;(0,a.v)(t,{x1:e,y1:s,x2:e+n,y2:s+l})}}initMarker(t){let e=this.createSegment();e.name="mark-common-line-line",this._line=e,t.add(e),this.addMarkLineLabels(t)}updateMarker(){this.setLineAttributes(),this.updateMarkLineLabels()}}(0,s.jB)(o,r.p)},689037:function(t,e,i){i.d(e,{Ce:()=>a,FO:()=>n,HY:()=>h,Lz:()=>l,O7:()=>o,Xk:()=>r,d8:()=>d,tO:()=>u,wB:()=>c,xG:()=>b});var s=i(809505);let a=.001,n={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{position:s.GZ.end,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},l={postiveXAxis:{start:{textAlign:"left",textBaseline:"middle"},startTop:{textAlign:"left",textBaseline:"bottom"},startBottom:{textAlign:"left",textBaseline:"top"},insideStart:{textAlign:"right",textBaseline:"middle"},insideStartTop:{textAlign:"right",textBaseline:"bottom"},insideStartBottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"left",textBaseline:"middle"},endTop:{textAlign:"left",textBaseline:"bottom"},endBottom:{textAlign:"left",textBaseline:"top"},insideEnd:{textAlign:"right",textBaseline:"middle"},insideEndTop:{textAlign:"right",textBaseline:"bottom"},insideEndBottom:{textAlign:"right",textBaseline:"top"}},negativeXAxis:{start:{textAlign:"right",textBaseline:"middle"},startTop:{textAlign:"right",textBaseline:"bottom"},startBottom:{textAlign:"right",textBaseline:"top"},insideStart:{textAlign:"left",textBaseline:"middle"},insideStartTop:{textAlign:"left",textBaseline:"bottom"},insideStartBottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"right",textBaseline:"middle"},endTop:{textAlign:"right",textBaseline:"bottom"},endBottom:{textAlign:"right",textBaseline:"top"},insideEnd:{textAlign:"left",textBaseline:"middle"},insideEndTop:{textAlign:"left",textBaseline:"bottom"},insideEndBottom:{textAlign:"left",textBaseline:"top"}}},r={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{autoRotate:!0,position:s.cm.arcOuterMiddle,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},o={interactive:!0,label:{position:s.Co.right,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},h={interactive:!0,label:{autoRotate:!0,position:s.cm.arcOuterMiddle,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},d={arcInnerStart:{textAlign:"center",textBaseline:"bottom"},arcInnerEnd:{textAlign:"center",textBaseline:"bottom"},arcInnerMiddle:{textAlign:"center",textBaseline:"bottom"},arcOuterStart:{textAlign:"center",textBaseline:"top"},arcOuterEnd:{textAlign:"center",textBaseline:"top"},arcOuterMiddle:{textAlign:"center",textBaseline:"top"},center:{textAlign:"center",textBaseline:"middle"}},u={left:{textAlign:"right",textBaseline:"middle"},insideLeft:{textAlign:"left",textBaseline:"middle"},right:{textAlign:"left",textBaseline:"middle"},insideRight:{textAlign:"right",textBaseline:"middle"},top:{textAlign:"center",textBaseline:"bottom"},insideTop:{textAlign:"center",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"top"},insideBottom:{textAlign:"center",textBaseline:"bottom"},middle:{textAlign:"center",textBaseline:"middle"},topLeft:{textAlign:"right",textBaseline:"top"},insideTopLeft:{textAlign:"left",textBaseline:"top"},topRight:{textAlign:"left",textBaseline:"top"},insideTopRight:{textAlign:"right",textBaseline:"top"},bottomLeft:{textAlign:"right",textBaseline:"bottom"},insideBottomLeft:{textAlign:"left",textBaseline:"bottom"},bottomRight:{textAlign:"left",textBaseline:"bottom"},insideBottomRight:{textAlign:"right",textBaseline:"bottom"}},c={interactive:!0,targetSymbol:{visible:!1,offset:0,style:{symbolType:"circle",size:20,fill:!1,stroke:"rgba(46, 47, 50)"}},itemLine:{visible:!0,decorativeLine:{visible:!1,length:30},startSymbol:{visible:!0,clip:!0,symbolType:"circle",size:20,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},endSymbol:{visible:!1,clip:!0,symbolType:"triangle",size:12,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},lineStyle:{stroke:"#000",lineWidth:1}},itemContent:{type:"text",position:"middle",refX:10}},b={postiveXAxis:{top:{textAlign:"left",textBaseline:"bottom"},bottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"left",textBaseline:"middle"},insideTop:{textAlign:"right",textBaseline:"bottom"},insideBottom:{textAlign:"right",textBaseline:"top"},insideMiddle:{textAlign:"right",textBaseline:"middle"}},negativeXAxis:{top:{textAlign:"right",textBaseline:"bottom"},bottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"right",textBaseline:"middle"},insideTop:{textAlign:"left",textBaseline:"bottom"},insideBottom:{textAlign:"left",textBaseline:"top"},insideMiddle:{textAlign:"left",textBaseline:"middle"}}}},436747:function(t,e,i){i.d(e,{I:()=>b,_:()=>c});var s=i(20408),a=i(89530),n=i(94916),l=i(200307),r=i(373550),o=i(743394),h=i(689037),d=i(280546),u=i(883731);function c(){b._animate=d.Pc}(0,n.Dm)();class b extends l.C{markerAnimate(t){b._animate&&this._animationConfig&&b._animate(this._line,this._label,this._animationConfig,t)}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},b.defaultAttributes,t)),this.name="markLine"}getPointAttrByPosition(t,e){var i;let{refX:s=0,refY:a=0}=e,n=this._line.getMainSegmentPoints(),l=null!=(i=this._line.getEndAngle())?i:0,r=((0,u.WF)(l),l),o=s*Math.cos(r)+a*Math.cos(r-Math.PI/2),h=s*Math.sin(r)+a*Math.sin(r-Math.PI/2);return t.includes("start")||t.includes("Start")?{position:{x:n[0].x+o,y:n[0].y+h},angle:r}:t.includes("middle")||t.includes("Middle")?{position:{x:(n[0].x+n[n.length-1].x)/2+o,y:(n[0].y+n[n.length-1].y)/2+h},angle:r}:{position:{x:n[n.length-1].x+o,y:n[n.length-1].y+h},angle:r}}getRotateByAngle(t,e){var i;return((0,u.WF)(t)?t:t-Math.PI)+(null!=(i=e.refAngle)?i:0)}getTextStyle(t,e,i){return(0,u.U4)(Math.abs(e),Math.PI/2,h.Ce)||(0,u.U4)(Math.abs(e),3*Math.PI/2,h.Ce)?(0,u.ic)(i,e,t):(0,u.WF)(e)?h.Lz.postiveXAxis[t]:h.Lz.negativeXAxis[t]}createSegment(){let{points:t,startSymbol:e,endSymbol:i,lineStyle:a,mainSegmentIndex:n,multiSegment:l,state:h}=this.attribute;return new r.X({points:t,startSymbol:e,endSymbol:i,lineStyle:a,mainSegmentIndex:n,multiSegment:l,pickable:!1,state:{line:(0,s.Z)({},o.n0,null==h?void 0:h.line),startSymbol:(0,s.Z)({},o.n0,null==h?void 0:h.lineStartSymbol),endSymbol:(0,s.Z)({},o.n0,null==h?void 0:h.lineEndSymbol)}})}setLineAttributes(){let{points:t,startSymbol:e,endSymbol:i,lineStyle:a,mainSegmentIndex:n,multiSegment:l,state:r}=this.attribute;this._line&&this._line.setAttributes({points:t,startSymbol:e,endSymbol:i,lineStyle:a,mainSegmentIndex:n,multiSegment:l,state:{line:(0,s.Z)({},o.n0,null==r?void 0:r.line),startSymbol:(0,s.Z)({},o.n0,null==r?void 0:r.lineStartSymbol),endSymbol:(0,s.Z)({},o.n0,null==r?void 0:r.lineEndSymbol)}})}isValidPoints(){let{points:t}=this.attribute;if(!t||t.length<2)return!1;let e=!0;return t.forEach(t=>{if(t.length)t.forEach(t=>{(0,a.Z)(t.x)&&(0,a.Z)(t.y)||(e=!1)});else if(!(0,a.Z)(t.x)||!(0,a.Z)(t.y))return void(e=!1)}),e}addMarkLineLabels(t){this._addMarkLabels(t,"mark-common-line-label",b.defaultAttributes.label)}updateMarkLineLabels(){this._updateMarkLabels(b.defaultAttributes.label)}}b.defaultAttributes=h.FO},13323:function(t,e,i){i.d(e,{p:()=>r});var s=i(999051),a=i(20408),n=i(743394),l=i(569402);class r{getLabel(){return this._label}_addMarkLabels(t,e,i){let{label:r,state:o}=this.attribute,h=(0,s.IX)(null==o?void 0:o.label),d=(0,s.IX)(null==o?void 0:o.labelBackground),u=(0,s.IX)(r).map((r,o)=>{var u,c;let b=(0,a.Z)({},i,r),g=new l.V(Object.assign(Object.assign({},b),{state:{panel:(0,a.Z)({},n.n0,null!=(u=d[o])?u:(0,s.Z$)(d)),text:(0,a.Z)({},n.n0,null!=(c=h[o])?c:(0,s.Z$)(h))}}));return g.name=e,t.add(g),this.setLabelPos(g,b),g});this._label=1===(0,s.IX)(u).length?u[0]:u}_updateMarkLabels(t){let{label:e,state:i}=this.attribute,l=(0,s.IX)(this._label),r=(0,s.IX)(null==i?void 0:i.label),o=(0,s.IX)(null==i?void 0:i.labelBackground);if(l.length){let i=(0,s.IX)(e);l.forEach((e,l)=>{var h,d;let u=(0,a.Z)({},t,i[l]);e.setAttributes(Object.assign(Object.assign({dx:0,dy:0},u),{state:{panel:(0,a.Z)({},n.n0,null!=(h=o[l])?h:(0,s.Z$)(o)),text:(0,a.Z)({},n.n0,null!=(d=r[l])?d:(0,s.Z$)(r))}})),this.setLabelPos(e,u)})}}}},365555:function(t,e,i){i.d(e,{Q:()=>_,E:()=>x});var s=i(222669),a=i(20408),n=i(89530),l=i(211465),r=i(373550),o=i(569402),h=i(646428),d=i(689037),u=i(809505),c=i(94916),b=i(212697),g=i(743394),p=i(280546),f=i(883731);let m=(t,e)=>{let i=Math.atan2(t,e);return i<0?i+2*Math.PI:i};function x(){_._animate=p.Bu}(0,c.yq)();class _ extends h.J{markerAnimate(t){_._animate&&this._animationConfig&&_._animate([this._line,this._decorativeLine],this._item,this._animationConfig,t)}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},_.defaultAttributes,t)),this.name="markPoint",this.defaultUpdateAnimation=p.mF,this.defaultExitAnimation=p._h,this._isArcLine=!1,this._isStraightLine=!1}setLabelPos(){}getTextAlignAttr(t,e,i,s,a){return(0,f.U4)(Math.abs(s),Math.PI/2,d.Ce)||(0,f.U4)(Math.abs(s),3*Math.PI/2,d.Ce)?(0,f.ic)(t,s,a):(0,f.WF)(s)?d.xG.postiveXAxis[a]:d.xG.negativeXAxis[a]}setItemAttributes(t,e,i,s,n){var l,r;if(!t)return;let{autoRotate:o=!0,refX:h=0,refY:d=0,refAngle:c=0,style:b,position:p=u.cU.middle}=e,{state:m}=this.attribute,x=(null==(l=this._line)?void 0:l.getEndAngle())||0,_=h*Math.cos(x)+d*Math.cos(x-Math.PI/2),y=h*Math.sin(x)+d*Math.sin(x-Math.PI/2);if("text"===n){let n=s.x-i.x,l=s.y-i.y;t.setAttributes(Object.assign(Object.assign({},b),{textStyle:Object.assign(Object.assign({},this.getTextAlignAttr(o,n,l,x,null!=(r=e.position)?r:"end")),b.textStyle),state:{panel:(0,a.Z)({},g.n0,null==m?void 0:m.textBackground),text:(0,a.Z)({},g.n0,null==m?void 0:m.itemContent)}}))}else("richText"===n||"image"===n)&&(t.setAttributes({dx:this.getItemDx(t,p,b)+(b.dx||0),dy:this.getItemDy(t,p,b)+(b.dy||0)}),t.states=(0,a.Z)({},g.n0,null==m?void 0:m.itemContent));let v=(0,f.WF)(x)?x:x-Math.PI;t.setAttributes({x:s.x+(_||0),y:s.y+(y||0),angle:o&&v+c})}getItemDx(t,e,i){var s,a;let n=null!=(a=null==(s=null==t?void 0:t.AABBBounds)?void 0:s.width())?a:(null==i?void 0:i.width)||0;return e.includes("inside")?-n:0}getItemDy(t,e,i){var s,a;let n=null!=(a=null==(s=null==t?void 0:t.AABBBounds)?void 0:s.height())?a:(null==i?void 0:i.height)||0;return e.includes("top")||e.includes("Top")?-n:e.includes("middle")||e.includes("Middle")?-n/2:0}initItem(t,e,i){let n,{state:l}=this.attribute,{type:r="text",style:h,renderCustomCallback:d}=t;return"symbol"===r?(n=s.i.symbol(Object.assign(Object.assign({},i),h))).states=(0,a.Z)({},g.n0,null==l?void 0:l.itemContent):"text"===r?n=new o.V(Object.assign(Object.assign({},i),{state:{panel:(0,a.Z)({},g.n0,null==l?void 0:l.textBackground),text:(0,a.Z)({},g.n0,null==l?void 0:l.itemContent)}})):"richText"===r?(n=s.i.richtext(Object.assign(Object.assign({},i),h))).states=(0,a.Z)({},g.n0,null==l?void 0:l.itemContent):"image"===r?(n=s.i.image(Object.assign(Object.assign({},i),h))).states=(0,a.Z)({},g.n0,null==l?void 0:l.itemContent):"custom"===r&&d&&((n=d()).states=(0,a.Z)({},g.n0,null==l?void 0:l.itemContent)),n.name=`mark-point-${r}`,this.setItemAttributes(n,t,e,i,r),n}getItemLineAttr(t,e,i){let s=[],a={x:0,y:0},n=0,l=0,r=0,{type:o="type-s",arcRatio:h=.8}=t,u=i.x-e.x,c=i.y-e.y;if(this._isStraightLine=(0,f.U4)(u,0,d.Ce)||(0,f.U4)(c,0,d.Ce),this._isArcLine){let{x:t,y:e}=this.attribute.position,{x:s,y:o}=i,d=(t+s)/2,u=d+h*(o>e?-1:1)*d,c=(e===o?0:-(t-s)/(e-o))*(u-d)+(e+o)/2;l=m(e-c,t-u),r=m(o-c,s-u),a={x:u,y:c};let b=Math.sqrt((u-t)*(u-t)+(c-e)*(c-e)),g=this.attribute.targetSymbol.style.size/2;l+=2*Math.acos(Math.sqrt(1-g*g/(4*b*b))),h>0?r<l&&(r+=2*Math.PI):l<r&&(l+=2*Math.PI),n=Math.sqrt((u-t)*(u-t)+(c-e)*(c-e))}else s="type-do"!==o||this._isStraightLine?"type-po"!==o||this._isStraightLine?"type-op"!==o||this._isStraightLine?[e,i]:[e,{x:e.x,y:i.y},i]:[e,{x:i.x,y:e.y},i]:[e,{x:(e.x+i.x)/2,y:i.y},i];return{points:s=(0,f.Bh)(s),center:a,radius:n,startAngle:l,endAngle:r}}reDrawLine(t,e){this._line.release();let{startSymbol:i,endSymbol:s,lineStyle:n,type:o="type-s"}=t,{state:h}=this.attribute,d=this._isArcLine?l.S:r.X;this._container.removeChild(this._line),this._line=new d(Object.assign(Object.assign({},e),{pickable:!1,startSymbol:i,endSymbol:s,lineStyle:n,visible:t.visible,state:{line:(0,a.Z)({},g.n0,null==h?void 0:h.line),startSymbol:(0,a.Z)({},g.n0,null==h?void 0:h.lineStartSymbol),endSymbol:(0,a.Z)({},g.n0,null==h?void 0:h.lineEndSymbol)}})),this._container.add(this._line)}setItemLineAttr(t,e,i){if(this._line){let{startSymbol:s,endSymbol:n,lineStyle:l,type:r="type-s"}=t,{state:o}=this.attribute,h=this.getItemLineAttr(t,e,i);this._isArcLine&&"arc-segment"===this._line.key||!this._isArcLine&&"segment"===this._line.key?this._line.setAttributes(Object.assign(Object.assign({},h),{startSymbol:s,endSymbol:n,lineStyle:l,visible:t.visible,state:{line:(0,a.Z)({},g.n0,null==o?void 0:o.line),startSymbol:(0,a.Z)({},g.n0,null==o?void 0:o.lineStartSymbol),endSymbol:(0,a.Z)({},g.n0,null==o?void 0:o.lineEndSymbol)}})):this.reDrawLine(t,h)}}getDecorativeLineAttr(t){var e;let i=(null==(e=null==t?void 0:t.decorativeLine)?void 0:e.length)||10,s=this._line.getEndAngle()||0;return{startPointOffsetX:i/2*Math.cos(s-Math.PI/2),startPointOffsetY:i/2*Math.sin(s-Math.PI/2),endPointOffsetX:-i/2*Math.cos(s-Math.PI/2),endPointOffsetY:-i/2*Math.sin(s-Math.PI/2)}}setDecorativeLineAttr(t,e,i){var s;if(this._decorativeLine){let{lineStyle:n}=t,{startPointOffsetX:l,startPointOffsetY:r,endPointOffsetX:o,endPointOffsetY:h}=this.getDecorativeLineAttr(t);this._decorativeLine.setAttributes(Object.assign(Object.assign({points:[{x:e.x+l,y:e.y+r},{x:e.x+o,y:e.y+h}]},n),{visible:i})),this._decorativeLine.states=(0,a.Z)({},g.n0,null==(s=this.attribute.state)?void 0:s.line)}}setTargetItemAttributes(t,e){var i,s;this._targetItem&&(this._targetItem.setAttributes(Object.assign({x:e.x,y:e.y,visible:null!=(i=t.visible)&&i,size:t.size},t.style)),this._targetItem.states=(0,a.Z)({},g.n0,null==(s=this.attribute.state)?void 0:s.targetItem))}setAllOfItemsAttr(t,e){var i;let{position:s,itemLine:a={},itemContent:n={},limitRect:l,targetSymbol:r}=this.attribute,{type:o="text",confine:h}=n;if(l&&h){let{x:t,y:i,width:s,height:a}=l,{dx:n,dy:r}=(0,b.O)(this._item,{x1:t,y1:i,x2:t+s,y2:i+a});e.x=e.x+n,e.y=e.y+r}this.setTargetItemAttributes(r,s),this.setItemLineAttr(a,t,e),this.setItemAttributes(this._item,n,t,e,o),this.setDecorativeLineAttr(a,e,null==(i=a.decorativeLine)?void 0:i.visible)}computeNewPositionAfterTargetItem(t){var e,i;let s,{itemContent:a={},targetSymbol:n,itemLine:l}=this.attribute,{offsetX:r=0,offsetY:o=0}=a,{offset:h=0,style:d,visible:u=!1,size:c}=n,b=u?null!=(i=null!=(e=d.size)?e:c)?i:20:0;return s="type-do"===l.type?m(o,r/2):"type-po"===l.type?m(0,r):"type-op"===l.type?m(o,0):m(o,r),{newPosition:{x:t.x+(b/2+h)*Math.cos(s),y:t.y+(b/2+h)*Math.sin(s)},newItemPosition:{x:t.x+(b/2+h)*Math.cos(s)+r,y:t.y+(b/2+h)*Math.sin(s)+o}}}initMarker(t){let{position:e,itemContent:i={},itemLine:a}=this.attribute,{type:n="type-s",arcRatio:o=.8}=a,{offsetX:h=0,offsetY:u=0}=i;this._isStraightLine=(0,f.U4)(h,0,d.Ce)||(0,f.U4)(u,0,d.Ce),this._isArcLine="type-arc"===n&&0!==o&&!this._isStraightLine;let{newPosition:c,newItemPosition:b}=this.computeNewPositionAfterTargetItem(e),g=new(this._isArcLine?l.S:r.X)({points:[],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0});g.name="mark-point-line",this._line=g,t.add(g);let p=s.i.line({points:[]});p.name="mark-point-decorativeLine",this._decorativeLine=p,t.add(p);let m=s.i.symbol({});m.name="mark-point-targetItem",this._targetItem=m,t.add(this._targetItem);let x=this.initItem(i,c,b);this._item=x,t.add(x),this.setAllOfItemsAttr(c,b)}updateMarker(){let{position:t,itemContent:e={},itemLine:i}=this.attribute,{type:s="text"}=e,{type:a="type-s",arcRatio:n=.8}=i,{offsetX:l=0,offsetY:r=0}=e;this._isStraightLine=(0,f.U4)(l,0,d.Ce)||(0,f.U4)(r,0,d.Ce);let o="type-arc"===a&&0!==n&&!this._isStraightLine,{newPosition:h,newItemPosition:u}=this.computeNewPositionAfterTargetItem(t);o!==this._isArcLine?(this._isArcLine=o,this.reDrawLine(i,{points:[{x:0,y:0}],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0})):this._isArcLine=o,this.setItemAttributes(this._item,e,h,u,s),this.setAllOfItemsAttr(h,u)}isValidPoints(){let{position:t}=this.attribute;return!(!(0,n.Z)(t.x)||!(0,n.Z)(t.y))}}_.defaultAttributes=d.wB},94916:function(t,e,i){i.d(e,{Dm:()=>b,Pu:()=>p,bK:()=>f,x_:()=>g,yq:()=>m});var s=i(745772),a=i(401470),n=i(249157),l=i(483590),r=i(349826),o=i(262041),h=i(975320),d=i(223304),u=i(409194);function c(){(0,s.M)(),(0,h.b)(),(0,u.d)()}function b(){c(),(0,d.j)(),(0,u.d)()}function g(){c(),(0,d.O)(),(0,u.d)()}function p(){c(),(0,a.M)(),(0,u.d)()}function f(){c(),(0,n.x)(),(0,u.d)()}function m(){c(),(0,d.j)(),(0,d.O)(),(0,l.k)(),(0,r.i)(),(0,o.N)(),(0,u.d)()}},809505:function(t,e,i){var s,a,n,l,r,o,h,d;i.d(e,{Co:()=>a,GZ:()=>s,cU:()=>l,cm:()=>n}),(r=s||(s={})).start="start",r.startTop="startTop",r.startBottom="startBottom",r.insideStart="insideStart",r.insideStartTop="insideStartTop",r.insideStartBottom="insideStartBottom",r.middle="middle",r.insideMiddleTop="insideMiddleTop",r.insideMiddleBottom="insideMiddleBottom",r.end="end",r.endTop="endTop",r.endBottom="endBottom",r.insideEnd="insideEnd",r.insideEndTop="insideEndTop",r.insideEndBottom="insideEndBottom",(o=a||(a={})).left="left",o.right="right",o.top="top",o.bottom="bottom",o.topLeft="topLeft",o.topRight="topRight",o.bottomLeft="bottomLeft",o.bottomRight="bottomRight",o.middle="middle",o.insideLeft="insideLeft",o.insideRight="insideRight",o.insideTop="insideTop",o.insideBottom="insideBottom",o.insideTopLeft="insideTopLeft",o.insideTopRight="insideTopRight",o.insideBottomLeft="insideBottomLeft",o.insideBottomRight="insideBottomRight",(h=n||(n={})).arcInnerStart="arcInnerStart",h.arcInnerEnd="arcInnerEnd",h.arcInnerMiddle="arcInnerMiddle",h.arcOuterStart="arcOuterStart",h.arcOuterEnd="arcOuterEnd",h.arcOuterMiddle="arcOuterMiddle",h.center="center",(d=l||(l={})).top="top",d.bottom="bottom",d.middle="middle",d.insideTop="insideTop",d.insideBottom="insideBottom",d.insideMiddle="insideMiddle"},256031:function(t,e,i){i.d(e,{s:()=>l});var s=i(745772),a=i(483590),n=i(865509);function l(){(0,s.M)(),(0,a.k)(),(0,n.g)()}},687985:function(t,e,i){i.d(e,{r:()=>m});var s=i(20408),a=i(89530),n=i(408830),l=i(704654),r=i(683330),o=i(414427),h=i(454326),d=i(897210);class u extends d.m{constructor(t){super(t)}}var c=i(12051);class b extends r.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},b.defaultAttributes,t)),this._isPaused=!0,this.updateAttributes=()=>{this._startAttr={style:Object.assign(Object.assign(Object.assign({symbolType:"M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -73.1429 161.4994 a 48.7619 48.7619 0 0 1 25.9901 7.5093 l 201.7524 127.1223 a 48.7619 48.7619 0 0 1 0.3657 82.2613 l -201.7524 129.6335 A 48.7619 48.7619 0 0 1 292.5952 540.1838 v -256.7314 a 48.7619 48.7619 0 0 1 48.7619 -48.7619 z m 24.381 92.9402 v 167.9116 l 131.9497 -84.7726 L 365.7381 327.6063 z"},b.defaultControllerAttr),{visible:this.attribute.start.visible}),this.attribute.start.style)},this._pauseAttr={style:Object.assign(Object.assign(Object.assign({symbolType:"M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -48.7619 195.0476 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z m 158.4762 0 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z"},b.defaultControllerAttr),{visible:this.attribute.pause.visible}),this.attribute.pause.style)},this._forwardAttr={style:Object.assign(Object.assign(Object.assign({},b.defaultControllerAttr),{visible:this.attribute.forward.visible}),this.attribute.forward.style)},this._backwardAttr={style:Object.assign(Object.assign(Object.assign({},b.defaultControllerAttr),{visible:this.attribute.backward.visible}),this.attribute.backward.style)},this.updateLayout()},this.updateLayout=()=>{var t,e,i,s;this._layout=this.attribute.layout,"horizontal"===this._layout?(this._backwardAttr.style.symbolType=null!=(t=this._backwardAttr.style.symbolType)?t:"M 521.29 734.276 L 230.929 448.019 L 521.29 161.762 c 37.685 -37.153 38.003 -97.625 0.707 -134.384 c -37.297 -36.758 -98.646 -36.435 -136.331 0.718 l -357.43 352.378 c -0.155 0.153 -0.297 0.314 -0.451 0.468 c -0.084 0.082 -0.172 0.157 -0.256 0.239 c -18.357 18.092 -27.581 41.929 -27.743 65.902 c -0.004 0.311 -0.017 0.623 -0.018 0.934 c 0.001 0.316 0.014 0.632 0.018 0.948 c 0.165 23.97 9.389 47.803 27.743 65.892 c 0.083 0.082 0.171 0.157 0.255 0.239 c 0.154 0.154 0.296 0.315 0.452 0.468 l 357.43 352.378 c 37.685 37.153 99.034 37.476 136.331 0.718 c 37.297 -36.758 36.979 -97.231 -0.707 -134.384 z",this._forwardAttr.style.symbolType=null!=(e=this._forwardAttr.style.symbolType)?e:"M 30 163 L 320.361 449.257 L 30 735.514 c -37.685 37.153 -38.003 97.625 -0.707 134.384 c 37.297 36.758 98.646 36.435 136.331 -0.718 l 357.43 -352.378 c 0.155 -0.153 0.297 -0.314 0.451 -0.468 c 0.084 -0.082 0.172 -0.157 0.256 -0.239 c 18.357 -18.092 27.581 -41.929 27.743 -65.902 c 0.004 -0.311 0.017 -0.623 0.018 -0.934 c -0.001 -0.316 -0.014 -0.632 -0.018 -0.948 c -0.165 -23.97 -9.389 -47.803 -27.743 -65.892 c -0.083 -0.082 -0.171 -0.157 -0.255 -0.239 c -0.154 -0.154 -0.296 -0.315 -0.452 -0.468 l -357.43 -352.378 c -37.685 -37.153 -99.034 -37.476 -136.331 -0.718 c -37.297 36.758 -36.979 97.231 0.707 134.384 z"):"vertical"===this._layout&&(this._backwardAttr.style.symbolType=null!=(i=this._backwardAttr.style.symbolType)?i:"m 161.724 521.29 l 286.257 -290.361 l 286.257 290.361 c 37.153 37.685 97.625 38.003 134.384 0.707 c 36.758 -37.297 36.435 -98.646 -0.718 -136.331 l -352.378 -357.43 c -0.153 -0.155 -0.314 -0.297 -0.468 -0.451 c -0.082 -0.084 -0.157 -0.172 -0.239 -0.256 c -18.092 -18.357 -41.929 -27.581 -65.902 -27.743 c -0.311 -0.004 -0.623 -0.017 -0.934 -0.018 c -0.316 0.001 -0.632 0.014 -0.948 0.018 c -23.97 0.165 -47.803 9.389 -65.892 27.743 c -0.082 0.083 -0.157 0.171 -0.239 0.255 c -0.154 0.154 -0.315 0.296 -0.468 0.452 l -352.378 357.43 c -37.153 37.685 -37.476 99.034 -0.718 136.331 c 36.758 37.297 97.231 36.979 134.384 -0.707 z",this._forwardAttr.style.symbolType=null!=(s=this._forwardAttr.style.symbolType)?s:"M 734.276 28.71 L 448.019 319.071 L 161.762 28.71 c -37.153 -37.685 -97.625 -38.003 -134.384 -0.707 c -36.758 37.297 -36.435 98.646 0.718 136.331 l 352.378 357.43 c 0.153 0.155 0.314 0.297 0.468 0.451 c 0.082 0.084 0.157 0.172 0.239 0.256 c 18.092 18.357 41.929 27.581 65.902 27.743 c 0.311 0.004 0.623 0.017 0.934 0.018 c 0.316 -0.001 0.632 -0.014 0.948 -0.018 c 23.97 -0.165 47.803 -9.389 65.892 -27.743 c 0.082 -0.083 0.157 -0.171 0.239 -0.255 c 0.154 -0.154 0.315 -0.296 0.468 -0.452 l 352.378 -357.43 c 37.153 -37.685 37.476 -99.034 0.718 -136.331 c -36.758 -37.297 -97.231 -36.979 -134.384 0.707 z")},this._initPlay=()=>{(0,h.Z)(this._playController)&&(this._playController=new u(Object.assign({},this._startAttr.style)),this.add(this._playController))},this._initBackward=()=>{(0,h.Z)(this._backwardController)&&(this._backwardController=new u(Object.assign({},this._backwardAttr.style)),this.add(this._backwardController))},this._initForward=()=>{(0,h.Z)(this._forwardController)&&(this._forwardController=new u(Object.assign({},this._forwardAttr.style)),this.add(this._forwardController))},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._playController.addEventListener("pointerdown",t=>{t.stopPropagation(),!0===this._isPaused?this.play():this.pause()}),this._backwardController.addEventListener("pointerdown",t=>{t.stopPropagation(),this.backward()}),this._forwardController.addEventListener("pointerdown",t=>{t.stopPropagation(),this.forward()}))},this.renderPlay=()=>{this._isPaused?this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._startAttr.style)):this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._pauseAttr.style))},this.renderBackward=()=>{this._backwardController.setAttributes(this._backwardAttr.style)},this.renderForward=()=>{this._forwardController.setAttributes(this._forwardAttr.style)},this.play=()=>{this._dispatchEvent(c.k.OnPlay)},this.pause=()=>{this._dispatchEvent(c.k.OnPause)},this.forward=()=>{this._dispatchEvent(c.k.OnForward)},this.backward=()=>{this._dispatchEvent(c.k.OnBackward)},this.togglePlay=()=>{this._playController.setAttributes(this._startAttr.style),this._isPaused=!0},this.togglePause=()=>{this._playController.setAttributes(this._pauseAttr.style),this._isPaused=!1},this.updateAttributes(),this._initPlay(),this._initBackward(),this._initForward(),this._initEvents()}render(){this.updateAttributes(),this.renderPlay(),this.renderBackward(),this.renderForward()}}b.defaultControllerAttr={visible:!0,x:0,y:0,size:20,fill:"#91caff",pickMode:"imprecise",cursor:"pointer"},b.defaultAttributes={[c.R.Start]:{},[c.R.Pause]:{},[c.R.Backward]:{},[c.R.Forward]:{}};let g={visible:!0,style:{x:0,y:0,dx:0,dy:0,size:20},order:0,space:10},p=[200,10];var f=i(259435);class m extends r.k{getMinIndex(){return this._minIndex}getMaxIndex(){return this._maxIndex}getDataIndex(){return this._dataIndex}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},m.defaultAttributes,t)),this._data=[],this._dataIndex=0,this._layoutInfo={},this._updateSliderAttrs=()=>{var t,e;let i;(0,a.Z)(this._handlerStyle.size)?i=this._handlerStyle.size:this._handlerStyle.size&&this._handlerStyle.size.length&&(i=(0,n.Fp)(this._handlerStyle.size[0],this._handlerStyle.size[1]));let s={visible:this._sliderVisible,min:this._minIndex,max:this._maxIndex,value:this._dataIndex,railWidth:this._railStyle.width,railHeight:this._railStyle.height,railStyle:this._railStyle,trackStyle:this._trackStyle,handlerSize:(0,a.Z)(i)?i:void 0,handlerStyle:this._handlerStyle,dy:this.attribute.slider.dy,dx:this.attribute.slider.dx,slidable:!0,range:!1,handlerText:{visible:!1},startText:{visible:!1},endText:{visible:!1},disableTriggerEvent:this.attribute.disableTriggerEvent};if((0,f.wE)(this._orient)){let e=Math.max(0,this._layoutInfo.slider.size),i=null!=(t=this._railStyle.height)?t:p["1"];s.layout="horizontal",s.railHeight=i,s.railWidth=e,s.x=this._layoutInfo.slider.x,s.y=this._layoutInfo.slider.y}else{let t=Math.max(0,this._layoutInfo.slider.size),i=null!=(e=this._railStyle.width)?e:p["1"];s.layout="vertical",s.railWidth=i,s.railHeight=t,s.x=this._layoutInfo.slider.x,s.y=this._layoutInfo.slider.y}return s},this._initSlider=()=>{let t=this._updateSliderAttrs();this._slider=new o.i(t),this._sliderVisible&&this.add(this._slider)},this._updateControllerAttrs=()=>{let t={start:this._start,pause:this._pause,forward:this._forward,backward:this._backward,disableTriggerEvent:this.attribute.disableTriggerEvent};return t.layout=(0,f.wE)(this._orient)?"horizontal":"vertical",t.start=Object.assign(Object.assign({},t.start),{style:Object.assign(Object.assign({},t.start.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),t.pause=Object.assign(Object.assign({},t.pause),{style:Object.assign(Object.assign({},t.pause.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),t.backward=Object.assign(Object.assign({},t.backward),{style:Object.assign(Object.assign({},t.backward.style),{x:this._layoutInfo.backward.x,y:this._layoutInfo.backward.y})}),t.forward=Object.assign(Object.assign({},t.forward),{style:Object.assign(Object.assign({},t.forward.style),{x:this._layoutInfo.forward.x,y:this._layoutInfo.forward.y})}),t},this._initController=()=>{let t=this._updateControllerAttrs();this._controller=new b(t),this._controllerVisible&&this.add(this._controller)},this._initAttributes(),this._initDataIndex(),this._initLayoutInfo(),this._initController(),this._initSlider()}_initAttributes(){this._size=this.attribute.size,this._orient=this.attribute.orient,this._data=this.attribute.data,this._minIndex=0,this._maxIndex=this._data.length-1;let{slider:t={},controller:e={}}=this.attribute;this._sliderVisible=t.visible,this._railStyle=Object.assign({},t.railStyle),this._trackStyle=Object.assign({},t.trackStyle),this._handlerStyle=Object.assign({},t.handlerStyle),this._controllerVisible=e.visible,this._start=Object.assign({},e.start),this._pause=Object.assign({},e.pause),this._forward=Object.assign({},e.forward),this._backward=Object.assign({},e.backward)}_initDataIndex(){var t;this._dataIndex=null!=(t=this.attribute.dataIndex)?t:0}_initLayoutInfo(){var t,e,i;let s=[this._start,this._backward,this._forward].sort((t,e)=>t.order-e.order),a=s.filter(t=>"end"!==t.position),r=s.filter(t=>"end"===t.position),o=null!=(t=(0,f.wE)(this._orient)?this._railStyle.height:this._railStyle.width)?t:p["1"],h=s.reduce((t,e)=>{let i=e.style.size,s=(0,l.Z)(i)?i:(0,n.Fp)(i[0],i[1]);return t+e.space+s},0),d=this._sliderVisible?((0,f.wE)(this._orient)?null==(e=this._size)?void 0:e.width:null==(i=this._size)?void 0:i.height)-h:0,u=d-this.attribute.slider.space,c=a.reduce((t,e)=>{let{key:i,space:s,style:{size:a}}=e,r=(0,l.Z)(a)?a:(0,n.Fp)(a[0],a[1]);return this._layoutInfo[i]=Object.assign(Object.assign({},this._layoutInfo[i]),{size:r,x:(0,f.wE)(this._orient)?t+s:(this._size.width-r)/2,y:(0,f.wE)(this._orient)?(this._size.height-r)/2:t+s}),t+s+r},0);this._layoutInfo.slider=Object.assign(Object.assign({},this._layoutInfo.slider),{size:u,x:(0,f.wE)(this._orient)?c+this.attribute.slider.space:(this._size.width-o)/2,y:(0,f.wE)(this._orient)?(this._size.height-o)/2:c+this.attribute.slider.space}),r.reduce((t,e)=>{let{key:i,space:s,style:{size:a}}=e,r=(0,l.Z)(a)?a:(0,n.Fp)(a[0],a[1]);return this._layoutInfo[i]=Object.assign(Object.assign({},this._layoutInfo[i]),{size:r,x:(0,f.wE)(this._orient)?t+s:(this._size.width-r)/2,y:(0,f.wE)(this._orient)?(this._size.height-r)/2:t+s}),t+s+r},c+d)}render(){this._initLayoutInfo(),this.renderSlider(),this.renderController()}renderSlider(){let t=this._updateSliderAttrs();this._slider.setAttributes(t)}renderController(){let t=this._updateControllerAttrs();this._controller.setAttributes(t)}dispatchCustomEvent(t,e){this._dispatchEvent(t,{eventType:t,index:e,value:this._data[e]})}}m.defaultAttributes={visible:!0,data:[],interval:1e3,orient:"bottom",align:"center",size:{height:20,width:300},slider:{visible:!0,space:10,dx:0,dy:0,railStyle:{cornerRadius:5},trackStyle:{},handlerStyle:{}},controller:{visible:!0,start:Object.assign(Object.assign({},g),{key:"start",position:"start",space:0}),pause:Object.assign(Object.assign({},g),{key:"pause",position:"start"}),forward:Object.assign(Object.assign({},g),{key:"forward",position:"end"}),backward:Object.assign(Object.assign({},g),{key:"backward",position:"start"})}}},773877:function(t,e,i){i.d(e,{F:()=>r});var s=i(990389),a=i(687985),n=i(501670),l=i(12051);(0,i(447206).x)();class r extends a.r{constructor(t){super(t),this._isPlaying=!1,this._startTime=Date.now(),this._initAttributes=()=>{var t;super._initAttributes(),this._maxIndex=this._data.length,this._slider.setAttribute("max",this._maxIndex),this._isPlaying=!1,this._elapsed=0,this._interval=null!=(t=this.attribute.interval)?t:1e3;let e=this._data.length;this.attribute.totalDuration&&this._data.length?(this._totalDuration=this.attribute.totalDuration,this._interval=this._totalDuration/(null!=e?e:1)):(this._totalDuration=this._interval*e,this._interval=this.attribute.interval)},this._initDataIndex=()=>{var t;this._dataIndex=null!=(t=this.attribute.dataIndex)?t:this._minIndex},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(l.k.OnPlay,t=>{t.stopPropagation(),this.play()}),this._controller.addEventListener(l.k.OnPause,t=>{t.stopPropagation(),this.pause()}),this._controller.addEventListener(l.k.OnForward,t=>{t.stopPropagation(),this.forward()}),this._controller.addEventListener(l.k.OnBackward,t=>{t.stopPropagation(),this.backward()}),this._slider.addEventListener("change",t=>{var e;t.stopPropagation();let i=null==(e=t.detail)?void 0:e.value,s=i/this._maxIndex;this._elapsed=s*this._totalDuration,this._startTime=Date.now()-this._elapsed,this._dispatchChange(i)}))},this._getSliderValue=()=>Math.min(this._elapsed/this._totalDuration*this._maxIndex,this._maxIndex),this._updateSlider=()=>{let t=this._getSliderValue();this._dataIndex=Math.floor(t),this._slider.setValue(Math.min(t,this._maxIndex)),this._dispatchChange(Math.floor(t))},this._dispatchChange=t=>{let e=Math.floor(t);e!==this._activeIndex&&(this._dataIndex=e,this._activeIndex=e,e!==this._maxIndex&&this.dispatchCustomEvent(n.R.change))},this.play=()=>{var t,e,i,a;return t=this,e=void 0,i=void 0,a=function*(){this._isPlaying||(this._controller.togglePause(),this._isPlaying=!0,this._elapsed>=this._totalDuration&&(this._elapsed=0),this._startTime=Date.now()-this._elapsed,this.dispatchCustomEvent(n.R.play),this._rafId=s.rF.getRequestAnimationFrame()(this._play.bind(this)))},new(i||(i=Promise))(function(s,n){function l(t){try{o(a.next(t))}catch(t){n(t)}}function r(t){try{o(a.throw(t))}catch(t){n(t)}}function o(t){var e;t.done?s(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(l,r)}o((a=a.apply(t,e||[])).next())})},this._play=()=>{this._elapsed=Date.now()-this._startTime;let t=this._getSliderValue();this._updateSlider(),t>=this._maxIndex?this._playEnd():this._rafId=s.rF.getRequestAnimationFrame()(this._play.bind(this))},this._playEnd=()=>{this._isPlaying=!1,s.rF.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(n.R.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,this._elapsed=Date.now()-this._startTime,s.rF.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(n.R.pause))},this.backward=()=>{let t=Date.now(),e=+this._interval,i=this._elapsed-e;i<=0?(this._elapsed=0,this._startTime=t):(this._elapsed=i,this._startTime=this._startTime+this._interval),this._updateSlider(),this.dispatchCustomEvent(n.R.backward)},this.forward=()=>{let t=Date.now(),e=+this._interval,i=this._elapsed+e;i>=this._totalDuration?(this._startTime=t-this._totalDuration,this._elapsed=this._totalDuration):(this._startTime=this._startTime-e,this._elapsed=i),this._updateSlider(),this.dispatchCustomEvent(n.R.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}dispatchCustomEvent(t){super.dispatchCustomEvent(t,this._dataIndex)}render(){super.render()}}},12051:function(t,e,i){var s,a,n,l;i.d(e,{R:()=>a,k:()=>s}),(n=s||(s={})).OnPlay="onPlay",n.OnPause="onPause",n.OnForward="onForward",n.OnBackward="onBackward",(l=a||(a={})).Start="start",l.Pause="pause",l.Forward="forward",l.Backward="backward"},215612:function(t,e,i){i.d(e,{_:()=>u});var s=i(20408),a=i(454326),n=i(990389),l=i(687985),r=i(646454),o=i(501670),h=i(259435),d=i(12051);(0,i(447206)._)();class u extends l.r{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},t)),this._activeIndex=-1,this._isReachEnd=!1,this._initAttributes=()=>{var t,e,i;super._initAttributes(),this._alternate=null!=(t=this.attribute.alternate)&&t,this._interval=null!=(e=this.attribute.interval)?e:1e3,this._direction=null!=(i=this.attribute.direction)?i:r.d.Default},this._initDataIndex=()=>{var t;this._dataIndex=(0,a.Z)(this.attribute.dataIndex)?"default"===this._direction?this._minIndex:this._maxIndex:null!=(t=this.attribute.dataIndex)?t:0,this._slider.setAttribute("value",this._dataIndex)},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(d.k.OnPlay,t=>{t.stopPropagation(),this.play()}),this._controller.addEventListener(d.k.OnPause,t=>{t.stopPropagation(),this.pause()}),this._controller.addEventListener(d.k.OnForward,t=>{t.stopPropagation(),this.forward()}),this._controller.addEventListener(d.k.OnBackward,t=>{t.stopPropagation(),this.backward()}),this._slider.addEventListener("change",t=>{let e=Math.floor(t.detail.value)+.5;this._dataIndex=t.detail.value>=e?Math.ceil(t.detail.value):Math.floor(t.detail.value),this._slider.setValue(this._dataIndex),this.dispatchCustomEvent(o.R.change)}))},this.play=()=>{this._isPlaying||1!==this._data.length&&(this._controller.togglePause(),this._isPlaying=!0,((0,h.Fu)({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction})||(0,h.sx)({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction}))&&(this._direction===r.d.Default?this._updateDataIndex(this._minIndex):this._updateDataIndex(this._maxIndex)),this.dispatchCustomEvent(o.R.play),this._isReachEnd=!1,this._tickTime=Date.now(),this._rafId=n.rF.getRequestAnimationFrame()(this._play.bind(this,!0)))},this._play=t=>{let e=Date.now();if(this._isReachEnd&&e-this._tickTime>=this._interval)return this._isReachEnd=!1,void this._playEnd();t&&this._activeIndex!==this._dataIndex?(this.dispatchCustomEvent(o.R.change),this._activeIndex=this._dataIndex):e-this._tickTime>=this._interval&&(this._tickTime=e,this._updateDataIndex((0,h.VK)(this._direction,this._dataIndex,this._minIndex,this._maxIndex)),this._activeIndex=this._dataIndex,this.dispatchCustomEvent(o.R.change)),("default"===this._direction&&this._dataIndex>=this._maxIndex||"reverse"===this._direction&&this._dataIndex<=this._minIndex)&&(this._isReachEnd=!0),this._rafId=n.rF.getRequestAnimationFrame()(this._play.bind(this,!1))},this._updateDataIndex=t=>{this._dataIndex=t,this._slider.setValue(this._dataIndex)},this._playEnd=()=>{this._isPlaying=!1,this._controller.togglePlay(),n.rF.getCancelAnimationFrame()(this._rafId),this._activeIndex=-1,this.dispatchCustomEvent(o.R.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,n.rF.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(o.R.pause))},this.backward=()=>{let t,{loop:e=!1}=this.attribute;t=e?this._dataIndex-1<this._minIndex?this._maxIndex:this._dataIndex-1:Math.max(this._dataIndex-1,this._minIndex),this._updateDataIndex(t),this.dispatchCustomEvent(o.R.change),this.dispatchCustomEvent(o.R.backward)},this.forward=()=>{let t,{loop:e=!1}=this.attribute;t=e?this._dataIndex+1>this._maxIndex?this._minIndex:this._dataIndex+1:Math.min(this._dataIndex+1,this._maxIndex),this._updateDataIndex(t),this.dispatchCustomEvent(o.R.change),this.dispatchCustomEvent(o.R.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}setAttributes(t,e){super.setAttributes(t,e),this._initAttributes()}dispatchCustomEvent(t){super.dispatchCustomEvent(t,this._dataIndex)}}},447206:function(t,e,i){i.d(e,{_:()=>r,x:()=>o});var s=i(745772),a=i(483590),n=i(580525);function l(){(0,n.d)(),(0,s.M)(),(0,a.k)()}function r(){l()}function o(){l()}},646454:function(t,e,i){var s,a;i.d(e,{d:()=>s}),(a=s||(s={})).Default="default",a.Reverse="reverse"},501670:function(t,e,i){var s,a;i.d(e,{R:()=>s}),(a=s||(s={})).change="change",a.play="play",a.pause="pause",a.backward="backward",a.forward="forward",a.end="end",a.OnChange="change",a.OnPlay="play",a.OnPause="pause",a.OnBackward="backward",a.OnForward="forward",a.OnEnd="end"},259435:function(t,e,i){i.d(e,{Fu:()=>a,VK:()=>r,sx:()=>n,wE:()=>l});var s=i(646454);let a=({direction:t,maxIndex:e,minIndex:i,dataIndex:a})=>(({direction:t,maxIndex:e,dataIndex:i})=>t===s.d.Default&&i===e)({direction:t,maxIndex:e,dataIndex:a})||(({direction:t,minIndex:e,dataIndex:i})=>t===s.d.Reverse&&i===e)({direction:t,minIndex:i,dataIndex:a}),n=({direction:t,maxIndex:e,minIndex:i,dataIndex:a})=>(({direction:t,minIndex:e,dataIndex:i})=>t===s.d.Default&&i===e)({direction:t,minIndex:i,dataIndex:a})||(({direction:t,maxIndex:e,dataIndex:i})=>t===s.d.Reverse&&i===e)({direction:t,maxIndex:e,dataIndex:a}),l=t=>"top"===t||"bottom"===t,r=(t,e,i,s)=>"default"===t?Math.min(e+1,s):Math.max(e-1,i)},836205:function(t,e,i){i.d(e,{C:()=>Z});var s=i(736264),a=i(348668),n=i(200559),l=i(64849),r=i(669745),o=i(263401),h=i(20408),d=i(464639),u=i(364776),c=i(695723),b=i(944843),g=i(408830),p=i(863778),f=i(219273),m=i(683330),x=i(307827),_=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};let y=new o.FB;(0,x.q)();let v="M -0.5 -0.5, L -0.5 0.5, L 0.5 -0.5, Z",A="M -0.5 -0.5, L -0.5 0.5, L 0.5 0.5, Z",B="M -0.5 -0.5, L 0.5 -0.5, L 0.5 0.5, Z",S="M 0.5 -0.5, L 0.5 0.5, L -0.5 0.5, Z",k={tl:v,tr:B,bl:A,br:S,lt:v,lb:A,rt:B,rb:S};class w extends m.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,h.Z)({},w.defaultAttributes,t)),this.name="poptip",this.positionList=["top","tl","tr","bottom","bl","br","left","lt","lb","right","rt","rb"]}render(){var t,e,i,s,a,n,l,r,h;let{titleStyle:m={},position:x,contentStyle:v={},panel:A,logoSymbol:B,poptipAnchor:S="position",logoText:w,logoTextStyle:M={},triangleMode:O="default",space:C=4,minWidth:L=0,maxWidth:T=1/0,padding:P=4,maxWidthPercent:I,visible:E,state:Z,dx:H=0,dy:j=0,positionBounds:R}=this.attribute,{title:z="",content:V=""}=this.attribute;z=this.attribute.titleFormatMethod?this.attribute.titleFormatMethod(z):z,V=this.attribute.contentFormatMethod?this.attribute.contentFormatMethod(V):V;let D=(0,d.o)(P),W=this.createOrUpdateChild("poptip-content",{x:0,y:0,zIndex:1},"group");this.group=W;let F=T-D[1]-D[3],U=(0,u.Z)(z)&&!1!==E,G=Object.assign(Object.assign({text:(0,c.Z)(z)?z:[z],visible:U,wrap:!0},m),{x:D[3],y:D[0],maxLineWidth:F,textAlign:"left",textBaseline:"top"}),$=W.createOrUpdateChild("poptip-title",G,"text");(0,b.Z)(null==Z?void 0:Z.title)||($.states=Z.title);let X=$.AABBBounds,Y=X.height(),N=X.width(),q=Y+C;U||(q=0);let K=(0,u.Z)(V)&&!1!==E,Q=Object.assign(Object.assign({text:(0,c.Z)(V)?V:[V],visible:K,wrap:!0},v),{x:D[3],y:D[0]+q,maxLineWidth:F,textAlign:"left",textBaseline:"top"}),J=W.createOrUpdateChild("poptip-content",Q,"text");(0,b.Z)(null==Z?void 0:Z.content)||(J.states=Z.content);let tt=J.AABBBounds,te=tt.height(),ti=tt.width();K&&(q+=te),this.titleShape=$,this.contentShape=J;let ts=(0,g.Fp)(N+D[1]+D[3],ti+D[1]+D[3]);ts>T?ts=T:ts<L&&(ts=L);let ta=D[0]+D[2]+q,{visible:tn,square:tl}=A,tr=_(A,["visible","square"]);if(tl){let t=(0,g.Fp)(ts,ta);ts=t;let e=t-ta;ta=t,$.setAttributes({dy:e/2}),J.setAttributes({dy:e/2})}let to=null!=(t=tr.size)?t:12,th=(0,c.Z)(to)?[to[0]+(null!=(e=tr.space)?e:0),to[1]+(null!=(i=tr.space)?i:0)]:to+(null!=(s=tr.space)?s:0),td=null!=(a=tr.lineWidth)?a:1,tu=this.stage?[null!=(n=this.stage.viewWidth)?n:this.stage.width,null!=(l=this.stage.viewHeight)?l:this.stage.height]:void 0;if(tu){let t=this.AABBBounds,e=Math.max(null!=(r=this.attribute.x)?r:t.x1,tu[0]-t.x1);if((e=Math.min(e-(((0,c.Z)(to)?to[0]:12)+3),e*I))<ts){ts=e;let t=D[1]+D[3];$.setAttribute("maxLineWidth",e-t),J.setAttribute("maxLineWidth",e-t),ta=D[0]+D[2],U&&(ta+=$.AABBBounds.height()+C),ta+=J.AABBBounds.height()}}let tc="auto"===x||(0,c.Z)(x),tb=(0,c.Z)(x)?x:this.positionList,tg,tp=-1/0;for(let t=0;t<tb.length+1;t++){let e=tc?tb[t===tb.length?tg:t]:x,i="arrow2Left",s=((0,c.Z)(to)?to[0]:to)/4,a=0;"top"===e||"bottom"===e||"left"===e||"right"===e?i="arrow2Left":"concise"===O&&(i=k[e],s=["tl","bl","rt","rb"].includes(e)?((0,c.Z)(to)?to[0]:to)/2:-((0,c.Z)(to)?to[0]:to)/2,a=["tl","tr","lb","rb"].includes(e)?-((0,c.Z)(to)?to[1]:to)/2:((0,c.Z)(to)?to[1]:to)/2);let{angle:n,offset:l}=this.getAngleAndOffset(e,ts,ta,(0,c.Z)(th)?th:[th,th-td],i),r,d={x:0,y:0};if("bounds"===S&&R&&(d=this.calculateAnchorPoint(e,R)),(0,p.Z)(tn)){let t;r=W.createOrUpdateChild("poptip-symbol-panel",Object.assign(Object.assign({},tr),{visible:tn&&(K||U),x:s,y:a,strokeBoundsBuffer:-1,boundsPadding:-2,anchor:[0,0],symbolType:i,angle:n,dx:l[0],dy:l[1]-(null!=(h=tr.space)?h:0),size:to,zIndex:9}),"symbol"),(0,b.Z)(null==Z?void 0:Z.panel)||(r.states=Z.panel),t=A.panelSymbolType?W.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},tr),{visible:tn&&(K||U),x:0,y:0,symbolType:"rect",size:[ts,ta],zIndex:-8}),"symbol"):W.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},tr),{visible:tn&&(K||U),x:0,y:0,width:ts,height:ta,zIndex:-8}),"rect"),(0,b.Z)(null==Z?void 0:Z.panel)||(t.states=Z.panel)}if(W.setAttributes({x:-l[0]+H+d.x,y:-l[1]+j+d.y,anchor:[s,a]}),B){let{size:t=12}=B,e=(0,c.Z)(t)?t:[t,t];"auto"===e[1]&&(e[1]=ta),"auto"===e[0]&&(e[0]=ta);let i=e[0];W.createOrUpdateChild("poptip-logo",Object.assign(Object.assign({},B),{x:0,y:ta/2,visible:tn&&(K||U),zIndex:10,size:e}),"symbol"),W.setAttributes({x:-l[0]+H+i/2,y:-l[1]+j}),w&&W.createOrUpdateChild("poptip-logo-text",Object.assign(Object.assign({},M),{x:0,y:ta/2,visible:tn&&(K||U),text:w,textAlign:"center",textBaseline:"middle",zIndex:10}),"text")}if(!tu)break;{y.setValue(0,0,ts,ta).transformWithMatrix(W.globalTransMatrix);let i=(new o.YZ).setValue(0,0,tu[0],tu[1]);if(tc){if((0,f.RA)(y,i,!1))break;{let e=(0,f.di)(y,i,!1),s=(e.x2-e.x1)*(e.y2-e.y1);s>tp&&(tp=s,tg=t)}}if(["top","bottom","left","right"].includes(e)){let t="top"===e||"bottom"===e,s="left"===e||"right"===e,a=!1;if(t?a="top"===e&&y.y1<0||"bottom"===e&&y.y2>i.y2:s&&(a="left"===e&&y.x1<0||"right"===e&&y.x2>i.x2),!a){let e=0,a=((0,c.Z)(to)?to[1]:to)/2;t?(y.x1<0?e=-y.x1:y.x2>i.x2&&(e=i.x2-y.x2),W.setAttribute("x",W.attribute.x+e),r.setAttribute("dx",(0,g.VV)((0,g.Fp)(r.attribute.dx-e,a),y.width()-a))):s&&(y.y1<0?e=-y.y1:y.y2>i.y2&&(e=i.y2-y.y2),W.setAttribute("y",W.attribute.y+e),r.setAttribute("dy",(0,g.VV)((0,g.Fp)(r.attribute.dy-e,a),y.height()-a)));break}}if(!tc)break}}}calculateAnchorPoint(t,e){if(!e)return{x:0,y:0};let{x:i,y:s}=this.attribute,{x1:a,y1:n,x2:l,y2:r}=e,o=l-a,h=r-n;switch(t){case"top":case"tl":case"tr":return{x:a+o/2-i,y:n-s};case"bottom":case"bl":case"br":return{x:a+o/2-i,y:r-s};case"left":case"lt":case"lb":return{x:a-i,y:n+h/2-s};case"right":case"rt":case"rb":return{x:l-i,y:n+h/2-s};default:return{x:0,y:0}}}getAngleAndOffset(t,e,i,s,a){let n="arrow2Left"===a?s[1]/2:s[1];switch(t){case"tl":return{angle:"arrow2Left"===a?g.pi/2*3:0,offset:"arrow2Left"===a?[e/4,i+n]:[0,i+n]};case"top":return{angle:g.pi/2*3,offset:[e/2,i+n]};case"tr":return{angle:"arrow2Left"===a?g.pi/2*3:0,offset:"arrow2Left"===a?[e/4*3,i+n]:[e,i+n]};case"rt":return{angle:0,offset:"arrow2Left"===a?[-n,i/5]:[-n,0]};case"right":return{angle:0,offset:[-n,i/2]};case"rb":return{angle:0,offset:"arrow2Left"===a?[-n,i/5*4]:[-n,i]};case"bl":return{angle:"arrow2Left"===a?g.pi/2:0,offset:"arrow2Left"===a?[e/4,-n]:[0,-n]};case"bottom":return{angle:g.pi/2,offset:[e/2,-n]};case"br":return{angle:"arrow2Left"===a?g.pi/2:0,offset:"arrow2Left"===a?[e/4*3,-n]:[e,-n]};case"lt":return{angle:"arrow2Left"===a?g.pi:0,offset:"arrow2Left"===a?[e+n,i/5]:[e+n,0]};case"left":return{angle:g.pi,offset:[e+n,i/2]};case"lb":return{angle:"arrow2Left"===a?g.pi:0,offset:"arrow2Left"===a?[e+n,i/5*4]:[e+n,i]}}}}w.defaultAttributes={position:"rt",visible:!0,title:null,content:null,titleStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},contentStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},panel:{},maxWidthPercent:.8,space:8,padding:10};var M=i(344379);let O=class{render(t,e,i,s,a,n,l,r,o,d,u,c,b){var g,p,f;if(1===t._showPoptip){let{visible:e,visibleCb:i}=t.attribute.poptip||{};if(!1===e||i&&!1===i(t))return;let s={};(0,h.Z)(s,w.defaultAttributes,t.attribute.poptip?t.attribute.poptip:{}),this.poptipComponent?this.poptipComponent.initAttributes(s):this.poptipComponent=new w(s);let a=t.attribute.poptip||{};if("text"===t.type&&null==a.title&&null==a.content){let e={};f=a,(0,h.Z)(e,M.r.poptip,f),(a=e).content=null!=(g=a.content)?g:t.attribute.text}let n=t.globalTransMatrix;this.poptipComponent.setAttributes(Object.assign(Object.assign({visibleAll:!0,pickable:!1,childrenPickable:!1,poptipAnchor:"bounds"},a),{x:n.e,y:n.f,positionBounds:t.globalAABBBounds})),d.stage.tryInitInteractiveLayer();let l=d.stage.getLayer("_builtin_interactive");l&&l.add(this.poptipComponent)}else 2===t._showPoptip&&(t._showPoptip=0,this.poptipComponent&&(this.poptipComponent.setAttributes({visibleAll:!1}),null==(p=this.poptipComponent.parent)||p.removeChild(this.poptipComponent),this.poptipComponent=null))}};O=function(t,e,i,s){var a,n=arguments.length,l=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(l=(n<3?a(l):n>3?a(e,i,l):a(e,i))||l);return n>3&&l&&Object.defineProperty(e,i,l),l}([(0,r.b)()],O);var C=i(496270),L=function(t,e,i,s){var a,n=arguments.length,l=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(l=(n<3?a(l):n>3?a(e,i,l):a(e,i))||l);return n>3&&l&&Object.defineProperty(e,i,l),l};class T{constructor(){this.activeEvent="onRegister",this._uid=C.R.GenAutoIncrementId(),this.poptip=t=>{let e=t.target;this.needHide(e)?this.unpoptip(t):e!==this.activeGraphic&&(this.needShow(e)&&(e.setAttributes({}),e._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(e,!0))},this.unpoptip=t=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(t){this.pluginService=t;let{stage:e}=this.pluginService;e.addEventListener("pointerover",this.poptip)}needHide(t){return t.isContainer||!t.attribute}needShow(t){return!!t.attribute.poptip}setActiveGraphic(t,e){this.activeGraphic=t,this.pluginService.stage.renderNextFrame()}deactivate(t){let{stage:e}=this.pluginService;e.removeEventListener("pointerover",this.poptip)}}let P=class extends T{constructor(){super(...arguments),this.name="poptip",this.key=this.name+this._uid}};P=L([(0,r.b)()],P);let I=class extends T{constructor(){super(...arguments),this.name="poptipForText",this.key=this.name+this._uid,this.pointerlave=t=>{let{stage:e}=this.pluginService;t.target===e&&this.unpoptip(t)}}activate(t){super.activate(t);let{stage:e}=this.pluginService;e.addEventListener("pointerleave",this.pointerlave)}needHide(t){return"text"!==t.type||!t.cliped||t.isContainer||!t.attribute||t.attribute.disableAutoClipedPoptip}needShow(t){return!0}deactivate(t){let{stage:e}=this.pluginService;super.deactivate(t),e.removeEventListener("pointerleave",this.pointerlave)}};I=L([(0,r.b)()],I);let E=new s.n((t,e,i,s)=>{i(O)||(t(O).toSelf().inSingletonScope(),t(a.tg).toService(O)),i(P)||(t(P).toSelf(),t(n.X).toService(P)),i(I)||(t(I).toSelf(),t(n.X).toService(I))});function Z(){l.n.load(E)}},307827:function(t,e,i){i.d(e,{C:()=>d,q:()=>h});var s=i(20408),a=i(344379),n=i(745772),l=i(865509),r=i(483590),o=i(18029);function h(){(0,n.M)(),(0,l.g)(),(0,r.k)(),(0,o.k)()}function d(t){(0,s.Z)(a.r.poptip,a.t,t)}},344379:function(t,e,i){i.d(e,{r:()=>n,t:()=>a});var s=i(20408);let a={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},n={poptip:(0,s.Z)({},a)}},973480:function(t,e,i){i.d(e,{T:()=>p});var s,a=i(736264),n=i(200559),l=i(64849),r=i(496270),o=i(669745),h=i(131096),d=i(263401),u=i(408830),c=i(743394);let b=s=class{constructor(){this.name="scrollbar",this.activeEvent="onRegister",this._uid=r.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.scroll=t=>{var e,i;let s=t.target,a=this.getScrollContainer(s);if(!a&&!this.scrollContainer)return;if(!a&&this.scrollContainer){if(!this.scrollContainer.g.stage||this.scrollContainer.g.stage!==s.stage)return;let t=this.formatScrollContainer(this.scrollContainer.g);if(!t)return void this.clearScrollbar(this.scrollContainer.g,"all");this.scrollContainer.showH&&!t.showH&&this.clearScrollbar(this.scrollContainer.g,"horizontal"),this.scrollContainer.showV&&!t.showV&&this.clearScrollbar(this.scrollContainer.g,"vertical"),this.scrollContainer=t}else a&&this.scrollContainer&&a.g!==this.scrollContainer.g&&this.clearScrollbar(this.scrollContainer.g,"all");if(this.scrollContainer=null!=a?a:this.scrollContainer,!a)return;let n=a.g;if(!n)return;let{width:l,height:r,scrollX:o=0,scrollY:h=0}=n.attribute,c=o,b=h,{showH:g,showV:p}=a;this.scrollContainerBounds=(new d.YZ).set(0,0,n.attribute.width,n.attribute.height),g&&g&&((0,u.Wn)(t.deltaX)>(0,u.Wn)(t.deltaY)?(g=g&&!0,p=p&&!1):(g=g&&!1,p=p&&!0));let f=this.childrenBounds.width(),m=this.childrenBounds.height();g&&((c=o-(null!=(e=t.deltaX)?e:0))>0?c=0:c<l-f&&(c=l-f)),p&&((b=h-(null!=(i=t.deltaY)?i:0))>0?b=0:b<r-m&&(b=r-m)),n.setAttributes({scrollX:c,scrollY:b}),this.addOrUpdateScroll(g,p,n.parent,n)},this.handleScrollBarChange=t=>{if(!(this.scrollContainer&&this.scrollContainerBounds&&this.childrenBounds&&t&&t.target&&t.detail&&t.detail.value))return;let e=t.target,i=t.detail.value;if("horizontal"===e.attribute.direction){let t=this.childrenBounds.width();this.scrollContainer.g.setAttributes({scrollX:-i[0]*t})}else{let t=this.childrenBounds.height();this.scrollContainer.g.setAttributes({scrollY:-i[0]*t})}}}activate(t){this.pluginService=t;let{stage:e}=this.pluginService;this.childrenBounds=new d.FB,e.addEventListener("wheel",this.scroll),this.params=s.defaultParams}initEventOfScrollbar(t,e,i){t.addEventListener("pointerover",()=>{e.setAttribute("visibleAll",!0)}),t.addEventListener("pointermove",()=>{e.setAttribute("visibleAll",!0)}),t.addEventListener("pointerout",()=>{e.setAttribute("visibleAll",!1)}),e.addEventListener("pointerover",()=>{e.setAttribute("visibleAll",!0)}),e.addEventListener("pointerout",()=>{e.setAttribute("visibleAll",!0)}),e.addEventListener("scrollUp",this.handleScrollBarChange),e.addEventListener(c.eV,this.handleScrollBarChange)}addOrUpdateScroll(t,e,i,s){if(t){let{scrollBar:t,isUpdate:e}=this.addOrUpdateHScroll(s,i,!0);e||this.initEventOfScrollbar(s,t,!0)}else this.clearScrollbar(s,"horizontal");if(e){let{scrollBar:t,isUpdate:e}=this.addOrUpdateHScroll(s,i,!1);e||this.initEventOfScrollbar(s,t,!1)}else this.clearScrollbar(s,"vertical")}getDirection(t){return t?"horizontal":"vertical"}addOrUpdateHScroll(t,e,i){var s,a;let n=this.getDirection(i),l=`${null!=(s=t.name)?s:t._uid}_${this.getDirection(i)}_${this.name}`,r=e.children.filter(t=>t.name===l),o=!0,d=r[0],{y:u=0,dy:c=0,x:b=0,dx:g=0,height:p,width:f,zIndex:m=0}=this.scrollContainer.g.attribute,x={x:0,y:0,direction:n,zIndex:m+1,visibleAll:!0,padding:[2,0],railStyle:{fill:"rgba(0, 0, 0, .1)"},range:[0,.05]};i?(x.width=this.scrollContainerBounds.width(),x.height=12):(x.height=this.scrollContainerBounds.height(),x.width=12),d?r.length>1&&r.forEach((t,e)=>{var i;e&&(null==(i=t.parent)||i.removeChild(t))}):(o=!1,(d=new h.B(x)).name=l,e.add(d),d.isScrollBar=!0);let _=this.childrenBounds,{scrollX:y,scrollY:v}=t.attribute;if(i){let t=Math.min(this.scrollContainerBounds.width()/_.width(),1),e=Math.max(Math.min(y/this.childrenBounds.width(),0),t-1);x.x=b+g,x.y=u+c+p-(null!=(a=x.height)?a:0),x.range=[-e,-e+t]}else{let t=Math.min(this.scrollContainerBounds.height()/_.height(),1),e=Math.max(Math.min(v/this.childrenBounds.height(),0),t-1);x.x=b+g+f-this.scrollContainerBounds.width(),x.y=u+c,x.range=[-e,-e+t]}return d.setAttributes(x),{scrollBar:d,isUpdate:o}}clearScrollbar(t,e){t.parent&&t.parent.children.filter(t=>t.isScrollBar&&("all"===e||t.attribute.direction===e)).forEach(t=>{t.parent.removeChild(t)})}formatScrollContainer(t){if(!t||"group"!==t.type||!t.attribute)return null;let{overflow:e,width:i,height:s}=t.attribute;if(!e||"hidden"===e)return null;let a=!1,n=!1;"scroll"===e?(a=!0,n=!0):n=!(a="scroll-x"===e);let l=this.childrenBounds;return l.clear(),t.forEachChildren(t=>{l.union(t.AABBBounds)}),t.AABBBounds.empty()||(a&&(a=i<l.width()),n&&(n=s<l.height())),a||n?{g:t,showH:a,showV:n}:null}getScrollContainer(t){let e=t;for(;e;){let t=this.formatScrollContainer(e);if(t)return t;e=e.parent}return null}deactivate(t){let{stage:e}=this.pluginService;e.removeEventListener("wheel",this.scroll)}};b.defaultParams={timeout:500},b=s=function(t,e,i,s){var a,n=arguments.length,l=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(l=(n<3?a(l):n>3?a(e,i,l):a(e,i))||l);return n>3&&l&&Object.defineProperty(e,i,l),l}([(0,o.b)()],b);let g=new a.n((t,e,i,s)=>{i(b)||(t(b).toSelf(),t(n.X).toService(b))});function p(){l.n.load(g)}},650290:function(t,e,i){i.d(e,{M:()=>n});var s=i(745772),a=i(18029);function n(){(0,s.M)(),(0,a.k)()}},131096:function(t,e,i){i.d(e,{B:()=>f});var s=i(990389),a=i(80204),n=i(649275),l=i(20408),r=i(364776),o=i(994030),h=i(651996),d=i(464639),u=i(683330),c=i(650290),b=i(743394),g=i(85637);let p={debounce:a.Z,throttle:n.Z};(0,c.M)();class f extends u.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,l.Z)({},f.defaultAttributes,t)),this.name="scrollbar",this._handleTouchMove=t=>{(0,r.Z)(this._prePos)&&t.preventDefault()},this._onRailPointerDown=t=>{let e,{viewX:i,viewY:s}=t,{direction:a,width:n,height:l,range:r}=this.attribute,h=this._sliderSize,[d,u]=this._getScrollRange();if("vertical"===a){let t=s-this._viewPosition.y,i=(0,o.Z)(t-h/2,d,u);e=t/l,this._slider.setAttribute("y",i,!0)}else{let t=i-this._viewPosition.x,s=(0,o.Z)(t-h/2,d,u);e=t/n,this._slider.setAttribute("x",s,!0)}this.setScrollRange([e-(r[1]-r[0])/2,e+(r[1]-r[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=t=>{this._clearDragEvents();let{stopSliderDownPropagation:e=!0}=this.attribute;e&&t.stopPropagation();let{direction:i}=this.attribute,{x:a,y:n}=this.stage.eventPointTransform(t);this._prePos="horizontal"===i?a:n,this._dispatchEvent(b.m3,{pos:this._prePos,event:t});let l=(0,g.G)(),r="browser"===s.rF.env?s.rF:this.stage;r.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),l.forEach(t=>{r.addEventListener(t,this._onSliderPointerUp)})},this._computeScrollValue=t=>{let e,i,{direction:s}=this.attribute,{x:a,y:n}=this.stage.eventPointTransform(t),{width:l,height:r}=this.getSliderRenderBounds();return e="vertical"===s?((i=n)-this._prePos)/r:((i=a)-this._prePos)/l,[i,e]},this._onSliderPointerMove=t=>{let{stopSliderMovePropagation:e=!0}=this.attribute;e&&t.stopPropagation();let i=this.getScrollRange(),[s,a]=this._computeScrollValue(t);this.setScrollRange([i[0]+a,i[1]+a],!0),this._prePos=s},this._onSliderPointerMoveWithDelay=0===this.attribute.delayTime?this._onSliderPointerMove:p[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=t=>{let{range:e,limitRange:i=[0,1]}=this.attribute,s=this.getScrollRange(),[a,n]=this._computeScrollValue(t),l=[s[0]+n,s[1]+n];this._prePos=null,this._dispatchEvent(b.gB,{pre:e,value:(0,h.Z)(l,i[0],i[1])}),this._clearDragEvents()}}setScrollRange(t,e=!0){let{direction:i="horizontal",limitRange:s=[0,1],range:a,realTime:n=!0}=this.attribute,l=(0,h.Z)(t,s[0],s[1]);if(e){let t=this._getSliderPos(l);if(this._slider){let e=t[1]-t[0];this._sliderSize=e,"horizontal"===i?this._slider.setAttributes({x:t[0],width:e},!0):this._slider.setAttributes({y:t[0],height:e},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=l,n&&this._dispatchEvent(b.eV,{pre:a,value:l})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;let{delayType:t="throttle",delayTime:e=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",p[t](this._onRailPointerDown,e)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown),("browser"===s.rF.env?s.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}render(){let t;this._reset();let{direction:e="horizontal",width:i,height:s,range:a,limitRange:n=[0,1],railStyle:l,sliderStyle:r,padding:o=2}=this.attribute,u=this.createOrUpdateChild("scrollbar-container",{},"group"),c=u.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:i,height:s},l),"rect");this._rail=c;let b=this.getSliderRenderBounds(),g=this._getSliderPos((0,h.Z)(a,n[0],n[1])),p=g[1]-g[0];this._sliderSize=p,t="horizontal"===e?{x:g[0],y:b.y1,width:p,height:b.height}:{x:b.x1,y:g[0],width:b.width,height:p};let f=u.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},t),{cornerRadius:this._getDefaultSliderCornerRadius()}),r),{boundsPadding:(0,d.o)(o),pickMode:"imprecise"}),"rect");this._slider=f,this._container=u;let m=this._container.AABBBounds;this._viewPosition={x:m.x1,y:m.y1}}getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;let{width:t,height:e,padding:i=2}=this.attribute,[s,a,n,l]=(0,d.o)(i),r={x1:l,y1:s,x2:t-a,y2:e-n,width:Math.max(0,t-(l+a)),height:Math.max(0,e-(s+n))};return this._sliderRenderBounds=r,r}_getDefaultSliderCornerRadius(){let{direction:t,round:e}=this.attribute;if(e){let{width:e,height:i}=this.getSliderRenderBounds();return"horizontal"===t?i:e}return 0}_getSliderPos(t){let{direction:e}=this.attribute,{width:i,height:s,x1:a,y1:n}=this.getSliderRenderBounds();return"horizontal"===e?[i*t[0]+a,i*t[1]+a]:[s*t[0]+n,s*t[1]+n]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;let{limitRange:t=[0,1],direction:e}=this.attribute,[i,s]=(0,h.Z)(t,0,1),{width:a,height:n,x1:l,y1:r}=this.getSliderRenderBounds(),o=this._sliderSize;return"horizontal"===e?(0,h.Z)([l+i*a,l+s*a],l,a-o):(0,h.Z)([r+i*n,r+s*n],r,n-o)}_clearDragEvents(){let t=(0,g.G)(),e="browser"===s.rF.env?s.rF:this.stage;e.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onSliderPointerUp)})}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}release(t){super.release(t),("browser"===s.rF.env?s.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearDragEvents()}}f.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0}},211465:function(t,e,i){i.d(e,{S:()=>o});var s=i(20408),a=i(944843),n=i(222669),l=i(223304),r=i(373550);(0,l.O)();class o extends r.X{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},r.X.defaultAttributes,t)),this.name="arc-segment",this.key="arc-segment",this.isReverseArc=!1}getStartAngle(){let t=this.isReverseArc?this._startAngle+Math.PI/2:this._startAngle-Math.PI/2;return t<0?t+2*Math.PI:t>2*Math.PI?t-2*Math.PI:t}getEndAngle(){let t=this.isReverseArc?this._endAngle-Math.PI/2:this._endAngle+Math.PI/2;return t<0?t+2*Math.PI:t>2*Math.PI?t-2*Math.PI:t}getMainSegmentPoints(){return this._mainSegmentPoints}_computeStartRotate(t){return this.isReverseArc?t+Math.PI:t}_computeEndRotate(t){return this.isReverseArc?t:t+Math.PI}render(){this.removeAllChild(!0),this._reset();let{startSymbol:t,endSymbol:e,lineStyle:i,state:s,visible:l=!0,radius:r,startAngle:o,endAngle:h,center:d}=this.attribute;if(!l)return;this._startAngle=o,this._endAngle=h,this.isReverseArc=o>h;let u={x:d.x+r*Math.cos(this._startAngle),y:d.y+r*Math.sin(this._startAngle)},c={x:d.x+r*Math.cos(this._endAngle),y:d.y+r*Math.sin(this._endAngle)};this._mainSegmentPoints=[u,c];let b=this._renderSymbol(t,this._mainSegmentPoints,"start"),g=this._renderSymbol(e,this._mainSegmentPoints,"end");this.startSymbol=b,this.endSymbol=g;let p=n.i.arc(Object.assign({x:d.x,y:d.y,startAngle:o,endAngle:h,innerRadius:r,outerRadius:r},i));p.name=`${this.name}-line`,p.id=this._getNodeId("arc"),(0,a.Z)(null==s?void 0:s.line)||(p.states=[].concat(s.line)[0]),this.add(p),this.line=p}}},223304:function(t,e,i){i.d(e,{O:()=>h,j:()=>o});var s=i(745772),a=i(262041),n=i(401470),l=i(483590),r=i(249157);function o(){(0,s.M)(),(0,a.N)(),(0,n.M)(),(0,l.k)()}function h(){(0,s.M)(),(0,a.N)(),(0,r.x)(),(0,l.k)()}},373550:function(t,e,i){i.d(e,{X:()=>c});var s=i(20408),a=i(89530),n=i(999051),l=i(695723),r=i(944843),o=i(222669),h=i(683330),d=i(223304),u=i(309762);(0,d.j)();class c extends h.k{getStartAngle(){return(0,u.LW)(this._startAngle)}getEndAngle(){return(0,u.LW)(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();let{startSymbol:t,endSymbol:e,lineStyle:i,state:s,visible:h=!0,multiSegment:d,mainSegmentIndex:u}=this.attribute;if(!h)return;this._computeLineAngle();let c=this._getMainSegmentPoints(),b=this._renderSymbol(t,c,"start"),g=this._renderSymbol(e,c,"end");if(this.startSymbol=b,this.endSymbol=g,d){let t=[...this.attribute.points];if((0,a.Z)(u))t[u]=this._clipPoints(t[u]);else{let e=this._clipPoints((0,n.VF)(t));t[0][0]=e[0],t[t.length-1][t[t.length-1].length-1]=e[e.length-1]}t.forEach((t,e)=>{var a,n;let h=o.i.line(Object.assign(Object.assign({points:t},(0,l.Z)(i)?null!=(a=i[e])?a:i[i.length-1]:i),{fill:!1}));h.name=`${this.name}-line`,h.id=this._getNodeId("line"+e),(0,r.Z)(null==s?void 0:s.line)||(h.states=(0,l.Z)(s.line)?null!=(n=s.line[e])?n:s.line[s.line.length-1]:s.line),this.add(h),this.lines.push(h)})}else{let t=o.i.line;(0,n.IX)(i)[0].cornerRadius&&(t=o.i.polygon);let e=t(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},(0,n.IX)(i)[0]),{fill:!1,closePath:!1}));e.name=`${this.name}-line`,e.id=this._getNodeId("line"),(0,r.Z)(null==s?void 0:s.line)||(e.states=[].concat(s.line)[0]),this.add(e),this.lines.push(e)}}_computeStartRotate(t){return t+Math.PI/2}_computeEndRotate(t){return t+Math.PI/2}_renderSymbol(t,e,i){let s;if(!e.length)return;let{autoRotate:n=!0}=t;if(t&&t.visible){let l,h,d=this.getStartAngle(),u=this.getEndAngle(),{state:c}=this.attribute,b=e[0],g=e[e.length-1],{refX:p=0,refY:f=0,refAngle:m=0,style:x,symbolType:_,size:y=12}=t;"start"===i?(l={x:b.x+((0,a.Z)(d)?p*Math.cos(d)+f*Math.cos(d-Math.PI/2):0),y:b.y+((0,a.Z)(d)?p*Math.sin(d)+f*Math.sin(d-Math.PI/2):0)},h=this._computeStartRotate(this._startAngle)):(l={x:g.x+((0,a.Z)(u)?p*Math.cos(u)+f*Math.cos(u-Math.PI/2):0),y:g.y+((0,a.Z)(u)?p*Math.sin(u)+f*Math.sin(u-Math.PI/2):0)},h=this._computeEndRotate(this._endAngle)),(s=o.i.symbol(Object.assign(Object.assign(Object.assign({},l),{symbolType:_,size:y,angle:n?h+m:0,strokeBoundsBuffer:0}),x))).name=`${this.name}-${i}-symbol`,s.id=this._getNodeId(`${i}-symbol`),(0,r.Z)(null==c?void 0:c.symbol)||(s.states=c.symbol),"start"===i?(0,r.Z)(null==c?void 0:c.startSymbol)||(s.states=c.startSymbol):(0,r.Z)(null==c?void 0:c.endSymbol)||(s.states=c.endSymbol),this.add(s)}return s}_getMainSegmentPoints(){let t;if(this._mainSegmentPoints)return this._mainSegmentPoints;let{points:e,multiSegment:i,mainSegmentIndex:s}=this.attribute;return t=i?(0,a.Z)(s)?e[s]:(0,n.VF)(e):e,this._mainSegmentPoints=t,t}_clipPoints(t){let{startSymbol:e={},endSymbol:i={}}=this.attribute,s=t;if(e.visible){let i=e.clip?e.size||10:0;s=[{x:t[0].x-i/2*(Math.cos(this._startAngle)||0),y:t[0].y-i/2*(Math.sin(this._startAngle)||0)},...s.slice(1)]}if(i.visible){let e=i.clip?i.size||10:0,a={x:t[t.length-1].x-e/2*(Math.cos(this._endAngle)||0),y:t[t.length-1].y-e/2*(Math.sin(this._endAngle)||0)};s=[...s.slice(0,s.length-1),a]}return s}_computeLineAngle(){let t=this._getMainSegmentPoints();if(t.length<=1)return;let e=t[0],i=t[1],s=t[t.length-2],a=t[t.length-1],n=[e.x-i.x,e.y-i.y],l=Math.atan2(n[1],n[0]),r=[a.x-s.x,a.y-s.y],o=Math.atan2(r[1],r[0]);this._startAngle=l,this._endAngle=o}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}c.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}}},580525:function(t,e,i){i.d(e,{d:()=>r});var s=i(745772),a=i(865509),n=i(18029),l=i(483590);function r(){(0,s.M)(),(0,a.g)(),(0,n.k)(),(0,l.k)()}},414427:function(t,e,i){i.d(e,{i:()=>y});var s,a,n=i(695723),l=i(20408),r=i(994030),o=i(364776),h=i(999051),d=i(454326),u=i(651996),c=i(480971),b=i(990389),g=i(222669),p=i(683330);(s=a||(a={})).innerView="innerView",s.railContainer="sliderRailContainer",s.rail="sliderRail",s.startText="sliderStartText",s.endText="sliderEndText",s.startHandler="sliderStartHandler",s.startHandlerText="startHandlerText",s.endHandler="sliderEndHandler",s.endHandlerText="sliderEndHandlerText",s.track="sliderTrack",s.trackContainer="sliderTrackContainer";var f=i(580525),m=i(85637);function x(t){return(0,n.Z)(t)?t:[t,t]}function _(t){return t?"ew-resize":"ns-resize"}(0,f.d)();class y extends p.k{get track(){return this._track}get currentValue(){return this._currentValue}get startHandler(){return this._startHandler}get endHandler(){return this._endHandler}get tooltipShape(){return this._tooltipShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,l.Z)({},y.defaultAttributes,t)),this.name="slider",this._isHorizontal=!0,this._startHandler=null,this._endHandler=null,this._startHandlerText=null,this._endHandlerText=null,this._currentHandler=null,this._currentValue={},this._onTooltipShow=t=>{this._isChanging||this._tooltipState&&this._tooltipState.isActive||(this._tooltipState?this._tooltipState.isActive=!0:this._tooltipState={isActive:!0},this._onTooltipUpdate(t),this._dispatchTooltipEvent("sliderTooltipShow"))},this._onTooltipUpdate=t=>{if(this._isChanging||!this._tooltipState||!this._tooltipState.isActive)return;let e=this._isHorizontal?this._rail.globalAABBBounds.width():this._rail.globalAABBBounds.height(),i=(0,r.Z)(this._isHorizontal?(t.viewX-this._rail.globalAABBBounds.x1)/e:(t.viewY-this._rail.globalAABBBounds.y1)/e,0,1);i!==this._tooltipState.pos&&(this._tooltipState.pos=i,this._tooltipState.value=this.calculateValueByPos(i*e),this._updateTooltip(),this._dispatchTooltipEvent("sliderTooltipUpdate"))},this._onTooltipHide=()=>{let{tooltip:t}=this.attribute;t&&t.alwaysShow||(this._tooltipState=null,this._tooltipShape&&this._tooltipShape.setAttribute("visible",!1),this._tooltipText&&this._tooltipText.setAttribute("visible",!1),this._dispatchTooltipEvent("sliderTooltipHide"))},this._onHandlerPointerdown=t=>{this._clearAllDragEvents(),this._isChanging=!0;let{x:e,y:i}=this.stage.eventPointTransform(t);this._currentHandler=t.target,this._prePos=this._isHorizontal?e:i;let s=(0,m.G)(),a="browser"===b.rF.env?b.rF:this.stage;a.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),s.forEach(t=>{a.addEventListener(t,this._onHandlerPointerUp)})},this._onHandlerPointerMove=t=>{var e,i;this._isChanging=!0;let{railWidth:s,railHeight:a,min:n,max:l}=this.attribute;if(l===n)return;let{x:o,y:h}=this.stage.eventPointTransform(t),d,u,c,b=0;this._isHorizontal?(b=(d=o)-this._prePos,u=null==(i=this._currentHandler)?void 0:i.attribute.x,c=s):(b=(d=h)-this._prePos,u=null==(e=this._currentHandler)?void 0:e.attribute.y,c=a);let g=(0,r.Z)(u+b,0,c),p=this.calculateValueByPos(g);"text"===this._currentHandler.type?this._updateHandlerText(this._currentHandler,g,p):this._updateHandler(this._currentHandler,g,p),this._updateTrack(),this._prePos=d,this._dispatchChangeEvent()},this._onHandlerPointerUp=t=>{this._isChanging=!1,this._currentHandler=null,this._clearAllDragEvents()},this._handleTouchMove=t=>{this._isChanging&&t.preventDefault()},this._onTrackPointerdown=t=>{this._clearAllDragEvents(),this._isChanging=!0;let{x:e,y:i}=this.stage.eventPointTransform(t);this._prePos=this._isHorizontal?e:i;let s=(0,m.G)(),a="browser"===b.rF.env?b.rF:this.stage;a.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),s.forEach(t=>{a.addEventListener(t,this._onTrackPointerUp)})},this._onTrackPointerMove=t=>{let e,i,s;this._isChanging=!0;let{railWidth:a,railHeight:n,min:l,max:o,inverse:h}=this.attribute;if(o===l)return;let{startHandler:d,endHandler:u}=this._getHandlers(),{x:c,y:b}=this.stage.eventPointTransform(t);this._isHorizontal?(e=c,i=this._track.attribute.width,s=a):(e=b,i=this._track.attribute.height,s=n);let g=e-this._prePos;if(d){let t=this._isHorizontal?d.attribute.x:d.attribute.y,e=h?(0,r.Z)(t+g,i,s):(0,r.Z)(t+g,0,s-i),a=this.calculateValueByPos(e);this._updateHandler(d,e,a)}if(u){let t=this._isHorizontal?u.attribute.x:u.attribute.y,e=h?(0,r.Z)(t+g,0,s-i):(0,r.Z)(t+g,i,s),a=this.calculateValueByPos(e),n=null==d?void 0:d.attribute;this._updateHandler(u,e,a),this._track.setAttributes(this._isHorizontal?{x:Math.min(n.x,u.attribute.x),width:Math.abs(n.x-u.attribute.x)}:{y:Math.min(n.y,u.attribute.y),height:Math.abs(n.y-u.attribute.y)})}this._prePos=e,this._dispatchChangeEvent()},this._onTrackPointerUp=t=>{this._isChanging=!1,this._clearAllDragEvents()},this._onRailPointerDown=t=>{let e,i,s;this._clearAllDragEvents(),this._isChanging=!0;let{railWidth:a,railHeight:n,min:l,max:r}=this.attribute;if(r===l)return;let h=this._startHandler,d=this._endHandler;this._isHorizontal?(e=t.viewX-this._rail.globalAABBBounds.x1,i=null==h?void 0:h.attribute.x,s=null==d?void 0:d.attribute.x):(e=t.viewY-this._rail.globalAABBBounds.y1,i=null==h?void 0:h.attribute.y,s=null==d?void 0:d.attribute.y);let u=this.calculateValueByPos(e);if((0,o.Z)(s)){let t=Math.abs(e-i)>Math.abs(e-s)?d:h;this._updateHandler(t,e,u)}else this._updateHandler(h,e,u);this._updateTrack(),this._dispatchChangeEvent()}}calculatePosByValue(t,e){let{layout:i,railWidth:s,railHeight:a,min:n,max:l,inverse:r}=this.attribute,o=0;return o=n===l?"start"===e?0:+("end"===e):(t-n)/(l-n),(r?1-o:o)*("vertical"===i?a:s)}calculateValueByPos(t){let{layout:e,railWidth:i,railHeight:s,min:a,max:n,inverse:l}=this.attribute,r="vertical"===e?s:i;return a+(n-a)*(l?1-t/r:t/r)}setValue(t){let{min:e,max:i}=this.attribute;if(i===e)return;let[s,a]=(0,h.IX)(t),{startHandler:n,endHandler:l}=this._getHandlers();n&&this._updateHandler(n,this.calculatePosByValue(s),s),l&&this._updateHandler(l,this.calculatePosByValue(a),a),this._updateTrack()}render(){var t,e;let i;this.removeAllChild(!0);let{layout:s="horizontal",railWidth:n,railHeight:l,startText:r,endText:h,min:u,max:c,showHandler:b=!0,showTooltip:p}=this.attribute,{value:f}=this.attribute;(0,d.Z)(f)&&(f=[u,c]),this._currentValue={startValue:x(f)[0],endValue:x(f)[1]};let m="horizontal"===s;this._isHorizontal=m;let _=g.i.group({x:0,y:0});_.name=a.innerView,this.add(_),this._innerView=_;let y,v=0;if(r&&r.visible){(y=g.i.text(Object.assign({x:m?0:n/2,y:m?l/2:0,textAlign:m?"start":"center",textBaseline:m?"middle":"top",text:r.text,lineHeight:null==(t=r.style)?void 0:t.fontSize},r.style))).name=a.startText,_.add(y);let e=(0,o.Z)(r.space)?r.space:0;v+=(m?y.AABBBounds.width():y.AABBBounds.height())+e}let A=g.i.group({x:m?v:0,y:m?0:v});_.add(A);let B=g.i.group({x:0,y:0});if(B.name=a.railContainer,this._railContainer=B,A.add(B),this._mainContainer=A,this._renderRail(B),v+=m?n:l,h&&h.visible){let t=(0,o.Z)(h.space)?h.space:0;(i=g.i.text(Object.assign({x:m?v+t:n/2,y:m?l/2:v+t,textAlign:m?"start":"center",textBaseline:m?"middle":"top",text:h.text,lineHeight:null==(e=h.style)?void 0:e.fontSize},h.style))).name=a.endText,_.add(i)}this._renderTrack(B),b&&(this._renderHandlers(A),this._bindEvents()),p&&(this._renderTooltip(),this._bindTooltipEvents())}_renderRail(t){let{railWidth:e,railHeight:i,railStyle:s,slidable:n}=this.attribute,l="default";!1!==n&&(l="pointer");let r=g.i.rect(Object.assign({x:0,y:0,width:e,height:i,cursor:l},s));return r.name=a.rail,t.add(r),this._rail=r,r}_renderHandlers(t){let{range:e,min:i,max:s,handlerSize:n=14,handlerStyle:l,handlerText:r,railHeight:o,railWidth:h,slidable:u}=this.attribute,{value:c}=this.attribute;(0,d.Z)(c)&&(c=[i,s]);let b=r&&r.visible,g=this._isHorizontal,[p,f]=x(c),m=this.calculatePosByValue(p,e?"start":"end"),y=this._renderHandler(Object.assign({x:g?m:h/2,y:g?o/2:m,size:n,strokeBoundsBuffer:0,cursor:!1===u?"default":_(g)},l));if(y.name=a.startHandler,this._startHandler=y,t.add(y),this._currentValue.startPos=m,b){let i=this._renderHandlerText(p,e?"start":"end");i.name=a.startHandlerText,t.add(i),this._startHandlerText=i}if(e){let e=this.calculatePosByValue(f,"end"),i=this._renderHandler(Object.assign({x:g?e:h/2,y:g?o/2:e,size:n,strokeBoundsBuffer:0,cursor:!1===u?"default":_(g)},l));if(i.name=a.endHandler,this._endHandler=i,t.add(i),this._currentValue.endPos=e,b){let e=this._renderHandlerText(f,"end");e.name=a.endHandlerText,t.add(e),this._endHandlerText=e}}}_renderTrack(t){let e,i,s,{range:n,min:l,max:o,railHeight:h,railWidth:b,trackStyle:p,railStyle:f,slidable:m,value:x}=this.attribute;if((0,d.Z)(x))n?(e=l,i=o):e=i=l;else if(n){let t=(0,u.Z)(x,l,o);e=t[0],i=t[1]}else e=l,i=(0,r.Z)(x,l,o);let y=this._isHorizontal;n||(e=l);let v=g.i.group({x:0,y:0,width:b,height:h,cornerRadius:null==f?void 0:f.cornerRadius,clip:!0,pickable:!1});v.name=a.trackContainer;let A=(0,c.Z)(n)&&!0===n.draggableTrack;s=!1===m?"default":!1===n||!1===A?"pointer":_(y);let B=this.calculatePosByValue(e,"start"),S=this.calculatePosByValue(i,n?"end":"start"),k=g.i.rect(Object.assign({x:y?Math.min(B,S):0,y:y?0:Math.min(B,S),width:y?Math.abs(S-B):b,height:y?h:Math.abs(S-B),cursor:s},p));k.name=a.track,this._track=k,v.add(k),t.add(v)}_renderHandler(t){return g.i.symbol(t)}_renderHandlerText(t,e){var i,s,a;let{align:n,handlerSize:l=14,handlerText:r={},railHeight:o,railWidth:h,slidable:d}=this.attribute,u=this._isHorizontal,c=this.calculatePosByValue(t,e),b=null!=(i=r.space)?i:4,p={text:r.formatter?r.formatter(t):t.toFixed(null!=(s=r.precision)?s:0),lineHeight:null==(a=r.style)?void 0:a.lineHeight,cursor:!1===d?"default":_(u)};return u?"top"===n?(p.textBaseline="bottom",p.textAlign="center",p.x=c,p.y=(o-l)/2-b):(p.textBaseline="top",p.textAlign="center",p.x=c,p.y=(o+l)/2+b):("left"===n?(p.textBaseline="middle",p.textAlign="end",p.x=(h-l)/2-b):(p.textBaseline="middle",p.textAlign="start",p.x=(h+l)/2+b),p.y=c),g.i.text(Object.assign(Object.assign({},p),r.style))}_renderTooltip(){var t;let{tooltip:e,railHeight:i,railWidth:s,align:a}=this.attribute;e&&e.alwaysShow?this._tooltipState={value:this._currentValue.startValue,pos:this._currentValue.startPos}:this._tooltipState=null;let n=this._isHorizontal?0:s/2,l=this._isHorizontal?i/2:0;if(e&&e.shape){let t=g.i.symbol(Object.assign({pickable:!1,visible:!!this._tooltipState,x:n,y:l,symbolType:"circle"},e.shapeStyle));this._tooltipShape=t,this._mainContainer.add(t)}let r=e&&e.text||{},o=null!=(t=r.space)?t:6,h={pickable:!1,visible:!!this._tooltipState,text:""};this._isHorizontal?(h.x=n,h.y="top"===a?l-i/2-o:l+i/2+o,h.textAlign="center",h.textBaseline="top"===a?"bottom":"top"):(h.y=l,h.x="left"===a?n-s/2-o:l+s/2+o,h.textAlign="left"===a?"end":"start",h.textBaseline="middle");let d=g.i.text(Object.assign(Object.assign({},h),r.style));this._mainContainer.add(d),this._tooltipText=d,this._tooltipState&&this._updateTooltip()}_updateTooltip(){var t,e;if(!this._tooltipShape&&!this._tooltipText||!this._tooltipState)return;let{railWidth:i,railHeight:s}=this.attribute,a=this._isHorizontal?i:s,n=this._tooltipState.pos*a,l=this._isHorizontal?"x":"y";this._tooltipShape&&this._tooltipShape.setAttributes({visible:!0,[l]:n});let{align:r}=this.attribute;if(this._tooltipText){let i=this.attribute.tooltip&&this.attribute.tooltip.text||{};this._tooltipText.setAttributes({visible:!0,[l]:n,text:i.formatter?i.formatter(this._tooltipState.value):this._isHorizontal||"left"!==r?`\u{2248} ${this._tooltipState.value.toFixed(null!=(e=i.precision)?e:0)}`:`${this._tooltipState.value.toFixed(null!=(t=i.precision)?t:0)} \u{2248}`})}}_bindEvents(){if(this.attribute.disableTriggerEvent)return;let{slidable:t,range:e}=this.attribute;t&&(this._startHandler&&this._startHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._startHandlerText&&this._startHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandler&&this._endHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandlerText&&this._endHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),(0,c.Z)(e)&&e.draggableTrack&&this._track.addEventListener("pointerdown",this._onTrackPointerdown),this._railContainer.addEventListener("pointerdown",this._onRailPointerDown),("browser"===b.rF.env?b.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}))}_bindTooltipEvents(){this.attribute.disableTriggerEvent||(this._mainContainer.addEventListener("pointerenter",this._onTooltipShow),this._mainContainer.addEventListener("pointermove",this._onTooltipUpdate),this._mainContainer.addEventListener("pointerleave",this._onTooltipHide))}_clearAllDragEvents(){let t=(0,m.G)(),e="browser"===b.rF.env?b.rF:this.stage;e.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onHandlerPointerUp)}),e.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onTrackPointerUp)})}_updateTrack(){let{inverse:t,railWidth:e,railHeight:i}=this.attribute,s=this._startHandler,a=this._endHandler;if(this._isHorizontal){let i=null==s?void 0:s.attribute.x;if(a){let t=null==a?void 0:a.attribute.x;this._track.setAttributes({x:Math.min(i,t),width:Math.abs(i-t)})}else t?this._track.setAttributes({x:i,width:e-i}):this._track.setAttributes({width:i})}else{let e=null==s?void 0:s.attribute.y;if(a){let t=null==a?void 0:a.attribute.y;this._track.setAttributes({y:Math.min(e,t),height:Math.abs(e-t)})}else t?this._track.setAttributes({y:e,height:i-e}):this._track.setAttributes({height:e})}}_updateHandler(t,e,i){var s;let n=this._isHorizontal;t.setAttribute(n?"x":"y",e);let l=t.name===a.startHandler?this._startHandlerText:this._endHandlerText;if(l){let{handlerText:t={}}=this.attribute;l.setAttributes({text:t.formatter?t.formatter(i):i.toFixed(null!=(s=t.precision)?s:0),[n?"x":"y"]:e})}t.name===a.startHandler?(this._currentValue.startValue=i,this._currentValue.startPos=e):(this._currentValue.endValue=i,this._currentValue.endPos=e)}_updateHandlerText(t,e,i){var s;let n=this._isHorizontal,{handlerText:l={}}=this.attribute;t.setAttributes({[n?"x":"y"]:e,text:l.formatter?l.formatter(i):i.toFixed(null!=(s=l.precision)?s:0)});let r=t.name===a.startHandlerText?this._startHandler:this._endHandler;r&&r.setAttributes({[n?"x":"y"]:e}),t.name===a.startHandlerText?(this._currentValue.startValue=i,this._currentValue.startPos=e):(this._currentValue.endValue=i,this._currentValue.endPos=e)}_dispatchChangeEvent(){let t=!!this.attribute.range,e=this._currentValue;this._dispatchEvent("change",{value:t?[Math.min(e.endValue,e.startValue),Math.max(e.endValue,e.startValue)]:e.startValue,position:t?[Math.min(e.endPos,e.startPos),Math.max(e.endPos,e.startPos)]:e.startPos})}_dispatchTooltipEvent(t){this._dispatchEvent("sliderTooltip",{type:t,position:this._tooltipState&&this._tooltipState.pos,value:this._tooltipState&&this._tooltipState.value})}_getHandlers(){let{inverse:t}=this.attribute,e=this._startHandler,i=this._endHandler;return i&&(this._isHorizontal?(!t&&i.attribute.x<(null==e?void 0:e.attribute.x)||t&&i.attribute.x>(null==e?void 0:e.attribute.x))&&([e,i]=[i,e]):(!t&&i.attribute.y<(null==e?void 0:e.attribute.y)||t&&i.attribute.y>(null==e?void 0:e.attribute.y))&&([e,i]=[i,e])),{startHandler:e,endHandler:i}}release(t){super.release(t),("browser"===b.rF.env?b.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearAllDragEvents()}}y.defaultAttributes={slidable:!0,layout:"horizontal",align:"bottom",height:8,showHandler:!0,handlerSize:14,handlerStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},tooltip:{shapeStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},text:{style:{fill:"#2C3542",fontSize:12}}},railStyle:{fill:"rgba(0,0,0,.04)"},trackStyle:{fill:"#91caff"},showValue:!0,valueStyle:{fill:"#2C3542",fontSize:12},startText:{style:{fill:"#2C3542",fontSize:12}},endText:{style:{fill:"#2C3542",fontSize:12}},handlerText:{visible:!0,space:4,precision:0,style:{fill:"#2C3542",fontSize:12}}}},975320:function(t,e,i){i.d(e,{b:()=>o});var s=i(745772),a=i(18029),n=i(483590),l=i(657256),r=i(865509);function o(){(0,s.M)(),(0,a.k)(),(0,n.k)(),(0,l.v)(),(0,r.g)()}},569402:function(t,e,i){i.d(e,{V:()=>m});var s=i(922552),a=i(20408),n=i(464639),l=i(863778),r=i(704654),o=i(944843),h=i(364776),d=i(454326),u=i(480971),c=i(999051),b=i(683330),g=i(118785),p=i(975320),f=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,p.b)();class m extends b.k{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},m.defaultAttributes,t)),this.name="tag",this._tagStates=[],this._rectStates=[],this._symbolStates=[],this._textStates=[]}render(){var t,e,i;let a,b,p;this.cacheStates();let{text:m="",textStyle:x={},shape:_={},panel:y={},space:v=4,minWidth:A,maxWidth:B,padding:S=4,visible:k,state:w,type:M,textAlwaysCenter:O,containerTextAlign:C}=this.attribute,L=(0,n.o)(S),T=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group"),P,I=-L[3],E=-L[0],Z=L[1]+L[3],H=L[0]+L[2],j=0,R=0,{visible:z}=_,V=f(_,["visible"]);if((0,l.Z)(z)){let t=(null==V?void 0:V.size)||10,e=(0,r.Z)(t)?t:Math.max(t[0],t[1]);P=T.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:t,strokeBoundsBuffer:0},V),{visible:z,x:e/2,y:e/2}),"symbol"),(0,o.Z)(null==w?void 0:w.shape)||(P.states=w.shape),z&&(R=e+v)}if(Z+=R,j+=R,(0,g.TV)({text:m})||"rich"===M){let t=Object.assign(Object.assign(Object.assign({},(0,g.ut)(Object.assign({type:M,text:m},x))),x),{visible:(0,h.Z)(m)&&!1!==k,x:j,y:0});(0,d.Z)(t.lineHeight)&&(t.lineHeight=x.fontSize),b=(a=T.createOrUpdateChild("tag-text",t,"richtext")).AABBBounds.width(),p=a.AABBBounds.height()}else{let i=Object.assign(Object.assign({text:(0,u.Z)(m)&&"type"in m&&"text"===m.type?m.text:m,visible:(0,h.Z)(m)&&!1!==k,lineHeight:null==x?void 0:x.fontSize},x),{x:j,y:0});(0,d.Z)(i.lineHeight)&&(i.lineHeight=x.fontSize),a=T.createOrUpdateChild("tag-text",i,"text");let s=(0,g.fe)(i.text,x,null==(e=null==(t=this.stage)?void 0:t.getTheme())?void 0:e.text);b=s.width,p=s.height}Z+=b;let D=null!=(i=_.size)?i:10,W=(0,r.Z)(D)?D:Math.max(D[0],D[1]);H+=Math.max(p,_.visible?W:0);let{textAlign:F,textBaseline:U}=x;((0,h.Z)(A)||(0,h.Z)(B))&&((0,h.Z)(A)&&Z<A&&(Z=A),(0,h.Z)(B)&&Z>B&&(Z=B,a.setAttribute("maxLineWidth",B-L[1]-L[2]))),I=0,E=0;let G=0;"left"===F||"start"===F?G=1:"right"===F||"end"===F?G=-1:"center"===F&&(G=0),G?G<0?(I-=Z,P&&P.setAttribute("x",(P.attribute.x||0)-b),T.setAttribute("x",-L[1]-R)):G>0&&T.setAttribute("x",L[3]):(I-=Z/2,P&&P.setAttribute("x",(P.attribute.x||0)-b/2),T.setAttribute("x",-R/2));let $=(t,e)=>{"richtext"===a.type?a.setAttributes({x:t,textAlign:e,textConfig:(0,c.IX)(a.attribute.textConfig).map(t=>Object.assign(Object.assign({},t),{textAlign:e}))}):a.setAttributes({x:t,textAlign:e})};if((C?"center"===C:O)&&G){let t=Z-L[1]-L[3],e=b+R,i=1===G?(t-e)/2+R+b/2:L[0]+R-(Z/2+e/2-R)+b/2;if($(i,"center"),P){let t=i-b/2-R+W/2;P.setAttributes({x:t})}}if(("left"===C||"start"===C)&&1!==G){let t=Z-L[1]-L[3],e=0===G?-t/2+R/2:-Z+L[3]+L[1]+R;$(e+R,"left"),P&&P.setAttributes({x:e+W/2})}if(("right"===C||"end"===C)&&-1!==G){let t=Z-L[1]-L[3],e=0===G?t/2+R/2:t;if($(e,"right"),P){let t=e-b-R+W/2;P.setAttributes({x:t})}}"middle"===U?(E-=H/2,P&&P.setAttribute("y",0)):"bottom"===U?(E-=H,P&&P.setAttribute("y",-p/2),T.setAttribute("y",-L[2])):"top"===U&&(T.setAttribute("y",L[0]),P&&P.setAttribute("y",p/2)),(0,o.Z)(null==w?void 0:w.text)||(a.states=w.text);let{visible:X}=y,Y=f(y,["visible"]);if(k&&(0,l.Z)(X)){let t=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},Y),{visible:X&&!!m,width:Z,height:H,x:I,y:E}),"rect");if((0,o.Z)(null==w?void 0:w.panel)||(t.states=w.panel),Y.customShape){let e=Y.customShape;t.pathProxy=t=>e(this,t,new s.r)}this._bgRect=t}this._textShape=a,this._symbol=P,this.resetStates()}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,a.Z)({},m.defaultAttributes,t),super.initAttributes(t),this.render()}addState(t,e,i){super.addState(t,e,i),this._textShape&&this._textShape.addState(t,e,i),this._bgRect&&this._bgRect.addState(t,e,i),this._symbol&&this._symbol.addState(t,e,i)}removeState(t,e){super.removeState(t,e),this._textShape&&this._textShape.removeState(t,e),this._bgRect&&this._bgRect.removeState(t,e),this._symbol&&this._symbol.removeState(t,e)}cacheStates(){var t,e,i,s,a,n,l,r,o,h,d,u,c,b;this._tagStates=null!=(e=null==(t=this.currentStates)?void 0:t.slice())?e:[],this._rectStates=null!=(a=null==(s=null==(i=this._bgRect)?void 0:i.currentStates)?void 0:s.slice())?a:[],this._symbolStates=null!=(r=null==(l=null==(n=this._symbol)?void 0:n.currentStates)?void 0:l.slice())?r:[],this._textStates=null!=(d=null==(h=null==(o=this._textShape)?void 0:o.currentStates)?void 0:h.slice())?d:[],this.clearStates(),null==(u=this._bgRect)||u.clearStates(),null==(c=this._symbol)||c.clearStates(),null==(b=this._textShape)||b.clearStates()}resetStates(){var t,e,i;this._tagStates.length&&this.useStates(this._tagStates),this._rectStates.length&&(null==(t=this._bgRect)||t.useStates(this._rectStates)),this._symbolStates.length&&(null==(e=this._symbol)||e.useStates(this._symbolStates)),this._textStates.length&&(null==(i=this._textShape)||i.useStates(this._textStates))}}m.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}}},623543:function(t,e,i){i.d(e,{D:()=>c});var s=i(20408),a=i(464639),n=i(364776),l=i(695723),r=i(683330),o=i(743394),h=i(745772),d=i(865509),u=i(657256);(0,h.M)(),(0,d.g)(),(0,u.v)();class c extends r.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t)),this.name="title"}render(){var t,e,i,s,r,h,d,u,c,b,g,p,f,m,x,_,y,v,A,B;let{textType:S,text:k,subtextType:w,textStyle:M={},subtext:O,subtextStyle:C={},width:L,height:T,minWidth:P,maxWidth:I,minHeight:E,maxHeight:Z,align:H,verticalAlign:j,padding:R=0}=this.attribute,z=(0,a.o)(R),V=this.createOrUpdateChild("title-container",{x:z[3],y:z[0],zIndex:1},"group"),D=null!=(t=M.height)?t:T;if(!1!==this.attribute.visible&&!1!==M.visible){let{width:t,maxHeight:a,maxWidth:u,x:c=0,y:b=0,ellipsis:g=!0,wordBreak:p="break-word",maxWidth:f,lineClamp:m}=M;if("rich"===S||(0,n.Z)(M.character)){let s=Object.assign({x:c,y:b,width:null!=(e=null!=t?t:L)?e:0,height:null!=D?D:0,ellipsis:null==g||g,wordBreak:null!=p?p:"break-word",maxHeight:null!=a?a:Z,maxWidth:null!=u?u:f,textConfig:null!=(i=M.character)?i:k},M);this._mainTitle=V.createOrUpdateChild("mainTitle",s,"richtext")}else if("html"===S){let e=Object.assign({html:Object.assign(Object.assign({dom:k},o.Ze),M),x:c,y:b,width:null!=(s=null!=t?t:L)?s:0,height:null!=D?D:0,ellipsis:g,wordBreak:p,maxHeight:null!=a?a:Z,maxWidth:null!=u?u:f,textConfig:[]},M);this._mainTitle=V.createOrUpdateChild("mainTitle",e,"richtext")}else(0,n.Z)(k)&&(this._mainTitle=V.createOrUpdateChild("mainTitle",Object.assign(Object.assign({text:(0,l.Z)(k)?k:[k],whiteSpace:"normal"},M),{maxLineWidth:null!=(h=null!=(r=M.maxLineWidth)?r:t)?h:L,heightLimit:null!=(d=M.height)?d:Z,lineClamp:m,ellipsis:g,x:c,y:b}),"text"))}let W=this._mainTitle?this._mainTitle.AABBBounds.height():0,F=this._mainTitle?this._mainTitle.AABBBounds.width():0;if(!1!==this.attribute.visible&&!1!==C.visible){let{width:t,height:e,maxWidth:i,maxHeight:s,x:a=0,y:r=0,ellipsis:h=!0,wordBreak:d="break-word",lineClamp:x}=C,_=Math.max(Number.MIN_VALUE,Z-W);if("rich"===w||(0,n.Z)(C.character)){let n=Object.assign({x:a,y:r,width:null!=(u=null!=t?t:L)?u:0,height:null!=(c=null!=e?e:T)?c:0,ellipsis:h,wordBreak:d,maxHeight:null!=s?s:_,maxWidth:null!=i?i:I,textConfig:null!=(b=C.character)?b:O},C);this._subTitle=V.createOrUpdateChild("subTitle",n,"richtext")}else if("html"===w){let n=Object.assign({html:Object.assign(Object.assign({dom:O},o.Ze),C),x:a,y:r,width:null!=(g=null!=t?t:L)?g:0,height:null!=(p=null!=e?e:T)?p:0,ellipsis:h,wordBreak:d,maxHeight:null!=s?s:_,maxWidth:null!=i?i:I,textConfig:[]},C);this._subTitle=V.createOrUpdateChild("subTitle",n,"richtext")}else(0,n.Z)(O)&&(this._subTitle=V.createOrUpdateChild("subTitle",Object.assign(Object.assign({text:(0,l.Z)(O)?O:[O],whiteSpace:"normal"},C),{maxLineWidth:null!=(f=C.maxLineWidth)?f:L,heightLimit:null!=(m=C.heightLimit)?m:_,lineClamp:x,ellipsis:h,x:0,y:W}),"text"))}let U=this._subTitle?this._subTitle.AABBBounds.height():0,G=Math.max(F,this._subTitle?this._subTitle.AABBBounds.width():0),$=W+(null!=(x=C.height)?x:U);if((0,n.Z)(L)&&(G=L),(0,n.Z)(T)&&($=T),(0,n.Z)(P)&&G<P&&(G=P),(0,n.Z)(I)&&G>I&&(G=I),(0,n.Z)(E)&&$<E&&($=E),(0,n.Z)(Z)&&$>Z&&($=Z),V.attribute.width=G,V.attribute.height=$,V.attribute.boundsPadding=z,this._mainTitle){if((0,n.Z)(H)||(0,n.Z)(M.align)){let t=M.align?M.align:H,e=null!=(_=M.width)?_:G;"center"===t?(this._mainTitle.setAttribute("x",e/2),this._mainTitle.setAttribute("textAlign","center")):"right"===t?(this._mainTitle.setAttribute("x",e),this._mainTitle.setAttribute("textAlign","right")):(this._mainTitle.setAttribute("x",0),this._mainTitle.setAttribute("textAlign","left"))}let t=M.verticalAlign?M.verticalAlign:j,e=null!=D?D:this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height();"middle"===t?(this._mainTitle.setAttribute("y",e/2),this._mainTitle.setAttribute("textBaseline","middle")):"bottom"===t?(this._mainTitle.setAttribute("y",e),this._mainTitle.setAttribute("textBaseline","bottom")):(this._mainTitle.setAttribute("y",0),this._mainTitle.setAttribute("textBaseline","top"))}if(this._subTitle){if((0,n.Z)(H)||(0,n.Z)(C.align)){let t=C.align?C.align:H,e=null!=(v=null!=(y=C.width)?y:M.width)?v:G;"center"===t?(this._subTitle.setAttribute("x",e/2),this._subTitle.setAttribute("textAlign","center")):"right"===t?(this._subTitle.setAttribute("x",e),this._subTitle.setAttribute("textAlign","right")):(this._subTitle.setAttribute("x",0),this._subTitle.setAttribute("textAlign","left"))}let t=C.verticalAlign?C.verticalAlign:j,e=this._mainTitle?(0,n.Z)(D)?this._mainTitle.AABBBounds.y1+Math.max(this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height(),D):this._mainTitle.AABBBounds.y2:0,i=null!=(B=null!=(A=C.height)?A:T)?B:this._subTitle.AABBBounds.empty()?0:this._subTitle.AABBBounds.height();"middle"===t?(this._subTitle.setAttribute("y",e+i/2),this._subTitle.setAttribute("textBaseline","middle")):"bottom"===t?(this._subTitle.setAttribute("y",e+i),this._subTitle.setAttribute("textBaseline","bottom")):(this._subTitle.setAttribute("y",e),this._subTitle.setAttribute("textBaseline","top"))}}}c.defaultAttributes={textStyle:{ellipsis:"...",fill:"#333",fontSize:20,fontWeight:"bold",textAlign:"left",textBaseline:"top"},subtextStyle:{ellipsis:"...",fill:"#6F6F6F",fontSize:16,fontWeight:"normal",textAlign:"left",textBaseline:"top"}}},768901:function(t,e,i){i.d(e,{u:()=>S});var s=i(917486),a=i(426155),n=i(20408),l=i(464639),r=i(364776),o=i(454326),h=i(683330),d=i(118785),u=i(883731),c=i(999051);let b=(t,...e)=>{let i=[t.shape,...e.map(t=>null==t?void 0:t.shape)],s=[t.key,...e.map(t=>null==t?void 0:t.key)],a=[t.value,...e.map(t=>null==t?void 0:t.value)];return(0,n.Z)(t,...e,{shape:i.every(o.Z)?void 0:(0,n.Z)({},...i),key:s.every(o.Z)?void 0:(0,n.Z)({},...s),value:a.every(o.Z)?void 0:(0,n.Z)({},...a)})},g=t=>{let{width:e,height:i,wordBreak:s="break-word",textAlign:a,textBaseline:n,text:l}=t;return Array.isArray(l)?{width:e,height:i,wordBreak:s,textAlign:a,textBaseline:n,singleLine:!1,textConfig:(0,c.IX)(l).map(e=>Object.assign(Object.assign({},t),{text:e}))}:{width:e,height:i,wordBreak:s,textAlign:a,textBaseline:n,singleLine:!1,textConfig:null==l?void 0:l.text}};var p=i(263401),f=i(743394);let m={panel:{visible:!0,cornerRadius:[3,3,3,3],fill:"white",shadow:!0,shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffsetX:0,shadowOffsetY:4,shadowSpread:0,stroke:"white"},titleStyle:{value:{fill:"#4E5969",fontFamily:f.iR,fontSize:14,lineHeight:18,textAlign:"left",textBaseline:"middle"},spaceRow:6},contentStyle:{shape:{fill:"black",size:8,symbolType:"circle",spacing:6},key:{fill:"#4E5969",fontFamily:f.iR,fontSize:12,lineHeight:18,textAlign:"left",textBaseline:"middle",spacing:26},value:{fill:"#4E5969",fontFamily:f.iR,fontSize:12,lineHeight:18,textAlign:"right",textBaseline:"middle",spacing:0},spaceRow:6},padding:10,positionX:"right",positionY:"bottom",offsetX:10,offsetY:10,parentBounds:(new p.FB).setValue(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),autoCalculatePosition:!0,autoMeasure:!0,pickable:!1,childrenPickable:!1,zIndex:500},x=["pointerX","pointerY","offsetX","offsetY","positionX","positionY","parentBounds"];var _=i(745772),y=i(18029),v=i(483590),A=i(865509),B=i(657256);(0,_.M)(),(0,y.k)(),(0,v.k)(),(0,A.g)(),(0,B.v)();class S extends h.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,n.Z)({},S.defaultAttributes,t),e),this.name="tooltip"}render(){var t;let{visible:e,content:i,panel:s,keyWidth:a,valueWidth:o,hasContentShape:h,autoCalculatePosition:c,autoMeasure:b,align:p}=this.attribute;if(!e)return void this.hideAll();b&&S.measureTooltip(this.attribute),c&&S.calculateTooltipPosition(this.attribute);let m=(0,l.o)(this.attribute.padding);this._tooltipPanel=this.createOrUpdateChild("tooltip-background",Object.assign({visible:!0},s),"rect"),this._tooltipTitleContainer=this.createOrUpdateChild("tooltip-title",{visible:!0,x:m[3],y:m[0]},"group");let x=S.getTitleAttr(this.attribute);this._tooltipTitleSymbol=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-shape",(0,n.Z)({symbolType:"circle"},x.shape,{visible:(0,u.pn)(x)&&(0,u.pn)(x.shape)}),"symbol"),"object"!=typeof x.value.text||null===x.value.text||"rich"!==x.value.text.type&&"html"!==x.value.text.type?x.value.multiLine?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:(0,u.pn)(x)&&(0,u.pn)(x.value)},g(x.value)),"richtext"):this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({text:null!=(t=x.value.text)?t:"",visible:(0,u.pn)(x)&&(0,u.pn)(x.value)},x.value),"text"):"rich"===x.value.text.type?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:(0,u.pn)(x)&&(0,u.pn)(x.value)},g(x.value)),"richtext"):"html"===x.value.text.type&&(this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({html:Object.assign(Object.assign({dom:x.value.text.text},f.Ze),x.value),visible:(0,u.pn)(x)&&(0,u.pn)(x.value),width:x.value.width,height:x.value.height,wordBreak:x.value.wordBreak,textAlign:x.value.textAlign,textBaseline:x.value.textBaseline,singleLine:!1,textConfig:[]},x.value),"richtext"));let _=(0,u.pn)(x.shape)?x.shape.size+x.shape.spacing:0,{textAlign:y,textBaseline:v}=x.value,A=s.width-m[3]-m[0]-_;"center"===y?this._tooltipTitle.setAttribute("x",_+A/2):"right"===y||"end"===y?this._tooltipTitle.setAttribute("x",_+A):this._tooltipTitle.setAttribute("x",_),"bottom"===v?this._tooltipTitle.setAttribute("y",x.height):"middle"===v?this._tooltipTitle.setAttribute("y",x.height/2):this._tooltipTitle.setAttribute("y",0);let B=(0,u.pn)(x)?x.height+x.spaceRow:0;if(this._tooltipContent=this.createOrUpdateChild("tooltip-content",{visible:!0},"group"),this._tooltipContent.removeAllChild(!0),i&&i.length){this._tooltipContent.setAttribute("x",m[3]),this._tooltipContent.setAttribute("y",m[0]+B);let t=0;i.forEach((e,i)=>{let s=S.getContentAttr(this.attribute,i);if(!(0,u.pn)(s))return;let n=`tooltip-content-${i}`,l=this._tooltipContent.createOrUpdateChild(n,{visible:!0,x:0,y:t},"group"),c=s.shape.size+s.shape.spacing,b="right"===p?(h?c:0)+((0,u.pn)(s.key)?a+s.key.spacing:0)+((0,u.pn)(s.value)?o:0):0;this._createShape("right"===p?b-s.shape.size/2:b+s.shape.size/2,s,l,n),h&&("right"===p?b-=c:b+=c);let g=this._createKey(s,l,n);g&&((0,d.He)(p,g,s.key.textAlign,b,a),g.setAttribute("y",0),"right"===p?b-=a+s.key.spacing:b+=a+s.key.spacing);let f=this._createValue(s,l,n);if(f){let t="right";(0,r.Z)(s.value.textAlign)?t=s.value.textAlign:(0,u.pn)(s.key)||"right"===p||(t="left"),f.setAttribute("textAlign",t),(0,d.He)(p,f,t,b,o),f.setAttribute("y",0)}t+=s.height+s.spaceRow})}}_createShape(t,e,i,a){var n;if((0,u.pn)(e.shape))return i.createOrUpdateChild(`${a}-shape`,Object.assign({visible:!0,x:t,y:e.shape.size/2+((null!=(n=(0,s.VA)(e.key.lineHeight,e.key.fontSize))?n:e.key.fontSize)-e.shape.size)/2},e.shape),"symbol")}_createKey(t,e,i){var s;if((0,u.pn)(t.key))return t.key.multiLine?e.createOrUpdateChild(`${i}-key`,Object.assign(Object.assign({visible:!0},g(t.key)),{textBaseline:"top"}),"richtext"):"object"!=typeof t.key.text||null===t.key.text||"rich"!==t.key.text.type&&"html"!==t.key.text.type?e.createOrUpdateChild(`${i}-key`,Object.assign(Object.assign({visible:!0,text:null!=(s=t.key.text)?s:""},t.key),{textBaseline:"top"}),"text"):"rich"===t.key.text.type?e.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},g(t.key)),{textBaseline:"top"}),"richtext"):e.createOrUpdateChild(`${i}-value`,{html:Object.assign(Object.assign({dom:t.key.text.text},f.Ze),t.key)},"richtext")}_createValue(t,e,i){var s;if((0,u.pn)(t.value))return t.value.multiLine?e.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},g(t.value)),{textBaseline:"top"}),"richtext"):"object"!=typeof t.value.text||null===t.value.text||"rich"!==t.value.text.type&&"html"!==t.value.text.type?e.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0,text:null!=(s=t.value.text)?s:""},t.value),{textBaseline:"top"}),"text"):"rich"===t.value.text.type?e.createOrUpdateChild(`${i}-value`,Object.assign(Object.assign({visible:!0},g(t.value)),{textBaseline:"top"}),"richtext"):e.createOrUpdateChild(`${i}-value`,{html:Object.assign({dom:t.value.text.text,container:"",width:30,height:30,style:{}},t.value)},"richtext")}setAttributes(t,e){let i=Object.keys(t);this.attribute.autoCalculatePosition&&i.every(t=>x.includes(t))?(this._mergeAttributes(t,i),(0,o.Z)(this.attribute.panel.width)&&this.attribute.autoMeasure&&S.measureTooltip(this.attribute),S.calculateTooltipPosition(this.attribute),super.setAttributes({x:this.attribute.x,y:this.attribute.y},e)):super.setAttributes(t,e)}static calculateTooltipPosition(t){let{width:e=0,height:i=0}=t.panel,{offsetX:s,offsetY:a,pointerX:n,pointerY:l,positionX:r,positionY:o,parentBounds:h}=t,d=n,u=l;return"left"===r?d-=e+s:"center"===r?d-=e/2:d+=s,"top"===o?u-=i+a:"middle"===o?u-=i/2:u+=a,d+e>h.x2&&(d-=e+s),u+i>h.y2&&(u-=i+a),d<h.x1&&(d=h.x1),u<h.y1&&(u=h.y1),t.x=d,t.y=u,t}static measureTooltip(t){let{content:e,contentStyle:i}=t,s=(0,l.o)(t.padding),n=S.getTitleAttr(t),o=0,h=s[0]+s[2],c=0,{value:b,shape:g}=n,{visible:p=!1,symbolType:f=""}=null!=g?g:{};if((0,r.Z)(b)&&"object"!=typeof n.value.text){let{width:t,height:e}=(0,d.gM)(b).quickMeasure(b.text);o=t,c=e}if(p&&a.g6[f]&&(o+=g.size+g.spacing,c=Math.max(g.size,c)),t.title&&(t.title.width=o,t.title.height=c),(0,u.pn)(n)&&(h+=c+n.spaceRow),e&&e.length){let s=[];if(e.forEach((e,i)=>{let a=S.getContentAttr(t,i);(e.key||e.value)&&(0,u.pn)(a)&&s.push([e,a])}),s.length){let n=!1,l=[],r=[],c=[];s.forEach(([t,e],o)=>{var b;let{key:g,value:p,shape:f,spaceRow:m}=e,x=(0,u.pn)(f),_=null!=(b=null==f?void 0:f.symbolType)?b:"",y=(0,d.gM)(g),v=(0,d.gM)(p),A=0;if((0,u.pn)(g)){let{width:t,height:e}=y.quickMeasure(g.text);r.push(t),A=Math.max(A,e)}if((0,u.pn)(p)){let{width:t,height:e}=v.quickMeasure(p.text);c.push(t),A=Math.max(A,e)}x&&a.g6[_]&&(n=!0,l.push(f.size),A=Math.max(f.size,A)),t.height=A,h+=A,o<s.length-1&&(h+=null!=m?m:i.spaceRow)});let b=l.length?Math.max(...l):0,g=r.length?Math.max(...r):0,p=c.length?Math.max(...c):0;o=Math.max(g+p+i.key.spacing+i.value.spacing+(n?b+i.shape.spacing:0),o),e.forEach(t=>{t.width=o}),t.hasContentShape=n,t.keyWidth=g,t.valueWidth=p}}return t.panel.width=o+s[1]+s[3],t.panel.height=h,t}static getTitleAttr(t){return b({},S.defaultAttributes.titleStyle,S.defaultAttributes.title,t.titleStyle,t.title)}static getContentAttr(t,e){return b({},S.defaultAttributes.contentStyle,t.contentStyle,t.content[e])}}S.defaultAttributes=m},883731:function(t,e,i){i.d(e,{Bh:()=>r,Ck:()=>function t(e,i){e.forEachChildren(e=>{let s=i(e);e.isContainer&&!s&&t(e,i)})},Dh:()=>l,U4:()=>h,WF:()=>o,ic:()=>d,pn:()=>a,tP:()=>n});var s=i(454326);let a=t=>!(0,s.Z)(t)&&!1!==t.visible;function n(t,e){if(!e)return[];let i=t.find(t=>t.name===e,!0);return i?i.getChildren():[]}function l(t,e){if(!e)return[];let i=t.find(t=>t.name===e,!0);return i?i.findAll(t=>"group"!==t.type,!0):[]}function r(t){let e=[t[0]];for(let i=1;i<t.length;i++)t[i].x===t[i-1].x&&t[i].y===t[i-1].y||e.push(t[i]);return e}function o(t){return t>=0&&t<Math.PI/2||t>3*Math.PI/2&&t<=2*Math.PI}function h(t,e,i){return Math.abs(t-e)<i}function d(t,e,i){return t?{textAlign:"right",textBaseline:"middle"}:{textAlign:e<Math.PI&&i.toLocaleLowerCase().includes("top")||e>Math.PI&&i.toLocaleLowerCase().includes("bottom")?"left":e<Math.PI&&i.toLocaleLowerCase().includes("bottom")||e>Math.PI&&i.toLocaleLowerCase().includes("top")?"right":"center",textBaseline:e<Math.PI&&i.includes("inside")||e>Math.PI&&!i.includes("inside")?"bottom":"top"}}},85637:function(t,e,i){i.d(e,{G:()=>a});var s=i(990389);function a(){return"browser"===s.rF.env?["pointerup","pointerleave","pointercancel"]:["pointerup","pointerleave","pointerupoutside"]}},670144:function(t,e,i){i.d(e,{Q6:()=>o,fM:()=>l,lO:()=>r});var s=i(743394),a=i(883731),n=i(944843);let l=(t,e,i)=>{let l=t.target;return l!==i&&l.name&&!(0,n.Z)(l.states)?(l.addState(s.HW.hover,!0),(0,a.Ck)(e,t=>{t!==l&&t.name&&!(0,n.Z)(t.states)&&t.addState(s.HW.hoverReverse,!0)}),l):i},r=(t,e,i)=>i?((0,a.Ck)(e,t=>{t.name&&!(0,n.Z)(t.states)&&(t.removeState(s.HW.hoverReverse),t.removeState(s.HW.hover))}),null):i,o=(t,e,i)=>{let l=t.target;return i===l&&l.hasState(s.HW.selected)?((0,a.Ck)(e,t=>{t.name&&!(0,n.Z)(t.states)&&(t.removeState(s.HW.selectedReverse),t.removeState(s.HW.selected))}),null):l.name&&!(0,n.Z)(l.states)?(l.addState(s.HW.selected,!0),(0,a.Ck)(e,t=>{t!==l&&t.name&&!(0,n.Z)(t.states)&&t.addState(s.HW.selectedReverse,!0)}),l):i}},212697:function(t,e,i){function s(t,e){let{x1:i,y1:s,x2:a,y2:n}=e,{x1:l,y1:r,x2:o,y2:h}=t.AABBBounds,d=0,u=0;return l<i&&(d=i-l),r<s&&(u=s-r),o>a&&(d=a-o),h>n&&(u=n-h),{dx:d,dy:u}}function a(t,e){let{dx:i,dy:a}=s(t,e),{dx:n=0,dy:l=0}=t.attribute;i&&t.setAttribute("dx",i+n),a&&t.setAttribute("dy",a+l)}i.d(e,{O:()=>s,v:()=>a})},881650:function(t,e,i){i.d(e,{Dg:()=>r,Fv:()=>l,bA:()=>a,kE:()=>n});var s=i(408830);function a(t,e){return[t[0]*e,t[1]*e]}function n(t){let[e,i]=t;return Math.sqrt(e*e+i*i)}function l(t){let e=n(t);return e>0&&(e=1/e),[t[0]*e,t[1]*e]}function r(t,e,i){let a=function(t,e){let[i,s]=t,[a,n]=e,l=Math.sqrt((i*i+s*s)*(a*a+n*n));return Math.acos(Math.min(Math.max(l&&(i*a+s*n)/l,-1),1))}(t,e),n=(0,s.ir)(t,e)>=0;return i?n?2*Math.PI-a:a:n?a:2*Math.PI-a}},118785:function(t,e,i){i.d(e,{He:()=>p,TV:()=>u,fe:()=>d,gM:()=>h,ut:()=>b,vS:()=>g});var s=i(21577),a=i(222669),n=i(385005),l=i(480971),r=i(364776),o=i(743394);let h=(t,e,i,a)=>new n.e(Object.assign({defaultFontParams:Object.assign({fontFamily:o.iR,fontSize:o.$M},a),getTextBounds:i?void 0:s.o,specialCharSet:"-/: .,@%'\"~"+n.e.ALPHABET_CHAR_SET+n.e.ALPHABET_CHAR_SET.toUpperCase()},null!=e?e:{}),t);function d(t,e,i={}){if(!t)return{width:0,height:0};let a=(0,s.o)({text:t,fontFamily:e.fontFamily||i.fontFamily||o.iR,fontSize:e.fontSize||i.fontSize||12,fontWeight:e.fontWeight||i.fontWeight,textAlign:e.textAlign||"center",textBaseline:e.textBaseline,ellipsis:!!e.ellipsis,maxLineWidth:e.maxLineWidth||1/0,lineHeight:e.fontSize||i.fontSize||12});return{width:a.width(),height:a.height()}}function u(t,e="type"){return"rich"===c(t,e)}function c(t,e="type"){var i,s;return(0,l.Z)(t.text)&&"type"in t.text?null!=(i=t.text.type)?i:"text":e in t&&null!=(s=t[e])?s:"text"}function b(t){var e,i;return(0,r.Z)(t.maxLineWidth)&&(t.maxWidth=t.maxLineWidth,delete t.maxLineWidth),t.width=null!=(e=t.width)?e:0,t.height=null!=(i=t.height)?i:0,t.textConfig=t.text.text||t.text,t}function g(t,e="type"){let i=c(t,e);return"rich"===i?a.i.richtext(b(t)):("html"===i?t=function(t){let{text:e,_originText:i}=t,{text:s}=e;return t.html=s,t.text=i,t.renderable=!1,t}(t):"react"===i&&(t=function(t){let{text:e,_originText:i}=t,{text:s}=e;return t.react=s,t.text=i,t.renderable=!1,t}(t)),a.i.text(t))}function p(t,e,i,s,a){"right"===t?"center"===i?e.setAttribute("x",s-a/2):"right"===i||"end"===i?e.setAttribute("x",s):e.setAttribute("x",s-a):"center"===i?e.setAttribute("x",s+a/2):"right"===i||"end"===i?e.setAttribute("x",s+a):e.setAttribute("x",s)}},126957:function(t,e,i){i.d(e,{P:()=>a,p:()=>s});let s={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},labelHoverOnAxis:{visible:!1,space:7,padding:2,position:0,autoRotate:!1,textStyle:{fontSize:12,fill:"red",fontWeight:"normal",fillOpacity:1},background:{visible:!0,style:{cornerRadius:2,fill:"black"}}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},a={size:8,stroke:"#000",lineWidth:1,zIndex:1}},953752:function(t,e,i){i.d(e,{$:()=>tn});var s,a,n,l,r=i(464639),o=i(20408),h=i(944843),d=i(536163),u=i(625397),c=i(454326),b=i(89530),g=i(999051),p=i(796241),f=i(364776),m=i(612430),x=i(205427),_=i(951776),y=i(309600),v=i(942747),A=i(42888),B=i(551976),S=i(408830),k=i(255020),w=i(408566),M=i(940179);(s=n||(n={})).innerView="inner-view",s.axisContainer="axis-container",s.labelContainer="axis-label-container",s.tickContainer="axis-tick-container",s.tick="axis-tick",s.subTick="axis-sub-tick",s.label="axis-label",s.title="axis-title",s.labelHoverOnAxis="axis-label-hover-on-axis",s.gridContainer="axis-grid-container",s.grid="axis-grid",s.gridRegion="axis-grid-region",s.line="axis-line",s.background="axis-background",s.axisLabelBackground="axis-label-background",s.axisBreak="axis-break",s.axisBreakSymbol="axis-break-symbol",(a=l||(l={})).selected="selected",a.selectedReverse="selected_reverse",a.hover="hover",a.hoverReverse="hover_reverse";let O={[l.selectedReverse]:{},[l.selected]:{},[l.hover]:{},[l.hoverReverse]:{}};var C=i(126957),L=i(827411),T=i(129360),P=i(385943),I=i(480971),E=i(695723);class Z extends P.k{_prepareAnimate(t){if(!1!==this.attribute.animation){let{animation:e,animationEnter:i,animationExit:s,animationUpdate:a}=this.attribute,n=(0,I.Z)(e)?e:{};this._animationConfig={enter:!1!==i&&(0,o.Z)({},t,n,null!=i?i:{}),exit:!1!==s&&(0,o.Z)({},t,n,null!=s?s:{}),update:!1!==a&&((0,E.Z)(a)?a:(0,o.Z)({},t,n,null!=a?a:{}))}}else this._animationConfig={enter:!1,exit:!1,update:!1}}}let H={type:"default",duration:300,easing:"linear"};class j extends Z{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=t=>{this._lastHover=(0,T.fM)(t,this.axisContainer,this._lastHover)},this._onUnHover=t=>{this._lastHover=(0,T.lO)(t,this.axisContainer,this._lastHover)},this._onClick=t=>{this._lastSelect=(0,T.Q6)(t,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(t){let e=(0,B.Z)(this.attribute);e.scale=this.attribute.scale,this.attribute=t;let i=x.i.group({x:this.attribute.x,y:this.attribute.y});return this.add(i),this._renderInner(i),this.removeChild(i),this.attribute=e,i.AABBBounds}render(){this._prepare(),this._prevInnerView=this._innerView&&(0,L.uX)(this._innerView),this.removeAllChild(!0),this._innerView=x.i.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent(),this.runAnimation()}_prepare(){this._prepareAnimate(H)}_bindEvent(){if(this.attribute.disableTriggerEvent)return;let{hover:t,select:e}=this.attribute;t&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),e&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(t){let{title:e,label:i,tick:s,line:a,items:l}=this.attribute,r=x.i.group({x:0,y:0,zIndex:1,pickable:!1});if(r.name=n.axisContainer,r.id=this._getNodeId("container"),r.setMode(this.mode),this.axisContainer=r,t.add(r),a&&a.visible&&this.renderLine(r),l&&l.length&&(this.data=this._transformItems(l[0]),s&&s.visible&&this.renderTicks(r),i&&i.visible)){let t=x.i.group({x:0,y:0,pickable:!1});t.name=n.labelContainer,t.id=this._getNodeId("label-container"),this.axisLabelsContainer=t,r.add(t),l.forEach((e,i)=>{let s=this.renderLabels(t,e,i),a=s.getChildren();this.beforeLabelsOverlap(a,e,s,i,l.length),this.handleLabelsOverlap(a,e,s,i,l.length),this.afterLabelsOverlap(a,e,s,i,l.length);let n=0,r=0,o="center",h="middle",d=0;a.forEach((t,e)=>{var i;let s=t.attribute,a=null!=(i=s.angle)?i:0,l=t.AABBBounds,u=l.width(),c=l.height();a&&(u=Math.abs(u*Math.cos(a)),c=Math.abs(c*Math.sin(a))),n=Math.max(n,u),r=Math.max(r,c),o=s.textAlign,h=s.textBaseline,0===e&&(d=s.x)}),this.axisLabelLayerSize[i]={width:n,height:r,labelPos:d,textAlign:o,textBaseline:h}})}e&&e.visible&&this.renderTitle(r)}renderTicks(t){let e=this.getTickLineItems(),i=x.i.group({x:0,y:0,pickable:!1});i.name=n.tickContainer,i.id=this._getNodeId("tick-container"),t.add(i),e.forEach((t,s)=>{var a;let l=x.i.line(Object.assign({},this._getTickLineAttribute("tick",t,s,e)));if(l.name=n.tick,l.id=this._getNodeId(t.id),(0,h.Z)(null==(a=this.attribute.tick)?void 0:a.state))l.states=M.n0;else{let t=this.data[s],e=(0,o.Z)({},M.n0,this.attribute.tick.state);Object.keys(e).forEach(i=>{(0,p.Z)(e[i])&&(e[i]=e[i](t.rawValue,s,t,this.data))}),l.states=e}i.add(l)}),this.tickLineItems=e;let{subTick:s}=this.attribute;if(s&&s.visible){let t=this.getSubTickLineItems();t.length&&t.forEach((t,a)=>{let l=x.i.line(Object.assign({},this._getTickLineAttribute("subTick",t,a,e)));if(l.name=n.subTick,l.id=this._getNodeId(`${a}`),(0,h.Z)(s.state))l.states=M.n0;else{let i=(0,o.Z)({},M.n0,s.state);Object.keys(i).forEach(s=>{(0,p.Z)(i[s])&&(i[s]=i[s](t.value,a,t,e))}),l.states=i}i.add(l)}),this.subTickLineItems=t}}renderLabels(t,e,i){let{dataFilter:s}=this.attribute.label;s&&(0,p.Z)(s)&&(e=s(e,i));let a=this._transformItems(e),l=x.i.group({x:0,y:0,pickable:!1});return l.name=`${n.labelContainer}-layer-${i}`,l.id=this._getNodeId(`label-container-layer-${i}`),t.add(l),a.forEach((t,e)=>{var s;let r=this._getLabelAttribute(t,e,a,i),d=(0,k.vS)(r);if(d.name=n.label,d.id=this._getNodeId(`layer${i}-label-${t.id}`),(0,h.Z)(null==(s=this.attribute.label)?void 0:s.state))d.states=M.n0;else{let s=(0,o.Z)({},M.n0,this.attribute.label.state);Object.keys(s).forEach(n=>{(0,p.Z)(s[n])&&(s[n]=s[n](t,e,a,i))}),d.states=s}d.data=Object.assign(Object.assign({},t),{index:e,layer:i}),l.add(d)}),l}renderTitle(t){let e=this.getTitleAttribute(),i=new v.V(Object.assign({},e));i.name=n.title,i.id=this._getNodeId("title"),t.add(i)}getVerticalCoord(t,e,i){return(0,L.cN)(t,this.getVerticalVector(e,i,t))}getTickLineItems(){let{tick:t}=this.attribute,e=this.data,i=[],{alignWithLabel:s,inside:a=!1,length:n,dataFilter:l}=t,r=1;return e.length>=2&&(r=e[1].value-e[0].value),(l&&(0,p.Z)(l)?l(e):e).forEach(t=>{let e=t.point,l=t.value;if(!s){let i=t.value-r/2;if(this.isInValidValue(i))return;e=this.getTickCoord(i),l=i}let o=this.getVerticalCoord(e,n,a);if("3d"===this.mode){let s=this.getVerticalVector(n,a,e),r=0,h=0;(0,S.Wn)(s[0])>(0,S.Wn)(s[1])?r=S.pi/2*(o.x>e.x?1:-1):h=S.pi/2*(o.y>e.y?-1:1),i.push({start:e,end:o,value:l,id:`tick-${t.id}`,anchor:[e.x,e.y],alpha:r,beta:h})}else i.push({start:e,end:o,value:l,id:`tick-${t.id}`})}),i}getSubTickLineItems(){let{subTick:t}=this.attribute,e=[],{count:i=4,inside:s=!1,length:a=2}=t,n=this.tickLineItems,l=n.length;if(l>=2)for(let t=0;t<l-1;t++){let l=n[t],r=n[t+1];for(let t=0;t<i;t++){let n=(t+1)/(i+1),o=(1-n)*l.value+n*r.value,h=this.getTickCoord(o),d=this.getVerticalCoord(h,a,s);e.push({start:h,end:d,value:o,id:`sub-tick-${o}`})}}return e}_getTickLineAttribute(t,e,i,s){let a=(0,u.Z)(this.attribute,`${t}.style`),n=this.data[i];a=(0,p.Z)(a)?(0,o.Z)({},(0,u.Z)(C.p,`${t}.style`),"tick"===t?a(n.rawValue,i,n,this.data):a(e.value,i,e,s)):a;let{start:l,end:r,anchor:h,alpha:d,beta:c}=e;return Object.assign({points:[l,r],anchor:h,alpha:d,beta:c},a)}_getLabelAttribute(t,e,i,s){var a,n;let{space:l=4,inside:r=!1,formatMethod:h,type:d="text",text:c}=this.attribute.label,b=l,g=0;(null==(a=this.attribute.tick)?void 0:a.visible)&&this.attribute.tick.inside===r&&(g=this.attribute.tick.length||4),(null==(n=this.attribute.subTick)?void 0:n.visible)&&this.attribute.subTick.inside===r&&(g=Math.max(g,this.attribute.subTick.length||2)),b+=g;let f=this.getRelativeVector(t.point);s>0&&(0===f[1]?b+=(this.axisLabelLayerSize[s-1].height+(0,u.Z)(this.attribute,"label.space",4))*s:b+=(this.axisLabelLayerSize[s-1].width+(0,u.Z)(this.attribute,"label.space",4))*s);let m=this.getVerticalCoord(t.point,b,r),x=this.getVerticalVector(b||1,r,m),_=h?h(`${t.label}`,t,e,i,s):t.label,{style:y}=this.attribute.label;y=(0,p.Z)(y)?(0,o.Z)({},C.p.label.style,y(t,e,i,s)):y;let v=this.getLabelAlign(x,r,y.angle);return y=(0,o.Z)(v,y),(0,p.Z)(y.text)&&(y.text=y.text({label:t.label,value:t.rawValue,index:t.index,layer:s})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(m,x,_,y)),{text:null!=c?c:_,_originText:t.label,lineHeight:null==y?void 0:y.fontSize,type:d}),y)}getLabelPosition(t,e,i,s){return t}_transformItems(t){let e=[];return t.forEach(t=>{var i;e.push(Object.assign(Object.assign({},t),{point:this.getTickCoord(t.value),id:null!=(i=t.id)?i:t.label}))}),e}runAnimation(){let t=this.lastScale;if(this.attribute.scale){let t=this.attribute.scale;this.lastScale=t.clone(),this.lastScale.range([0,1])}if(this.attribute.animation&&this.applyAnimationState){let e=this.getInnerView(),i=this.getPrevInnerView();if(!i)return;let s=this._animationConfig;this._newElementAttrMap={},(0,w.Ck)(e,e=>{var a;if("group"!==e.type&&e.id){let n=i[e.id];if(e.setFinalAttributes(e.attribute),n){n.release();let i=n.attribute,l=e.getFinalAttribute(),r=(0,A.H)(i,l),o=Object.keys(r).length>0;if("opacity"in i&&l.opacity!==i.opacity&&(r.opacity=null!=(a=l.opacity)?a:1,o=!0),s.update&&o){this._newElementAttrMap[e.id]={state:"update",node:e,attrs:e.attribute};let i=n.attribute;e.setAttributes(i),e.applyAnimationState(["update"],[{name:"update",animation:Object.assign(Object.assign({selfOnly:!0},s.update),{type:"axisUpdate",customParameters:{config:s.update,diffAttrs:r,lastScale:t}})}])}}else s.enter&&(this._newElementAttrMap[e.id]={state:"enter",node:e,attrs:e.attribute},e.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},s.enter),{type:"axisEnter",selfOnly:!0,customParameters:{config:s.enter,lastScale:t,getTickCoord:this.getTickCoord.bind(this)}})}]))}})}}release(){super.release(),this._prevInnerView=null,this._innerView=null}}let R={parity:function(t){return t.filter((t,e)=>e%2?t.setAttribute("opacity",0):1)},greedy:function(t,e){let i;return t.filter((t,s)=>s&&(0,L.qw)(i,t,e)?t.setAttribute("opacity",0):(i=t,1))}};function z(t){let e;return(e=t.OBBBounds.empty()?t.AABBBounds:t.OBBBounds).width()>1&&e.height()>1}function V(t,e,i,s,a=!1){if(i&&!t.attribute.opacity){let i=e.length;if(i>1){t.setAttribute("opacity",1);for(let t=0;t<i;t++){let n=a?e[i-1-t]:e[t];if(!s(n))break;n.setAttribute("opacity",0)}}}}var D=i(309762),W=i(688554);function F(t=0){if(t<0)for(;t<0;)t+=2*Math.PI;if(t>0)for(;t>=2*Math.PI;)t-=2*Math.PI;return t}function U(t,e=0){let i,s=["center","left","left","left","center","right","right","right","left"],a=["top","top","middle","bottom","bottom","bottom","middle","top","top"];"top"===t&&(s=["center","right","right","right","center","left","left","left","right"],a=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);let n=(e=F(e))/(.5*Math.PI);return{textAlign:s[i=n===Math.floor(n)?2*Math.floor(n):2*Math.floor(n)+1],textBaseline:a[i]}}function G(t,e=0){let i,s=["right","right","center","left","left","left","center","right","right"],a=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];"right"===t&&(s=["left","left","center","right","right","right","center","left","left"],a=["middle","middle","bottom","bottom","middle","middle","top","middle","middle"]);let n=(e=F(e))/(.5*Math.PI);return{textAlign:s[i=n===Math.floor(n)?2*Math.floor(n):2*Math.floor(n)+1],textBaseline:a[i]}}function $(t,e,i){let s;return(0,b.Z)(e)&&(s=Math.abs(e-t)),(0,b.Z)(i)&&(s=(0,b.Z)(s)?Math.min(Math.abs(t-i),s):Math.abs(t-i)),s}var X=i(540408),Y=i(831512),N=i(103136),q=i(869430),K=i(540627),Q=i(866476),J=i(661506),tt=i(6387),te=i(198937);class ti extends J.Or{onBind(){var t;let e=(0,tt.L)(this.target);this._animator=e;let i=this.duration,s=this.easing,{config:a,lastScale:n,getTickCoord:l}=this.params,r=1,o=this.target.data;if(n&&l&&o){r=.7;let t=l(n.scale(o.rawValue)),a=this.target.attribute.x,h=this.target.attribute.y;this.target.setAttributes({x:t.x,y:t.y}),e.animate(this.target,{type:"to",to:{x:a,y:h},duration:i,easing:s})}e.animate(this.target,{type:null!=(t=a.type)?t:"fadeIn",to:a.to,duration:i*r,easing:s}),this.completeBind(e)}}class ts extends J.Or{onBind(){let t=(0,tt.L)(this.target);this._animator=t;let e=this.duration,i=this.easing,{config:s,diffAttrs:a}=this.params;t.animate(this.target,{type:"to",to:Object.assign({},a),duration:e,easing:i,customParameters:{diffAttrs:Object.assign({},a)}}),this.completeBind(t)}deleteSelfAttr(t){super.deleteSelfAttr(t),this._animator.deleteSelfAttr(t)}tryPreventConflict(){}}var ta=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(t);a<s.length;a++)0>e.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]])}return i};(0,Y.M)(),(0,N.N)(),(0,q.v)(),(0,K.g)(),te.a.registerBuiltInAnimate("axisEnter",ti),te.a.registerBuiltInAnimate("axisUpdate",ts),(0,Q.k)();class tn extends j{constructor(t,e){var i;if(t.labelHoverOnAxis&&(t.labelHoverOnAxis.textStyle=Object.assign({},t.label.style,t.labelHoverOnAxis.textStyle),void 0===t.labelHoverOnAxis.space)){let{padding:e=2}=t.labelHoverOnAxis,s=(0,r.o)(e),a="bottom"===t.orient?s[0]:"left"===t.orient?s[1]:"top"===t.orient?s[2]:s[3],n=(null!=(i=t.label.space)?i:tn.defaultAttributes.label.space)-a;t.labelHoverOnAxis.space=n}super((null==e?void 0:e.skipDefault)?t:(0,o.Z)({},tn.defaultAttributes,t),e),this.labelHoverOnAxisGroup=null}_renderInner(t){var e;if(this._breaks=null,this.attribute.breaks&&this.attribute.breaks.length){let t=[];for(let e=0;e<this.attribute.breaks.length;e++){let{range:i,breakSymbol:s,rawRange:a}=this.attribute.breaks[e];t.push({startPoint:this.getTickCoord(i[0]),endPoint:this.getTickCoord(i[1]),range:i,breakSymbol:s,rawRange:a})}this._breaks=t}super._renderInner(t),this._breaks&&this._breaks.length&&this._breaks.forEach((e,i)=>{let{startPoint:s,endPoint:a,breakSymbol:l,rawRange:r}=e;if(!1!==(null==l?void 0:l.visible)){let e=x.i.group({zIndex:999});e.name=n.axisBreak,e.id=this._getNodeId(`${n.axisBreak}-${i}`),e.data=r;let o=(0,L.uf)(l),h=x.i.symbol(Object.assign({x:s.x,y:s.y},o));h.name=n.axisBreakSymbol;let d=x.i.symbol(Object.assign({x:a.x,y:a.y},o));d.name=n.axisBreakSymbol,e.add(h),e.add(d),t.add(e)}});let{panel:i}=this.attribute;if(i&&i.visible){let t=this.axisContainer,s=t.AABBBounds,a=x.i.rect(Object.assign({x:s.x1,y:s.y1,width:s.width(),height:s.height()},i.style));a.name=n.background,a.id=this._getNodeId("background"),a.states=(0,o.Z)({},O,null!=(e=i.state)?e:{}),t.insertBefore(a,t.firstChild)}let{labelHoverOnAxis:s}=this.attribute;s&&s.visible&&this.renderLabelHoverOnAxis()}renderLabelHoverOnAxis(){let t=this.getLabelHoverOnAxisAttribute(),e=new v.V(Object.assign({},t));e.name=n.title,e.id=this._getNodeId("hover-on-label"),this.labelHoverOnAxisGroup=e,this.axisContainer.add(e)}renderLine(t){let{start:e,end:i,line:s}=this.attribute,{startSymbol:a,endSymbol:l,style:r,state:d}=s,u=Object.assign({startSymbol:a,endSymbol:l,lineStyle:r},ta(s,["startSymbol","endSymbol","style","state"]));if(this._breaks&&this._breaks.length){let t=[],s=e;this._breaks.forEach(e=>{let{startPoint:i,endPoint:a}=e;t.push([s,i]),s=a}),t.push([s,i]),u.points=t,u.multiSegment=!0}else u.points=[e,i];(0,h.Z)(d)||(u.state={line:(0,o.Z)({},O,d),symbol:(0,o.Z)({},O,d)});let c=new _.X(u);c.name=n.line,c.id=this._getNodeId("line"),t.add(c)}getTextAlign(t){let e="center";return(0,d.Yt)(t[0],0)?(0,d.Yt)(t[1],0)?Object.is(t[1],-0)?e="start":Object.is(t[0],-0)&&(e="end"):e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e}getTitleAttribute(){var t,e,i;let s=this.attribute.title,{position:a="middle",space:n=4,textStyle:l={},autoRotate:r=!0,shape:h,background:d,state:g={},maxWidth:p}=s,f=ta(s,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]),m=.5;"start"===a?m=0:"end"===a&&(m=1);let{verticalFactor:x=1}=this.attribute,_=this.getTickCoord(m),v=this.getRelativeVector(),A=0;if((null==(t=this.attribute.label)?void 0:t.visible)&&!1===this.attribute.label.inside){let t=+(0,u.Z)(this.attribute,"label.space",4);A+=t;let e=Object.keys(this.axisLabelLayerSize).length;if(0===v[1]){let i=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(i)?A+=i+(e-1)*t:A=0}else if(0===v[0])if(this.axisLabelsContainer&&this.axisLabelsContainer.AABBBounds&&!this.axisLabelsContainer.AABBBounds.empty()){let i=this.axisLabelLayerSize[0].labelPos,s=this.axisLabelsContainer.AABBBounds;A+=(1==-1*x?s.x2>i?Math.min(s.x2-i,s.width()):0:s.x1<i?Math.min(i-s.x1,s.width()):0)+(e-1)*t}else A=0;else Object.keys(this.axisLabelLayerSize).forEach((e,i)=>{A+=this.axisLabelLayerSize[e].width+(i>0?t:0)})}let B=0;(null==(e=this.attribute.tick)?void 0:e.visible)&&!1===this.attribute.tick.inside&&(B=this.attribute.tick.length||4),(null==(i=this.attribute.subTick)?void 0:i.visible)&&!1===this.attribute.subTick.inside&&(B=Math.max(B,this.attribute.subTick.length||2));let S=B+A+n,k=this.getActualOffset(S),w=this.getVerticalCoord(_,k,!1),M=this.getVerticalVector(k,!1,{x:0,y:0}),C,L,{angle:T}=f;if(C="start"===a?"start":"end"===a?"end":"center",(0,c.Z)(T)&&r){T=(0,y.Dg)(v,[1,0],!0);let{verticalFactor:t=1}=this.attribute;L=1==-1*t?"bottom":"top"}else C=this.getTextAlign(M),L=this.getTextBaseline(M,!1);let P=p;if((0,c.Z)(P)){let{verticalLimitSize:t,verticalMinSize:e,orient:i}=this.attribute,s=Math.min(t||1/0,e||1/0);if((0,b.Z)(s))if("bottom"===i||"top"===i)if(T!==Math.PI/2){let t=Math.abs(Math.cos(null!=T?T:0));P=t<1e-6?1/0:this.attribute.end.x/t}else P=s-k;else if(T&&0!==T){let t=Math.abs(Math.sin(T));P=t<1e-6?1/0:this.attribute.end.y/t}else P=s-k}let I=Object.assign(Object.assign(Object.assign({},w),f),{maxWidth:P,textStyle:Object.assign({textAlign:C,textBaseline:L},l),state:{text:(0,o.Z)({},O,g.text),shape:(0,o.Z)({},O,g.shape),panel:(0,o.Z)({},O,g.background)}});return I.angle=T,h&&h.visible&&(I.shape=Object.assign({visible:!0},h.style),h.space&&(I.space=h.space)),d&&d.visible&&(I.panel=Object.assign({visible:!0},d.style)),I}getLabelHoverOnAxisAttribute(){var t,e;let{orient:i}=this.attribute,s=this.attribute.labelHoverOnAxis,{position:a=0,space:n=4,autoRotate:l=!0,textStyle:r={},background:o={},formatMethod:h,text:d="",maxWidth:u}=s,b=ta(s,["position","space","autoRotate","textStyle","background","formatMethod","text","maxWidth"]),g=this.getTickCoord(0);"bottom"===i||"top"===i?g.x=a:g.y=a;let p=0;(null==(t=this.attribute.tick)?void 0:t.visible)&&!1===this.attribute.tick.inside&&(p=this.attribute.tick.length||4),(null==(e=this.attribute.subTick)?void 0:e.visible)&&!1===this.attribute.subTick.inside&&(p=Math.max(p,this.attribute.subTick.length||2));let f=p+0+n,m=this.getVerticalCoord(g,f,!1),x=this.getVerticalVector(f,!1,{x:0,y:0}),_,{angle:v}=b,A="center";if((0,c.Z)(v)&&l){let t=this.getRelativeVector();v=(0,y.Dg)(t,[1,0],!0);let{verticalFactor:e=1}=this.attribute;_=1==-1*e?"bottom":"top"}else{let{textAlign:t,textBaseline:e}=this.getLabelAlign(x,!1,r.angle);A=t,_=e}let B=h?h(d):d,S=Object.assign(Object.assign(Object.assign({},m),b),{maxWidth:u,textStyle:Object.assign({textAlign:A,textBaseline:_},r),text:B});return S.angle=v,o&&o.visible&&(S.panel=Object.assign(Object.assign({visible:!0},b.panel),o.style)),S}getTextBaseline(t,e){let i="middle",{verticalFactor:s=1}=this.attribute;return(0,d.Yt)(t[1],0)?i=!(0,d.Yt)(t[0],0)||Object.is(t[0],-0)||Object.is(t[1],-0)?"middle":1==(e?1:-1)*s?"bottom":"top":t[1]>0?i="top":t[1]<0&&(i="bottom"),i}getLabelAlign(t,e,i){let s=this.attribute.orient;if(["top","bottom","right","left"].includes(s)||0===t[0]&&0===t[1]){if("top"===s||"bottom"===s)return U(e?"bottom"===s?"top":"bottom":s,i);if("left"===s||"right"===s)return G(e?"left"===s?"right":"left":s,i)}return{textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline(t,e)}}beforeLabelsOverlap(t,e,i,s,a){var n,l,r,o;let{flush:h=!1}=this.attribute.label||{};if(h&&t.length){let{orient:e,start:i,end:s}=this.attribute,a="bottom"===e||"top"===e,h=t[0],d=(0,g.Z$)(t),u=a?h.attribute.x>d.attribute.x:h.attribute.y<d.attribute.y;if(a){let t=u?d:h,e=u?h:d,a=i.x,r=s.x,o=t.AABBBounds.x1,c=e.AABBBounds.x2;o<a&&(t.attribute.angle?t.setAttributes({dx:(null!=(n=t.attribute.dx)?n:0)+a-o}):t.setAttributes({x:a,textAlign:"left"})),c>r&&(e.attribute.angle?e.setAttributes({dx:(null!=(l=e.attribute.dx)?l:0)+r-c}):e.setAttributes({x:r,textAlign:"right"}))}else{let t=u?d:h,e=u?h:d,a=t.AABBBounds.y2,n=e.AABBBounds.y1,l=i.y,c=s.y;n<l&&(e.attribute.angle?e.setAttributes({dy:(null!=(r=e.attribute.dy)?r:0)+l-n}):e.setAttributes({y:l,textBaseline:"top"})),a>c&&(t.attribute.angle?t.setAttributes({dy:(null!=(o=t.attribute.dy)?o:0)+c-a}):t.setAttributes({y:c,textBaseline:"bottom"}))}}}handleLabelsOverlap(t,e,i,s,a){if((0,h.Z)(t))return;let{verticalLimitSize:n,label:l,orient:r}=this.attribute,o=this._getAxisLabelLimitLength(n,a),{layoutFunc:d,autoRotate:u,autoRotateAngle:f,autoLimit:m,limitEllipsis:x,autoHide:_,autoHideMethod:y,autoHideSeparation:v,lastVisible:A,firstVisible:B,autoWrap:k,overflowLimitLength:w}=l;if((0,p.Z)(d))d(t,e,s,this);else{if(u)!function(t,e){if((0,h.Z)(t))return;let{orient:i,labelRotateAngle:s=[0,45,90]}=e;if(0===s.length||t.some(t=>!!t.attribute.angle))return;let a=0,n=0,l=s;for(t.length>2&&("bottom"===i||"top"===i?Math.abs(t[1].attribute.x-t[0].attribute.x)<t[0].attribute.fontSize/2&&(l=[s[s.length-1]]):Math.abs(t[1].attribute.y-t[0].attribute.y)<t[0].attribute.fontSize/2&&(l=[s[s.length-1]])),l&&l.length>0&&(n=l.length);a<n;){var r,o;let e=l[a++];if(t.forEach(t=>{t.attribute.angle=(0,D.M4)(e)}),r=i,o=t,"bottom"!==r&&"top"!==r||function(t,e){e.forEach(e=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},U(t,e.attribute.angle)),{angle:F(e.attribute.angle)}))})}(r,o),"left"!==r&&"right"!==r||function(t,e){e.forEach((e,i)=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},G(t,e.attribute.angle)),{angle:F(e.attribute.angle)}))})}(r,o),(0,W.PY)(o),!function(t){for(let e=1;e<t.length;e++)if((0,W.Ph)(t[e-1],t[e]))return!0;return!1}(t))break}}(t,{labelRotateAngle:f,orient:r});else if(k){let e="left"===r||"right"===r?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x);!function(t,e){let{limitLength:i,axisLength:s,ellipsis:a="...",orient:n}=e;if((0,h.Z)(t)||!(0,b.Z)(i))return;let l=t[0].attribute.angle,r=(0,W.nw)(l),o=(0,W.GK)(l),d="top"===n||"bottom"===n,u=s/t.length;t.forEach((e,s)=>{var n,l,h,c,g;if(d){if(o&&Math.floor(e.AABBBounds.height())<=i)return;if(r){let i=$(e.attribute.x,null==(n=t[s+1])?void 0:n.attribute.x,null==(l=t[s-1])?void 0:l.attribute.x);(0,b.Z)(i)&&(u=(0,S.VV)(u,i))}}else{if(o){let i=$(e.attribute.y,null==(h=t[s+1])?void 0:h.attribute.y,null==(c=t[s-1])?void 0:c.attribute.y);(0,b.Z)(i)&&(u=(0,S.VV)(u,i))}if(r&&Math.floor(e.AABBBounds.width())<=i)return}let p=null,f=null;d?o?(p=i,f=u):(p=u,f=i):o?(p=u,f=i):(p=i,f=u),e.setAttributes({maxLineWidth:p,ellipsis:null!=(g=e.attribute.ellipsis)?g:a,whiteSpace:"normal",heightLimit:f})})}(t,{orient:r,limitLength:o,axisLength:e,ellipsis:x})}if(!k&&m&&(0,b.Z)(o)&&o>0){let e="left"===r||"right"===r,i=e?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x),s=e?i/t.length:_||u?1/0:i/t.length;!function(t,e){var i;let{limitLength:s,verticalLimitLength:a,ellipsis:n="...",orient:l,axisLength:r}=e;if((0,h.Z)(t)||!(0,b.Z)(s))return;let o=(i=e.overflowLimitLength,(0,b.Z)(i)?{left:i,right:i}:(0,I.Z)(i)?{left:i.left||0,right:i.right||0}:{left:0,right:0}),d=t[0],u=d.attribute.angle,g=!(0,c.Z)(u),p=g?Math.cos(u):1,f=g?Math.sin(u):0,m=(0,W.nw)(u),x=(0,W.GK)(u),_="top"===l||"bottom"===l,y=d.attribute.direction,v=!m&&!x&&_&&(t.length<2||t.some(t=>Math.abs(t.AABBBounds.width()-d.AABBBounds.width())>=2))&&d.AABBBounds.width()>Math.abs(s/f);t.forEach(t=>{var e;if(_&&(x&&Math.floor(t.AABBBounds.height())<=s||m&&Math.floor(t.AABBBounds.width())<=a))return;if(!_&&("vertical"===y&&Math.floor(t.AABBBounds.height())<=a||"vertical"!==y&&(m&&Math.floor(t.AABBBounds.width())<=s||x&&Math.floor(t.AABBBounds.height())<=a)))return;let i=null;if(m||x)i=_?m?a:s:"vertical"===y||x?a:s;else if(_){let{x1:e,x2:a}=t.AABBBounds,n=f/p,l=Math.abs(s/f);i=v&&n>0&&e<=r+o.right&&s/n+e>r+o.right?Math.min((r-e+o.right)/Math.abs(p),l):v&&n<0&&a>=-o.left&&s/n+a<-o.left?Math.min((a+o.left)/Math.abs(p),l):l}else i=Math.abs(s/p);(0,b.Z)(t.attribute.maxLineWidth)&&(i=(0,b.Z)(i)?Math.min(t.attribute.maxLineWidth,i):t.attribute.maxLineWidth),t.setAttributes({maxLineWidth:i,ellipsis:null!=(e=t.attribute.ellipsis)?e:n})})}(t,{limitLength:o,verticalLimitLength:s,ellipsis:x,orient:r,axisLength:i,overflowLimitLength:w})}_&&function(t,e){let i;if((0,h.Z)(t))return;let s=t.filter(z);if((0,h.Z)(s))return;s.forEach(t=>t.setAttribute("opacity",1)),i=s;let{method:a="parity",separation:n=0}=e,l=(0,p.Z)(a)?a:R[a]||R.parity;if(i.length>=3&&(0,L.A9)(i,n)){do i=l(i,n);while(i.length>=3&&(0,L.A9)(i,n));let t=(t,e,i=!0)=>i&&t<3||e,a=t(i.length,e.firstVisible,!1),r=t(i.length,e.lastVisible),o=s[0],h=(0,g.Z$)(s);(0,L.qw)(o,h,n)&&a&&r&&(h.setAttribute("opacity",0),r=!1),V(o,i,a,t=>(0,L.qw)(t,o,n)),V(h,i,r,t=>(0,L.qw)(t,h,n)||!(!a||t===o)&&(0,L.qw)(t,o,n),!0)}s.forEach(t=>{t.setAttribute("visible",!!t.attribute.opacity)})}(t,{orient:r,method:y,separation:v,lastVisible:A,firstVisible:B})}}afterLabelsOverlap(t,e,i,s,a){let{verticalLimitSize:l,orient:r}=this.attribute,o="bottom"===r||"top"===r,h=i.AABBBounds,d=o?h.height():h.width(),{verticalMinSize:u}=this.attribute;if((0,b.Z)(u)&&(!(0,b.Z)(l)||u<=l)){let t,e;d=Math.max(d,this._getAxisLabelLimitLength(u,a)),"left"===r?(t=h.x2-d,e=h.y1):"right"===r?(t=h.x1,e=h.y1):"top"===r?(t=h.x1,e=h.y2-d):"bottom"===r&&(t=h.x1,e=h.y1);let s=x.i.rect({x:t,y:e,width:o?h.width():d,height:o?d:h.height(),pickable:!1});s.name=n.axisLabelBackground,s.id=this._getNodeId("axis-label-background"),i.insertBefore(s,i.firstChild)}if((0,f.Z)(this.attribute.label.containerAlign)){let e;"left"===r?e=h.x2-d:"right"===r?e=h.x1:"top"===r?e=h.y2-d:"bottom"===r&&(e=h.y1),(0,X.w)(t,e,d,r,this.attribute.label.containerAlign)}}_getAxisLabelLimitLength(t,e){var i,s,a,n,l;let{label:o,title:h,line:d,tick:u}=this.attribute,c=null!=(i=o.space)?i:4,b=t,g=0,p=0,f=d&&d.visible?null!=(s=d.style.lineWidth)?s:1:0,m=u&&u.visible?null!=(a=u.length)?a:4:0;if(h&&h.visible&&"string"==typeof h.text){g=(0,k.fe)(h.text,h.textStyle,null==(l=null==(n=this.stage)?void 0:n.getTheme())?void 0:l.text).height;let t=(0,r.o)(h.padding);p=h.space+t[0]+t[2]}return b&&(b=(b-c-p-g-f-m)/e),b}showLabelHoverOnAxis(t,e,i=!0){if(this.attribute.labelHoverOnAxis){let s=this.axisContainer.AABBBounds,a=s.width(),n=s.height(),l=s.x1,r=s.y1,o=s.x2,h=s.y2;if(this.labelHoverOnAxisGroup){let{formatMethod:i}=this.attribute.labelHoverOnAxis,s=i?i(e):e;this.labelHoverOnAxisGroup.setAttribute("text",s),this.labelHoverOnAxisGroup.setAttribute("visible",!0),this.labelHoverOnAxisGroup.setAttribute("visibleAll",!0),"left"===this.attribute.orient||"right"===this.attribute.orient?this.labelHoverOnAxisGroup.setAttributes({y:t}):this.labelHoverOnAxisGroup.setAttributes({x:t})}else this.attribute.labelHoverOnAxis.visible=!0,this.attribute.labelHoverOnAxis.position=t,this.attribute.labelHoverOnAxis.text=e,this.renderLabelHoverOnAxis();if(i){let i=this.axisContainer.AABBBounds,s=i.width()-a,d=i.height()-n;s>0&&("top"===this.attribute.orient||"bottom"===this.attribute.orient)&&(i.x1<l?this.showLabelHoverOnAxis(t+s,e,!1):i.x2>o&&this.showLabelHoverOnAxis(t-s,e,!1)),d>0&&("left"===this.attribute.orient||"right"===this.attribute.orient)&&(i.y1<r?this.showLabelHoverOnAxis(t+d,e,!1):i.y2>h&&this.showLabelHoverOnAxis(t-d,e,!1))}}}hideLabelHoverOnAxis(){this.attribute.labelHoverOnAxis&&this.labelHoverOnAxisGroup&&this.labelHoverOnAxisGroup.setAttributes({visible:!1,visibleAll:!1})}getActualOffset(t){let e=this.attribute.orient;return"left"===e||"right"===e?this.attribute.width?this.attribute.width:(this.attribute.maxWidth&&(t=Math.min(t,this.attribute.maxWidth)),this.attribute.minWidth&&(t=Math.max(t,this.attribute.minWidth)),t):t}release(){super.release(),this._breaks=null}}tn.defaultAttributes=C.p,(0,m.jB)(tn,class{isInValidValue(t){return t<0||t>1}getTickCoord(t){let{start:e}=this.attribute,i=this.getRelativeVector();return{x:e.x+i[0]*t,y:e.y+i[1]*t}}getRelativeVector(t){let{start:e,end:i}=this.attribute;return[i.x-e.x,i.y-e.y]}getVerticalVector(t,e=!1,i){let{verticalFactor:s=1}=this.attribute,a=this.getRelativeVector(),n=(0,y.Fv)(a),l=[n[1],-1*n[0]];return(0,y.bA)(l,t*(e?1:-1)*s)}})},688554:function(t,e,i){i.d(e,{GK:()=>o,PY:()=>n,Ph:()=>l,nw:()=>h});var s=i(219273),a=i(454326);function n(t){t.forEach(t=>{if(t.rotatedBounds||!t.attribute.angle)return;let e=function(t){let e=t.AABBBounds;return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,centerX:t.attribute.x,centerY:t.attribute.y,angle:t.attribute.angle}}(t),i=(0,s.xj)({x:t.attribute.x,y:t.attribute.y},e.angle,{x:e.centerX,y:e.centerY}),a=i.x-e.centerX,n=i.y-e.centerY;e.x1+=a,e.x2+=a,e.y1+=n,e.y2+=n,e.centerX+=a,e.centerY+=n,t.rotatedBounds=e})}function l(t,e){var i,a;return(null==(i=t.OBBBounds)?void 0:i.empty())||(null==(a=e.OBBBounds)?void 0:a.empty())?(0,s.SX)(t.AABBBounds,e.AABBBounds,!1)&&(!t.rotatedBounds||!e.rotatedBounds||(0,s.nn)(t.rotatedBounds,e.rotatedBounds,!0)):t.OBBBounds.intersects(e.OBBBounds)}let r=Math.sin(Math.PI/10);function o(t,e=r){let i=!(0,a.Z)(t)&&0!==t,s=i?Math.cos(t):1;return i&&Math.abs(s)<=e}function h(t,e=r){let i=!(0,a.Z)(t)&&0!==t,s=i?Math.sin(t):0;return!i||Math.abs(s)<=e}},99344:function(t,e,i){i.d(e,{s:()=>k});var s=i(437196),a=i(364776),n=i(796241),l=i(999051),r=i(263401),o=i(309762),h=i(535415),d=i(255020);let u=t=>t.map((t,e)=>({index:e,value:t})),c=(t,e,i=0)=>{let s=new r.FB(t).expand(i/2),a=new r.FB(e).expand(i/2);return s.intersects(a)},b=(t,e,i,s)=>i<t?Math.max(t-e/2,i):i>t?Math.min(t-e/2,i-e):i<s?i:i-e,g=(t,e,i)=>{var s,a,n;let{labelStyle:l,axisOrientType:u,labelFlush:c,labelFormatter:g,startAngle:p=0}=i,f=null!=(s=l.angle)?s:0;"vertical"===l.direction&&(f+=(0,o.M4)(90));let m=["bottom","top"].includes(u),x=["left","right"].includes(u),_=1,y=0;m||(x?(_=0,y=1):p&&(_=Math.cos(p),y=-Math.sin(p)));let v=(0,d.gM)(l),A=t.range(),B=[];for(let i=0;i<e.length;i++){let s=e[i],o=g?g(s):`${s}`;if((0,h.Z)(o)){B=void 0;break}let{width:d,height:u}=v.quickMeasure(o),p=Math.max(d,12),S=Math.max(u,12),k=t.scale(s),w=_*k,M=y*k,O,C,L=w,T=M;c&&m&&0===i?L=b(w,p,A[0],A[A.length-1]):c&&m&&i===e.length-1?L=b(w,p,A[A.length-1],A[0]):O=null!=(a=l.textAlign)?a:"center","right"===O?L-=p:"center"===O&&(L-=p/2),c&&x&&0===i?T=b(M,S,A[0],A[A.length-1]):c&&x&&i===e.length-1?T=b(M,S,A[A.length-1],A[0]):C=null!=(n=l.textBaseline)?n:"middle","bottom"===C?T-=S:"middle"===C&&(T-=S/2);let P=(new r.FB).set(L,T,L+p,T+S);f&&P.rotate(f,w,M),B.push(P)}return B};var p=i(827411);function f(t,e,i,s){let a,{breakData:n}=t;if(n&&n()){let{breakDomains:t}=n(),l=e.domain();a=[];for(let e=0;e<l.length-1;e++)s(i,[l[e],l[e+1]]).forEach(e=>{t.some(t=>e>=t[0]&&e<=t[1])||a.push(e)});e.domain(l)}else a=s(i);return a}function m(t,e,i,s,a=!1){if(i&&!e.includes(t)){let i=e.length;if(i>1){a?e.push(t):e.unshift(t);for(let t=0;t<i;t++){let n=a?i-1-t:t;if(!s(e[n]))break;e.splice(n,1),t--,i--}}}}let x={parity:function(t){return t.filter((t,e)=>e%2==0)},greedy:function(t,e){let i;return t.filter((t,s)=>(!s||!(0,p.qw)(i,t,e))&&(i=t,!0))}};var _=i(454326),y=i(106161);let v=(t,e,i,s)=>{let a=g(t,e,i);return a&&a.map(t=>s?[t.x1,t.x2,t.width()]:[t.y1,t.y2,t.height()])},A=(t,e,i=0)=>Math.max(t[0],e[0])-i/2<=Math.min(t[1],e[1])+i/2,B=(t,e)=>t[1]<e[0]?e[0]-t[1]:e[1]<t[0]?t[0]-e[1]:0;var S=i(536163);let k=(t,e)=>{if((0,s.z2)(t.type))return((t,e)=>{var i,r,o,h,d,c;let b;if(!(0,s.z2)(t.type))return u(t.domain());let _=t.range(),y=Math.abs(_[_.length-1]-_[0]);if(y<2)return u([t.domain()[0]]);let{tickCount:v,forceTickCount:A,tickStep:B,noDecimals:S=!1,labelStyle:k,breakData:w}=e;if((0,a.Z)(B))d=t.stepTicks(B),b=(c=w&&w()?w().breakDomains:null)&&c.length?d.filter(t=>c.every(e=>t<e[0]||t>e[1])):d;else if((0,a.Z)(A))b=f(e,t,A,(e,i)=>i&&i.length?t.domain(i,!0).forceTicks(e):t.forceTicks(e));else if("d3"===e.tickMode)b=f(e,t,null!=(i=(0,n.Z)(v)?v({axisLength:y,labelStyle:k}):v)?i:5,(e,i)=>i&&i.length?t.domain(i,!0).d3Ticks(e,{noDecimals:S}):t.d3Ticks(e,{noDecimals:S}));else{let i=null!=(r=(0,n.Z)(v)?v({axisLength:y,labelStyle:k}):v)?r:5,s=(0,n.Z)(e.tickMode)?e.tickMode:void 0;b=f(e,t,i,(e,i)=>i&&i.length?t.domain(i,!0).ticks(e,{noDecimals:S,customTicks:s}):t.ticks(e,{noDecimals:S,customTicks:s}))}let M=t.domain();if(e.labelFirstVisible&&M[0]!==b[0]&&!b.includes(M[0])&&b.unshift(M[0]),e.labelLastVisible&&M[M.length-1]!==b[b.length-1]&&!b.includes(M[M.length-1])&&b.push(M[M.length-1]),e.sampling&&b.length>1&&("cartesian"===e.coordinateType||"polar"===e.coordinateType&&"radius"===e.axisOrientType)){let i,{labelGap:s=4,labelFlush:a}=e;if(6*b.length>y){let s=[],a=Math.floor(6*b.length/y);b.forEach((t,e)=>{e%a!=0&&e!==b.length-1||s.push(t)}),i=null==(o=g(t,s,e))?void 0:o.map((t,e)=>({AABBBounds:t,value:s[e]}))}else i=null==(h=g(t,b,e))?void 0:h.map((t,e)=>({AABBBounds:t,value:b[e]}));if(i){let t=i[0],n=(0,l.Z$)(i),r=w&&w()?x.greedy:x.parity;for(;i.length>=3&&(0,p.A9)(i,s);)i=r(i,s);let o=e.labelFirstVisible,h=e.labelLastVisible;(0,p.qw)(t,n,s)&&i.includes(n)&&i.length>1&&o&&h&&(i.splice(i.indexOf(n),1),h=!1),m(t,i,o,e=>(0,p.qw)(e,t,s)),m(n,i,h,e=>(0,p.qw)(e,n,s)||!(!o||e===t)&&(0,p.qw)(e,t,s),!0);let d=i.map(t=>t.value);d.length<3&&a&&(d.length>1&&d.pop(),(0,l.Z$)(d)!==(0,l.Z$)(b)&&d.push((0,l.Z$)(b))),b=d}}return u(b)})(t,e);if((0,s.lK)(t.type)){if("cartesian"===e.coordinateType)return((t,e)=>{var i;let s,r=t.domain();if(!r.length)return[];let{tickCount:o,forceTickCount:h,tickStep:d,labelGap:c=4,axisOrientType:b,labelStyle:g}=e,p=["bottom","top","z"].includes(b),f=t.range(),m=t.calculateWholeRangeSize();if(m<2)return e.labelLastVisible?u([r[r.length-1]]):u([r[0]]);if((0,a.Z)(d))s=t.stepTicks(d);else if((0,a.Z)(h))s=t.forceTicks(h);else if((0,a.Z)(o)){let e=(0,n.Z)(o)?o({axisLength:m,labelStyle:g}):o;s=t.ticks(e)}else if(e.sampling){let a=(null!=(i=e.labelStyle.fontSize)?i:12)+2,n=(0,l.iH)(f),o=(0,l.CE)(f);if(r.length<=m/a){let i=v(t,r,e,p);if(i){let a=Math.min(...i.map(t=>t[2])),l=(o-n)/r.length,h=((t,e,i,s,a,n)=>{let l=0,r=0,o=-1,h=Number.MAX_VALUE,d=s=>{let a=!0,n=0;do n+s<t.length&&A(e[n],e[n+s],i)&&(a=!1),n+=s;while(a&&n<t.length);return a},u=(0,y.o0)(a,t.length,t=>d(t)?1:-1),c=u;do if(!(c>u)||n||d(c)){if(!s){r=c;break}{let s=t.length-1,a,n=0;a=t.length%c>0?t.length-t.length%c+c:t.length;do{if((a-=c)!==s&&!A(e[a],e[s],i))break;n++}while(a>0);if(a===s){r=c,l=n;break}{let i=Math.floor(t.length/c)-n+1;if(i<o)break;{o=i;let t=B(e[a],e[s]),d=a-c>=0?B(e[a-c],e[a]):t,u=Math.abs(t-d);if(u<h&&(h=u,r=c,l=n),t<=d)break}}}c++}else c++;while(c<=t.length);return{step:r,delCount:l}})(r,i,c,e.labelLastVisible,Math.floor(a/l),!1);s=t.stepTicks(h.step),e.labelLastVisible&&(h.delCount&&(s=s.slice(0,s.length-h.delCount)),s.push(r[r.length-1]))}}else{let i=v(t,[r[0],r[Math.floor(r.length/2)],r[r.length-1]],e,p);if(i){let a=null;i.forEach(t=>{a?a[2]<t[2]&&(a=t):a=t});let l=o-n-c>0?Math.ceil(r.length*(c+a[2])/(o-n-c)):r.length-1;s=t.stepTicks(l),!e.labelLastVisible||s.length&&s[s.length-1]===r[r.length-1]||(s.length&&Math.abs(t.scale(s[s.length-1])-t.scale(r[r.length-1]))<a[2]&&(s=s.slice(0,-1)),s.push(r[r.length-1]))}}}return(0,_.Z)(s)&&(s=t.domain()),u(s)})(t,e);if("polar"===e.coordinateType&&"angle"===e.axisOrientType)return((t,e)=>{let i,{tickCount:s,forceTickCount:o,tickStep:h,getRadius:b,labelOffset:g,labelGap:f=0,labelStyle:m}=e,x=null==b?void 0:b();if(!x||x<=0)return u(t.domain());if((0,a.Z)(h))i=t.stepTicks(h);else if((0,a.Z)(o))i=t.forceTicks(o);else if((0,a.Z)(s)){let e=t.range(),a=Math.abs(e[e.length-1]-e[0]),l=(0,n.Z)(s)?s({axisLength:a,labelStyle:m}):s;i=t.ticks(l)}else if(e.sampling){let s=t.domain(),a=t.range(),n=((t,e,i)=>{var s;let{labelStyle:a,getRadius:n,labelOffset:l,labelFormatter:o,inside:h}=i,u=null==n?void 0:n(),c=null!=(s=a.angle)?s:0,b=(0,d.gM)(a);return e.map(e=>{let i=o?o(e):`${e}`,{width:s,height:n}=b.quickMeasure(i),d=Math.max(s,12),g=Math.max(n,12),f=t.scale(e),m={x:0,y:0},x=0,_=0,y={align:a.textAlign,baseline:a.textBaseline},{x:v,y:A}=(0,p.DJ)(f,m,u,l,h);return y.align||((0,S.Yt)(v,m.x)?y.baseline||(y.baseline=A>m.y?"top":"bottom"):v>m.x?y.align="left":v<m.x&&(y.align="right")),x=v+("right"===y.align?-d:"left"===y.align?0:-d/2),_=A+("bottom"===y.baseline?-g:"top"===y.baseline?0:-g/2),(new r.FB).set(x,_,x+d,_+g).rotate(c,x+d/2,_+g/2)})})(t,s,e),o=(0,l.iH)(a),h=Math.abs((0,l.CE)(a)-o)*(x+g)/s.length,{step:u,delCount:b}=((t,e,i,s)=>{let a=s;do{let s=!0;a++;let n=0;do n+a<t.length&&c(e[n],e[n+a],i)&&(s=!1),n+=a;while(s&&n<t.length);if(s)break}while(a<=t.length);let n=0;if(t.length>2){let i=t.length-t.length%a;for(i>=t.length&&(i-=a);i>0&&c(e[0],e[i]);)n++,i-=a}return{step:a,delCount:n}})(s,n,f,Math.floor(n.reduce((t,e)=>Math.min(t,e.width(),e.height()),Number.MAX_VALUE)/h));i=(i=t.stepTicks(u)).slice(0,i.length-b)}else i=t.domain();return u(i)})(t,e)}return u(t.domain())}},827411:function(t,e,i){i.d(e,{A9:()=>f,DJ:()=>g,cN:()=>c,qw:()=>p,uX:()=>u,uf:()=>d});var s=i(20408),a=i(309762),n=i(548393),l=i(408566),r=i(309600),o=i(126957),h=i(688554);function d(t={}){var e,i;let{style:a={},angle:n=.5*Math.PI}=t,l=(0,s.Z)({},o.P,a),r=null!=(e=l.size)?e:o.P.size;return Object.assign(Object.assign({},l),{symbolType:null!=(i=l.symbolType)?i:`M ${-r/2} ${r*Math.sin(n)} L ${r/2} ${-r*Math.sin(n)}`,symbolSize:r})}function u(t){let e={};return(0,l.Ck)(t,t=>{"group"!==t.type&&t.id&&(e[t.id]=t)}),e}function c(t,e){return{x:t.x+e[0],y:t.y+e[1]}}function b(t,e,i,s=!1,a=!1){let n=[e.x-i.x,e.y-i.y];return(0,r.bA)(n,(s?-1:1)*(a?-1:1)*t/(0,r.kE)(n))}function g(t,e,i,s,n){var l;let r=(0,a.op)({x:0,y:0},i,t),o=c(r,b(s,r,e,n));return l=b(s||1,o,e,n),{x:o.x+l[0],y:o.y+l[1]}}function p(t,e,i){var s;let a=null==(s=t.attribute)?void 0:s.angle;if((0,h.nw)(a,Number.EPSILON))return i>(0,n.YB)(t.AABBBounds,e.AABBBounds);let l=t.OBBBounds,r=e.OBBBounds;return!l||!r||l.empty()||r.empty()?i>(0,n.YB)(t.AABBBounds,e.AABBBounds):l.intersects(r)||i>(0,n.up)(l,r)}function f(t,e){for(let i,s=1,a=t.length,n=t[0];s<a;n=i,++s)if(p(n,i=t[s],e))return!0;return!1}},593439:function(t,e,i){i.d(e,{J:()=>c});var s=i(20408),a=i(385943),n=i(669860),l=i(507261),r=i(212711),o=i(831512),h=i(866476),d=i(540627),u=i(480050);(0,o.M)(),(0,h.k)(),(0,d.g)(),(0,u.i)();class c extends a.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t)),this._handlePointerUp=()=>{this.attribute.disabled||(this.attribute.checked?this.setAttribute("checked",!1):this.setAttribute("checked",!0),this.setAttribute("indeterminate",!1),this._dispatchEvent("checkbox_state_change",{eventType:"checkbox_state_change",checked:this.attribute.checked}),this.stage.renderNextFrame())},this.renderGroup(),this.onBeforeAttributeUpdate=(t,e,i)=>{"interactive"in t&&this.setAttribute("pickable",t.interactive),"disabled"in t&&this.setAttribute("cursor",t.disable?this.attribute.disableCursor:this.attribute.cursor)},this.addEventListener("pointerup",this._handlePointerUp)}render(){this.removeAllChild(!0),this.renderBox(),this.renderIcon(),this.renderText(),this.layout()}renderBox(){this._box=new n.U((0,s.Z)({},this.attribute.box));let t=this.attribute.checked||this.attribute.indeterminate;t&&this.attribute.disabled?this._box.setAttributes({fill:this.attribute.box.disableCheckedFill,stroke:this.attribute.box.disableCheckedStroke}):t?this._box.setAttributes({fill:this.attribute.box.checkedFill,stroke:this.attribute.box.checkedStroke}):this.attribute.disabled&&this._box.setAttributes({fill:this.attribute.box.disableFill}),this.appendChild(this._box)}renderIcon(){this._checkIcon=new l.E((0,s.Z)({image:this.attribute.icon.checkIconImage},this.attribute.icon)),this.appendChild(this._checkIcon),this._indeterminateIcon=new l.E((0,s.Z)({image:this.attribute.icon.indeterminateIconImage},this.attribute.icon)),this.appendChild(this._indeterminateIcon),this.attribute.checked?(this._checkIcon.setAttribute("visible",!0),this._indeterminateIcon.setAttribute("visible",!1)):this.attribute.indeterminate?(this._checkIcon.setAttribute("visible",!1),this._indeterminateIcon.setAttribute("visible",!0)):(this._checkIcon.setAttribute("visible",!1),this._indeterminateIcon.setAttribute("visible",!1))}renderText(){this._text=new r.x((0,s.Z)({wrap:!0},this.attribute.text)),this.attribute.disabled&&this._text.setAttribute("fill",this.attribute.text.disableFill),this.appendChild(this._text)}renderGroup(){this.attribute.interactive||this.setAttribute("pickable",!1),this.attribute.disabled&&this.setAttribute("cursor",this.attribute.disableCursor)}layout(){let t=this.attribute.box.height,e=this.attribute.icon.height,i=this._text.AABBBounds.height(),s=Math.max(t,e,i),a=s/2-e/2,n=this.attribute.box.width,l=this.attribute.icon.width,r=Math.max(n,l),o=r/2-l/2,h=r+this.attribute.spaceBetweenTextAndIcon;this._box.setAttributes({x:r/2-n/2,y:s/2-t/2}),this._checkIcon.setAttributes({x:o,y:a}),this._indeterminateIcon.setAttributes({x:o,y:a}),this._text.setAttributes({x:h,y:s/2-i/2})}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t),super.initAttributes(t),this.renderGroup(),this.render()}}c.defaultAttributes={interactive:!0,disabled:!1,checked:!1,indeterminate:!1,cursor:"pointer",disableCursor:"not-allowed",spaceBetweenTextAndIcon:8,text:{text:"text",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",textBaseline:"top",pickable:!1},icon:{checkIconImage:'<svg width="200" height="200" viewBox="0 0 1024 1024" fill="#fff" xmlns="http://www.w3.org/2000/svg"><path d="M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z"></path></svg>',indeterminateIconImage:'<svg width="200" height="200" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M5 12h14"/></svg>',width:10,height:10,pickable:!1},box:{width:14,height:14,cornerRadius:2,fill:"#fff",stroke:"rgb(229,230,235)",disableFill:"rgb(242,243,245)",checkedFill:"rgb(22, 93, 255)",checkedStroke:"rgb(22, 93, 255)",disableCheckedFill:"rgb(148, 191, 255)",disableCheckedStroke:"rgb(148, 191, 255)",pickable:!1}}},940179:function(t,e,i){var s,a;i.d(e,{$M:()=>l,HW:()=>s,Ze:()=>o,eV:()=>d,gB:()=>u,iR:()=>n,m3:()=>h,n0:()=>r});let n="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",l=14;(a=s||(s={})).selected="selected",a.selectedReverse="selected_reverse",a.hover="hover",a.hoverReverse="hover_reverse";let r={[s.selectedReverse]:{},[s.selected]:{},[s.hover]:{},[s.hoverReverse]:{}},o={container:"",width:30,height:30,style:{}},h="scrollDown",d="scrollDrag",u="scrollUp"},385943:function(t,e,i){i.d(e,{k:()=>d});var s=i(829425),a=i(170365),n=i(535415),l=i(796241),r=i(20408),o=i(454326);let h=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class d extends s.ZA{constructor(t,e){super(t),this._skipRenderAttributes=h,(null==e?void 0:e.mode)&&(this.mode=e.mode,this.setMode(e.mode)),(null==e?void 0:e.skipDefault)&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=t,this.onSetStage(()=>{this.render(),this.bindEvents()})}setAttribute(t,e,i,s){let a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,s);if(a)return this._setAttributes(a,i);(0,n.Z)(this.attribute[t])&&(0,n.Z)(e)&&!(0,l.Z)(this.attribute[t])&&!(0,l.Z)(e)?(0,r.Z)(this.attribute[t],e):this.attribute[t]=e,this._skipRenderAttributes.includes(t)||this.render(),this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(i||this.needUpdateTag(t))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(t,e,i){return t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,i)||t,this._setAttributes(t,e)}_setAttributes(t,e){let i=Object.keys(t);this._mergeAttributes(t,i),i.every(t=>this._skipRenderAttributes.includes(t))||this.render(),this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(e||this.needUpdateTags(i))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(t,e){(0,o.Z)(e)&&(e=Object.keys(t));for(let i=0;i<e.length;i++){let s=e[i];!(0,n.Z)(this.attribute[s])||(0,l.Z)(this.attribute[s])||(0,l.Z)(t[s])?this.attribute[s]=t[s]:(0,r.Z)(this.attribute[s],t[s])}}bindEvents(){}_getNodeId(t){var e;return`${null!=(e=this.id)?e:this._uid}-${this.name}-${t}`}_dispatchEvent(t,e){var i;let s=new a.A(t,e);s.manager=null==(i=this.stage)?void 0:i.eventSystem.manager,this.dispatchEvent(s)}eventPosToStagePos(t){var e,i;let s={x:0,y:0},a=null!=(i=null==(e=this.stage)?void 0:e.eventPointTransform(t))?i:{x:0,y:0};return this.globalTransMatrix.transformPoint(a,s),s}}},419452:function(t,e,i){i.d(e,{S:()=>d});var s=i(20408),a=i(385943),n=i(507261),l=i(212711),r=i(831512),o=i(540627),h=i(480050);(0,r.M)(),(0,o.g)(),(0,h.i)();class d extends a.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},d.defaultAttributes,t))}render(){this.removeAllChild(!0),this.renderIcon(),this.renderText(),this.layout()}renderIcon(){this._emptyTipIcon=new n.E((0,s.Z)({image:this.attribute.icon.image},this.attribute.icon)),this.appendChild(this._emptyTipIcon)}renderText(){this._text=new l.x((0,s.Z)({wrap:!0},this.attribute.text)),this.appendChild(this._text)}layout(){let t=this.attribute.icon.height,e=this._text.AABBBounds.height(),i=this.attribute.icon.width,{width:s,height:a,spaceBetweenTextAndIcon:n}=this.attribute;this._emptyTipIcon.setAttribute("x",s/2-i/2),this._emptyTipIcon.setAttribute("y",a/2-t/2-e/2-n/2),this._text.setAttribute("x",s/2),this._text.setAttribute("textAlign","center"),this._text.setAttribute("y",a/2+t/2+n/2),this._text.setAttribute("textBaseline","middle")}}d.defaultAttributes={spaceBetweenTextAndIcon:20,text:{text:"no data",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",pickable:!1},icon:{image:'<svg t="1716726614852" class="icon" viewBox="0 0 1194 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2621" width="200" height="200"><path d="M1038.694079 367.237067c13.265507 23.342857-16.633865-40.004445-63.05621-40.004446H219.018794c-26.558738 0-46.46393 13.334815-63.05621 40.004446S0.006238 607.277601 0.006238 650.608819V940.647979a82.351494 82.351494 0 0 0 82.961402 83.349526H1111.702885a82.337632 82.337632 0 0 0 82.975264-83.349526V650.608819c0-43.331218-155.970208-283.371753-155.970208-283.371752zM730.066575 667.284269a136.328386 136.328386 0 0 1-132.738243 133.33429 133.417459 133.417459 0 0 1-132.738243-133.33429v-6.681269a40.6698 40.6698 0 0 0-36.497473-26.66963H73.015044l119.458874-220.02445s23.231965-40.004445 53.103614-40.004446h713.481918c26.544876 0 29.871649 10.008042 46.436207 40.004446L1128.33675 633.947231H769.904682c-26.184476 0-39.838107 7.623855-39.838107 33.337038zM338.505391 210.559919l-89.601086-86.69016a22.178487 22.178487 0 0 1 0-33.26773 21.984425 21.984425 0 0 1 33.170699 0l89.601087 86.676299a22.317102 22.317102 0 0 1 0 33.26773 24.950798 24.950798 0 0 1-33.1707 0z m252.197118-40.059891a25.532983 25.532983 0 0 1-6.639685-16.633865l-3.326773-126.694606A28.263709 28.263709 0 0 1 603.995739 0.515788c13.251646-3.326773 23.204242 10.021904 26.544877 23.342858V153.866163a28.249847 28.249847 0 0 1-23.259688 26.66963c-6.611961-3.312911-13.279369-3.312911-16.578419-10.035765z m235.646421 33.337038a22.372548 22.372548 0 0 1 0-33.337038l86.288175-90.030795a22.039871 22.039871 0 0 1 33.170699 0 22.289379 22.289379 0 0 1 0 33.364761l-82.961401 90.003072a25.962691 25.962691 0 0 1-36.483611 0z" fill="#8a8a8a" p-id="2622"></path></svg>',width:100,height:100,pickable:!1}}}}]);