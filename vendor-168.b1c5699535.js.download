"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["3406"],{352611:function(t,e,i){i.d(e,{et:()=>n});var r=i(263401);Symbol.for("BoundsAllocate");let n=new class{constructor(){this.pools=[];for(let t=0;t<10;t++)this.pools.push(new r.FB)}allocate(t,e,i,n){if(!this.pools.length)return(new r.FB).setValue(t,e,i,n);let s=this.pools.pop();return s.x1=t,s.y1=e,s.x2=i,s.y2=n,s}allocateByObj(t){if(!this.pools.length)return new r.FB(t);let e=this.pools.pop();return e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}},474163:function(t,e,i){i.d(e,{A:()=>s});var r=i(509257),n=i(370566);let s=new class{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(t){if(!this.pools.length){let e=(0,n.JN)(Object.assign({nativeCanvas:r.w.global.createCanvas(t)},t));return this.allocatedCanvas.push(e),e}let e=this.pools.pop();return e.resize(t.width,t.height),e.dpr=t.dpr,e}allocateByObj(t){if(!this.pools.length){let e={width:t.width/t.dpr,height:t.height/t.dpr,dpr:t.dpr},i=(0,n.JN)(Object.assign({nativeCanvas:r.w.global.createCanvas(e)},e));return this.allocatedCanvas.push(i),i}let e=this.pools.pop();return e.width=t.width,e.height=t.height,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}},418953:function(t,e,i){i.d(e,{QE:()=>o,yp:()=>h});var r=i(669182),n=i(795069);function s(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Symbol.for("MatrixAllocate"),Symbol.for("Mat4Allocate");class a{constructor(){this.pools=[]}static identity(t){return(0,n.TL)(t)}allocate(){if(!this.pools.length)return s();let t=this.pools.pop();return a.identity(t),t}allocateByObj(t){let e;e=this.pools.length?this.pools.pop():s();for(let i=0;i<e.length;i++)e[i]=t[i];return e}free(t){t&&this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}let o=new class{constructor(){this.pools=[]}allocate(t,e,i,n,s,a){if(!this.pools.length)return new r.y(t,e,i,n,s,a);let o=this.pools.pop();return o.a=t,o.b=e,o.c=i,o.d=n,o.e=s,o.f=a,o}allocateByObj(t){if(!this.pools.length)return new r.y(t.a,t.b,t.c,t.d,t.e,t.f);let e=this.pools.pop();return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}},h=new a},63424:function(t,e,i){i.d(e,{l:()=>r});let r={duration:200,easing:"cubicOut"}},509257:function(t,e,i){i.d(e,{w:()=>s});var r=i(455353),n=i(6846);let s=new class{get renderService(){return this._renderService||(this._renderService=r.n.get(n.p)),this._renderService}}},938166:function(t,e,i){i.d(e,{MB:()=>u,Of:()=>c});var r=i(31982),n=i(408830),s=i(509257),a=i(939840);class o{static GetCanvas(){try{return o.canvas||(o.canvas=s.w.global.createCanvas({})),o.canvas}catch(t){return null}}static GetCtx(){if(!o.ctx){let t=o.GetCanvas();o.ctx=t.getContext("2d")}return o.ctx}}class h extends r.L{static getInstance(){return h._instance||(h._instance=new h),h._instance}constructor(t=[],e=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;let i=o.GetCanvas(),r=o.GetCtx();if(i.width=e,i.height=1,!r)return;if(r.translate(0,0),!r)throw Error("\u83B7\u53D6ctx\u53D1\u751F\u9519\u8BEF");let n=r.createLinearGradient(0,0,e,0);t.forEach(t=>{n.addColorStop(t[0],t[1])}),r.fillStyle=n,r.fillRect(0,0,e,1),this.rgbaSet=r.getImageData(0,0,e,1).data}getColor(t){let e=this.rgbaSet.slice(4*t,4*t+4);return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]/255})`}GetOrCreate(t,e,i,r,n=[],s=100){let a=`${t}${e}${i}${r}`;n.forEach(t=>a+=t.join()),a+=s;let o=this.dataMap.get(a);return o||(o={data:new h(n,s),timestamp:[]},this.addLimitedTimestamp(o,Date.now(),{}),this.dataMap.set(a,o)),this.clearCache(this.dataMap,this.cacheParams),o.data}}class l{static GetSize(t){for(let e=0;e<l.ImageSize.length;e++)if(l.ImageSize[e]>=t)return l.ImageSize[e];return t}static Get(t,e,i,r,n,s,a){let o=l.GenKey(t,e,i,r,n),h=l.cache[o];if(!h||0===h.length)return null;for(let t=0;t<h.length;t++)if(h[t].width>=s&&h[t].height>=a)return h[t].pattern;return null}static Set(t,e,i,r,n,s,a,o){let h=l.GenKey(t,e,i,r,n);l.cache[h]?l.cache[h].push({width:a,height:o,pattern:s}):l.cache[h]=[{width:a,height:o,pattern:s}]}static GenKey(t,e,i,r,n){return`${e},${i},${r},${n},${t.join()}`}}function u(t,e,i,r){let{stops:s,startAngle:o,endAngle:h}=r;for(;i<0;)i+=n.f7;for(;i>n.f7;)i-=n.f7;if(i<o||i>h)return s[0].color;let l,u,c=(i-o)/(h-o);for(let t=0;t<s.length;t++)if(s[t].offset>=c){l=s[t-1],u=s[t];break}return c=(c-l.offset)/(u.offset-l.offset),(0,a.BM)(l.color,u.color,c,!1)}function c(t,e,i,r,n,s,a,u,c){let d=Math.floor(180*n/Math.PI),f=o.GetCanvas(),g=o.GetCtx();if(!g)return null;let p=l.GetSize(u),v=l.GetSize(c),m=l.Get(e,i,r,s,a,p,v);if(m)return m;let _=Math.sqrt(Math.max(Math.max(Math.pow(i,2)+Math.pow(r,2),Math.pow(p-i,2)+Math.pow(r,2)),Math.max(Math.pow(p-i,2)+Math.pow(v-r,2),Math.pow(i,2)+Math.pow(v-r,2)))),x=d+1,y=n/Math.max(1,x-1),b=h.getInstance().GetOrCreate(i,r,p,v,e,x),w=2*Math.PI*_/360;f.width=p,f.height=v,g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,p,v),g.translate(i,r),g.rotate(s);for(let t=0,e=x-1;t<e&&!(s+t*y>a);t++){let e=b.getColor(t);g.beginPath(),g.rotate(y),g.moveTo(0,0),g.lineTo(_,-2*w),g.lineTo(_,0),g.fillStyle=e,g.closePath(),g.fill()}let T=g.getImageData(0,0,p,v);return f.width=T.width,f.height=T.height,g.putImageData(T,0,0),(m=t.createPattern(f,"no-repeat"))&&l.Set(e,i,r,s,a,m,p,v),m}l.cache={},l.ImageSize=[20,40,80,160,320,640,1280,2560]},557645:function(t,e,i){i.d(e,{A:()=>n,r:()=>r});let r=Symbol.for("CanvasFactory"),n=Symbol.for("Context2dFactory")},366982:function(t,e,i){i.d(e,{u:()=>r});class r{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get nativeCanvas(){return this._nativeCanvas}set nativeCanvas(t){this._nativeCanvas=t}get width(){return this._pixelWidth}set width(t){this._pixelWidth=t,this._displayWidth=t/(this._dpr||1)}get height(){return this._pixelHeight}set height(t){this._pixelHeight=t,this._displayHeight=t/(this._dpr||1)}getContext(t){return this._context}get visiable(){return this._visiable}set visiable(t){this._visiable=t,t?this.show():this.hide()}get dpr(){return this._dpr}set dpr(t){this._dpr=t,this.resize(this._displayWidth,this._displayHeight)}constructor(t){var e;let{nativeCanvas:i,width:r=500,height:n=500,dpr:s=1,x:a,y:o,id:h,canvasControled:l=!0}=t;this._x=null!=a?a:0,this._y=null!=o?o:0,this._pixelWidth=r*s,this._pixelHeight=n*s,this._visiable=!1!==t.visiable,this.controled=l,this._displayWidth=r,this._displayHeight=n,this._dpr=s,this._nativeCanvas=i,this._id=null!=(e=i.id)?e:h,h&&(i.id=h),this.init(t)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(t){}resize(t,e){}toDataURL(t,e){return""}readPixels(t,e,i,r){return this._context.getImageData(t,e,i,r)}convertToBlob(t){throw Error("\u6682\u672A\u5B9E\u73B0")}transferToImageBitmap(){throw Error("\u6682\u672A\u5B9E\u73B0")}release(...t){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}}r.env="browser"},94265:function(t,e,i){i.d(e,{w:()=>c});var r=i(669182),n=i(360309),s=i(370566),a=i(92451),o=i(830420),h=i(418953);let l=new r.y(1,0,0,1,0,0),u={x:0,y:0},c=class{get nativeContext(){return this.path}constructor(t,e){this.matrix=new r.y(1,0,0,1,0,0),this.stack=[],this.dpr=e,this.applyedMatrix=new r.y(1,0,0,1,0,0),this.path=new a.r,this._clearMatrix=new r.y(1,0,0,1,0,0)}getCanvas(){throw Error("\u4E0D\u652F\u6301getCanvas")}getContext(){throw Error("\u4E0D\u652F\u6301getContext")}setTransformForCurrent(t=!1){!t&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix=this.cloneMatrix(this.matrix))}get currentMatrix(){return this.matrix}cloneMatrix(t){return h.QE.allocateByObj(t)}clear(){this.save(),this.resetTransform(),this.restore()}reset(){this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new r.y(1,0,0,1,0,0),this.stack.length=0}restore(){this.stack.length>0&&(h.QE.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent())}highPerformanceRestore(){this.stack.length>0&&(h.QE.free(this.matrix),this.matrix=this.stack.pop())}rotate(t,e=!0){this.matrix.rotate(t),e&&this.setTransformForCurrent()}save(){let t=this.cloneMatrix(this.matrix);this.stack.push(t)}highPerformanceSave(){let t=this.cloneMatrix(this.matrix);this.stack.push(t)}scale(t,e,i=!0){this.matrix.scale(t,e),i&&this.setTransformForCurrent()}setScale(t,e,i=!0){this.matrix.setScale(t,e),i&&this.setTransformForCurrent()}scalePoint(t,e,i,r,n=!0){this.translate(i,r,!1),this.scale(t,e,!1),this.translate(-i,-r,!1),n&&this.setTransformForCurrent()}setTransform(t,e,i,r,n,s,a=!0,o=this.dpr){this.matrix.setValue(o*t,o*e,o*i,o*r,o*n,o*s),a&&this.setTransformForCurrent()}setTransformFromMatrix(t,e=!0,i=this.dpr){this.matrix.setValue(t.a*i,t.b*i,t.c*i,t.d*i,t.e*i,t.f*i),e&&this.setTransformForCurrent()}resetTransform(t=!0,e=this.dpr){this.setTransform(e,0,0,e,0,0),t&&this.setTransformForCurrent()}transform(t,e,i,r,n,s,a=!0){this.matrix.multiply(t,e,i,r,n,s),a&&this.setTransformForCurrent()}transformFromMatrix(t,e){this.matrix.multiply(t.a,t.b,t.c,t.d,t.e,t.f),e&&this.setTransformForCurrent()}translate(t,e,i=!0){this.matrix.translate(t,e),i&&this.setTransformForCurrent()}rotateDegrees(t,e=!0){let i=t*Math.PI/180;this.rotate(i,e)}rotateAbout(t,e,i,r=!0){this.translate(e,i,!1),this.rotate(t,!1),this.translate(-e,-i,!1),r&&this.setTransformForCurrent()}rotateDegreesAbout(t,e,i,r=!0){this.translate(e,i,!1),this.rotateDegrees(t,!1),this.translate(-e,-i,!1),r&&this.setTransformForCurrent()}beginPath(){this.path.clear()}clip(t,e){}arc(t,e,i,r,n,s){this.path.arc(t,e,i,r,n,s)}arcTo(t,e,i,r,n){this.path.arcTo(t,e,i,r,n)}bezierCurveTo(t,e,i,r,n,s){this.path.bezierCurveTo(t,e,i,r,n,s)}closePath(){this.path.closePath()}ellipse(t,e,i,r,n,s,a,o){}lineTo(t,e){this.path.lineTo(t,e)}moveTo(t,e){this.path.moveTo(t,e)}quadraticCurveTo(t,e,i,r){this.path.quadraticCurveTo(t,e,i,r)}rect(t,e,i,r){this.path.rect(t,e,i,r)}createImageData(t,e){return null}createLinearGradient(t,e,i,r){throw Error("\u4E0D\u652F\u6301createLinearGradient")}createPattern(t,e){throw Error("\u4E0D\u652F\u6301createPattern")}createRadialGradient(t,e,i,r,n,s){throw Error("\u4E0D\u652F\u6301createRadialGradient")}createConicGradient(t,e,i,r){return null}fill(t,e){}fillRect(t,e,i,r){this.path.rect(t,e,i,r)}clearRect(t,e,i,r){}fillText(t,e,i){}getImageData(t,e,i,r){return null}getLineDash(){return[]}isPointInPath(t,e){return this.matrix.transformPoint({x:t,y:e},u),(0,s.XS)(this.path.commandList,u.x,u.y)}isPointInStroke(t,e){if(!this.lineWidth)return!1;this.matrix.transformPoint({x:t,y:e},u);let i=(0,o.D)(this,this.lineWidth,this.dpr);return(0,s.me)(this.path.commandList,i,u.x,u.y)}measureText(t){throw Error("\u4E0D\u652F\u6301measureText")}putImageData(t,e,i){throw Error("\u4E0D\u652F\u6301measureText")}setLineDash(t){}stroke(t){}strokeRect(t,e,i,r){this.path.rect(t,e,i,r)}strokeText(t,e,i){}drawImage(){}setCommonStyle(t,e,i,r,n){}_setCommonStyle(t,e,i,r){}setStrokeStyle(t,e,i,r,n){}_setStrokeStyle(t,e,i,r){}setTextStyleWithoutAlignBaseline(t,e){}setTextStyle(t,e){}draw(){}clearMatrix(t=!0,e=this.dpr){this.setTransformFromMatrix(l,t,e)}setClearMatrix(t,e,i,r,n,s){this._clearMatrix.setValue(t,e,i,r,n,s)}onlyTranslate(t=this.dpr){return this.matrix.a===t&&0===this.matrix.b&&0===this.matrix.c&&this.matrix.d===t}release(...t){this.stack.forEach(t=>h.QE.free(t)),this.stack.length=0}};c=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,n.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object,Number])],c)},370566:function(t,e,i){i.d(e,{JN:()=>l,XS:()=>L,me:()=>M});var r=i(408830),n=i(942708),s=i(740181),a=i(455353),o=i(509257),h=i(557645);function l(t){return a.n.getNamed(h.r,o.w.global.env)(t)}let u=Math.sqrt(3),c=1/3;function d(t){return t>-b&&t<b}let f=[0,0],g=[0,0],p=[0,0];function v(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function m(t,e,i,r){let n=1-r;return n*(n*t+2*r*e)+r*r*i}function _(t,e,i,r,n){let s=1-n;return s*s*(s*t+3*n*e)+n*n*(n*r+3*s*i)}function x(t){return(t%=r.f7)<0&&(t+=r.f7),t}function y(t,e,i,r,n,s,a){if(0===n)return!1;let o=n/2,h=0;if(a>e+o&&a>r+o||a<e-o&&a<r-o||s>t+o&&s>i+o||s<t-o&&s<i-o)return!1;if(t===i)return Math.abs(s-t)<=n/2;let l=(h=(e-r)/(t-i))*s-a+(t*r-i*e)/(t-i);return l*l/(h*h+1)<=n/2*n/2}let b=1e-4,w=[-1,-1,-1],T=[-1,-1];function C(t){return Math.round(t/r.pi*1e8)/1e8%2*r.pi}let A=[0,0];function E(t,e,i,a,o){let h=t.length,l,E,L=0,M=0,S=0,B=0,R=0;for(let N=0;N<h;N++){var P,O,k,D;let h=t[N],I=0===N;h[0]===s.m.M&&N>1&&(i||(L+=(0,n.N0)(M,S,B,R,a,o))),I&&(M=h[1],S=h[2],B=M,R=S);let F=h[0],V=h[1],W=h[2],z=h[3],j=h[4],H=h[5],G=h[6],U=j,$=H;A[0]=U,A[1]=$,function(t,e){let i=C(t[0]);i<0&&(i+=r.f7);let n=i-t[0],s=t[1];s+=n,!e&&s-i>=r.f7?s=i+r.f7:e&&i-s>=r.f7?s=i-r.f7:!e&&i>s?s=i+(r.f7-C(i-s)):e&&i<s&&(s=i-(r.f7-C(s-i))),t[0]=i,t[1]=s}(A,!!h[6]),U=A[0],$=A[1];let q=U,X=$-U,Z=!!(1-!h[6]),Y=(a-V)*z/z+V;switch(F){case s.m.M:B=V,R=W,M=B,S=R;break;case s.m.L:if(i){if(y(M,S,V,W,e,a,o))return!0}else L+=(0,n.N0)(M,S,V,W,a,o)||0;M=V,S=W;break;case s.m.C:if(i){if(P=M,O=S,0!==e&&(!(o>O+e)||!(o>W+e)||!(o>j+e)||!(o>G+e))&&(!(o<O-e)||!(o<W-e)||!(o<j-e)||!(o<G-e))&&(!(a>P+e)||!(a>V+e)||!(a>z+e)||!(a>H+e))&&(!(a<P-e)||!(a<V-e)||!(a<z-e)||!(a<H-e))&&function(t,e,i,r,n,s,a,o,h,l,u){let c,d,m,x,y=0,b=.005,w=1/0;f[0]=h,f[1]=l;for(let h=0;h<1;h+=.05)g[0]=_(t,i,n,a,h),g[1]=_(e,r,s,o,h),(m=v(f,g))<w&&(y=h,w=m);w=1/0;for(let h=0;h<32&&!(b<1e-4);h++)c=y-b,d=y+b,g[0]=_(t,i,n,a,c),g[1]=_(e,r,s,o,c),m=v(g,f),c>=0&&m<w?(y=c,w=m):(p[0]=_(t,i,n,a,d),p[1]=_(e,r,s,o,d),x=v(p,f),d<=1&&x<w?(y=d,w=x):b*=.5);return Math.sqrt(w)}(P,O,V,W,z,j,H,G,a,o,0)<=e/2)return!0}else L+=function(t,e,i,r,n,s,a,o,h,l){if(l>e&&l>r&&l>s&&l>o||l<e&&l<r&&l<s&&l<o)return 0;let f=function(t,e,i,r,n,s){let a=r+3*(e-i)-t,o=3*(i-2*e+t),h=3*(e-t),l=t-n,f=o*o-3*a*h,g=o*h-9*a*l,p=h*h-3*o*l,v=0;if(d(f)&&d(g))if(d(o))s[0]=0;else{let t=-h/o;t>=0&&t<=1&&(s[v++]=t)}else{let t=g*g-4*f*p;if(d(t)){let t=g/f,e=-o/a+t,i=-t/2;e>=0&&e<=1&&(s[v++]=e),i>=0&&i<=1&&(s[v++]=i)}else if(t>0){let e=Math.sqrt(t),i=f*o+1.5*a*(-g+e),r=f*o+1.5*a*(-g-e),n=(-o-((i=i<0?-Math.pow(-i,c):Math.pow(i,c))+(r=r<0?-Math.pow(-r,c):Math.pow(r,c))))/(3*a);n>=0&&n<=1&&(s[v++]=n)}else{let t=Math.acos((2*f*o-3*a*g)/(2*Math.sqrt(f*f*f)))/3,e=Math.sqrt(f),i=Math.cos(t),r=(-o-2*e*i)/(3*a),n=(-o+e*(i+u*Math.sin(t)))/(3*a),h=(-o+e*(i-u*Math.sin(t)))/(3*a);r>=0&&r<=1&&(s[v++]=r),n>=0&&n<=1&&(s[v++]=n),h>=0&&h<=1&&(s[v++]=h)}}return v}(e,r,s,o,l,w);if(0===f)return 0;let g=0,p=-1,v=0,m=0;for(let l=0;l<f;l++){let u=w[l],c=0===u||1===u?.5:1;_(t,i,n,a,u)<h||(p<0&&(p=function(t,e,i,r,n){let s=6*i-12*e+6*t,a=9*e+3*r-3*t-9*i,o=3*e-3*t,h=0;if(d(a)){if(s>b||s<-b){let t=-o/s;t>=0&&t<=1&&(n[h++]=t)}}else{let t=s*s-4*a*o;if(d(t))n[0]=-s/(2*a);else if(t>0){let e=Math.sqrt(t),i=(-s+e)/(2*a),r=(-s-e)/(2*a);i>=0&&i<=1&&(n[h++]=i),r>=0&&r<=1&&(n[h++]=r)}}return h}(e,r,s,o,T),T[1]<T[0]&&p>1&&function(){let t=T[0];T[0]=T[1],T[1]=t}(),v=_(e,r,s,o,T[0]),p>1&&(m=_(e,r,s,o,T[1]))),2===p?u<T[0]?g+=v<e?c:-c:u<T[1]?g+=m<v?c:-c:g+=o<m?c:-c:u<T[0]?g+=v<e?c:-c:g+=o<v?c:-c)}return g}(M,S,V,W,z,j,H,G,a,o)||0;M=H,S=G;break;case s.m.Q:if(i){if(k=M,D=S,0!==e&&(!(o>D+e)||!(o>W+e)||!(o>j+e))&&(!(o<D-e)||!(o<W-e)||!(o<j-e))&&(!(a>k+e)||!(a>V+e)||!(a>z+e))&&(!(a<k-e)||!(a<V-e)||!(a<z-e))&&function(t,e,i,r,n,s,a,o,h){let l=0,u=.005,c=1/0;f[0]=a,f[1]=o;for(let a=0;a<1;a+=.05){g[0]=m(t,i,n,a),g[1]=m(e,r,s,a);let o=v(f,g);o<c&&(l=a,c=o)}c=1/0;for(let a=0;a<32&&!(u<1e-4);a++){let a=l-u,o=l+u;g[0]=m(t,i,n,a),g[1]=m(e,r,s,a);let h=v(g,f);if(a>=0&&h<c)l=a,c=h;else{p[0]=m(t,i,n,o),p[1]=m(e,r,s,o);let a=v(p,f);o<=1&&a<c?(l=o,c=a):u*=.5}}return Math.sqrt(c)}(k,D,V,W,z,j,a,o,0)<=e/2)return!0}else L+=function(t,e,i,r,n,s,a,o){if(o>e&&o>r&&o>s||o<e&&o<r&&o<s)return 0;let h=function(t,e,i,r,n){let s=t-2*e+i,a=2*(e-t),o=t-r,h=0;if(d(s)){if(a>b||a<-b){let t=-o/a;t>=0&&t<=1&&(n[h++]=t)}}else{let t=a*a-4*s*o;if(d(t)){let t=-a/(2*s);t>=0&&t<=1&&(n[h++]=t)}else if(t>0){let e=Math.sqrt(t),i=(-a+e)/(2*s),r=(-a-e)/(2*s);i>=0&&i<=1&&(n[h++]=i),r>=0&&r<=1&&(n[h++]=r)}}return h}(e,r,s,o,w);if(0===h)return 0;let l=function(t,e,i){let r=t+i-2*e;return 0===r?.5:(t-e)/r}(e,r,s);if(l>=0&&l<=1){let o=0,u=m(e,r,s,l);for(let r=0;r<h;r++){let h=0===w[r]||1===w[r]?.5:1;m(t,i,n,w[r])<a||(w[r]<l?o+=u<e?h:-h:o+=s<u?h:-h)}return o}let u=0===w[0]||1===w[0]?.5:1;return m(t,i,n,w[0])<a?0:s<e?u:-u}(M,S,V,W,z,j,a,o)||0;M=z,S=j;break;case s.m.A:if(l=Math.cos(q)*z+V,E=Math.sin(q)*z+W,I?(B=l,R=E):L+=(0,n.N0)(M,S,l,E,a,o),i){if(function(t,e,i,n,s,a,o,h,l){if(0===o)return!1;let u=Math.sqrt((h-=t)*h+(l-=e)*l);if(u-o>i||u+o<i)return!1;if(Math.abs(n-s)%r.f7<1e-4)return!0;if(a){let t=n;n=x(s),s=x(t)}else n=x(n),s=x(s);n>s&&(s+=r.f7);let c=Math.atan2(l,h);return c<0&&(c+=r.f7),c>=n&&c<=s||c+r.f7>=n&&c+r.f7<=s}(V,W,z,q,q+X,Z,e,Y,o))return!0}else L+=function(t,e,i,n,s,a,o,h){if((h-=e)>i||h<-i)return 0;let l=Math.sqrt(i*i-h*h);w[0]=-l,w[1]=l;let u=Math.abs(n-s);if(u<1e-4)return 0;if(u>=r.f7-1e-4)return n=0,s=r.f7,o>=w[0]+t&&o<=w[1]+t?a?1:-1:0;if(n>s){let t=n;n=s,s=t}n<0&&(n+=r.f7,s+=r.f7);let c=0;for(let e=0;e<2;e++){let i=w[e];if(i+t>o){let t=Math.atan2(h,i),e=a?1:-1;t<0&&(t=r.f7+t),(t>=n&&t<=s||t+r.f7>=n&&t+r.f7<=s)&&(t>r.pi/2&&t<1.5*r.pi&&(e=-e),c+=e)}}return c}(V,W,z,q,q+X,Z,Y,o);M=Math.cos(q+X)*z+V,S=Math.sin(q+X)*z+W;break;case s.m.R:if(B=M=V,R=S=W,l=B+z,E=R+j,i){if(y(B,R,l,R,e,a,o)||y(l,R,l,E,e,a,o)||y(l,E,B,E,e,a,o)||y(B,E,B,R,e,a,o))return!0}else L+=(0,n.N0)(l,R,l,E,a,o),L+=(0,n.N0)(B,E,B,R,a,o);break;case s.m.Z:if(i){if(y(M,S,B,R,e,a,o))return!0}else L+=(0,n.N0)(M,S,B,R,a,o);M=B,S=R}}return i||Math.abs(S-R)<b||(L+=(0,n.N0)(M,S,B,R,a,o)||0),0!==L}function L(t,e,i){return E(t,0,!1,e,i)}function M(t,e,i,r){return E(t,e,!0,i,r)}},939840:function(t,e,i){i.d(e,{BM:()=>o,Ib:()=>l});var r=i(132696),n=i(704654),s=i(695723);function a(t,e=!1){return Array.isArray(t)&&(0,n.Z)(t[0])?e?`rgb(${Math.round(t[0])},${Math.round(t[1])},${Math.round(t[2])},${t[3].toFixed(2)})`:`rgb(${Math.round(t[0])},${Math.round(t[1])},${Math.round(t[2])})`:t}function o(t,e,i,r,a){return Array.isArray(t)&&!(0,n.Z)(t[0])||Array.isArray(e)&&!(0,n.Z)(e[0])?[,,,,].fill(0).map((n,a)=>{var o,l;return h((0,s.Z)(t)?null!=(o=t[a])?o:t[0]:t,(0,s.Z)(e)?null!=(l=e[a])?l:e[0]:e,i,r)}):h(t,e,i,r,a)}function h(t,e,i,n,s){if(!t||!e)return t&&a(t)||e&&a(e)||!1;let h,l,u=!1,c=!1;if(Array.isArray(t)?h=t:"string"==typeof t?h=r.VH.Get(t,r.Mr.Color255):u=!0,Array.isArray(e)?l=e:"string"==typeof e?l=r.VH.Get(e,r.Mr.Color255):c=!0,u!==c){let r=u?t:e,h=u?e:t,l=Object.assign(Object.assign({},r),{stops:r.stops.map(t=>Object.assign(Object.assign({},t),{color:a(h)}))});return u?o(r,l,i,n,s):o(l,r,i,n,s)}if(u){if(t.gradient===e.gradient){let r=t.stops,n=e.stops;if(r.length!==n.length)return!1;if("linear"===t.gradient){var f,g,p,v=t,m=e,_=i;let r=v.stops,n=m.stops;return{gradient:"linear",x0:v.x0+(m.x0-v.x0)*_,x1:v.x1+(m.x1-v.x1)*_,y0:v.y0+(m.y0-v.y0)*_,y1:v.y1+(m.y1-v.y1)*_,stops:Array(r.length).fill(0).map((t,e)=>({color:d(r[e].color,n[e].color,_),offset:r[e].offset+(n[e].offset-r[e].offset)*_}))}}if("radial"===t.gradient){var x=t,y=e,b=i;let r=x.stops,n=y.stops;return{gradient:"radial",x0:x.x0+(y.x0-x.x0)*b,x1:x.x1+(y.x1-x.x1)*b,y0:x.y0+(y.y0-x.y0)*b,y1:x.y1+(y.y1-x.y1)*b,r0:x.r0+(y.r0-x.r0)*b,r1:x.r1+(y.r1-x.r1)*b,stops:Array(r.length).fill(0).map((t,e)=>({color:d(r[e].color,n[e].color,b),offset:r[e].offset+(n[e].offset-r[e].offset)*b}))}}if("conical"===t.gradient){var w=t,T=e,C=i;let r=w.stops,n=T.stops;return{gradient:"conical",startAngle:w.startAngle+(T.startAngle-w.startAngle)*C,endAngle:w.endAngle+(T.endAngle-w.endAngle)*C,x:w.x+(T.x-w.x)*C,y:w.y+(T.y-w.y)*C,stops:Array(r.length).fill(0).map((t,e)=>({color:d(r[e].color,n[e].color,C),offset:r[e].offset+(n[e].offset-r[e].offset)*C}))}}}return!1}return s&&s(h,l),a((f=h,g=l,p=i,[f[0]+(g[0]-f[0])*p,f[1]+(g[1]-f[1])*p,f[2]+(g[2]-f[2])*p,f[3]+(g[3]-f[3])*p]),n)}function l(t,e,i){return`rgba(${t[0]+(e[0]-t[0])*i},${t[1]+(e[1]-t[1])*i},${t[2]+(e[2]-t[2])*i},${t[3]+(e[3]-t[3])*i})`}let u=[0,0,0,0],c=[0,0,0,0];function d(t,e,i){return r.VH.Get(t,r.Mr.Color255,u),r.VH.Get(e,r.Mr.Color255,c),`rgba(${Math.round(u[0]+(c[0]-u[0])*i)},${Math.round(u[1]+(c[1]-u[1])*i)},${Math.round(u[2]+(c[2]-u[2])*i)},${u[3]+(c[3]-u[3])*i})`}},132696:function(t,e,i){i.d(e,{Mr:()=>n,VH:()=>a});var r,n,s=i(571229);(r=n||(n={}))[r.Color255=0]="Color255",r[r.Color1=1]="Color1";class a{static Get(t,e=n.Color1,i=[0,0,0,1]){if(e===n.Color1){let e=a.store1[t];if(e)return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i;let r=s.Il.parseColorString(t);if(r){let e=[r.r/255,r.g/255,r.b/255,r.opacity];a.store1[t]=e,a.store255[t]=[r.r,r.g,r.b,r.opacity],i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3]}return i}let r=a.store255[t];if(r)return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i;let o=s.Il.parseColorString(t);return o&&(a.store1[t]=[o.r/255,o.g/255,o.b/255,o.opacity],a.store255[t]=[o.r,o.g,o.b,o.opacity],i[0]=o.r,i[1]=o.g,i[2]=o.b,i[3]=o.opacity),i}static Set(t,e,i){if(e===n.Color1)a.store1[t]||(a.store1[t]=i,a.store255[t]=[Math.floor(255*i[0]),Math.floor(255*i[1]),Math.floor(255*i[2]),Math.floor(255*i[3])]);else{if(a.store255[t])return;a.store255[t]=i,a.store1[t]=[i[0]/255,i[1]/255,i[2]/255,i[3]]}}}a.store255={},a.store1={}},301537:function(t,e,i){i.d(e,{y:()=>s});var r=i(408830),n=i(721756);let s=(t,e,i,s)=>{let a,o=!1,h=!1;if(e.forEachChildren(t=>!(o=t.numberType===n.IJ)),e.forEachChildren(t=>!(h=!!t.findFace)),o){let t=e.getChildren(),n=[...t];n.sort((t,e)=>{var i,n,s,a;let o=(null!=(n=null!=(i=t.attribute.startAngle)?i:0+t.attribute.endAngle)?n:0)/2,h=(null!=(a=null!=(s=e.attribute.startAngle)?s:0+e.attribute.endAngle)?a:0)/2;for(;o<0;)o+=r.f7;for(;h<0;)h+=r.f7;return h-o}),n.forEach(t=>{t._next=null,t._prev=null}),e.removeAllChild(),e.update(),n.forEach(t=>{e.appendChild(t)}),s.hack_pieFace="outside",(a=i(o,h))&&a.graphic||(s.hack_pieFace="inside",a=i(o,h)),a&&a.graphic||(s.hack_pieFace="top",a=i(o,h)),e.removeAllChild(),t.forEach(t=>{t._next=null,t._prev=null}),t.forEach(t=>{e.appendChild(t)})}else if(h){let r=e.getChildren(),n=r.map(e=>({ave_z:e.findFace().vertices.map(i=>{var r;return t.view(i[0],i[1],null!=(r=i[2]+e.attribute.z)?r:0)[2]}).reduce((t,e)=>t+e,0),g:e}));n.sort((t,e)=>e.ave_z-t.ave_z),e.removeAllChild(),n.forEach(t=>{t.g._next=null,t.g._prev=null}),e.update(),n.forEach(t=>{e.add(t.g)}),a=i(o,h),e.removeAllChild(),r.forEach(t=>{t._next=null,t._prev=null}),e.update(),r.forEach(t=>{e.add(t)})}else a=i(o,h);return a}},128685:function(t,e,i){var r,n,s=i(173656);r={},function(t){Object.prototype.hasOwnProperty;let e="function"==typeof Symbol,i=e&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=(e&&void 0!==Symbol.iterator&&Symbol.iterator,Object.create,Object.getPrototypeOf(Function)),n=("object"==typeof s&&s.env&&s.env.REFLECT_METADATA_USE_MAP_POLYFILL,Map),a=new WeakMap;function o(t,e,i){let r=a.get(t);if(l(r)){if(!i)return;r=new n,a.set(t,r)}let s=r.get(e);if(l(s)){if(!i)return;s=new n,r.set(e,s)}return s}function h(t,e,i){let r=o(e,i,!1);return!l(r)&&!!r.has(t)}function l(t){return void 0===t}function u(t){return"object"==typeof t?null!==t:"function"==typeof t}function c(t){let e=function(t,e){switch(function(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}let r="string",n=function(t,e){let i=t[e];if(null!=i){if(!d(i))throw TypeError();return i}}(t,i);if(void 0!==n){let e=n.call(t,r);if(u(e))throw TypeError();return e}return function(t,e){if("string"===e){let e=t.toString;if(d(e)){let i=e.call(t);if(!u(i))return i}let i=t.valueOf;if(d(i)){let e=i.call(t);if(!u(e))return e}}else{let e=t.valueOf;if(d(e)){let i=e.call(t);if(!u(i))return i}let i=t.toString;if(d(i)){let e=i.call(t);if(!u(e))return e}}throw TypeError()}(t,r)}(t,0);return"symbol"==typeof e?e:""+e}function d(t){return"function"==typeof t}function f(t){let e=Object.getPrototypeOf(t);if("function"!=typeof t||t===r||e!==r)return e;let i=t.prototype,n=i&&Object.getPrototypeOf(i);if(null==n||n===Object.prototype)return e;let s=n.constructor;return"function"!=typeof s||s===t?e:s}t("defineMetadata",function(t,e,i,r){var n,s;if(!u(i))throw TypeError();return n=t,s=e,void o(i,r,!0).set(n,s)}),t("hasMetadata",function(t,e,i){if(!u(e))throw TypeError();return l(i)||(i=c(i)),function t(e,i,r){if(h(e,i,r))return!0;let n=f(i);return null!==n&&t(e,n,r)}(t,e,i)}),t("hasOwnMetadata",function(t,e,i){if(!u(e))throw TypeError();return l(i)||(i=c(i)),h(t,e,i)}),t("getMetadata",function(t,e,i){if(!u(e))throw TypeError();return l(i)||(i=c(i)),function t(e,i,r){if(h(e,i,r)){var n=e,s=i,a=r;let t=o(s,a,!1);return l(t)?void 0:t.get(n)}let u=f(i);return null===u?void 0:t(e,u,r)}(t,e,i)})}(function(t,e){"function"!=typeof r[t]&&Object.defineProperty(r,t,{configurable:!0,writable:!0,value:e}),n&&n(t,e)}),e.Z=r},681639:function(t,e,i){i.d(e,{Ci:()=>s,P:()=>o,Pv:()=>l,hN:()=>u});var r=i(919498);function n(t,e){let i=0,n=t.length;for(let s=0;s<n;s++){let a=t[s],o=e[s],h=t[(s+1)%n],l=e[(s+1)%n];i+=r.HL.distanceNN(a,o,h,l)}return i/2}function s(t,e,i,r,s){return n([t.x,e.x,i.x,r.x],[t.y,e.y,i.y,r.y])}function a(t,e,i,r,n){let s=1-n;return s*s*s*t+3*e*n*s*s+3*i*n*n*s+r*n*n*n}function o(t,e,i,n,s){let o=a(t.x,e.x,i.x,n.x,s),h=a(t.y,e.y,i.y,n.y,s);return new r.E9(o,h)}function h(t,e,i,r){let n=1-r;return n*n*t+2*n*r*e+r*r*i}function l(t,e,i,n){let s=h(t.x,e.x,i.x,n),a=h(t.y,e.y,i.y,n);return new r.E9(s,a)}function u(t,e,i,r){return n([t.x,e.x,i.x],[t.y,e.y,i.y])}},170130:function(t,e,i){i.d(e,{C:()=>s});var r=i(408830);let n=r.BZ-1e-8;class s{constructor(t){this.init(t)}init(t){this.bounds=t}arc(t,e,i,s,a,o){if(Math.abs(a-s)>n)return this.bounds.add(t-i,e-i),void this.bounds.add(t+i,e+i);let h,l,u,c,d=1/0,f=-1/0,g=1/0,p=-1/0;function v(t){u=i*Math.cos(t),c=i*Math.sin(t),u<d&&(d=u),u>f&&(f=u),c<g&&(g=c),c>p&&(p=c)}if(v(s),v(a),a!==s)if((s%=r.BZ)<0&&(s+=r.BZ),(a%=r.BZ)<0&&(a+=r.BZ),a<s&&(o=!o,h=s,s=a,a=h),o)for(a-=r.BZ,h=s-s%r.ou,l=0;l<4&&h>a;++l,h-=r.ou)v(h);else for(h=s-s%r.ou+r.ou,l=0;l<4&&h<a;++l,h+=r.ou)v(h);this.bounds.add(t+d,e+g),this.bounds.add(t+f,e+p)}arcTo(t,e,i,r,n){this.bounds.add(t,e)}bezierCurveTo(t,e,i,r,n,s){this.bounds.add(t,e),this.bounds.add(i,r),this.bounds.add(n,s)}closePath(){}ellipse(){throw Error("\u4E0D\u652F\u6301ellipse")}lineTo(t,e){this.bounds.add(t,e)}moveTo(t,e){this.bounds.add(t,e)}quadraticCurveTo(t,e,i,r){this.bounds.add(t,e),this.bounds.add(i,r)}rect(t,e,i,r){this.bounds.add(t,e),this.bounds.add(t+i,e+r)}clear(){this.bounds.clear()}release(...t){}}},830420:function(t,e,i){i.d(e,{L:()=>h,D:()=>o});var r=i(695723),n=i(408830);let s=function(){let t={linearGradient:/^(linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,fromAngleValue:/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/(^\#[0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,rgbaColor:/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i},e="";function i(t){let i=Error(e+": "+t);throw i.source=e,i}function r(){return n("linear",t.linearGradient,s)||n("radial",t.radialGradient,o)||n("conic",t.conicGradient,a)}function n(e,r,n){let s=m(r);if(s){m(t.startCall)||i("Missing (");let r=function(r){let s=n();return s&&(m(t.comma)||i("Missing comma before color stops")),{type:e,orientation:s,colorStops:d(f)}}(0);return m(t.endCall)||i("Missing )"),r}}function s(){return v("directional",t.sideOrCorner,1)||v("angular",t.angleValue,1)}function a(){return v("angular",t.fromAngleValue,1)}function o(){let i,r,n=h();return n&&((i=[]).push(n),r=e,m(t.comma)&&((n=h())?i.push(n):e=r)),i}function h(){let t=function(){let t=v("shape",/^(circle)/i,0);return t&&(t.style=p()||l()),t}()||function(){let t=v("shape",/^(ellipse)/i,0);return t&&(t.style=g()||l()),t}();if(t)t.at=u();else{let e=l();if(e){t=e;let i=u();i&&(t.at=i)}else{let e=c();e&&(t={type:"default-radial",at:e})}}return t}function l(){return v("extent-keyword",t.extentKeywords,1)}function u(){if(v("position",/^at/,0)){let t=c();return t||i("Missing positioning value"),t}}function c(){let t={x:g(),y:g()};if(t.x||t.y)return{type:"position",value:t}}function d(e){let r=e(),n=[];if(r)for(n.push(r);m(t.comma);)(r=e())?n.push(r):i("One extra comma");return n}function f(){let e=v("hex",t.hexColor,1)||v("rgba",t.rgbaColor,1)||v("rgb",t.rgbColor,1)||v("literal",t.literalColor,0);return e||i("Expected color definition"),e.length=g(),e}function g(){return v("%",t.percentageValue,1)||v("position-keyword",t.positionKeywords,1)||p()}function p(){return v("px",t.pixelValue,1)||v("em",t.emValue,1)}function v(t,e,i){let r=m(e);if(r)return{type:t,value:r[i]}}function m(t){let i=/^[\n\r\t\s]+/.exec(e);i&&_(i[0].length);let r=t.exec(e);return r&&_(r[0].length),r}function _(t){e=e.substr(t)}return function(t){return e=t.toString(),function(){let t=d(r);return e.length>0&&i("Invalid input not EOF"),t}()}}();class a{static IsGradient(t){return!("string"==typeof t&&!t.includes("gradient"))}static IsGradientStr(t){return"string"==typeof t&&t.includes("gradient")}static Parse(t){if(a.IsGradientStr(t))try{let e=s(t)[0];if(e){if("linear"===e.type)return a.ParseLinear(e);if("radial"===e.type)return a.ParseRadial(e);if("conic"===e.type)return a.ParseConic(e)}}catch(t){}return t}static processColorStops(t){if(!t||0===t.length)return[];if(t.some(t=>t.length)){let e=t.map(t=>({color:t.value,offset:t.length?parseFloat(t.length.value)/100:-1}));e[0].offset<0&&(e[0].offset=0),e[e.length-1].offset<0&&(e[e.length-1].offset=1);for(let t=1;t<e.length-1;t++)if(e[t].offset<0){let i=t-1,r=t+1;for(;r<e.length&&e[r].offset<0;)r++;let n=e[i].offset,s=e[r].offset,a=r-i;for(let t=1;t<a;t++)e[i+t].offset=n+(s-n)*t/a;t=r-1}return e}return t.map((e,i)=>{let r=t.length>1?i/(t.length-1):0;return{color:e.value,offset:r}})}static ParseConic(t){let{orientation:e,colorStops:i=[]}=t,r=n.pi/2,s=parseFloat(e.value)/180*n.pi-r;return{gradient:"conical",x:.5,y:.5,startAngle:s,endAngle:s+n.f7,stops:a.processColorStops(i)}}static ParseRadial(t){let{colorStops:e=[]}=t;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:a.processColorStops(e)}}static ParseLinear(t){let{orientation:e,colorStops:i=[]}=t,r=n.pi/2,s="angular"===e.type?parseFloat(e.value)/180*n.pi:0;for(;s<0;)s+=n.f7;for(;s>=n.f7;)s-=n.f7;let o=0,h=0,l=0,u=0;return s<r?(o=0,h=1,l=Math.sin(s),u=h-Math.cos(s)):s<n.pi?(o=0,h=0,l=Math.cos(s-r),u=Math.sin(s-r)):s<n.pi+r?(h=0,l=(o=1)-Math.sin(s-n.pi),u=Math.cos(s-n.pi)):(l=(o=1)-Math.cos(s-r-n.pi),u-=Math.sin(s-r-n.pi)),{gradient:"linear",x0:o,y0:h,x1:l,y1:u,stops:a.processColorStops(i)}}}function o(t,e,i){let r=e,{a:n,b:s,c:a,d:o}=t.currentMatrix,h=Math.sign(n)*Math.sqrt(n*n+s*s),l=Math.sign(o)*Math.sqrt(a*a+o*o);return h+l===0?0:r=r/Math.abs(h+l)*2*i}function h(t,e,i,n=0,s=0){var o,l,u,c;let d,f;if(!e||!0===e)return"black";if((0,r.Z)(e))for(let t=0;t<e.length&&!(f=e[t]);t++);else f=e;if("string"==typeof(f=a.Parse(f)))return f;if(i.AABBBounds&&(!i.attribute||0!==i.attribute.scaleX||0!==i.attribute.scaleY)){let e=i.AABBBounds,r=e.x2-e.x1,a=e.y2-e.y1,h=e.x1-n,g=e.y1-s;if(i.attribute){let{scaleX:t=1,scaleY:e=1,angle:n=0}=i.attribute;r/=t,a/=e,h/=t,g/=e,(n||1!==t||1!==e)&&(h=null!=(o=i.x1WithoutTransform)?o:0,g=null!=(l=i.y1WithoutTransform)?l:0,r=null!=(u=i.widthWithoutTransform)?u:r,a=null!=(c=i.heightWithoutTransform)?c:a)}"linear"===f.gradient?d=function(t,e,i,r,n,s){var a,o,h,l;let u=t.createLinearGradient(i+(null!=(a=e.x0)?a:0)*n,r+(null!=(o=e.y0)?o:0)*s,i+(null!=(h=e.x1)?h:1)*n,r+(null!=(l=e.y1)?l:0)*s);return e.stops.forEach(t=>{u.addColorStop(t.offset,t.color)}),u}(t,f,h,g,r,a):"conical"===f.gradient?d=function(t,e,i,r,n,s){var a,o;let h=t.createConicGradient(i+(null!=(a=e.x)?a:0)*n,r+(null!=(o=e.y)?o:0)*s,e.startAngle,e.endAngle);return e.stops.forEach(t=>{h.addColorStop(t.offset,t.color)}),h.GetPattern?h.GetPattern(n+i,s+r,void 0):h}(t,f,h,g,r,a):"radial"===f.gradient&&(d=function(t,e,i,r,n,s){var a,o,h,l,u,c;let d=t.createRadialGradient(i+(null!=(a=e.x0)?a:.5)*n,r+(null!=(o=e.y0)?o:.5)*s,Math.max(n,s)*(null!=(h=e.r0)?h:0),i+(null!=(l=e.x1)?l:.5)*n,r+(null!=(u=e.y1)?u:.5)*s,Math.max(n,s)*(null!=(c=e.r1)?c:.5));return e.stops.forEach(t=>{d.addColorStop(t.offset,t.color)}),d}(t,f,h,g,r,a))}return d||"orange"}},609443:function(t,e,i){i.d(e,{EM:()=>a,Qc:()=>r,yb:()=>s});let r=Symbol("ContributionProvider");class n{constructor(t,e){this.serviceIdentifier=t,this.container=e,o.setStore(this.serviceIdentifier,this)}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}refresh(){this.caches&&(this.caches.length=0,this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier)))}}function s(t,e){t(r).toDynamicValue(({container:t})=>new n(e,t)).inSingletonScope().whenTargetNamed(e)}function a(t,e){t(r).toDynamicValue(({container:t})=>new n(e,t)).whenTargetNamed(e)}class o{static getStore(t){return this.store.get(t)}static setStore(t,e){this.store.set(t,e)}static refreshAllContributions(){this.store.forEach(t=>{t.refresh()})}}o.store=new Map},92451:function(t,e,i){i.d(e,{r:()=>y});var r=i(170130),n=i(263401);class s{constructor(){this._curves=[],this.bounds=new n.FB}get curves(){return this._curves}getCurveLengths(){return this._curves.map(t=>t.getLength())}getPointAt(t){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}var a=i(740181),o=i(408830),h=i(916905),l=i(309762);function u(t,e,i,r){let n=function(t,e,i,r,n,s,a,h,u){let c=(0,l.M4)(a),d=Math.sin(c),f=Math.cos(c),g=f*(h-t)*.5+d*(u-e)*.5,p=f*(u-e)*.5-d*(h-t)*.5,v=g*g/((i=Math.abs(i))*i)+p*p/((r=Math.abs(r))*r);v>1&&(i*=v=Math.sqrt(v),r*=v);let m=f/i,_=d/i,x=-d/r,y=f/r,b=m*h+_*u,w=x*h+y*u,T=m*t+_*e,C=x*t+y*e,A=1/((T-b)*(T-b)+(C-w)*(C-w))-.25;A<0&&(A=0);let E=Math.sqrt(A);s===n&&(E=-E);let L=.5*(b+T)-E*(C-w),M=.5*(w+C)+E*(T-b),S=Math.atan2(w-M,b-L),B=Math.atan2(C-M,T-L)-S;B<0&&1===s?B+=o.BZ:B>0&&0===s&&(B-=o.BZ);let R=Math.ceil(Math.abs(B/(o.ou+.001))),P=[];for(let t=0;t<R;++t){let e=S+t*B/R,n=S+(t+1)*B/R;P[t]=[L,M,e,n,i,r,d,f]}return P}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,i);for(let e=0;e<n.length;++e){let i=function(t){let e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=h*s,u=-o*a,c=o*s,d=h*a,f=Math.cos(r),g=Math.sin(r),p=Math.cos(n),v=Math.sin(n),m=.5*(n-r),_=Math.sin(.5*m),x=8/3*_*_/Math.sin(m),y=e+f-x*g,b=i+g+x*f,w=e+p,T=i+v,C=w+x*v,A=T-x*p;return[l*y+u*b,c*y+d*b,l*C+u*A,c*C+d*A,l*w+u*T,c*w+d*T]}(n[e]);t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}}var c=i(798043),d=i(919498),f=i(38916),g=i(51008),p=i(681639),v=i(47963);class m extends v.H{constructor(t,e,i){super(),this.type=h.D5.QuadraticBezierCurve,this.p0=t,this.p1=e,this.p2=i}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y)}getPointAt(t){if(!1!==this.defined)return(0,p.Pv)(this.p0,this.p1,this.p2,t);throw Error("defined\u4E3Afalse\u7684\u70B9\u4E0D\u80FDgetPointAt")}calcLength(){return this._validPoint()?(0,p.hN)(this.p0,this.p1,this.p2,0):60}calcProjLength(t){return t===h.Nm.ROW?(0,o.Wn)(this.p0.x-this.p2.x):t===h.Nm.COLUMN?(0,o.Wn)(this.p0.y-this.p2.y):0}getAngleAt(t){let e=(0,o.Fp)(t-.01,0),i=(0,o.VV)(t+.01,1),r=this.getPointAt(e),n=this.getPointAt(i);return(0,o.fv)(n.y-r.y,n.x-r.x)}draw(t,e,i,r,n,s){if(t.moveTo(this.p0.x*r+e,this.p0.y*n+i),s>=1)t.quadraticCurveTo(this.p1.x*r+e,this.p1.y*n+i,this.p2.x*r+e,this.p2.y*n+i);else if(s>0){let[a]=function(t,e){let{p0:i,p1:r,p2:n}=t,s=(0,p.Pv)(i,r,n,e),a=d.HL.pointAtPP(i,r,e),o=d.HL.pointAtPP(r,n,e);return[new m(i,a,s),new m(s,o,n)]}(this,s);t.quadraticCurveTo(a.p1.x*r+e,a.p1.y*n+i,a.p2.x*r+e,a.p2.y*n+i)}}getYAt(t){throw Error("QuadraticBezierCurve\u6682\u4E0D\u652F\u6301getYAt")}includeX(t){throw Error("QuadraticBezierCurve\u6682\u4E0D\u652F\u6301includeX")}}class _{constructor(t){this.path=t,this._lastX=this._lastY=this._startX=this._startY=0}moveTo(t,e){return this._lastX=this._startX=t,this._lastY=this._startY=e,this}lineTo(t,e){let i=this.addLinearCurve(t,e);this.path.addCurve(i),this._lastX=t,this._lastY=e}addLinearCurve(t,e){return new f.g(new d.E9(this._lastX,this._lastY),new d.E9(t,e))}quadraticCurveTo(t,e,i,r){let n=new m(new d.E9(this._lastX,this._lastY),new d.E9(t,e),new d.E9(i,r));this.path.addCurve(n),this._lastX=i,this._lastY=r}bezierCurveTo(t,e,i,r,n,s){let a=new g.A(new d.E9(this._lastX,this._lastY),new d.E9(t,e),new d.E9(i,r),new d.E9(n,s));this.path.addCurve(a),this._lastX=n,this._lastY=s}arcTo(t,e,i,r,n){throw Error("CurveContext\u4E0D\u652F\u6301\u8C03\u7528arcTo")}ellipse(t,e,i,r,n,s,a,o){throw Error("CurveContext\u4E0D\u652F\u6301\u8C03\u7528ellipse")}rect(t,e,i,r){throw Error("CurveContext\u4E0D\u652F\u6301\u8C03\u7528rect")}arc(t,e,i,r,n,s){throw Error("CurveContext\u4E0D\u652F\u6301\u8C03\u7528arc")}closePath(){this.path.curves.length<2||this.lineTo(this._startX,this._startY)}}var x=i(535427);class y extends s{constructor(t){super(),this.commandList=[],t&&(this._ctx=t),this._boundsContext=new r.C(this.bounds)}get curves(){return this.tryBuildCurves()}setCtx(t){this._ctx=t}moveTo(t,e){return this.commandList.push([a.m.M,t,e]),this._ctx&&this._ctx.moveTo(t,e),this}lineTo(t,e){return this.commandList.push([a.m.L,t,e]),this._ctx&&this._ctx.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.commandList.push([a.m.Q,t,e,i,r]),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,n,s){return this.commandList.push([a.m.C,t,e,i,r,n,s]),this._ctx&&this._ctx.bezierCurveTo(t,e,i,r,n,s),this}arcTo(t,e,i,r,n){return this.commandList.push([a.m.AT,t,e,i,r,n]),this._ctx&&this._ctx.arcTo(t,e,i,r,n),this}ellipse(t,e,i,r,n,s,o,h){return this.commandList.push([a.m.E,t,e,i,r,n,s,o,h]),this._ctx&&this._ctx.ellipse(t,e,i,r,n,s,o,h),this}rect(t,e,i,r){return this.commandList.push([a.m.R,t,e,i,r]),this._ctx&&this._ctx.rect(t,e,i,r),this}arc(t,e,i,r,n,s){return this.commandList.push([a.m.A,t,e,i,r,n,s]),this._ctx&&this._ctx.arc(t,e,i,r,n,s),this}closePath(){return this.commandList.push([a.m.Z]),this._ctx&&this._ctx.closePath(),this}addCurve(t){this._curves.push(t)}clear(){this.transformCbList=null,this.commandList.length=0,this._curves.length=0}beginPath(){this.clear()}tryBuildCurves(){if(!this._curves||!this._curves.length){let t=new _(this);(0,c.h)(this.commandList,t,0,0,1,1)}return this._curves}toString(){if(!this.toStringCbList){let t=[];t[a.m.M]=t=>`M${t[1]} ${t[2]}`,t[a.m.L]=t=>`L${t[1]} ${t[2]}`,t[a.m.Q]=t=>`Q${t[1]} ${t[2]} ${t[3]} ${t[4]}`,t[a.m.C]=t=>`C${t[1]} ${t[2]} ${t[3]} ${t[4]} ${t[5]} ${t[6]}`,t[a.m.A]=t=>{let e=[],i=t[1],r=t[2],n=t[3],s=t[4];((t,e,i,r,n,s,a,o=!1)=>{let h=2*Math.PI,l=(e%h+h)%h,u,c=(i%h+h)%h;o?c>=l&&(c-=h):c<=l&&(c+=h);let d=Math.ceil(Math.abs(u=c-l)/(.5*Math.PI)),f=u/d;for(let e=0;e<d;e++){let i=l+f*e,h=l+f*(e+1),u=4/3*Math.tan(Math.abs(f)/4),c=Math.cos(i),d=Math.sin(i),g=Math.cos(h),p=Math.sin(h),v=c*s+r,m=d*a+n,_=g*s+r,x=p*a+n,y=o?-1:1,b=s*u*y,w=a*u*y;t.push(v-b*d,m+w*c,_+b*p,x-w*g,_,x)}})(e,s,t[5],i,r,n,n,t[6]);let a="";for(let t=0;t<e.length;t+=6)a+=`C${e[t]} ${e[t+1]} ${e[t+2]} ${e[t+3]} ${e[t+4]} ${e[t+5]}`;return a},t[a.m.R]=t=>`M${t[1]} ${t[2]} h${t[3]} v${t[4]} H${t[1]}Z`,t[a.m.Z]=t=>"Z",this.toStringCbList=t}let t=this.toStringCbList,e="";return this.commandList.forEach(i=>{e+=t[i[0]](i)}),e}fromString(t,e,i,r,n){this.clear();let s=(0,a.U)(t);return this._runCommandStrList(s,e,i,r,n),this._updateBounds(),this}fromLine(t){let{points:e,curveType:i,clipRangeByDimension:r}=t.attribute;if(!e)return;let n=(0,x.X0)(e,i);"x"===r?this.direction=h.Nm.ROW:"y"===r?this.direction=h.Nm.COLUMN:"auto"===r&&(this.direction=n.direction),this._curves=n.curves}fromCustomPath2D(t,e,i,r,n){return this.clear(),this._runCommandList(t.commandList,e,i,r,n),this._updateBounds(),this}transform(t,e,i,r){let n=this.commandList;if(!this.transformCbList){let t=[];t[a.m.M]=this.moveToTransform,t[a.m.L]=this.lineToTransform,t[a.m.Q]=this.quadraticCurveToTransform,t[a.m.C]=this.bezierCurveToTransform,t[a.m.AT]=this.arcToTransform,t[a.m.E]=this.ellipseTransform,t[a.m.R]=this.rectTransform,t[a.m.A]=this.arcTransform,t[a.m.Z]=this.closePathTransform,this.transformCbList=t}n.forEach(n=>{this.transformCbList[n[0]](n,t,e,i,r)}),this._updateBounds()}moveToTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i}lineToTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i}quadraticCurveToTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*r+e,t[4]=t[4]*n+i}bezierCurveToTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*r+e,t[4]=t[4]*n+i,t[5]=t[5]*r+e,t[6]=t[6]*n+i}arcToTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*r+e,t[4]=t[4]*n+i,t[5]=t[5]*(r+n)/2}ellipseTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*r,t[4]=t[4]*n}rectTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*r,t[4]=t[4]*n}arcTransform(t,e,i,r,n){t[1]=t[1]*r+e,t[2]=t[2]*n+i,t[3]=t[3]*(r+n)/2}closePathTransform(){}_runCommandStrList(t,e=0,i=0,r=1,n=1){let s,a,o,h,l,c=null,d=0,f=0,g=0,p=0;for(let v=0,m=t.length;v<m;++v){switch(s=t[v],1===r&&1===n||(s=function(t,e,i){let r=b[0]=t[0];if("a"===r||"A"===r)b[1]=e*t[1],b[2]=i*t[2],b[3]=t[3],b[4]=t[4],b[5]=t[5],b[6]=e*t[6],b[7]=i*t[7];else if("h"===r||"H"===r)b[1]=e*t[1];else if("v"===r||"V"===r)b[1]=i*t[1];else for(let r=1,n=t.length;r<n;++r)b[r]=(r%2==1?e:i)*t[r];return b}(s,r,n)),s[0]){case"l":d+=s[1],f+=s[2],this.lineTo(d+e,f+i);break;case"L":d=s[1],f=s[2],this.lineTo(d+e,f+i);break;case"h":d+=s[1],this.lineTo(d+e,f+i);break;case"H":d=s[1],this.lineTo(d+e,f+i);break;case"v":f+=s[1],this.lineTo(d+e,f+i);break;case"V":f=s[1],this.lineTo(d+e,f+i);break;case"m":d+=s[1],f+=s[2],this.moveTo(d+e,f+i);break;case"M":d=s[1],f=s[2],this.moveTo(d+e,f+i);break;case"c":a=d+s[5],o=f+s[6],g=d+s[3],p=f+s[4],this.bezierCurveTo(d+s[1]+e,f+s[2]+i,g+e,p+i,a+e,o+i),d=a,f=o;break;case"C":d=s[5],f=s[6],g=s[3],p=s[4],this.bezierCurveTo(s[1]+e,s[2]+i,g+e,p+i,d+e,f+i);break;case"s":a=d+s[3],o=f+s[4],null===c[0].match(/[CcSs]/)?(g=d,p=f):(g=2*d-g,p=2*f-p),h=d+s[1],l=f+s[2],this.bezierCurveTo(g+e,p+i,h+e,l+i,a+e,o+i),g=h,p=l,d=a,f=o;break;case"S":a=s[3],o=s[4],null===c[0].match(/[CcSs]/)?(g=d,p=f):(g=2*d-g,p=2*f-p),h=s[1],l=s[2],this.bezierCurveTo(g+e,p+i,h+e,l+i,a+e,o+i),g=h,p=l,d=a,f=o;break;case"q":a=d+s[3],o=f+s[4],g=d+s[1],p=f+s[2],this.quadraticCurveTo(g+e,p+i,a+e,o+i),d=a,f=o;break;case"Q":a=s[3],o=s[4],this.quadraticCurveTo(s[1]+e,s[2]+i,a+e,o+i),d=a,f=o,g=s[1],p=s[2];break;case"t":a=d+s[1],o=f+s[2],null===c[0].match(/[QqTt]/)?(g=d,p=f):"t"===c[0]?(g=2*d-h,p=2*f-l):"q"===c[0]&&(g=2*d-g,p=2*f-p),h=g,l=p,this.quadraticCurveTo(g+e,p+i,a+e,o+i),d=a,f=o,g=d+s[1],p=f+s[2];break;case"T":a=s[1],o=s[2],g=2*d-g,p=2*f-p,this.quadraticCurveTo(g+e,p+i,a+e,o+i),d=a,f=o;break;case"a":u(this,d+e,f+i,[s[1],s[2],s[3],s[4],s[5],s[6]+d+e,s[7]+f+i]),d+=s[6],f+=s[7];break;case"A":u(this,d+e,f+i,[s[1],s[2],s[3],s[4],s[5],s[6]+e,s[7]+i]),d=s[6],f=s[7];break;case"z":case"Z":this.closePath()}c=s}}_runCommandList(t,e=0,i=0,r=1,n=1){if(0!==e||0!==i||1!==r||1!==n)for(let s=0,o=t.length;s<o;++s){let o=t[s].slice();switch(o[0]){case a.m.L:this.lineToTransform(o,e,i,r,n);break;case a.m.M:this.moveToTransform(o,e,i,r,n);break;case a.m.C:this.bezierCurveToTransform(o,e,i,r,n);break;case a.m.Q:this.quadraticCurveToTransform(o,e,i,r,n);break;case a.m.A:this.arcToTransform(o,e,i,r,n);break;case a.m.E:this.ellipseTransform(o,e,i,r,n);break;case a.m.R:this.rectTransform(o,e,i,r,n);break;case a.m.AT:this.arcToTransform(o,e,i,r,n);break;case a.m.Z:this.closePath()}}else this.commandList=t.map(t=>t.slice())}_updateBounds(){this.bounds.clear(),(0,c.h)(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===h.Nm.COLUMN){if(!this._curves.length)return 0;let t=this._curves[0],e=this._curves[this._curves.length-1];return(0,o.Wn)(t.p0.y-e.p1.y)}if(this.direction===h.Nm.ROW){if(!this._curves.length)return 0;let t=this._curves[0],e=this._curves[this._curves.length-1];return(0,o.Wn)(t.p0.x-e.p1.x)}return this._curves.reduce((t,e)=>t+e.getLength(),0)}getYAt(t){if(!this.curves)return 1/0;for(let e=0;e<this.curves.length;e++){let i=this.curves[e];if(i.includeX(t))return i.getYAt(t)}return 1/0}getAttrAt(t){if(!this._curves)return{pos:{x:0,y:0},angle:0};let e,i=0;for(let r=0;r<this._curves.length;r++){let n=(e=this._curves[r]).getLength(this.direction);if(i+n>=t)break;i+=n}let r=(t-i)/e.getLength(this.direction);return{pos:e.getPointAt(r),angle:e.getAngleAt(r)}}drawWithClipRange(t,e,i,r,n){this.tryBuildCurves();let s=this.getLength()*n,a=0;for(let n=0;n<this._curves.length;n++){let o=this._curves[n],h=o.getLength(this.direction);if(!(a+h<=s)){let n=1-(a+h-s)/h;o.draw(t,i,r,e,e,n);break}o.draw(t,i,r,e,e,1),a+=h}}}let b=["l",0,0,0,0,0,0,0]},42888:function(t,e,i){i.d(e,{H:()=>n});var r=i(475133);function n(t,e,i){let n={};for(let i in e)i in t&&(0,r.X)(t[i],e[i])||(n[i]=e[i]);if(i){for(let r in t)if(!(r in e)){let t=i(r);void 0!==t&&(n[r]=t)}}return n}},916905:function(t,e,i){var r,n,s,a,o,h,l,u,c,d,f,g;i.d(e,{D5:()=>o,Gk:()=>s,Gz:()=>r,LZ:()=>n,Nm:()=>a,Oh:()=>h}),(l=r||(r={}))[l.NONE=0]="NONE",l[l.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",l[l.UPDATE_SHAPE=2]="UPDATE_SHAPE",l[l.CLEAR_SHAPE=253]="CLEAR_SHAPE",l[l.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",l[l.INIT=179]="INIT",l[l.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",l[l.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",l[l.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",l[l.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",l[l.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",l[l.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",l[l.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",l[l.CLEAR_LAYOUT=127]="CLEAR_LAYOUT",(u=n||(n={}))[u.GLOBAL=1]="GLOBAL",u[u.LOCAL=16]="LOCAL",u[u.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",u[u.LOCAL_ACCURATE=48]="LOCAL_ACCURATE",(c=s||(s={}))[c.INIT=0]="INIT",c[c.DEFAULT=1]="DEFAULT",c[c.STATE=2]="STATE",c[c.ANIMATE_BIND=10]="ANIMATE_BIND",c[c.ANIMATE_PLAY=11]="ANIMATE_PLAY",c[c.ANIMATE_START=12]="ANIMATE_START",c[c.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",c[c.ANIMATE_END=14]="ANIMATE_END",c[c.TRANSLATE=20]="TRANSLATE",c[c.TRANSLATE_TO=21]="TRANSLATE_TO",c[c.SCALE=22]="SCALE",c[c.SCALE_TO=23]="SCALE_TO",c[c.ROTATE=24]="ROTATE",c[c.ROTATE_TO=25]="ROTATE_TO",(d=a||(a={}))[d.ROW=1]="ROW",d[d.COLUMN=2]="COLUMN",(f=o||(o={}))[f.CubicBezierCurve=0]="CubicBezierCurve",f[f.QuadraticBezierCurve=1]="QuadraticBezierCurve",f[f.ArcCurve=2]="ArcCurve",f[f.LineCurve=3]="LineCurve",f[f.EllipseCurve=4]="EllipseCurve",f[f.MoveCurve=5]="MoveCurve",(g=h||(h={}))[g.beforeFillStroke=0]="beforeFillStroke",g[g.afterFillStroke=1]="afterFillStroke"},278875:function(t,e,i){i.d(e,{w:()=>r});class r{constructor(){this._listenerMap=new Map,this._eventListenerTransformer=t=>t}setEventListenerTransformer(t){this._eventListenerTransformer=t||(t=>t)}addEventListener(t,e,i){if(!e)return;let r=t=>{let i=this._eventListenerTransformer(t);"function"==typeof e?e(i):e.handleEvent&&e.handleEvent(i)};this._listenerMap.has(t)||this._listenerMap.set(t,new Map),this._listenerMap.get(t).set(e,r),this._nativeAddEventListener(t,r,i)}removeEventListener(t,e,i){var r;if(!e)return;let n=null==(r=this._listenerMap.get(t))?void 0:r.get(e);n&&(this._nativeRemoveEventListener(t,n,i),this._listenerMap.get(t).delete(e),0===this._listenerMap.get(t).size&&this._listenerMap.delete(t))}dispatchEvent(t){return this._nativeDispatchEvent(t)}clearAllEventListeners(){this._listenerMap.forEach((t,e)=>{t.forEach((t,i)=>{this._nativeRemoveEventListener(e,t,void 0)})}),this._listenerMap.clear()}_nativeAddEventListener(t,e,i){throw Error("_nativeAddEventListener must be implemented by derived classes")}_nativeRemoveEventListener(t,e,i){throw Error("_nativeRemoveEventListener must be implemented by derived classes")}_nativeDispatchEvent(t){throw Error("_nativeDispatchEvent must be implemented by derived classes")}}},203922:function(t,e,i){i.d(e,{R:()=>r});class r{static GenAutoIncrementId(){return r.auto_increment_id++}}r.auto_increment_id=0},458943:function(t,e,i){i.d(e,{f:()=>n});var r=i(663795);let n=(0,i(371421).v)(r.B8)},371421:function(t,e,i){i.d(e,{f:()=>a,v:()=>o});var r=i(575938),n=i(663795),s=i(128685);function a(t){return(e,i,r)=>{var a,o;let h,l;a=n.LD,o=r.toString(),h={},s.Z.hasOwnMetadata(a,e)&&(h=s.Z.getMetadata(a,e)),void 0===(l=h[o])&&(l=[]),l.push(t),h[o]=l,s.Z.defineMetadata(a,h,e)}}function o(t){return e=>(i,n,s)=>a(new r.S(t,e))(i,n,s)}},360309:function(t,e,i){i.d(e,{b:()=>s});var r=i(663795),n=i(128685);function s(){return function(t){return n.Z.defineMetadata(r.FL,null,t),t}}},125411:function(t,e,i){i.d(e,{n:()=>n});var r=i(663795);let n=(0,i(371421).v)(r.Lc)},759311:function(t,e,i){i.d(e,{t:()=>a});var r=i(575938),n=i(663795),s=i(371421);function a(t){return(0,s.f)(new r.S(n.vO,t))}},263457:function(t,e,i){i.d(e,{n:()=>n});var r=i(203922);class n{constructor(t){this.id=r.R.GenAutoIncrementId(),this.registry=t}}},575938:function(t,e,i){i.d(e,{S:()=>n});var r=i(663795);class n{constructor(t,e){this.key=t,this.value=e}toString(){return this.key===r.vO?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}},663795:function(t,e,i){i.d(e,{B8:()=>n,FL:()=>o,LD:()=>a,Lc:()=>s,vO:()=>r});let r="named",n="inject",s="multi_inject",a="inversify:tagged",o="inversify:paramtypes"},795069:function(t,e,i){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function n(t,e,i){let r=Math.sin(i),n=Math.cos(i),s=e[4],a=e[5],o=e[6],h=e[7],l=e[8],u=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*n+l*r,t[5]=a*n+u*r,t[6]=o*n+c*r,t[7]=h*n+d*r,t[8]=l*n-s*r,t[9]=u*n-a*r,t[10]=c*n-o*r,t[11]=d*n-h*r,t}function s(t,e,i){let r=Math.sin(i),n=Math.cos(i),s=e[0],a=e[1],o=e[2],h=e[3],l=e[8],u=e[9],c=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n-l*r,t[1]=a*n-u*r,t[2]=o*n-c*r,t[3]=h*n-d*r,t[8]=s*r+l*n,t[9]=a*r+u*n,t[10]=o*r+c*n,t[11]=h*r+d*n,t}function a(t,e,i){let r=Math.sin(i),n=Math.cos(i),s=e[0],a=e[1],o=e[2],h=e[3],l=e[4],u=e[5],c=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n+l*r,t[1]=a*n+u*r,t[2]=o*n+c*r,t[3]=h*n+d*r,t[4]=l*n-s*r,t[5]=u*n-a*r,t[6]=c*n-o*r,t[7]=d*n-h*r,t}function o(t,e,i){let r,n,s,a,o,h,l,u,c,d,f,g,p=i[0],v=i[1],m=i[2];return e===t?(t[12]=e[0]*p+e[4]*v+e[8]*m+e[12],t[13]=e[1]*p+e[5]*v+e[9]*m+e[13],t[14]=e[2]*p+e[6]*v+e[10]*m+e[14],t[15]=e[3]*p+e[7]*v+e[11]*m+e[15]):(r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],g=e[11],t[0]=r,t[1]=n,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=f,t[11]=g,t[12]=r*p+o*v+c*m+e[12],t[13]=n*p+h*v+d*m+e[13],t[14]=s*p+l*v+f*m+e[14],t[15]=a*p+u*v+g*m+e[15]),t}function h(t,e){t[0]=e.a,t[1]=e.b,t[2]=0,t[3]=0,t[4]=e.c,t[5]=e.d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e.e,t[13]=e.f,t[14]=0,t[15]=1}function l(t,e,i){let r=i[0],n=i[1],s=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function u(t,e,i){let r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],g=e[11],p=e[12],v=e[13],m=e[14],_=e[15],x=i[0],y=i[1],b=i[2],w=i[3];return t[0]=x*r+y*o+b*c+w*p,t[1]=x*n+y*h+b*d+w*v,t[2]=x*s+y*l+b*f+w*m,t[3]=x*a+y*u+b*g+w*_,x=i[4],y=i[5],b=i[6],w=i[7],t[4]=x*r+y*o+b*c+w*p,t[5]=x*n+y*h+b*d+w*v,t[6]=x*s+y*l+b*f+w*m,t[7]=x*a+y*u+b*g+w*_,x=i[8],y=i[9],b=i[10],w=i[11],t[8]=x*r+y*o+b*c+w*p,t[9]=x*n+y*h+b*d+w*v,t[10]=x*s+y*l+b*f+w*m,t[11]=x*a+y*u+b*g+w*_,x=i[12],y=i[13],b=i[14],w=i[15],t[12]=x*r+y*o+b*c+w*p,t[13]=x*n+y*h+b*d+w*v,t[14]=x*s+y*l+b*f+w*m,t[15]=x*a+y*u+b*g+w*_,t}function c(t,e,i){let r=e[0],n=e[1],s=e[2],a=i[3]*r+i[7]*n+i[11]*s+i[15];return a=a||1,t[0]=(i[0]*r+i[4]*n+i[8]*s+i[12])/a,t[1]=(i[1]*r+i[5]*n+i[9]*s+i[13])/a,t[2]=(i[2]*r+i[6]*n+i[10]*s+i[14])/a,t}i.d(e,{B$:()=>h,G9:()=>u,Iu:()=>o,TL:()=>r,fF:()=>c,jI:()=>a,lM:()=>n,mN:()=>l,uD:()=>s})},740181:function(t,e,i){let r,n,s,a,o;i.d(e,{U:()=>c,m:()=>u});let h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},u={A:0,AT:1,C:2,Z:3,E:4,L:5,M:6,Q:7,R:8};function c(t){let e,i;if(!t)return[];let u=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(null===u)return[];let c=[];for(let t=0,d=u.length;t<d;t++)if(n=(r=u[t]).slice(1),e=[s=r[0]],null!==(i=n.match(h))){for(let t=0,r=i.length;t<r;t++)Number.isNaN(a=parseFloat(i[t]))||e.push(a);if(o=l[s],e.length-1>o){let t,i=s;for(let r=1,n=e.length;r<n;r+=o){t=[i];for(let i=r,n=r+o;i<n;i++)t.push(e[i]);c.push(t),"m"===i?i="l":"M"===i&&(i="L")}}else c.push(e)}else c.push(e);return c}},393661:function(t,e,i){i.d(e,{A:()=>s});var r=i(509257);let n=0;class s{constructor(){this.nextAnimationFrameCbs=new Map,this._rafHandle=null,this.runAnimationFrame=t=>{this._rafHandle=null;let e=this.nextAnimationFrameCbs;this.nextAnimationFrameCbs=new Map,e.forEach(e=>e(t))},this.tryRunAnimationFrameNextFrame=()=>{null===this._rafHandle&&0!==this.nextAnimationFrameCbs.size&&(this._rafHandle=r.w.global.getRequestAnimationFrame()(this.runAnimationFrame))}}addAnimationFrameCb(t){return this.nextAnimationFrameCbs.set(++n,t),this.tryRunAnimationFrameNextFrame(),n}removeAnimationFrameCb(t){return!!this.nextAnimationFrameCbs.has(t)&&(this.nextAnimationFrameCbs.delete(t),!0)}}},974579:function(t,e,i){function r(t,e,i,r){if(e&&e.length){t.moveTo(e[0].x+i,e[0].y+r);for(let n=1;n<e.length;n++)t.lineTo(e[n].x+i,e[n].y+r)}}function n(t,e,i,o,h,l=!0){var u;if(e.length<3)return void r(t,e,i,o);let c=0,d=e.length-1;l||(c+=1,d-=1,t.moveTo(e[0].x+i,e[0].y+o));for(let r=c;r<=d;r++){let n=e[0===r?d:(r-1)%e.length],l=e[r%e.length],c=e[(r+1)%e.length],f=l.x-n.x,g=l.y-n.y,p=l.x-c.x,v=l.y-c.y,m=Math.abs(Math.tan((Math.atan2(g,f)-Math.atan2(v,p))/2)),_=Array.isArray(h)?null!=(u=h[r%e.length])?u:0:h,x=_/m,y=s(f,g),b=s(p,v),w=Math.min(y,b);x>w&&(x=w,_=w*m);let T=a(l,x,y,f,g),C=a(l,x,b,p,v),A=2*l.x-T.x-C.x,E=2*l.y-T.y-C.y,L=s(A,E),M=a(l,s(x,_),L,A,E),S=Math.atan2(T.y-M.y,T.x-M.x),B=Math.atan2(C.y-M.y,C.x-M.x),R=B-S;R<0&&(S=B,R=-R),R>Math.PI&&(R-=Math.PI),0===r?t.moveTo(T.x+i,T.y+o):t.lineTo(T.x+i,T.y+o),R&&t.arcTo(l.x+i,l.y+o,C.x+i,C.y+o,_),t.lineTo(C.x+i,C.y+o)}l||t.lineTo(e[d+1].x+i,e[d+1].y+o)}function s(t,e){return Math.sqrt(t*t+e*e)}function a(t,e,i,r,n){let s=e/i;return{x:t.x-r*s,y:t.y-n*s}}i.d(e,{i:()=>r,k:()=>n})},58174:function(t,e,i){i.d(e,{p:()=>n});var r=i(454326);let n=t=>{if(!t)return{x:0,y:0,width:0,height:0};let e=(0,r.Z)(t.width)?t.x1-t.x:t.width,i=(0,r.Z)(t.height)?t.y1-t.y:t.height,n=0,s=0;return e<0?(n=e,e=-e):Number.isNaN(e)&&(e=0),i<0?(s=i,i=-i):Number.isNaN(i)&&(i=0),{x:n,y:s,width:e,height:i}}},124407:function(t,e,i){i.d(e,{y:()=>h});var r=i(408830),n=i(916905),s=i(51008),a=i(38916),o=i(1330);function h(t,e,i,o){var h;let{top:u,bottom:c}=e;if(u.curves.length!==c.curves.length)return;if(i>=1){let e=[],i=[],r=!0;for(let n=0,s=u.curves.length;n<s;n++){let a=u.curves[n];r!==a.defined?(r?(l(t,e,i,o),e.length=0,i.length=0):(e.push(a),i.push(c.curves[s-n-1])),r=!r):r&&(e.push(a),i.push(c.curves[s-n-1]))}return void l(t,e,i,o)}if(i<=0)return;let{direction:d}=o||{},{curves:f}=u,g=null!=(h=f[f.length-1].p3)?h:f[f.length-1].p1,p=(0,r.Wn)(g.x-f[0].p0.x),v=(0,r.Wn)(g.y-f[0].p0.y);d=null!=d?d:p>v?n.Nm.ROW:n.Nm.COLUMN,Number.isFinite(p)||(d=n.Nm.COLUMN),Number.isFinite(v)||(d=n.Nm.ROW);let m=i*(d===n.Nm.ROW?p:v),_=0,x=!0,y=[],b=[];for(let e=0,i=u.curves.length;e<i;e++){let r=u.curves[e],n=r.getLength(d),h=(m-_)/n;if(h<0)break;_+=n;let f=null,g=null;x!==r.defined?(x?(l(t,y,b,o),y.length=0,b.length=0):(f=r,g=c.curves[i-e-1]),x=!x):x&&(f=r,g=c.curves[i-e-1]),f&&g&&(h<1&&(f=f.p2&&f.p3?(0,s.m)(f,h)[0]:(0,a.d)(f,h)[0],g=g.p2&&g.p3?(0,s.m)(g,1-h)[1]:(0,a.d)(g,1-h)[1]),f.defined=x,g.defined=x,y.push(f),b.push(g)),f=null,g=null}l(t,y,b,o)}function l(t,e,i,r){let{offsetX:n=0,offsetY:s=0,offsetZ:a=0}=r||{},h=!0;e.forEach(e=>{e.defined?(h&&t.moveTo(e.p0.x+n,e.p0.y+s,a),(0,o.w)(t,e,1,r),h=!1):h=!0}),h=!0;for(let e=i.length-1;e>=0;e--){let l=i[e];l.defined?(h&&t.lineTo(l.p0.x+n,l.p0.y+s,a),(0,o.w)(t,l,1,r),h=!1):h=!0}t.closePath()}},798043:function(t,e,i){i.d(e,{h:()=>n});let r=[(t,e,i,r,n,s,a)=>e.arc(t[1]*n+i,t[2]*s+r,t[3]*(n+s)/2,t[4],t[5],t[6],a),(t,e,i,r,n,s,a)=>e.arcTo(t[1]*n+i,t[2]*s+r,t[3]*n+i,t[4]*s+r,t[5]*(n+s)/2,a),(t,e,i,r,n,s,a)=>e.bezierCurveTo(t[1]*n+i,t[2]*s+r,t[3]*n+i,t[4]*s+r,t[5]*n+i,t[6]*s+r,a),(t,e,i,r)=>e.closePath(),(t,e,i,r,n,s)=>e.ellipse(t[1]*n+i,t[2]*s+r,t[3]*n,t[4]*s,t[5],t[6],t[7],t[8]),(t,e,i,r,n,s,a)=>e.lineTo(t[1]*n+i,t[2]*s+r,a),(t,e,i,r,n,s,a)=>e.moveTo(t[1]*n+i,t[2]*s+r,a),(t,e,i,r,n,s,a)=>e.quadraticCurveTo(t[1]*n+i,t[2]*s+r,t[3]*n+i,t[4]*s+r,a),(t,e,i,r,n,s,a)=>e.rect(t[1]*n+i,t[2]*s+r,t[3]*n,t[4]*s,a)];function n(t,e,i=0,s=0,a=1,o=1,h){for(let n=0;n<t.length;n++){let l=t[n];r[l[0]](l,e,i,s,a,o,h)}}},20778:function(t,e,i){i.d(e,{V3:()=>h,fW:()=>o,hJ:()=>l});var r=i(408830),n=i(916905),s=i(1330);function a(t,e,i,r,n,s,a){var o;let h=e.p0,l=r;if(i&&i.originP1===i.originP2&&(h=i.p0),e.defined)r||(t.lineTo(h.x+n,h.y+s,a),l=!r);else{let u,{originP1:c,originP2:d}=e;if(c&&!1!==c.defined&&!i?u=h:c&&!1!==d.defined&&(u=null!=(o=e.p3)?o:e.p1),r){l=!r;let i=u?u.x:e.p0.x,o=u?u.y:e.p0.y;t.moveTo(i+n,o+s,a)}else u&&(l=!r,t.lineTo(u.x+n,u.y+s,a))}return l}function o(t,e,i,o,h){let l,{offsetX:u=0,offsetY:c=0,offsetZ:d=0,mode:f="none",drawConnect:g=!1}=h||{};if(g&&"none"===f||!e)return;let p=!0,{curves:v}=e;if(i>=1){if(g){let e,i=!0;v.forEach((r,n)=>{r.originP1!==r.originP2&&(i=a(t,r,e,i,u,c,d)),e=r})}else v.forEach(e=>{e.defined?(p&&t.moveTo(e.p0.x+u,e.p0.y+c,d),(0,s.w)(t,e,1,h),p=!1):p=!0});return}if(i<=0)return;"x"===o?l=n.Nm.ROW:"y"===o?l=n.Nm.COLUMN:"auto"===o&&(l=e.direction);let m=i*e.tryUpdateLength(l),_=0,x=!0,y=null;for(let e=0,i=v.length;e<i;e++){let i=v[e],n=i.getLength(l),o=(m-_)/n;if(_+=n,o<0)break;if(g){if(i.originP1===i.originP2){y=i;continue}x=a(t,i,y,x,u,c,d),y=i}else{if(!i.defined){p=!0;continue}p&&t.moveTo(i.p0.x+u,i.p0.y+c,d),(0,s.w)(t,i,(0,r.VV)(o,1),h),p=!1}}}function h(t,e,i,r){let{offsetX:n=0,offsetY:s=0}=r||{},a=e?e.points[e.points.length-1]:i.points[0];t.moveTo(a.x+n,a.y+s),i.points.forEach(e=>{!1!==e.defined?t.lineTo(e.x+n,e.y+s):t.moveTo(e.x+n,e.y+s)})}function l(t,e,i,r){let{offsetX:n=0,offsetY:s=0}=r||{},{points:a}=i,o=[],h=0;for(let t=0;t<a.length;t++)!1===a[t].defined&&(h+1!==t&&o.slice(h,t),h=t);o.push(a),o.forEach((i,r)=>{var a,o,h,l;let u=e&&0===r?e.points[e.points.length-1]:i[0];t.moveTo(u.x+n,u.y+s),i.forEach(e=>{!1!==e.defined?t.lineTo(e.x+n,e.y+s):t.moveTo(e.x+n,e.y+s)});for(let e=i.length-1;e>=0;e--){let r=i[e];t.lineTo(null!=(a=r.x1)?a:r.x,null!=(o=r.y1)?o:r.y)}t.lineTo(null!=(h=u.x1)?h:u.x,null!=(l=u.y1)?l:u.y),t.closePath()})}},1330:function(t,e,i){i.d(e,{w:()=>n});var r=i(51008);function n(t,e,i,n){if(!e.p1)return;let{offsetX:s=0,offsetY:a=0,offsetZ:o=0}=n||{};if(1===i)e.p2&&e.p3?t.bezierCurveTo(s+e.p1.x,a+e.p1.y,s+e.p2.x,a+e.p2.y,s+e.p3.x,a+e.p3.y,o):t.lineTo(s+e.p1.x,a+e.p1.y,o);else if(e.p2&&e.p3){let[n]=(0,r.m)(e,i);t.bezierCurveTo(s+n.p1.x,a+n.p1.y,s+n.p2.x,a+n.p2.y,s+n.p3.x,a+n.p3.y,o)}else{let r=e.getPointAt(i);t.lineTo(s+r.x,a+r.y,o)}}},47963:function(t,e,i){i.d(e,{H:()=>r});class r{getLength(t){return null!=t?this.calcProjLength(t):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}},51008:function(t,e,i){i.d(e,{A:()=>l,m:()=>h});var r=i(919498),n=i(408830),s=i(47963),a=i(916905),o=i(681639);function h(t,e){let{p0:i,p1:n,p2:s,p3:a}=t,h=(0,o.P)(i,n,s,a,e),u=r.HL.pointAtPP(i,n,e),c=r.HL.pointAtPP(n,s,e),d=r.HL.pointAtPP(s,a,e),f=r.HL.pointAtPP(u,c,e),g=r.HL.pointAtPP(c,d,e);return[new l(i,u,f,h),new l(h,g,d,a)]}class l extends s.H{constructor(t,e,i,r){super(),this.type=a.D5.CubicBezierCurve,this.p0=t,this.p1=e,this.p2=i,this.p3=r}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(t){if(!1!==this.defined)return(0,o.P)(this.p0,this.p1,this.p2,this.p3,t);throw Error("defined\u4E3Afalse\u7684\u70B9\u4E0D\u80FDgetPointAt")}calcLength(){return this._validPoint()?(0,o.Ci)(this.p0,this.p1,this.p2,this.p3,0):60}calcProjLength(t){return t===a.Nm.ROW?(0,n.Wn)(this.p0.x-this.p3.x):t===a.Nm.COLUMN?(0,n.Wn)(this.p0.y-this.p3.y):0}getAngleAt(t){let e=(0,n.Fp)(t-.01,0),i=(0,n.VV)(t+.01,1),r=this.getPointAt(e),s=this.getPointAt(i);return(0,n.fv)(s.y-r.y,s.x-r.x)}draw(t,e,i,r,n,s){if(t.moveTo(this.p0.x*r+e,this.p0.y*n+i),s>=1)t.bezierCurveTo(this.p1.x*r+e,this.p1.y*n+i,this.p2.x*r+e,this.p2.y*n+i,this.p3.x*r+e,this.p3.y*n+i);else if(s>0){let[a]=h(this,s);t.bezierCurveTo(a.p1.x*r+e,a.p1.y*n+i,a.p2.x*r+e,a.p2.y*n+i,a.p3.x*r+e,a.p3.y*n+i)}}includeX(t){let e=(0,n.VV)(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=(0,n.Fp)(this.p0.x,this.p1.x,this.p2.x,this.p3.x);return t>=e&&t<=i}getYAt(t){let e=(0,n.VV)(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=(t-e)/((0,n.Fp)(this.p0.x,this.p1.x,this.p2.x,this.p3.x)-e);return this.getPointAt(i).y}}},38916:function(t,e,i){i.d(e,{d:()=>o,g:()=>h});var r=i(919498),n=i(408830),s=i(47963),a=i(916905);function o(t,e){let{p0:i,p1:n}=t,s=r.HL.pointAtPP(i,n,e);return[new h(i,s),new h(s,n)]}class h extends s.H{constructor(t,e){super(),this.type=a.D5.LineCurve,this.p0=t,this.p1=e}getPointAt(t){if(!1!==this.defined)return r.HL.pointAtPP(this.p0,this.p1,t);throw Error("defined\u4E3Afalse\u7684\u70B9\u4E0D\u80FDgetPointAt")}getAngleAt(t){return null==this.angle&&(this.angle=(0,n.fv)(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?r.HL.distancePP(this.p0,this.p1):60}calcProjLength(t){return t===a.Nm.ROW?(0,n.Wn)(this.p0.x-this.p1.x):t===a.Nm.COLUMN?(0,n.Wn)(this.p0.y-this.p1.y):0}draw(t,e,i,r,n,s){if(t.moveTo(this.p0.x*r+e,this.p0.y*n+i),s>=1)t.lineTo(this.p1.x*r+e,this.p1.y*n+i);else if(s>0){let a=this.getPointAt(s);t.lineTo(a.x*r+e,a.y*n+i)}}includeX(t){return t>=this.p0.x&&t<=this.p1.x||t>=this.p1.x&&t<=this.p0.x}getYAt(t){if(this.includeX(t)){let e=this.p0,i=this.p1;this.p0.x>this.p1.x&&(e=this.p1,i=this.p0);let r=(t-e.x)/(i.x-e.x);return e.y+r*(i.y-e.y)}return 1/0}}},535427:function(t,e,i){i.d(e,{X0:()=>S});var r=i(408830),n=i(919498),s=i(916905),a=i(51008),o=i(38916);class h{get endX(){return this._lastX}get endY(){return this._lastY}constructor(t,e){this.init(t,e)}init(t,e){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=t,this.direction=e,this.curves=[]}bezierCurveTo(t,e,i,r,s,o,h,l){let u=new a.A(new n.E9(this._lastX,this._lastY),new n.E9(t,e),new n.E9(i,r),new n.E9(s,o));u.originP1=this._lastOriginP,u.originP2=l,u.defined=h,this.curves.push(u),this._lastX=s,this._lastY=o,this._lastOriginP=l}closePath(){if(this.curves.length<2)return;let t=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,t.defined,this._startOriginP)}ellipse(){throw Error("SegContext\u4E0D\u652F\u6301\u8C03\u7528ellipse")}lineTo(t,e,i,r){let n=this.addLinearCurve(t,e,i,this._lastOriginP,r);this.curves.push(n),this._lastX=t,this._lastY=e,this._lastOriginP=r}moveTo(t,e,i){return this._lastX=this._startX=t,this._lastY=this._startY=e,this._lastOriginP=i,this._startOriginP=i,this}quadraticCurveTo(t,e,i,r){throw Error("SegContext\u4E0D\u652F\u6301\u8C03\u7528quadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(t){return this.getLength(t)}addLinearCurve(t,e,i,r,s){let a=new o.g(new n.E9(this._lastX,this._lastY),new n.E9(t,e));return a.originP1=r,a.originP2=s,a.defined=i,a}getPointAt(t){throw Error("\u6682\u672A\u5B9E\u73B0")}getCurveLengths(){return[]}getLength(t){var e,i;if(t===s.Nm.COLUMN){if(!this.curves.length)return 0;let t=this.curves[0],i=this.curves[this.curves.length-1],n=null!=(e=i.p3)?e:i.p1;return(0,r.Wn)(t.p0.y-n.y)}if(t===s.Nm.ROW){if(!this.curves.length)return 0;let t=this.curves[0],e=this.curves[this.curves.length-1],n=null!=(i=e.p3)?i:e.p1;return(0,r.Wn)(t.p0.x-n.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce((t,e)=>t+e.getLength(),0)),this.length}}class l extends h{bezierCurveTo(t,e,i,r,n,s,a,o){return super.bezierCurveTo(e,t,r,i,s,n,a,o)}lineTo(t,e,i,r){return super.lineTo(e,t,i,r)}moveTo(t,e,i){return super.moveTo(e,t,i)}clear(){return super.clear()}}function u(t,e,i=1){let r=!1;for(let i=0,n=e.length;i<=n;i++)i>=n===r&&((r=!r)?t.lineStart():t.lineEnd()),r&&t.point(e[i])}function c(t,e,i){let n=null!=e?e:(0,r.Wn)(i[i.length-1].x-i[0].x)>(0,r.Wn)(i[i.length-1].y-i[0].y)?s.Nm.ROW:s.Nm.COLUMN;return"monotoneY"===t?new l(t,n):new h(t,n)}class d{constructor(t,e){this.context=t,e&&(this.startPoint=e)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){let e=t.x,i=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,i,!1!==this._lastDefined&&!1!==t.defined,t):this.context.moveTo(e,i,t);break;case 1:this._point=2;default:this.context.lineTo(e,i,!1!==this._lastDefined&&!1!==t.defined,t)}this._lastDefined=t.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function f(t,e={}){let{direction:i,startPoint:r}=e;if(t.length<2-Number(!!r))return null;let n=c("linear",i,t);return u(new d(n,r),t,1),n}function g(t,e,i,r,n){t.context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6,r,t.lastPoint1)}class p{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){2===this._point&&g(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){let e=t.x,i=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,t):this.context.moveTo(e,i,t);break;case 1:this._point=2;break;default:g(this,e,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}function v(t,e,i){let r=t._x1-t._x0,n=e-t._x1,s=(t._y1-t._y0)/(r||Number(n<0&&-0)),a=(i-t._y1)/(n||Number(r<0&&-0));return((s<0?-1:1)+(a<0?-1:1))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs((s*n+a*r)/(r+n)))||0}function m(t,e){let i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function _(t,e,i,r,n){let s=t._x0,a=t._y0,o=t._x1,h=t._y1,l=(o-s)/3;t.context.bezierCurveTo(s+l,a+l*e,o-l,h-l*i,o,h,r,t.lastPoint1)}class x{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:_(this,this._t0,m(this,this._t0),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1)}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){let e=NaN,i=t.x,r=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(i,r,!1!==this._lastDefined1&&!1!==this._lastDefined2,t):this.context.moveTo(i,r,t);break;case 1:this._point=2;break;case 2:this._point=3,_(this,m(this,e=v(this,i,r)),e,!1!==this._lastDefined1&&!1!==this._lastDefined2,t);break;default:_(this,this._t0,e=v(this,i,r),!1!==this._lastDefined1&&!1!==this._lastDefined2,t)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=r,this._t0=e,this._lastDefined1=this._lastDefined2,this._lastDefined2=!1!==t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}class y extends x{constructor(t,e){super(t,e)}point(t){return super.point({y:t.x,x:t.y,defined:t.defined})}}class b{constructor(t,e=.5,i){this.context=t,this._t=e,this.startPoint=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&2===this._point&&this.context.lineTo(this._x,this._y,!1!==this._lastDefined,this.lastPoint),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(t){let e=t.x,i=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,i,!1!==this._lastDefined&&!1!==t.defined,t):this.context.moveTo(e,i,t);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,i,!1!==this._lastDefined&&!1!==t.defined,this.lastPoint),this.context.lineTo(e,i,!1!==this._lastDefined&&!1!==t.defined,t);else{let r=this._x*(1-this._t)+e*this._t;.5===this._t?this.context.lineTo(r,this._y,!1!==this._lastDefined,this.lastPoint):this.context.lineTo(r,this._y,!1!==this._lastDefined&&!1!==t.defined,this.lastPoint),this.context.lineTo(r,i,!1!==this._lastDefined&&!1!==t.defined,t)}}this._lastDefined=t.defined,this._x=e,this._y=i,this.lastPoint=t}tryUpdateLength(){return this.context.tryUpdateLength()}}class w extends b{lineEnd(){this.context.closePath()}}function T(t,e,i={}){let{direction:n,startPoint:a}=i;if(t.length<2-Number(!!a))return null;let o=new h("step",null!=n?n:(0,r.Wn)(t[t.length-1].x-t[0].x)>(0,r.Wn)(t[t.length-1].y-t[0].y)?s.Nm.ROW:s.Nm.COLUMN);return u(new b(o,e,a),t,1),o}class C extends d{lineEnd(){this.context.closePath()}}function A(t,e,i,n,s){let a=t._x1,o=t._y1,h=t._x2,l=t._y2;if(t._l01_a>r.Ho){let e=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,i=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*e-t._x0*t._l12_2a+t._x2*t._l01_2a)/i,o=(o*e-t._y0*t._l12_2a+t._y2*t._l01_2a)/i}if(t._l23_a>r.Ho){let r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,n=3*t._l23_a*(t._l23_a+t._l12_a);h=(h*r+t._x1*t._l23_2a-e*t._l12_2a)/n,l=(l*r+t._y1*t._l23_2a-i*t._l12_2a)/n}t.context.bezierCurveTo(a,o,h,l,t._x2,t._y2,n,t.lastPoint1)}function E(t,e){return function(i,r,n={}){let{direction:s,startPoint:a}=n;if(i.length<2-Number(!!a))return null;if(i.length<3-Number(!!a))return f(i,n);let o=c(t,s,i);return u(new e(o,r,a),i,2),o}}let L=E("catmullRom",class{constructor(t,e=.5,i){this.context=t,this.startPoint=i,this._alpha=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x2,this._y2,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:this.point({x:this._x2,y:this._y2})}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){let{x:e,y:i}=t;if(this._point){let t=this._x2-e,r=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,i,!1!==this._lastDefined1&&!1!==this._lastDefined2):this.context.moveTo(e,i);break;case 1:this._point=2;break;case 2:this._point=3;default:A(this,e,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}),M=E("catmullRomClosed",class{constructor(t,e=.5,i){this.context=t,this.startPoint=i,this._alpha=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 1:this.context.moveTo(this._x3,this._y3,this.lastPoint1),this.context.closePath();break;case 2:this.context.lineTo(this._x3,this._y3,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),this.context.closePath();break;case 3:this.point({x:this._x3,y:this._y3}),this.point({x:this._x4,y:this._y4}),this.point({x:this._x5,y:this._y5})}}point(t){let{x:e,y:i}=t;if(this._point){let t=this._x2-e,r=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=i;break;case 1:this._point=2,this.context.moveTo(this._x4=e,this._y4=i,t);break;case 2:this._point=3,this._x5=e,this._y5=i;break;default:A(this,e,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}});function S(t,e,i){var n,a;switch(e){case"linear":default:return f(t,i);case"basis":return function(t,e={}){let{direction:i,startPoint:r}=e;if(t.length<2-Number(!!r))return null;if(t.length<3-Number(!!r))return f(t,e);let n=c("basis",i,t);return u(new p(n,r),t,2),n}(t,i);case"monotoneX":return function(t,e={}){let{direction:i,startPoint:r}=e;if(t.length<2-Number(!!r))return null;if(t.length<3-Number(!!r))return f(t,e);let n=c("monotoneX",i,t);return u(new x(n,r),t,2),n}(t,i);case"monotoneY":return function(t,e={}){let{direction:i,startPoint:r}=e;if(t.length<2-Number(!!r))return null;if(t.length<3-Number(!!r))return f(t,e);let n=c("monotoneY",i,t);return u(new y(n,r),t,2),n}(t,i);case"step":return T(t,.5,i);case"stepClosed":return function(t,e,i={}){let{direction:n,startPoint:a}=i;if(t.length<2-Number(!!a))return null;let o=new h("step",null!=n?n:(0,r.Wn)(t[t.length-1].x-t[0].x)>(0,r.Wn)(t[t.length-1].y-t[0].y)?s.Nm.ROW:s.Nm.COLUMN);return u(new w(o,.5,a),t,1),o}(t,0,i);case"stepBefore":return T(t,0,i);case"stepAfter":return T(t,1,i);case"catmullRom":return L(t,null!=(n=null==i?void 0:i.curveTension)?n:.5,i);case"catmullRomClosed":return M(t,null!=(a=null==i?void 0:i.curveTension)?a:.5,i);case"linearClosed":return function(t,e={}){let{direction:i,startPoint:r}=e;if(t.length<2-Number(!!r))return null;let n=c("linear",i,t);return u(new C(n,r),t,1),n}(t,i)}}},521564:function(t,e,i){i.d(e,{U:()=>o});var r=i(408830),n=i(704654),s=i(999051);let a=r.pi/2;function o(t,e,i,h,l,u,c=!0,d){let f;if(Array.isArray(c)&&(d=c,c=!0),h<0&&(e+=h,h=-h),l<0&&(i+=l,l=-l),(0,n.Z)(u,!0))f=[u=(0,r.Wn)(u),u,u,u];else if(Array.isArray(u)){let t,e,i=u;switch(i.length){case 0:f=[0,0,0,0];break;case 1:f=[t=(0,r.Wn)(i[0]),t,t,t];break;case 2:case 3:f=[t=(0,r.Wn)(i[0]),e=(0,r.Wn)(i[1]),t,e];break;default:(f=i)[0]=(0,r.Wn)(f[0]),f[1]=(0,r.Wn)(f[1]),f[2]=(0,r.Wn)(f[2]),f[3]=(0,r.Wn)(f[3])}}else f=[0,0,0,0];if(h<0||f[0]+f[1]+f[2]+f[3]<1e-12)return t.rect(e,i,h,l);let[g,p,v,m]=[[e,i],[e+h,i],[e+h,i+l],[e,i+l]],_=Math.min(h/2,l/2),x=[Math.min(_,f[0]),Math.min(_,f[1]),Math.min(_,f[2]),Math.min(_,f[3])],y=[g[0]+x[0],g[1]],b=[g[0],g[1]+x[0]],w=[p[0]-x[1],p[1]],T=[p[0],p[1]+x[1]],C=[v[0]-x[2],v[1]],A=[v[0],v[1]-x[2]],E=[m[0]+x[3],m[1]],L=[m[0],m[1]-x[3]];if(t.moveTo(y[0],y[1]),c){if(d&&d[0]?d[0](y[0],y[1],w[0],w[1]):t.lineTo(w[0],w[1]),!(0,s.h6)(w,T)){d&&d[0]&&t.moveTo(w[0],w[1]);let e=w[0],i=w[1]+x[1];t.arc(e,i,x[1],-a,0,!1)}if(d&&d[1]?d[1](T[0],T[1],A[0],A[1]):t.lineTo(A[0],A[1]),!(0,s.h6)(C,A)){let e=A[0]-x[2],i=A[1];d&&d[1]&&t.moveTo(A[0],A[1]),t.arc(e,i,x[2],0,a,!1)}if(d&&d[2]?d[2](C[0],C[1],E[0],E[1]):t.lineTo(E[0],E[1]),!(0,s.h6)(E,L)){let e=E[0],i=E[1]-x[3];d&&d[2]&&t.moveTo(E[0],E[1]),t.arc(e,i,x[3],a,r.pi,!1)}if(d&&d[3]?d[3](L[0],L[1],b[0],b[1]):t.lineTo(b[0],b[1]),!(0,s.h6)(y,b)){let e=y[0],i=y[1]+x[0];d&&d[3]&&t.moveTo(b[0],b[1]),t.arc(e,i,x[0],r.pi,r.pi+a,!1)}}else d&&d[0]?d[0](y[0],y[1],w[0],w[1]):t.lineTo(w[0],w[1]),d&&d[1]?d[1](w[0],w[1],C[0],C[1]):t.lineTo(C[0],C[1]),d&&d[2]?d[2](C[0],C[1],E[0],E[1]):t.lineTo(E[0],E[1]),d&&d[2]?d[2](E[0],E[1],y[0],y[1]):t.lineTo(y[0],y[1]);return d||t.closePath(),t}},119761:function(t,e,i){function r(t,e,i){let r={},n=[];return t.forEachChildren(t=>{let{zIndex:i=e}=t.attribute;r[i]?r[i].push(t):(r[i]=[t],n.push(i))},i),n.sort((t,e)=>i?e-t:t-e),{childMap:r,zIdxArray:n}}function n(t,e,i,s=!1,a=!1){let o=!1;if(a)o=!0;else{let i;t.forEachChildren((t,r)=>{let{zIndex:n=e}=t.attribute;if(0===r)i=n;else if(i!==n)return o=!0,!0;return!1},s)}if(o){let{childMap:n,zIdxArray:o}=r(t,e,s),h=!1;for(let t=0;t<o.length&&!h;t++){let e=n[o[t]];a&&e.sort((t,e)=>{var i,r;return(s?-1:1)*((null!=(i=e.attribute.z)?i:0)-(null!=(r=t.attribute.z)?r:0))});for(let t=0;t<e.length;t++)if(i(e[t],t)){h=!0;break}}}else t.forEachChildren(i,s)}function s(t,e,i,r=!1){var n,a,o,h;return n=this,a=void 0,o=void 0,h=function*(){yield t.forEachChildrenAsync(i,r)},new(o||(o=Promise))(function(t,e){function i(t){try{s(h.next(t))}catch(t){e(t)}}function r(t){try{s(h.throw(t))}catch(t){e(t)}}function s(e){var n;e.done?t(e.value):((n=e.value)instanceof o?n:new o(function(t){t(n)})).then(i,r)}s((h=h.apply(n,a||[])).next())})}function a(t,e,i,n=!1){let s=!1;t.forEachChildren((t,e)=>{let{zIndex:r=i}=t.attribute;if(0===e);else if(void 0!==r)return s=!0,!0;return!1},n);let o=null,h=!1;if(s){let{childMap:s,zIdxArray:a}=r(t,i,n),l=!1;for(let t=0;t<a.length&&!l;t++){let i=s[a[t]];for(let t=0;t<i.length;t++){if(h){l=!0,o=i[t];break}i[t]._uid!==e||(h=!0)}}}else t.forEachChildren(t=>h?(o=t,!0):(t._uid===e&&(h=!0),!1),n);return o}i.d(e,{Ud:()=>s,kD:()=>n,qA:()=>a})},492859:function(t,e,i){i.d(e,{WD:()=>l,js:()=>o,nV:()=>h});var r=i(996766),n=i(454326),s=i(364776),a=i(83624);function o(t,e){return"end"===t||"right"===t?-e:"center"===t?-e/2:0}function h(t,e,i,r=0){return"middle"===t?-e/2:"top"===t?0:"bottom"===t?r-e:t&&"alphabetic"!==t?0:(i||(i=e),-(e-i)/2-.79*i)}function l(t){let e={},i=t=>/^\d+(\.\d+)?$/.test(`${t}`)?`${t}px`:`${t}`;return["textAlign","fontFamily","fontVariant","fontStyle","fontWeight"].forEach(i=>{t[i]&&(e[(0,r.Z2)(i)]=t[i])}),["fontSize","lineHeight"].forEach(s=>{let a=(0,r.Z2)(s);(0,n.Z)(t[s])||(e[a]=i(t[s]))}),(0,s.Z)(t.maxLineWidth)&&(e["max-width"]=i(t.maxLineWidth)),t.underline?e["text-decoration"]="underline":t.lineThrough&&(e["text-decoration"]="line-through"),t.fill&&(0,a.Z)(t.fill)&&(e.color=t.fill),e}},780949:function(t,e,i){i.d(e,{Dn:()=>c,SA:()=>_,VA:()=>w,dZ:()=>b,dj:()=>f,hT:()=>x,jx:()=>v,q9:()=>m});var r,n,s=i(863778),a=i(695723),o=i(408830),h=i(919498),l=i(83624);(r=n||(n={}))[r.Top=1]="Top",r[r.Right=2]="Right",r[r.Bottom=4]="Bottom",r[r.Left=8]="Left",r[r.ALL=15]="ALL";let u=[!1,!1,!1,!1],c=t=>{var e;let i=!0;if((0,s.Z)(t,!0)){for(let r=0;r<4;r++)u[r]=t,i&&(i=!(null!=(e=u[r])&&!e));i=t}else if(Array.isArray(t))for(let e=0;e<4;e++)u[e]=!!t[e],i&&(i=!!u[e]);else u[0]=!1,u[1]=!1,u[2]=!1,u[3]=!1;return{isFullStroke:i,stroke:u}},d=[0,0,0,0],f=t=>t?(0,a.Z)(t)?0===t.length?0:1===t.length?t[0]:2===t.length?(d[0]=t[0],d[2]=t[0],d[1]=t[1],d[3]=t[1],d):t:t:0,g=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],p=[1,2,3,0,1,2,3,0];function v(t,e,i,r){for(;t>=o.f7;)t-=o.f7;for(;t<0;)t+=o.f7;for(;t>e;)e+=o.f7;g[0].x=i,g[1].y=i,g[2].x=-i,g[3].y=-i;let n=Math.ceil(t/o.ou)%4,s=Math.ceil(e/o.ou)%4;if(r.add((0,o.mC)(t)*i,(0,o.O$)(t)*i),r.add((0,o.mC)(e)*i,(0,o.O$)(e)*i),n!==s||e-t>o.pi){let t=!1;for(let e=0;e<p.length;e++)if(t||n!==p[e]){if(t&&s===p[e])break;if(t){let t=g[p[e]];r.add(t.x,t.y)}}else{t=!0;let e=g[n];r.add(e.x,e.y)}}}function m(t,e,i){let{x:r,y:n}=(0,o.KU)(t.x,t.y,e.x,e.y,i),{x:s,y:a}=(0,o.KU)(t.x1,t.y1,e.x1,e.y1,i),l=new h.E9(r,n,s,a);return l.defined=e.defined,l}function _(t,e,i){if(!t||!e)return[];Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);let r=[];if(t.length>e.length){r=e.map(t=>{let e=new h.E9(t.x,t.y,t.x1,t.y1);return e.defined=t.defined,e});for(let n=0;n<e.length;n++)r[n]=m(t[n],e[n],i)}else{r=e.map(t=>{let e=new h.E9(t.x,t.y,t.x1,t.y1);return e.defined=t.defined,e});for(let n=0;n<t.length;n++)r[n]=m(t[n],e[n],i)}return r}function x(t,e){if((0,a.Z)(t)){let i;for(let r=0;r<t.length&&void 0===i;r++)i=t[r][e];return i}return t[e]}class y{constructor(t=y.TimeOut){this.durations=[],this.timeout=t,this.lastDate=0,this.durationsListThreshold=30}call(t){return this.lastDate=Date.now(),setTimeout(()=>{this.appendDuration(Date.now()-this.lastDate),t(0)},this.timeout,!0)}clear(t){clearTimeout(t)}appendDuration(t){this.durations.push(t),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce((t,e)=>t+e,0)/this.durations.length,1e3/60),1e3/30)}}y.TimeOut=1e3/60;let b=new y,w=(t,e)=>{let i=(0,l.Z)(t)&&"%"===t[t.length-1]?e*(Number.parseFloat(t.substring(0,t.length-1))/100):t;return isNaN(i)?i:Math.max(e,i)}},916096:function(t,e,i){i.d(e,{Fq:()=>h,Dc:()=>l});class r{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}function n(t,e,i,r){let n=t.indexOf(e,i);if(-1===n)throw Error(r);return n+e.length-1}function s(t,e,i,r=">"){let n=function(t,e,i=">"){let r,n="";for(let s=e;s<t.length;s++){let e=t[s];if(r)e===r&&(r="");else if('"'===e||"'"===e)r=e;else if(e===i[0]){if(!i[1]||t[s+1]===i[1])return{data:n,index:s}}else"	"===e&&(e=" ");n+=e}}(t,e+1,r);if(!n)return;let a=n.data,o=n.index,h=a.search(/\s/),l=a,u=!0;-1!==h&&(l=a.substr(0,h).replace(/\s\s*$/,""),a=a.substr(h+1));let c=l;if(i){let t=l.indexOf(":");-1!==t&&(u=(l=l.substr(t+1))!==n.data.substr(t+1))}return{tagName:l,tagExp:a,closeIndex:o,attrExpPresent:u,rawTagName:c}}let a=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");class o{constructor(t){this.currentNode=null,this.options=t,this.tagsNodeStack=[],this.docTypeEntities={}}addChild(t,e,i){let r=e.tagname;"string"==typeof r&&(e.tagname=r),t.addChild(e)}buildAttributesMap(t,e,i){let r={};if(!t)return;let n=function(t,e){let i=[],r=e.exec(t);for(;r;){let n=[];n.startIndex=e.lastIndex-r[0].length;let s=r.length;for(let t=0;t<s;t++)n.push(r[t]);i.push(n),r=e.exec(t)}return i}(t,a),s=n.length;for(let t=0;t<s;t++){let e=n[t][1],i=n[t][4];e&&(r[e]=void 0===i||(isNaN(i)?i:Number(i)))}return r}parseXml(t){t=t.replace(/\r\n?/g,"\n");let e=new r("!xml"),i=e,a="",o="";for(let h=0;h<t.length;h++)if("<"===t[h])if("/"===t[h+1]){let e=n(t,">",h,"Closing Tag is not closed."),r=o.lastIndexOf(".");o=o.substring(0,r),(i=this.tagsNodeStack.pop())&&i.child&&a&&i.child[i.child.length-1][":@"]&&(i.child[i.child.length-1][":@"].text=a),a="",h=e}else if("?"===t[h+1])h=s(t,h,!1,"?>").closeIndex+1;else if("!--"===t.substr(h+1,3))h=n(t,"--\x3e",h+4,"Comment is not closed.");else{let n=s(t,h,!1),l=n.tagName,u=n.tagExp,c=n.attrExpPresent,d=n.closeIndex;if(l!==e.tagname&&(o+=o?"."+l:l),u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),u=l):u=u.substr(0,u.length-1);let t=new r(l);l!==u&&c&&(t[":@"]=this.buildAttributesMap(u,o,l)),this.addChild(i,t,o),o=o.substr(0,o.lastIndexOf("."))}else{let t=new r(l);this.tagsNodeStack.push(i),l!==u&&c&&(t[":@"]=this.buildAttributesMap(u,o,l)),this.addChild(i,t,o),i=t}a="",h=d}else a+=t[h];return e.child}}class h{constructor(t){this.options=Object.assign({},h.defaultOptions,t)}valid(t){return t.startsWith("<")}parse(t){var e;return!!this.valid&&(e=new o(this.options).parseXml(t),this.options,function t(e,i){let r={};for(let n=0;n<e.length;n++){let s=e[n],a=function(t){let e=Object.keys(t);for(let t=0;t<e.length;t++){let i=e[t];if(":@"!==i)return i}}(s),o="";if(o=void 0===i?a:i+"."+a,void 0!==a&&s[a]){let e=t(s[a],o);Object.keys(e).length,s[":@"]&&function(t,e,i){if(e){let i=Object.keys(e),r=i.length;for(let n=0;n<r;n++){let r=i[n];t[r]=e[r]}}}(e,s[":@"],0),void 0!==r[a]&&r.hasOwnProperty(a)?(Array.isArray(r[a])||(r[a]=[r[a]]),r[a].push(e)):r[a]=e}}return r}(e))}}function l(t){return t.startsWith("<svg")||t.startsWith("<?xml")}h.defaultOptions={}},728733:function(t,e,i){i.d(e,{D0:()=>r,iR:()=>s,y2:()=>n});let r=Symbol.for("EnvContribution"),n=Symbol.for("VGlobal"),s="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,'-apple-system',segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol"},455353:function(t,e,i){let r;i.d(e,{n:()=>p});var n=i(203922);let s={Singleton:"Singleton",Transient:"Transient"},a={ConstantValue:"ConstantValue",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid"};class o{constructor(t,e){this.id=n.R.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=a.Invalid,this.constraint=t=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){let t=new o(this.serviceIdentifier,this.scope);return t.activated=t.scope===s.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.provider=this.provider,t.constraint=this.constraint,t.cache=this.cache,t}}var h=i(663795),l=i(128685);class u{getConstructorMetadata(t){return{compilerGeneratedMetadata:l.Z.getMetadata(h.FL,t),userGeneratedMetadata:l.Z.getMetadata(h.LD,t)||{}}}getPropertiesMetadata(t){throw Error("\u6682\u672A\u5B9E\u73B0")}}var c=i(575938);let d=(r=h.vO,t=>{let e=e=>{if(null==e)return!1;if(e.key===r&&e.value===t)return!0;if(null==e.constructorArgsMetadata)return!1;let i=e.constructorArgsMetadata;for(let e=0;e<i.length;e++)if(i[e].key===r&&i[e].value===t)return!0;return!1};return e.metaData=new c.S(r,t),e});class f{constructor(t){this._binding=t}inRequestScope(){throw Error("\u6682\u672A\u5B9E\u73B0")}inSingletonScope(){return this._binding.scope=s.Singleton,this}inTransientScope(){return this._binding.scope=s.Transient,this}whenTargetNamed(t){return this._binding.constraint=d(t),this}}class g{constructor(t){this._binding=t}to(t){return this._binding.type=a.Instance,this._binding.implementationType=t,new f(this._binding)}toSelf(){let t=this._binding.serviceIdentifier;return this.to(t)}toDynamicValue(t){return this._binding.type=a.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new f(this._binding)}toConstantValue(t){return this._binding.type=a.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=s.Singleton,new f(this._binding)}toFactory(t){return this._binding.type=a.Factory,this._binding.factory=t,this._binding.scope=s.Singleton,new f(this._binding)}toService(t){this.toDynamicValue(e=>e.container.get(t))}}let p=new class{constructor(t){let e=t||{};e.defaultScope=e.defaultScope||s.Transient,this.options=e,this.id=n.R.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new u}load(t){let e=this._getContainerModuleHelpersFactory()(t.id);t.registry(e.bindFunction,e.unbindFunction,e.isboundFunction,e.rebindFunction)}get(t){let e=this._getNotAllArgs(t,!1);return this._get(e)}getAll(t){let e=this._getAllArgs(t);return this._get(e)}getTagged(t,e,i){let r=this._getNotAllArgs(t,!1,e,i);return this._get(r)}getNamed(t,e){return this.getTagged(t,h.vO,e)}isBound(t){return this._bindingDictionary.has(t)}bind(t){let e=new o(t,this.options.defaultScope),i=this._bindingDictionary.get(t)||[];return i.push(e),this._bindingDictionary.set(t,i),new g(e)}unbind(t){this._bindingDictionary.delete(t)}rebind(t){return this.unbind(t),this.bind(t)}_getContainerModuleHelpersFactory(){let t=(t,e)=>{t._binding.moduleId=e};return e=>({bindFunction:i=>{let r=this.bind(i);return t(r,e),r},isboundFunction:t=>this.isBound(t),rebindFunction:i=>{let r=this.rebind(i);return t(r,e),r},unbindFunction:t=>this.unbind(t),unbindAsyncFunction:t=>null})}_getNotAllArgs(t,e,i,r){return{avoidConstraints:!1,isMultiInject:e,serviceIdentifier:t,key:i,value:r}}_getAllArgs(t){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t}}_get(t){let e=[];return this._bindingDictionary.get(t.serviceIdentifier).filter(e=>e.constraint(t)).forEach(t=>{e.push(this._resolveFromBinding(t))}),t.isMultiInject||1!==e.length?e:e[0]}_getChildRequest(t){let e=t.implementationType,{userGeneratedMetadata:i}=this._metadataReader.getConstructorMetadata(e),r=Object.keys(i),n=[];for(let t=0;t<r.length;t++){let e=i[t],r={};e.forEach(t=>{r[t.key]=t.value});let s={inject:r[h.B8],multiInject:r[h.Lc]},a=s.inject||s.multiInject,o={serviceIdentifier:a,constructorArgsMetadata:e},l=(this._bindingDictionary.get(a)||[]).filter(t=>t.constraint(o));if(l.length){let t={injectIdentifier:a,metadata:e,bindings:l};n.push(t)}}return n}_resolveFromBinding(t){let e=this._getResolvedFromBinding(t);return this._saveToScope(t,e),e}_getResolvedFromBinding(t){let e;switch(t.type){case a.ConstantValue:case a.Function:e=t.cache;break;case a.Instance:e=this._resolveInstance(t,t.implementationType);break;default:e=t.dynamicValue({container:this})}return e}_resolveInstance(t,e){if(t.activated)return t.cache;let i=this._getChildRequest(t);return this._createInstance(e,i)}_createInstance(t,e){return e.length?new t(...this._resolveRequests(e)):new t}_resolveRequests(t){return t.map(t=>t.bindings.length>1?t.bindings.map(t=>this._resolveFromBinding(t)):this._resolveFromBinding(t.bindings[0]))}_saveToScope(t,e){t.scope===s.Singleton&&(t.cache=e,t.activated=!0)}}},938851:function(t,e,i){i.d(e,{Gp:()=>r,IT:()=>s,XJ:()=>h,kj:()=>a,no:()=>n,ym:()=>o});let r=Symbol.for("TransformUtil"),n=Symbol.for("GraphicUtil"),s=Symbol.for("LayerService"),a=Symbol.for("StaticLayerHandlerContribution"),o=Symbol.for("DynamicLayerHandlerContribution"),h=Symbol.for("VirtualLayerHandlerContribution")},905592:function(t,e,i){i.d(e,{z:()=>s});var r=i(360309),n=i(263401);let s=class{configure(t,...e){t.env===this.type&&t.setActiveEnvContribution(this)}getNativeAABBBounds(t){return new n.FB}removeDom(t){return!1}createDom(t){return null}updateDom(t,e){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(t){return document.getElementById(t)}getRootElement(){return document.body}loadJson(t){let e=fetch(t).then(t=>t.json());return e.then(t=>({data:t,state:"success"})).catch(()=>({data:null,state:"fail"})),e}loadArrayBuffer(t){return fetch(t).then(t=>t.arrayBuffer()).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadBlob(t){return fetch(t).then(t=>t.blob()).then(t=>({data:t,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}getElementTop(t,e){return 0}getElementLeft(t,e){return 0}getElementTopLeft(t,e){return{top:0,left:0}}loadFont(t,e,i){var r,n,s,a;return r=this,n=void 0,a=function*(){return{loadState:"fail"}},new(s=void 0,s=Promise)(function(t,e){function i(t){try{h(a.next(t))}catch(t){e(t)}}function o(t){try{h(a.throw(t))}catch(t){e(t)}}function h(e){var r;e.done?t(e.value):((r=e.value)instanceof s?r:new s(function(t){t(r)})).then(i,o)}h((a=a.apply(r,n||[])).next())})}isMacOS(){return!1}copyToClipBoard(t){return Promise.resolve(null)}};s=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,r.b)()],s)},785812:function(t,e,i){i.d(e,{Z:()=>p});var r=i(263457),n=i(609443),s=i(728733),a=new r.n(t=>{(0,n.yb)(t,s.D0)}),o=i(861372),h=new r.n(t=>{t(o.j).to(o.f).inSingletonScope(),(0,n.yb)(t,o.j)}),l=i(938851),u=i(360309),c=i(370566),d=i(509257);let f=class{constructor(){this.type="static",this.offscreen=!1,this.global=d.w.global}setDpr(t){this.canvas.dpr=t}init(t,e,i){if(this.layer=t,this.window=e,i.main)this.main=!0,this.context=e.getContext(),this.canvas=this.context.getCanvas();else{let t;this.main=!1,i.canvasId&&(t=this.global.getElementById(i.canvasId)),t||(t=this.global.createCanvas({width:e.width,height:e.height})),t.style&&(t.style["pointer-events"]="none");let r=e.getContext().getCanvas().nativeCanvas,n=(0,c.JN)({nativeCanvas:t,width:e.width,height:e.height,dpr:e.dpr,id:i.canvasId,canvasControled:!0,container:e.getContainer(),x:r.offsetLeft,y:r.offsetTop});n.applyPosition(),this.canvas=n,this.context=n.getContext()}}resize(t,e){this.canvas.resize(t,e)}resizeView(t,e){}render(t,e,i){var r;if(!this.main){let t=this.window.getContext().getCanvas().nativeCanvas;t&&(this.canvas.x!==t.offsetLeft||this.canvas.y!==t.offsetTop)&&(this.canvas.x=t.offsetLeft,this.canvas.y=t.offsetTop,this.canvas.applyPosition())}e.renderService.render(t,Object.assign(Object.assign({context:this.context,clear:null!=(r=e.background)?r:"#ffffff"},e),i))}merge(t){t.forEach(t=>{let e=t.getContext().canvas.nativeCanvas;this.context.drawImage(e,0,0)})}prepare(t,e){}drawTo(t,e,i){var r;let n=t.getContext();i.renderService.render(e,Object.assign(Object.assign({context:n},i),{clear:i.clear?null!=(r=i.background)?r:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};f=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,u.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],f);var g=new r.n(t=>{t(f).toSelf(),t(l.kj).toService(f)});function p(t){t.load(a),t.load(h),t.load(g)}},290568:function(t,e,i){i.d(e,{j:()=>n});var r=i(927484);class n{constructor(t,e,i){this.fontFamily=t,this.textOptions=e,this.textMeasure=i}LayoutBBox(t,e,i,r){if(t.xOffset="left"===e||"start"===e?0:"center"===e?-(t.width/2):"right"===e||"end"===e?-t.width:0,"top"===i)t.yOffset=0;else if("middle"===i)t.yOffset=-(t.height/2);else if("alphabetic"===i){let e=.79;if(1===r.length){let t=r[0];e=t.ascent/(t.ascent+t.descent)}t.yOffset=-(t.height*e)}else t.yOffset=-t.height;return t}GetLayoutByLines(t,e,i,n,s="",a,o){let{lineWidth:h,suffixPosition:l="end",measureMode:u=r.r.actualBounding,keepCenterInLine:c=!1}=null!=o?o:{};t=t.map(t=>t.toString());let d=[],f=[0,0];if("number"==typeof h&&h!==1/0){let e;for(let i=0,r=t.length;i<r;i++){let r=this.textMeasure.measureTextPixelADscentAndWidth(t[i],this.textOptions,u),n=t[i].toString();if(r.width>h){let r=this.textMeasure.clipTextWithSuffix(t[i],this.textOptions,h,s,a,l);n=r.str,e=r.width}else e=r.width;d.push({str:n,width:e,ascent:r.ascent,descent:r.descent,keepCenterInLine:c})}f[0]=h}else{let e,i,r=0;for(let n=0,s=t.length;n<s;n++){i=t[n];let s=this.textMeasure.measureTextPixelADscentAndWidth(t[n],this.textOptions,u);r=Math.max(r,e=s.width),d.push({str:i,width:e,ascent:s.ascent,descent:s.descent,keepCenterInLine:c})}f[0]=r}f[1]=d.length*n,f[0]=d.reduce((t,e)=>Math.max(t,e.width),0);let g={xOffset:0,yOffset:0,width:f[0],height:f[1]};return this.LayoutBBox(g,e,i,d),this.layoutWithBBox(g,d,e,i,n)}layoutWithBBox(t,e,i,r,n){let s=[0,0],a=e.length*n;"top"===r||("middle"===r?s[1]=(t.height-a)/2:"bottom"===r&&(s[1]=t.height-a));for(let a=0;a<e.length;a++)this.lineOffset(t,e[a],i,r,n,s);return{bbox:t,lines:e,fontFamily:this.fontFamily,fontSize:this.textOptions.fontSize,fontWeight:this.textOptions.fontWeight,lineHeight:n,textAlign:i,textBaseline:r}}lineOffset(t,e,i,r,n,s){if("left"===i||"start"===i?e.leftOffset=0:"center"===i?e.leftOffset=(t.width-e.width)/2:"right"!==i&&"end"!==i||(e.leftOffset=t.width-e.width),e.topOffset=n/2+(e.ascent-e.descent)/2+s[1],!e.keepCenterInLine){let t=e.ascent+e.descent+0;if(t<n-0&&("bottom"===r?e.topOffset+=(n-t)/2:"top"===r&&(e.topOffset-=(n-t)/2)),"alphabetic"===r){let t=n/(e.ascent+e.descent);e.topOffset=n/2+(e.ascent-e.descent)/2*t+s[1]}}return s[1]+=n,e}}},861372:function(t,e,i){i.d(e,{f:()=>u,j:()=>l});var r=i(360309),n=i(927484),s=i(678412),a=i(43806),o=i(985476);let h=class{constructor(){this.id="ATextMeasure"}configure(t,e){this.canvas=t.canvas,this.context=t.context,t.bindTextMeasure(this)}_measureTextWithoutAlignBaseline(t,e,i){this.context.setTextStyleWithoutAlignBaseline(e);let r=this.context.measureText(t);return i?this.compatibleMetrics(r,e):r}_measureTextWithAlignBaseline(t,e,i){this.context.setTextStyle(e);let r=this.context.measureText(t);return i?this.compatibleMetrics(r,e):r}compatibleMetrics(t,e){if(null==t.actualBoundingBoxAscent||null==t.actualBoundingBoxDescent||null==t.fontBoundingBoxAscent||null==t.fontBoundingBoxDescent){t={width:t.width};let{ascent:i,descent:r}=this.measureTextBoundADscentEstimate(e);t.actualBoundingBoxAscent=i,t.actualBoundingBoxDescent=r,t.fontBoundingBoxAscent=i,t.fontBoundingBoxDescent=r}if(null==t.actualBoundingBoxLeft||null==t.actualBoundingBoxRight){t={width:t.width,actualBoundingBoxAscent:t.actualBoundingBoxAscent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent};let{left:i,right:r}=this.measureTextBoundLeftRightEstimate(e);t.actualBoundingBoxLeft=i,t.actualBoundingBoxRight=r}return t}estimate(t,{fontSize:e=s.T5.fontSize}){let i=0,r=0;for(let e=0;e<t.length;e++)128>t.charCodeAt(e)?i++:r++;return{width:~~(.8*i*e+r*e),height:e}}measureTextWidth(t,e,i){return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(t,e)).width:this.estimate(t,e).width}measureTextBoundsWidth(t,e,i){return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(t,e)).width:this.estimate(t,e).width}measureTextBoundsLeftRight(t,e,i){return this.context?{left:(i=null!=i?i:this._measureTextWithAlignBaseline(t,e,!0)).actualBoundingBoxLeft,right:i.actualBoundingBoxRight}:this.measureTextBoundLeftRightEstimate(e)}measureTextPixelHeight(t,e,i){var r;return this.context?Math.abs((i=null!=i?i:this._measureTextWithoutAlignBaseline(t,e,!0)).actualBoundingBoxAscent-i.actualBoundingBoxDescent):null!=(r=e.fontSize)?r:s.q9.fontSize}measureTextPixelADscent(t,e,i){return this.context?{ascent:(i=null!=i?i:this._measureTextWithAlignBaseline(t,e,!0)).actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundHieght(t,e,i){var r;return this.context?Math.abs((i=null!=i?i:this._measureTextWithoutAlignBaseline(t,e,!0)).fontBoundingBoxAscent-i.fontBoundingBoxDescent):null!=(r=e.fontSize)?r:s.q9.fontSize}measureTextBoundADscent(t,e,i){return this.context?{ascent:(i=null!=i?i:this._measureTextWithAlignBaseline(t,e,!0)).fontBoundingBoxAscent,descent:i.fontBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundADscentEstimate(t){var e;let i=null!=(e=t.fontSize)?e:s.q9.fontSize;return{ascent:.79*i,descent:.21*i}}measureTextBoundLeftRightEstimate(t){var e;let i=null!=(e=t.fontSize)?e:s.q9.fontSize,{textAlign:r}=t;return"center"===r?{left:i/2,right:i/2}:"right"===r||"end"===r?{left:i,right:0}:{left:0,right:i}}measureTextPixelADscentAndWidth(t,e,i){if(!this.context)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:this.estimate(t,e).width});let r=this._measureTextWithoutAlignBaseline(t,e,!0);if(i===n.r.actualBounding)return{ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,width:r.width};if(i===n.r.estimate)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:r.width});if(i===n.r.fontBounding){let t=r.fontBoundingBoxAscent,e=r.fontBoundingBoxDescent;if(r.actualBoundingBoxDescent&&e<r.actualBoundingBoxDescent){let i=r.actualBoundingBoxDescent-e;e+=i,t-=i}else if(r.actualBoundingBoxAscent&&t<r.actualBoundingBoxAscent){let i=r.actualBoundingBoxAscent-t;t+=i,e-=i}return{ascent:t,descent:e,width:r.width}}return{ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,width:r.width}}measureText(t,e){return this.context?(this.context.setTextStyleWithoutAlignBaseline(e),this.context.measureText(t)):this.estimate(t,e)}clipTextVertical(t,e,i,r){if(0===t.length)return{verticalList:t,width:0};let{fontSize:n=12}=e;t.forEach(t=>{t.width=0===t.direction?n:this.measureTextWidth(t.text,e)});let s=[],o=0,h=0;for(;h<t.length&&o+t[h].width<i;h++)o+=t[h].width,s.push(t[h]);if(t[h]&&t[h].text.length>1){let n=this._clipText(t[h].text,e,i-o,0,t[h].text.length-1,"end",!1);if(r&&n.str!==t[h].text){let i="",r=0;for(let e=0;e<h;e++){let n=t[e];i+=n.text,r+=n.text.length}i+=t[h].text;let s=r+n.str.length,o=(0,a.SZ)(i,s);(o-=r)!=n.str.length-1&&(n.str=n.str.substring(0,o),n.width=this.measureTextWidth(n.str,e))}s.push(Object.assign(Object.assign({},t[h]),{text:n.str,width:n.width})),o+=n.width}return{verticalList:s,width:o}}clipText(t,e,i,r,n){if(0===t.length)return{str:"",width:0};let s=this.measureTextWidth(t,e);if(s<=i)return{str:t,width:s};if((s=this.measureTextWidth(t[0],e))>i)return{str:"",width:0};let o=this._clipText(t,e,i,0,t.length-1,"end",!1);if(r&&o.str!==t){let i=(0,a.SZ)(t,o.str.length,n);i!==o.str.length&&(i>o.str.length&&(o.wordBreaked=i,i=o.str.length),o.str=t.substring(0,i),o.width=this.measureTextWidth(o.str,e))}return o}_clipText(t,e,i,r,n,s,a){let o;if("start"===s)o=this._clipTextStart(t,e,i,r,n),a&&(o.result=a+o.str);else if("middle"===s){let r=this._clipTextMiddle(t,e,i,"","",0,0,1);o={str:"none",width:r.width,result:r.left+a+r.right}}else o=this._clipTextEnd(t,e,i,r,n),a&&(o.result=o.str+a);return o}_clipTextEnd(t,e,i,r,n){let s;if(r===n){o.Y.getInstance().warn(`\u{3010}_clipTextEnd\u{3011}\u{4E0D}\u{5E94}\u{8BE5}\u{8D70}\u{5230}\u{8FD9}\u{91CC}${t}, ${r}, ${n}`);let i=t.substring(0,n+1);return{str:i,width:this.measureTextWidth(i,e)}}let a=Math.floor((r+n)/2),h=t.substring(0,a+1),l=this.measureTextWidth(h,e);if(l>i){if(h.length<=1)return{str:"",width:0};let n=t.substring(0,a);return(s=this.measureTextWidth(n,e))<=i?{str:n,width:s}:this._clipTextEnd(t,e,i,r,a)}if(l<i){if(a>=t.length-1)return{str:t,width:this.measureTextWidth(t,e)};let r=t.substring(0,a+2);return(s=this.measureTextWidth(r,e))>=i?{str:h,width:l}:this._clipTextEnd(t,e,i,a,n)}return{str:h,width:l}}_clipTextStart(t,e,i,r,n){let s,a=Math.ceil((r+n)/2),o=t.substring(a-1,t.length),h=this.measureTextWidth(o,e);if(h>i){if(o.length<=1)return{str:"",width:0};let r=t.substring(a,t.length);return(s=this.measureTextWidth(r,e))<=i?{str:r,width:s}:this._clipTextStart(t,e,i,a,t.length)}if(h<i){if(a<=0)return{str:t,width:this.measureTextWidth(t,e)};let n=t.substring(a-2,t.length);return(s=this.measureTextWidth(n,e))>=i?{str:o,width:h}:this._clipTextStart(t,e,i,r,a)}return{str:o,width:h}}_clipTextMiddle(t,e,i,r,n,s,a,o){let h=t.substring(0,o),l=this.measureTextWidth(h,e);if(l+a>i)return{left:r,right:n,width:s+a};let u=t.substring(t.length-o,t.length),c=this.measureTextWidth(u,e);return l+c>i?{left:h,right:n,width:l+a}:this._clipTextMiddle(t,e,i,h,u,l,c,o+1)}clipTextWithSuffixVertical(t,e,i,r,n,s){let a;if(""===r)return this.clipTextVertical(t,e,i,n);if(0===t.length)return{verticalList:t,width:0};let o=this.clipTextVertical(t,e,i,n);if(o.verticalList.length===t.length&&o.verticalList[o.verticalList.length-1].width===t[t.length-1].width)return o;let h=this.measureTextWidth(r,e);if(h>i)return o;if(i-=h,"start"===s){let s=this.revertVerticalList(t);a=this.clipTextVertical(s,e,i,n);let o=this.revertVerticalList(a.verticalList);o.unshift({text:r,direction:1,width:h}),a.verticalList=o}else if("middle"===s){let s=this.clipTextVertical(t,e,i/2,n),o=this.revertVerticalList(t),l=this.clipTextVertical(o,e,i/2,n);s.verticalList.push({text:r,direction:1,width:h}),this.revertVerticalList(l.verticalList).forEach(t=>s.verticalList.push(t)),a={verticalList:s.verticalList,width:s.width+l.width}}else(a=this.clipTextVertical(t,e,i,n)).verticalList.push({text:r,direction:1,width:h});return a.width+=h,a}revertVerticalList(t){return t.reverse().map(t=>{let e=t.text.split("").reverse().join("");return Object.assign(Object.assign({},t),{text:e})})}clipTextWithSuffix(t,e,i,r,n,s,o=!1){if(""===r)return this.clipText(t,e,i,n);if(0===t.length)return{str:"",width:0};let h=this.measureTextWidth(t,e);if(!o&&h<=i)return{str:t,width:h};let l=this.measureTextWidth(r,e);if(l>i)return{str:"",width:0};if(o&&h+l<=i)return{str:t+r,width:h+l};i-=l;let u=this._clipText(t,e,i,0,t.length-1,s,r);if(n&&u.str!==t){let i=(0,a.SZ)(t,u.str.length);i!==u.str.length&&(u.result=t.substring(0,i),u.width=this.measureTextWidth(u.str,e))}else o&&u.str===t&&(u.result=t+r);return u.str=u.result,u.width+=l,u}};h=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,r.b)()],h);let l=Symbol.for("TextMeasureContribution"),u=class extends h{constructor(){super(...arguments),this.id="DefaultTextMeasureContribution"}};u=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,r.b)()],u)},370887:function(t,e,i){i.d(e,{X:()=>o});var r=i(360309),n=i(203922),s=i(263401),a=i(669182);let o=class{constructor(){this._uid=n.R.GenAutoIncrementId(),this.viewBox=new s.FB,this.modelMatrix=new a.y(1,0,0,1,0,0)}onChange(t){this._onChangeCb=t}configure(t,e){e.env===this.type&&t.setWindowHandler(this)}release(...t){this.releaseWindow()}isVisible(t){return!0}onVisibleChange(t){}getTopLeft(t){return{top:0,left:0}}setViewBox(t){this.viewBox.setValue(t.x1,t.y1,t.x2,t.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(t,e,i,r,n,s){this.modelMatrix.setValue(t,e,i,r,n,s)}getViewBoxTransform(){return this.modelMatrix}};o=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,r.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],o)},798841:function(t,e,i){i.d(e,{Z:()=>I});var r,n,s,a=i(263457),o=i(360309),h=i(458943),l=i(759311),u=i(609443),c=i(360177),d=i(728733),f=i(203922),g=i(393661),p=i(278875),v=function(t,e){return function(i,r){e(i,r,t)}};let m=class extends p.w{get env(){return this._env}get isImageAnonymous(){return this._isImageAnonymous}set isImageAnonymous(t){this._isImageAnonymous=t}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(t){this._env||this.setEnv("browser"),this.envContribution.supportEvent=t}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=t}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=t}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=t}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(t){this._env||this.setEnv("browser"),this.envContribution.applyStyles=t}constructor(t){super(),this.contributions=t,this._isImageAnonymous=!0,this._performanceRAFList=[],this.eventListenerTransformer=t=>t,this.id=f.R.GenAutoIncrementId(),this.hooks={onSetEnv:new c.n(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}_nativeAddEventListener(t,e,i){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(t,e,i)}_nativeRemoveEventListener(t,e,i){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(t,e,i)}_nativeDispatchEvent(t){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(t)}bindContribution(t){let e=[];if(this.contributions.getContributions().forEach(i=>{let r=i.configure(this,t);r&&r.then&&e.push(r)}),e.length)return Promise.all(e)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(t,e){if(e&&!0===e.force||this._env!==t)return this.deactiveCurrentEnv(),this.activeEnv(t,e)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(t,e){let i=this._env;this._env=t;let r=this.bindContribution(e);if(r&&r.then)return r.then(()=>{this.envParams=e,this.hooks.onSetEnv.call(i,t,this)});this.envParams=e,this.hooks.onSetEnv.call(i,t,this)}setActiveEnvContribution(t){this.envContribution=t}createCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(t)}createOffscreenCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(t)}releaseCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(t)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getSpecifiedRequestAnimationFrame(t){this._env||this.setEnv("browser"),this._performanceRAFList[t]||(this._performanceRAFList[t]=new g.A);let e=this._performanceRAFList[t];return t=>e.addAnimationFrameCb(t)}getSpecifiedCancelAnimationFrame(t){if(this._env||this.setEnv("browser"),!this._performanceRAFList[t])return()=>!1;let e=this._performanceRAFList[t];return t=>e.removeAnimationFrameCb(t)}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(t){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(t):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(t,e){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(t,e):null}loadImage(t){return this._env||this.setEnv("browser"),this.envContribution.loadImage(t)}loadSvg(t){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(t)}loadJson(t){return this._env||this.setEnv("browser"),this.envContribution.loadJson(t)}loadArrayBuffer(t){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(t)}loadBlob(t){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(t)}loadFont(t,e,i){var r,n,s,a;return r=this,n=void 0,s=void 0,a=function*(){return this._env||this.setEnv("browser"),this.envContribution.loadFont(t,e,i)},new(s||(s=Promise))(function(t,e){function i(t){try{h(a.next(t))}catch(t){e(t)}}function o(t){try{h(a.throw(t))}catch(t){e(t)}}function h(e){var r;e.done?t(e.value):((r=e.value)instanceof s?r:new s(function(t){t(r)})).then(i,o)}h((a=a.apply(r,n||[])).next())})}isChrome(){return null!=this._isChrome||(this._env||this.setEnv("browser"),this._isChrome="browser"===this._env&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return null!=this._isSafari||(this._env||this.setEnv("browser"),this._isSafari="browser"===this._env&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(t){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(t)}removeDom(t){return this._env||this.setEnv("browser"),this.envContribution.removeDom(t)}createDom(t){return this._env||this.setEnv("browser"),this.envContribution.createDom(t)}updateDom(t,e){return this._env||this.setEnv("browser"),this.envContribution.updateDom(t,e)}getElementTop(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(t,e)}getElementLeft(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(t,e)}getElementTopLeft(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(t,e)}isMacOS(){return this._env||this.setEnv("browser"),this.envContribution.isMacOS()}copyToClipBoard(t){return this._env||this.setEnv("browser"),this.envContribution.copyToClipBoard(t)}};m=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,o.b)(),v(0,(0,h.f)(u.Qc)),v(0,(0,l.t)(d.D0)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],m);var _=i(861372),x=i(678412),y=i(385005),b=i(669182),w=i(474163),T=i(509257),C=i(455353),A=i(605380),E=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a},L=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=function(t,e){return function(i,r){e(i,r,t)}};let S=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(t){this.contributions=t,this.configured=!1,this.global=T.w.global,this._textMeasureMap=new Map,this.global.hooks.onSetEnv.tap("graphic-util",(t,e,i)=>{this.configured=!1,this.configure(i,e)})}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}getTextMeasureInstance(t){return t&&this._textMeasureMap.get(t)||this.textMeasure}configure(t,e){this.configured||(this.contributions.getContributions().forEach(t=>{t.configure(this,e)}),this.configured=!0)}tryInitCanvas(){if(!this._canvas){let t=w.A.shareCanvas();this._canvas=t,this._context=t.getContext("2d")}}bindTextMeasure(t){this._textMeasure&&"DefaultTextMeasureContribution"!==t.id||(this._textMeasure=t),this._textMeasureMap.has(t.id)||this._textMeasureMap.set(t.id,t)}measureText(t,e,i="native"){var r;this.configure(this.global,this.global.env);let n=this.global.measureTextMethod;this.global.measureTextMethod=i;let s={width:this._textMeasure.measureTextWidth(t,e),height:null!=(r=e.fontSize)?r:x.q9.fontSize};return this.global.measureTextMethod=n,s}createTextMeasureInstance(t,e,i){return this.configure(this.global,this.global.env),new y.e(Object.assign({defaultFontParams:{fontFamily:x.q9.fontFamily,fontSize:x.q9.fontSize},getCanvasForMeasure:i||(()=>this.canvas),getTextBounds:void 0,specialCharSet:"-/: .,@%'\"~"+y.e.ALPHABET_CHAR_SET+y.e.ALPHABET_CHAR_SET.toUpperCase()},null!=e?e:{}),t)}drawGraphicToCanvas(t,e,i){if(!e.defaultLayer)return null;let r=C.n.get(A.Oo),n=t.AABBBounds,s=n.width(),a=n.height(),o=-n.x1,h=-n.y1;r.create({viewBox:{x1:o,y1:h,x2:n.x2,y2:n.y2},width:s,height:a,canvas:i,dpr:e.window.dpr,canvasControled:!0,offscreen:!0,title:""});let l=e.params.optimize.disableCheckGraphicWidthOutRange;e.params.optimize.disableCheckGraphicWidthOutRange=!0,e.defaultLayer.getNativeHandler().drawTo(r,[t],{transMatrix:r.getViewBoxTransform(),viewBox:r.getViewBox(),stage:e,layer:e.defaultLayer,renderService:e.renderService,background:"transparent",clear:!0,updateBounds:!1}),e.params.optimize.disableCheckGraphicWidthOutRange=l;let u=r.getNativeHandler();return u.nativeCanvas?u.nativeCanvas:null}};S=E([(0,o.b)(),M(0,(0,h.f)(u.Qc)),M(0,(0,l.t)(_.j)),L("design:paramtypes",[Object])],S),(r=n||(n={}))[r.transform=0]="transform",r[r.matrix=1]="matrix";let B=new b.y,R=class{constructor(){this.matrix=new b.y}init(t){return this.mode=n.transform,this.originTransform=t,this.matrix.reset(),this}fromMatrix(t,e){return this.mode=n.matrix,this.outSourceMatrix=t,this.outTargetMatrix=e,this}scaleMatrix(t,e,i){let r=this.outSourceMatrix;if(B.setValue(r.a,r.b,r.c,r.d,r.e,r.f),this.outTargetMatrix.reset(),i){let{x:r,y:n}=i;this.outTargetMatrix.translate(r,n),this.outTargetMatrix.scale(t,e),this.outTargetMatrix.translate(-r,-n)}else this.outTargetMatrix.scale(t,e);return this.outTargetMatrix.multiply(B.a,B.b,B.c,B.d,B.e,B.f),this}rotateMatrix(t,e){let i=this.outSourceMatrix;if(B.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),e){let{x:i,y:r}=e;this.outTargetMatrix.translate(i,r),this.outTargetMatrix.rotate(t),this.outTargetMatrix.translate(-i,-r)}else this.outTargetMatrix.rotate(t);return this.outTargetMatrix.multiply(B.a,B.b,B.c,B.d,B.e,B.f),this}scale(t,e,i){return this.mode===n.matrix?this.scaleMatrix(t,e,i):this}rotate(t,e){return this.mode===n.matrix?this.rotateMatrix(t,e):this}translateMatrix(t,e){let i=this.outSourceMatrix;return B.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(t,e),this.outTargetMatrix.multiply(B.a,B.b,B.c,B.d,B.e,B.f),this}translate(t,e){return this.mode===n.matrix?this.translateMatrix(t,e):this}simplify(t){return this.mode===n.matrix?this.simplifyMatrix(t):this}simplifyMatrix(t){return this}};R=E([(0,o.b)(),L("design:paramtypes",[])],R);var P=i(25666),O=i(829425);class k extends O.ZA{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw Error("\u6682\u4E0D\u652F\u6301")}get dpr(){return this._dpr}constructor(t,e,i,r){var n;super({}),this.stage=t,this.global=e,this.window=i,this.main=r.main,this.layerHandler=r.layerHandler,this.layerHandler.init(this,i,{main:r.main,canvasId:r.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:null!=(n=r.zIndex)?n:0}),this.layer=this,this.subLayers=new Map,this.theme=new P.Q2,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(t=!0){let e=Array.from(this.subLayers.values()).sort((t,e)=>t.zIndex-e.zIndex);this.layerHandler.merge(e.map(e=>(e.layer.subLayers.size&&e.layer.combineSubLayer(t),e.layer.getNativeHandler()))),t&&e.forEach(t=>{t.group&&(t.group.incremental=0)}),e.forEach(t=>{T.w.layerService.releaseLayer(this.stage,t.layer)}),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(t,e){super.setStage(t,this)}pick(t,e){throw Error("\u6682\u4E0D\u652F\u6301")}tryRenderSecondaryLayer(t,e){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach(i=>{i.layer.renderCount=this.renderCount,i.layer.render(t,e)})}render(t,e){var i;this.layerHandler.render([this],{renderService:t.renderService,stage:this.stage,layer:this,viewBox:t.viewBox,transMatrix:t.transMatrix,background:null!=(i=t.background)?i:this.background,updateBounds:t.updateBounds},e),this.afterDrawCbs.forEach(t=>t(this)),this.tryRenderSecondaryLayer(t,e)}resize(t,e){this.layerHandler.resize(t,e)}resizeView(t,e){this.layerHandler.resizeView(t,e)}setDpr(t){this.layerHandler.setDpr(t)}afterDraw(t){this.afterDrawCbs.push(t)}startAnimate(t){throw Error("\u6682\u4E0D\u652F\u6301")}setToFrame(t){throw Error("\u6682\u4E0D\u652F\u6301")}prepare(t,e){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach(t=>{T.w.layerService.releaseLayer(this.stage,t.layer)})}drawTo(t,e){var i;this.layerHandler.drawTo(t,[this],Object.assign({background:null!=(i=e.background)?i:this.background,renderService:e.renderService,viewBox:e.viewBox,transMatrix:e.transMatrix,stage:this.stage,layer:this},e)),this.afterDrawCbs.forEach(t=>t(this))}}var D=i(938851);let N=s=class{static GenerateLayerId(){return`${s.idprefix}_${s.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=T.w.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(t){return this.layerMap.get(t)}getRecommendedLayerType(t){return t||(0!==this.staticLayerCountInEnv?"static":0!==this.dynamicLayerCountInEnv?"dynamic":"virtual")}getLayerHandler(t){return"static"===t?C.n.get(D.kj):"dynamic"===t?C.n.get(D.ym):C.n.get(D.XJ)}createLayer(t,e={main:!1}){var i;this.tryInit();let r=this.getRecommendedLayerType(e.layerMode);r=e.main||e.canvasId?"static":r;let n=this.getLayerHandler(r),a=new k(t,this.global,t.window,Object.assign(Object.assign({main:!1},e),{layerMode:r,canvasId:null!=(i=e.canvasId)?i:s.GenerateLayerId(),layerHandler:n})),o=this.layerMap.get(t)||[];return o.push(a),this.layerMap.set(t,o),this.staticLayerCountInEnv--,a}prepareStageLayer(t){let e;t.forEachChildren(t=>{let i=t.getNativeHandler();"virtual"===i.type?(i.mainHandler=e,e.secondaryHandlers.push(i)):(e=i).secondaryHandlers=[]})}releaseLayer(t,e){e.release();let i=this.layerMap.get(t)||[];this.layerMap.set(t,i.filter(t=>t!==e))}layerCount(t){return(this.layerMap.get(t)||[]).length}restLayerCount(t){return 10*("browser"===this.global.env)}releaseStage(t){this.layerMap.delete(t)}};N.idprefix="visactor_layer",N.prefix_count=0,N=s=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,o.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],N);var I=new a.n(t=>{t(d.y2).to(m).inSingletonScope(),t(A.Oo).to(A.Il),t(D.no).to(S).inSingletonScope(),t(D.Gp).to(R).inSingletonScope(),t(D.IT).to(N).inSingletonScope()})},880902:function(t,e,i){i.d(e,{H:()=>A});var r=i(83624),n=i(263401),s=i(919498),a=i(605380),o=i(69789),h=i(455353),l=i(6846),u=i(829425),c=i(25666),d=i(533896),f=i(335893),g=i(175412),p=i(958231),v=i(83569),m=i(387503),_=i(360177),x=i(938851),y=i(509257),b=i(678919),w=i(947581),T=i(721756);let C={BACKGROUND:"white"};class A extends u.ZA{set viewBox(t){this.window.setViewBox(t)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(t){let e=this.window.getViewBox();e.translate(t-e.x1,0),this.window.setViewBox(e)}get y(){return this.window.getViewBox().y1}set y(t){let e=this.window.getViewBox();e.translate(0,t-e.y1),this.window.setViewBox(e)}get width(){return this.window.width}set width(t){this.resize(t,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(t){this.resizeView(t,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(t){this.resizeView(this.viewWidth,t)}get height(){return this.window.height}set height(t){this.resize(this.width,t)}get dpr(){return this.window.dpr}set dpr(t){this.setDpr(t)}get background(){var t;return null!=(t=this._background)?t:C.BACKGROUND}set background(t){this._background=t}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}get ticker(){return this._ticker}set ticker(t){t.bindStage(this),this._ticker&&this._ticker.removeListener("tick",this.afterTickCb),t.addTimeline(this.timeline),this._ticker=t,this._ticker.on("tick",this.afterTickCb)}constructor(t={}){var e,i;super({}),this.tickedBeforeRender=!0,this._onVisibleChange=t=>{if(!(this._skipRender<0))if(t){if(this.dirtyBounds){let t=this.window.getViewBox();this.dirtyBounds.setValue(t.x1,t.y1,t.width(),t.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=t=>{this._beforeRenderList.forEach(e=>e(t))},this.afterClearScreen=t=>{this._afterClearScreen&&this._afterClearScreen(t)},this.afterClearRect=t=>{this._afterClearRect&&this._afterClearRect(t)},this.afterRender=t=>{this.renderCount++,this._afterRenderList.forEach(e=>e(t)),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach(e=>e(t)),this._afterNextRenderCbs=null,this.tickedBeforeRender=!1},this.afterTickCb=()=>{this.tickedBeforeRender=!0,"rendering"!==this.state&&this.renderNextFrame()},this.params=t,this.theme=new c.Q2,this.hooks={beforeRender:new _.n(["stage"]),afterRender:new _.n(["stage"]),afterClearScreen:new _.n(["stage"]),afterClearRect:new _.n(["stage"])},this.global=y.w.global,!this.global.env&&(0,b.kP)()&&this.global.setEnv("browser"),this.window=h.n.get(a.Oo),this.renderService=h.n.get(l.p),this.pluginService=h.n.get(f.H),this.layerService=h.n.get(x.IT),this.graphicService=h.n.get(T.fB),this.pluginService.active(this,t),this._beforeRenderList=[],this._afterRenderList=[],this.window.create({width:t.width,height:t.height,viewBox:t.viewBox,container:t.container,dpr:t.dpr||this.global.devicePixelRatio,canvasControled:!1!==t.canvasControled,title:t.title||"",canvas:t.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=null!=(e=t.background)?e:C.BACKGROUND,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=t.renderStyle,t.autoRender&&this.enableAutoRender(),t.autoRefresh&&this.enableAutoRefresh(),!1===t.disableDirtyBounds&&this.enableDirtyBounds(),t.enableHtmlAttribute&&this.enableHtmlAttribute(t.enableHtmlAttribute),t.ReactDOM&&this.enableReactAttribute(t.ReactDOM),t.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),t.beforeRender&&this._beforeRenderList.push(t.beforeRender),t.afterRender&&this._afterRenderList.push(t.afterRender),this.hooks.afterClearScreen.tap("constructor",this.afterClearScreen),this.hooks.afterClearRect.tap("constructor",this.afterClearRect),this._afterClearScreen=t.afterClearScreen,this._afterClearRect=t.afterClearRect,this.supportInteractiveLayer=!1!==t.interactiveLayer,t.optimize||(t.optimize={tickRenderMode:"effect"}),this.optmize(t.optimize),t.background&&(0,r.Z)(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background}),this.initAnimate(t),this.rafId=null!=(i=t.rafId)?i:Math.floor(6*Math.random())}initAnimate(t){var e;this.createTicker&&this.createTimeline&&(this._ticker=t.ticker||this.createTicker(this),this._ticker.bindStage(this),"performance"===(null==(e=this.params.optimize)?void 0:e.tickRenderMode)&&this._ticker.setFPS(30),this.timeline=this.createTimeline(),this._ticker.addTimeline(this.timeline),this._ticker.on("tick",this.afterTickCb))}startAnimate(){this._ticker&&this.timeline&&(this._ticker.start(),this.timeline.resume())}pauseRender(t=-1){this._skipRender=t}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new o.b(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(t){t?this._skipRender=-1/0:!1!==this.params.optimize.skipRenderWithOutRange?this._skipRender=+!this.window.isVisible():this._skipRender=0}optmize(t){this.optmizeRender(t.skipRenderWithOutRange),this.params.optimize=t}optmizeRender(t=!1){t&&(this._skipRender=this._skipRender<0?this._skipRender:+!this.window.isVisible(),this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(t){let{center:e={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:i={},alpha:r=0,beta:n=0,camera:s,fieldRatio:a=1,fieldDepth:o}=t;return Object.assign(Object.assign({},t),{center:e,light:i,alpha:r,beta:n,camera:s,fieldRatio:a,fieldDepth:o})}set3dOptions(t){var e,i,r,n,s,a;this.option3d=t;let{light:o,center:h,camera:l,alpha:u,beta:c,fieldRatio:d,fieldDepth:f}=this.get3dOptions(t),{dir:g=[1,1,-1],color:p="white",ambient:v}=o,m=(null!=(e=h.x)?e:this.width/2)+(null!=(i=h.dx)?i:0),_=(null!=(r=h.y)?r:this.height/2)+(null!=(n=h.dy)?n:0),x=[m,_,(null!=(s=h.z)?s:0)+(null!=(a=h.dz)?a:0)],y=0,b=0,T=0;l||(y=Math.sin(u)+m,b=Math.sin(c)+_,T=Math.cos(u)*Math.cos(c)*1);let C=w.F.getPlugin("DirectionalLight");C&&(this.light=new C(g,p,v));let A={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:d,fieldDepth:f,viewParams:{pos:[y,b,T],center:x,up:[0,1,0]}};if(this.camera)this.camera.params=A;else{let t=w.F.getPlugin("OrthoCamera");t&&(this.camera=new t(A))}t.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(t){this._beforeRenderList.push(t)}removeBeforeRender(t){this._beforeRenderList=this._beforeRenderList.filter(e=>e!==t)}setAfterRender(t){this._afterRenderList.push(t)}removeAfterRender(t){this._afterRenderList=this._afterRenderList.filter(e=>e!==t)}afterNextRender(t){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(t)}enableView3dTransform(){if(this.view3dTranform)return;this.view3dTranform=!0;let t=w.F.getPlugin("ViewTransform3dPlugin");t&&this.pluginService.register(new t)}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new g.y))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableAutoRefresh(){this.autoRefresh||"node"===this.global.env||(this.autoRefresh=!0,this.pluginService.register(new p.J))}disableAutoRefresh(){this.autoRefresh&&(this.autoRefresh=!1,this.pluginService.findPluginsByName("AutoRefreshPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new v.z))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new n.YZ;let t=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];t?t.activate(this.pluginService):(t=new m.Q,this.pluginService.register(t))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableLayout(){if(this._enableLayout)return;this._enableLayout=!0;let t=w.F.getPlugin("FlexLayoutPlugin");t&&this.pluginService.register(new t)}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableHtmlAttribute(t){if(this.htmlAttribute)return;let e=w.F.getPlugin("HtmlAttributePlugin");e&&(this.htmlAttribute=t,this.pluginService.register(new e))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach(t=>{this.pluginService.unRegister(t)}))}enableReactAttribute(t){if(this.reactAttribute)return;let e=w.F.getPlugin("ReactAttributePlugin");e&&(this.reactAttribute=t,this.pluginService.register(new e))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach(t=>{this.pluginService.unRegister(t)}))}getPluginsByName(t){return this.pluginService.findPluginsByName(t)}tryUpdateAABBBounds(){let t=this.window.getViewBox();return this._AABBBounds.setValue(t.x1,t.y1,t.x2,t.y2),this._AABBBounds}combineLayer(t,e){throw Error("\u6682\u4E0D\u652F\u6301")}createLayer(t,e){if("released"===this.releaseStatus)return;let i=this.layerService.createLayer(this,{main:!1,layerMode:e,canvasId:t});return this.appendChild(i),i}sortLayer(t){let e=this.children;e.sort(t),this.removeAllChild(),e.forEach(t=>{this.appendChild(t)})}removeLayer(t){return this.removeChild(this.findChildByUid(t))}tryInitInteractiveLayer(){"released"!==this.releaseStatus&&this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(t){this.window.clearViewBox(t)}render(t,e){if("released"===this.releaseStatus)return;this.startAnimate();let i=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=e,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=i,this._skipRender&&this._skipRender++}combineLayersToWindow(){if("harmony"===this.global.env){let t=this.window.getContext().nativeContext;this.forEachChildren((e,i)=>{if(i>0){let i=e.getNativeHandler().getContext().canvas.nativeCanvas.nativeCanvas._c.transferToImageBitmap();t.transferFromImageBitmap(i)}})}}renderNextFrame(t,e){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(t||this).forEach(t=>{this.nextFrameRenderLayerSet.add(t)}),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getSpecifiedRequestAnimationFrame(this.rafId)(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){if("released"===this.releaseStatus)return;this.startAnimate();let t=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=t,this._skipRender&&this._skipRender++}renderLayerList(t,e){let i=[];for(let e=0;e<t.length;e++){let r=t[e];"virtual"===r.layerMode&&(r=r.getNativeHandler().mainHandler.layer),i.includes(r)||i.push(r)}i.forEach(t=>{t.renderCount>this.renderCount||(t.renderCount=this.renderCount+1,t===this.interactiveLayer&&this.dirtyBounds&&this.dirtyBounds.clear(),t.render({renderService:this.renderService,background:t===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e)))}),this.interactiveLayer&&!t.includes(this.interactiveLayer)&&(this.dirtyBounds&&this.dirtyBounds.clear(),this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e)))}resizeWindow(t,e,i=!0){this.window.resize(t,e),i&&this.render()}resize(t,e,i=!0){"released"!==this.releaseStatus&&(this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.window.resize(t,e),this.forEachChildren(i=>{i.resize(t,e)}),this.camera&&this.option3d&&this.set3dOptions(this.option3d),i&&this.render())}resizeView(t,e,i=!0){"released"!==this.releaseStatus&&(this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.forEachChildren(i=>{i.resizeView(t,e)}),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),i&&this.render())}setViewBox(t,e,i,r,n){let s=!0;"object"==typeof t?(this.viewBox.setValue(t.x1,t.y1,t.x2,t.y2),!1===e&&(s=!1)):(this.viewBox.setValue(t,e,t+i,e+r),!1===n&&(s=!1)),this.forEachChildren(t=>{t.resizeView(this.viewBox.width(),this.viewBox.height())}),s&&this.render()}setDpr(t,e=!0){this.forEachChildren(e=>{e.setDpr(t)}),e&&this.render()}setOrigin(t,e){throw Error("\u6682\u4E0D\u652F\u6301")}export(t){throw Error("\u6682\u4E0D\u652F\u6301")}pick(t,e){if("released"===this.releaseStatus)return;let i=this.getPickerService().pick(this.children,new s.E9(t,e),{bounds:this.AABBBounds});return!(!(null==i?void 0:i.graphic)&&!(null==i?void 0:i.group))&&i}setToFrame(t){throw Error("\u6682\u4E0D\u652F\u6301")}release(){var t,e;super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach(t=>{t.release()}),this.interactiveLayer&&(this.interactiveLayer.forEachChildren(t=>{t.setStage&&t.setStage(null,null),this.interactiveLayer.removeChild(t)}),this.interactiveLayer.release()),this.window.release(),null==(t=this._ticker)||t.remTimeline(null==this?void 0:this.timeline),null==(e=this._ticker)||e.removeListener("tick",this.afterTickCb),this.renderService.renderTreeRoots=[]}setStage(t){}dirty(t,e){"released"!==this.releaseStatus&&(e&&t.transformWithMatrix(e),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(t.x1,t.y1,t.x2,t.y2),this.dirtyBounds.union(t))}getLayer(t){return this.children.filter(e=>e.name===t)[0]}renderTo(t){"released"!==this.releaseStatus&&this.forEachChildren((e,i)=>{e.drawTo(t,{renderService:this.renderService,viewBox:t.getViewBox(),transMatrix:t.getViewBoxTransform(),background:e===this.defaultLayer?this.background:void 0,clear:0===i,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})})}renderToNewWindow(t=!0,e){if("released"===this.releaseStatus)return;let i=h.n.get(a.Oo),r=e?-e.x1:0,n=e?-e.y1:0,s=e?e.x2:this.viewWidth,o=e?e.y2:this.viewHeight,l=e?e.width():this.viewWidth,u=e?e.height():this.viewHeight;return i.create({viewBox:{x1:r,y1:n,x2:s,y2:o},width:l,height:u,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(i),i}toCanvas(t=!0,e){if("released"===this.releaseStatus)return;let i=this.renderToNewWindow(t,e).getNativeHandler();return i.nativeCanvas?i.nativeCanvas:null}setCursor(t){this._cursor=t,this.eventSystem.setCursor(t,"ignore")}getCursor(){return this._cursor}eventPointTransform(t){let e=this.global.mapToCanvasPoint(t,this.window);return this.stage.window.pointTransform(e.x,e.y)}pauseTriggerEvent(){this._eventSystem&&this._eventSystem.pauseTriggerEvent()}resumeTriggerEvent(){this._eventSystem&&this._eventSystem.resumeTriggerEvent()}getPickerService(){return this.pickerService||(this.pickerService=h.n.get(d.hH)),this.pickerService}reInit(){this.renderService.reInit(),this.pickerService.reInit()}}},605380:function(t,e,i){i.d(e,{Il:()=>d,Oo:()=>u,zd:()=>c});var r=i(360309),n=i(536163),s=i(203922),a=i(455353),o=i(360177),h=i(509257),l=i(278875);let u=Symbol.for("VWindow"),c=Symbol.for("WindowHandlerContribution"),d=class extends l.w{get width(){if(this._handler){let t=this._handler.getWH();return this._width=t.width}return this._width}get height(){if(this._handler){let t=this._handler.getWH();return this._height=t.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){super(),this.hooks={onChange:new o.n(["x","y","width","height"])},this.active=()=>{let t=this.global;t.env&&!this.actived&&(a.n.getNamed(c,t.env).configure(this,t),this.actived=!0)},this._uid=s.R.GenAutoIncrementId(),this.global=h.w.global,this.postInit()}_nativeAddEventListener(t,e,i){return this._handler.addEventListener(t,e,i)}_nativeRemoveEventListener(t,e,i){return this._handler.removeEventListener(t,e,i)}_nativeDispatchEvent(t){return this._handler.dispatchEvent(t)}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var t;return null!=(t=this._handler.getStyle())?t:{}}set style(t){this._handler.setStyle(t)}create(t){var e,i;this._handler.createWindow(t);let r=this._handler.getWH();this._width=r.width,this._height=r.height,t.viewBox?this.setViewBox(t.viewBox):!1!==t.canvasControled?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:null!=(e=t.width)?e:this._width,y2:null!=(i=t.height)?i:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(t){this._handler=t}setDpr(t){return this._handler.setDpr(t)}resize(t,e){return this._handler.resizeWindow(t,e)}configure(){throw Error("\u6682\u4E0D\u652F\u6301")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this.clearAllEventListeners(),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(t){return this._handler.getImageBuffer?this._handler.getImageBuffer(t):null}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(t){this._handler.clearViewBox(t)}setViewBox(t){this._handler.setViewBox(t)}setViewBoxTransform(t,e,i,r,n,s){this._handler.setViewBoxTransform(t,e,i,r,n,s)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(t,e){let i=this._handler.getViewBox(),r={x:t,y:e};return this._handler.getViewBoxTransform().transformPoint({x:t,y:e},r),r.x-=i.x1,r.y-=i.y1,r}hasSubView(){let t=this._handler.getViewBox();return!(0===t.x1&&0===t.y1&&(0,n.Yt)(this.width,t.width())&&(0,n.Yt)(this.height,t.height()))}isVisible(t){return this._handler.isVisible(t)}onVisibleChange(t){return this._handler.onVisibleChange(t)}getTopLeft(t){return this._handler.getTopLeft(t)}};d=function(t,e,i,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}([(0,r.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],d)}}]);