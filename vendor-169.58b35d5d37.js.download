"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["70903"],{482894:function(t,e,i){i.d(e,{H:()=>n});var r=i(880902);function n(t){return new r.H(t)}},678919:function(t,e,i){let r;i.d(e,{KV:()=>o,kP:()=>s});var n=i(509257);function a(){if(null==r)try{let t=document.createElement("canvas"),e=t.getContext("2d");(r=!!(window&&t.getBoundingClientRect&&requestAnimationFrame&&window.devicePixelRatio&&e&&e.isPointInPath&&e.isPointInStroke))&&(r=!!document.createElement)}catch(t){r=!1}}function s(){a();let t=n.w.global&&n.w.global.env;return t?"browser"===t:r}function o(){a();let t=n.w.global&&n.w.global.env;return t?"node"===t:!r}},994123:function(t,e,i){i.d(e,{g:()=>r});let r="*"},69789:function(t,e,i){i.d(e,{b:()=>y});var r=i(83624),n=i(936123),a=i(956073),s=i(421883),o=i.n(s),l=i(985476),h=i(241897);class d extends h.x{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,r,n,a,s,o,l,h,d,u,c,p,g){throw Error("Method not implemented.")}}class u extends d{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}clone(){var t,e,i;let r=new u(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,null==(t=this.manager)||t.copyPointerData(this,r),null==(e=this.manager)||e.copyMouseData(this,r),null==(i=this.manager)||i.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();let n=this.composedDetailPath();return r.detailPath=n&&n.slice(),r.type=this.type,r}}class c extends d{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var t,e,i;let r=new c(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,null==(t=this.manager)||t.copyWheelData(this,r),null==(e=this.manager)||e.copyMouseData(this,r),null==(i=this.manager)||i.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();let n=this.composedDetailPath();return r.detailPath=n&&n.slice(),r.type=this.type,r}}c.DOM_DELTA_PIXEL=0,c.DOM_DELTA_LINE=1,c.DOM_DELTA_PAGE=2;var p=i(994123),g=i(142813);function f(t){return"mouse"===t||"pen"===t}class m{constructor(t,e){this.dispatch=new(o()),this.cursorTarget=null,this.pauseNotify=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(t,e)=>{if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let i=this.createPointerEvent(t,t.type,e);if(this.dispatchEvent(i,"pointerdown"),"touch"===i.pointerType)this.dispatchEvent(i,"touchstart");else if(f(i.pointerType)){let t=2===i.button;this.dispatchEvent(i,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=i.composedPath(),this.freeEvent(i)},this.onPointerMove=(t,e)=>{var i,r;if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let n=this.createPointerEvent(t,t.type,e),a=f(n.pointerType),s=this.trackingData(t.pointerId),o=this.findMountedTarget(s.overTargets);if(s.overTargets&&o&&o!==this.rootTarget&&o!==n.target){let e="mousemove"===t.type?"mouseout":"pointerout",i=this.createPointerEvent(t,e,o||void 0);if(this.dispatchEvent(i,"pointerout"),a&&this.dispatchEvent(i,"mouseout"),!n.composedPath().includes(o)){let e=this.createPointerEvent(t,"pointerleave",o||void 0);for(e.eventPhase=e.AT_TARGET;e.target&&!n.composedPath().includes(e.target);)e.currentTarget=e.target,this.notifyTarget(e),a&&this.notifyTarget(e,"mouseleave"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(i)}if(o!==n.target){let e="mousemove"===t.type?"mouseover":"pointerover",i=this.clonePointerEvent(n,e);this.dispatchEvent(i,"pointerover"),a&&this.dispatchEvent(i,"mouseover");let r=null==o?void 0:o.parent;for(;r&&r!==this.rootTarget.parent&&r!==n.target;)r=r.parent;if(!r||r===this.rootTarget.parent){let t=this.clonePointerEvent(n,"pointerenter");t.eventPhase=t.AT_TARGET;let e=t.target,i=new Set,r=o;for(;r&&r!==this.rootTarget;)i.add(r),r=r.parent;for(;e&&e!==o&&e!==this.rootTarget.parent;)i.has(e)||(t.currentTarget=e,this.notifyTarget(t),a&&this.notifyTarget(t,"mouseenter")),e=e.parent;this.freeEvent(t)}this.freeEvent(i)}this.dispatchEvent(n,"pointermove"),"touch"===n.pointerType&&this.dispatchEvent(n,"touchmove"),a&&(this.dispatchEvent(n,"mousemove"),this.cursorTarget=n.target,this.cursor=(null==(r=null==(i=n.target)?void 0:i.attribute)?void 0:r.cursor)||this.rootTarget.getCursor()),s.overTargets=n.composedPath(),this.freeEvent(n)},this.onPointerOver=(t,e)=>{var i,r;if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let n=this.trackingData(t.pointerId),a=this.createPointerEvent(t,t.type,e),s=f(a.pointerType);this.dispatchEvent(a,"pointerover"),s&&this.dispatchEvent(a,"mouseover"),"mouse"===a.pointerType&&(this.cursorTarget=a.target,this.cursor=(null==(r=null==(i=a.target)?void 0:i.attribute)?void 0:r.cursor)||this.rootTarget.getCursor());let o=this.clonePointerEvent(a,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;n.overTargets=a.composedPath(),this.freeEvent(a),this.freeEvent(o)},this.onPointerOut=(t,e)=>{if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let i=this.trackingData(t.pointerId);if(i.overTargets){let e=f(t.pointerType),r=this.findMountedTarget(i.overTargets),n=this.createPointerEvent(t,"pointerout",r||void 0);this.dispatchEvent(n),e&&this.dispatchEvent(n,"mouseout");let a=this.createPointerEvent(t,"pointerleave",r||void 0);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),e&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;i.overTargets=[],this.freeEvent(n),this.freeEvent(a)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(t,e)=>{var i;if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let r=g.m.now(),n=this.createPointerEvent(t,t.type,e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if(f(n.pointerType)){let t=2===n.button;this.dispatchEvent(n,t?"rightup":"mouseup")}let a=this.trackingData(t.pointerId),s=this.findMountedTarget(a.pressTargetsByButton[t.button]),o=s;if(s&&!n.composedPath().includes(s)){let e=s;for(;e&&!n.composedPath().includes(e);){if(n.currentTarget=e,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if(f(n.pointerType)){let t=2===n.button;this.notifyTarget(n,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete a.pressTargetsByButton[t.button],o=e}if(o){let e=this.clonePointerEvent(n,"click");e.target=o,e.path=[],e.detailPath=[],a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:e.target,timeStamp:r});let s=a.clicksByButton[t.button];s.target===e.target&&r-s.timeStamp<(null!=(i=this._config.clickInterval)?i:200)?++s.clickCount:s.clickCount=1,s.target=e.target,s.timeStamp=r,e.detail=s.clickCount,f(e.pointerType)?(this.dispatchEvent(e,"click"),2===s.clickCount&&this.dispatchEvent(e,"dblclick")):"touch"===e.pointerType&&this._config.supportsTouchEvents&&(this.dispatchEvent(e,"tap"),2===s.clickCount&&this.dispatchEvent(e,"dbltap")),this.dispatchEvent(e,"pointertap"),this.freeEvent(e)}this.freeEvent(n)},this.onPointerUpOutside=(t,e)=>{if(!(t instanceof u))return void l.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");let i=this.trackingData(t.pointerId),r=this.findMountedTarget(i.pressTargetsByButton[t.button]),n=this.createPointerEvent(t,t.type,e);if(r){let e=r;for(;e;)n.currentTarget=e,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):f(n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),e=e.parent;delete i.pressTargetsByButton[t.button]}this.freeEvent(n)},this.onWheel=(t,e)=>{if(!(t instanceof c))return void l.Y.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");let i=this.createWheelEvent(t,e);this.dispatchEvent(i),this.freeEvent(i)},this.rootTarget=t,this.mappingTable={},this._config=Object.assign({clickInterval:200},e),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((t,e)=>t.priority-e.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){var e,i,r,n,a,s,o;let h;if(!this.rootTarget)return;let d=this.mappingTable[t.type],u=`${t.canvasX}-${t.canvasY}`;if((null==(e=this._prePointTargetCache)?void 0:e[u])&&(null==(r=null==(i=this._prePointTargetCache)?void 0:i[u])?void 0:r.stage)&&(null==(a=null==(n=this._prePointTargetCache)?void 0:n[u])?void 0:a.stage.renderCount)===(null==(s=this._prePointTargetCache)?void 0:s.stageRenderCount)?h=this._prePointTargetCache[u]:(h=this.pickTarget(t.viewX,t.viewY,t),t.pickParams||(this._prePointTargetCache={[u]:h,stageRenderCount:null!=(o=null==h?void 0:h.stage.renderCount)?o:-1})),d)for(let e=0,i=d.length;e<i;e++)d[e].fn(t,h);else l.Y.getInstance().warn(`[EventManager]: Event mapping not defined for ${t.type}`)}propagate(t,e){if(!t.target)return;let i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let r=0,n=i.length-1;r<n;r++)if(t.currentTarget=i[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let r=i.length-2;r>=0;r--)if(t.currentTarget=i[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}propagationPath(t){let e=[t];for(let i=0;i<2048&&t!==this.rootTarget&&t.parent;i++){if(!t.parent)throw Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}notifyTarget(t,e){if(this.pauseNotify)return;e=null!=e?e:t.type;let i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){var r,n;let a=this.allocateEvent(u);return this.copyPointerData(t,a),this.copyMouseData(t,a),this.copyData(t,a),a.nativeEvent=t.nativeEvent,a.originalEvent=t,a.target=i||this.pickTarget(null!=(r=a.viewX)?r:a.global.x,null!=(n=a.viewY)?n:a.global.y,a),"string"==typeof e&&(a.type=e),a}createWheelEvent(t,e){var i,r;let n=this.allocateEvent(c);return this.copyWheelData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.nativeEvent=t.nativeEvent,n.originalEvent=t,n.target=e||this.pickTarget(null!=(i=n.viewX)?i:n.global.x,null!=(r=n.viewY)?r:n.global.y,n),n}clonePointerEvent(t,e){let i=this.allocateEvent(u);i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice();let r=t.composedDetailPath();return i.detailPath=r&&r.slice(),i.type=null!=e?e:i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof u&&e instanceof u&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof d&&e instanceof d&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach(i=>{e[i].x=t[i].x,e[i].y=t[i].y}))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=g.m.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.x=t.layer.x,e.layer.y=t.layer.y,e.page.x=t.page.x,e.page.y=t.page.y,e.pickParams=t.pickParams}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){var e;this.eventPool.has(t)||this.eventPool.set(t,[]);let i=(null==(e=this.eventPool.get(t))?void 0:e.pop())||new t(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.detailPath=[],i.target=null,i}freeEvent(t){var e;if(t.manager!==this)throw Error("It is illegal to free an event not managed by this EventManager!");let i=t.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),null==(e=this.eventPool.get(i))||e.push(t)}notifyListeners(t,e){let i=t.currentTarget._events[e];if(i)if("fn"in i)i.once&&t.currentTarget.removeEventListener(e,i.fn,{once:!0}),i.fn.call(i.context,t);else for(let r=0,n=i.length;r<n&&!t.propagationImmediatelyStopped;r++)i[r].once&&t.currentTarget.removeEventListener(e,i[r].fn,{once:!0}),i[r].fn.call(i[r].context,t);this.emitDelegation(t,e)}emitDelegation(t,e){let i=t.currentTarget._events[p.g];if(i)if("fn"in i)i.fn.call(i.context,t,e);else for(let r=0,n=i.length;r<n&&!t.propagationImmediatelyStopped;r++)i[r].fn.call(i[r].context,t,e)}pickTarget(t,e,i){let r,n=this.rootTarget.pick(t,e);return r=n&&n.graphic?n.graphic:n&&n.group?n.group:this.rootTarget.AABBBounds.contains(t,e)?this.rootTarget:null,i&&(i.pickParams=n.params),r}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}let b={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class y{constructor(t){this.resolution=1,this.onPointerDown=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;let e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(!t.cancelable&&"cancelable"in t||t.preventDefault());for(let t=0,i=e.length;t<i;t++){let i=e[t],r=this.bootstrapEvent(this.rootPointerEvent,i);this.manager.mapEvent(r)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerMove=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType||this.isEventOutsideOfTargetElement(t))return;let e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){let i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.manager.mapEvent(i)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerUp=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;let e=this.isEventOutsideOfTargetViewPort(t)?"outside":"",i=this.normalizeToPointerData(t);for(let t=0,r=i.length;t<r;t++){let r=this.bootstrapEvent(this.rootPointerEvent,i[t]);r.type+=e,this.manager.mapEvent(r)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerOverOut=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;let e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){let i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.manager.mapEvent(i)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onWheel=t=>{let e=this.normalizeWheelEvent(t);this.manager.mapEvent(e)};let{targetElement:e,resolution:i,rootNode:r,global:n,autoPreventDefault:a=!1,clickInterval:s,supportsTouchEvents:o=n.supportsTouchEvents,supportsPointerEvents:l=n.supportsPointerEvents}=t;this.manager=new m(r,{clickInterval:s,supportsTouchEvents:o}),this.globalObj=n,this.supportsPointerEvents=l,this.supportsTouchEvents=o,this.supportsMouseEvents=n.supportsMouseEvents,this.applyStyles=n.applyStyles,this.autoPreventDefault=a,this.eventsAdded=!1,this.rootPointerEvent=new u,this.rootWheelEvent=new c,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=i,this.setTargetElement(e)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(t,e){if(!e&&!this.manager.rootTarget.window._handler.canvas.controled)return;t||(t="default");let{applyStyles:i,domElement:a}=this;if(this.currentCursor===t)return;this.currentCursor=t;let s=this.cursorStyles[t];s?"string"==typeof s&&i?a.style.cursor=s:"function"==typeof s?s(t):"object"==typeof s&&i&&Object.assign(a.style,s):i&&(0,r.Z)(t)&&!(0,n.Z)(this.cursorStyles,t)&&(a.style.cursor=t)}setTargetElement(t){this.removeEvents(),this.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;let{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.addEventListener("pointermove",this.onPointerMove,!0),t.addEventListener("pointerup",this.onPointerUp,!0)):(e.addEventListener("pointermove",this.onPointerMove,!0),e.addEventListener("pointerup",this.onPointerUp,!0)),e.addEventListener("pointerdown",this.onPointerDown,!0),e.addEventListener("pointerleave",this.onPointerOverOut,!0),e.addEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.addEventListener("mousemove",this.onPointerMove,!0),t.addEventListener("mouseup",this.onPointerUp,!0)):(e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mouseup",this.onPointerUp,!0)),e.addEventListener("mousedown",this.onPointerDown,!0),e.addEventListener("mouseout",this.onPointerOverOut,!0),e.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.addEventListener("touchstart",this.onPointerDown,!0),e.addEventListener("touchend",this.onPointerUp,!0),e.addEventListener("touchmove",this.onPointerMove,!0)),e.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;let{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.removeEventListener("pointermove",this.onPointerMove,!0),t.removeEventListener("pointerup",this.onPointerUp,!0)):(e.removeEventListener("pointermove",this.onPointerMove,!0),e.removeEventListener("pointerup",this.onPointerUp,!0)),e.removeEventListener("pointerdown",this.onPointerDown,!0),e.removeEventListener("pointerleave",this.onPointerOverOut,!0),e.removeEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.removeEventListener("mousemove",this.onPointerMove,!0),t.removeEventListener("mouseup",this.onPointerUp,!0)):(e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mouseup",this.onPointerUp,!0)),e.removeEventListener("mousedown",this.onPointerDown,!0),e.removeEventListener("mouseout",this.onPointerOverOut,!0),e.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.removeEventListener("touchstart",this.onPointerDown,!0),e.removeEventListener("touchend",this.onPointerUp,!0),e.removeEventListener("touchmove",this.onPointerMove,!0)),e.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(t){return this.domElement.pointTransform?this.domElement.pointTransform(t.x,t.y):t}mapToCanvasPoint(t){var e,i;let r=null==(e=this.globalObj)?void 0:e.mapToCanvasPoint(t,this.domElement);if(r)return r;let n=0,a=0;if(t.changedTouches){let e=null!=(i=t.changedTouches[0])?i:{};n=e.clientX||0,a=e.clientY||0}else n=t.clientX||0,a=t.clientY||0;let s=this.domElement.getBoundingClientRect();return{x:n-s.left,y:a-s.top}}normalizeToPointerData(t){let e=[];if(this.supportsTouchEvents&&t.changedTouches&&t.changedTouches.length)for(let i=0,r=t.changedTouches.length;i<r;i++){let r=t.changedTouches[i];(0,a.Z)(r.button)&&(r.button=0),(0,a.Z)(r.buttons)&&(r.buttons=1),(0,a.Z)(r.isPrimary)&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),(0,a.Z)(r.width)&&(r.width=r.radiusX||1),(0,a.Z)(r.height)&&(r.height=r.radiusY||1),(0,a.Z)(r.tiltX)&&(r.tiltX=0),(0,a.Z)(r.tiltY)&&(r.tiltY=0),(0,a.Z)(r.pointerType)&&(r.pointerType="touch"),(0,a.Z)(r.pointerId)&&(r.pointerId=r.identifier||0),(0,a.Z)(r.pressure)&&(r.pressure=r.force||.5),(0,a.Z)(r.twist)&&(r.twist=0),(0,a.Z)(r.tangentialPressure)&&(r.tangentialPressure=0),(0,a.Z)(r.layerX)&&(r.layerX=r.offsetX=r.clientX),(0,a.Z)(r.layerY)&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=t.type,e.push(r)}else this.globalObj.supportsMouseEvents&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof PointerEvent)||((0,a.Z)(t.isPrimary)&&(t.isPrimary=!0),(0,a.Z)(t.width)&&(t.width=1),(0,a.Z)(t.height)&&(t.height=1),(0,a.Z)(t.tiltX)&&(t.tiltX=0),(0,a.Z)(t.tiltY)&&(t.tiltY=0),(0,a.Z)(t.pointerType)&&(t.pointerType="mouse"),(0,a.Z)(t.pointerId)&&(t.pointerId=1),(0,a.Z)(t.pressure)&&(t.pressure=.5),(0,a.Z)(t.twist)&&(t.twist=0),(0,a.Z)(t.tangentialPressure)&&(t.tangentialPressure=0),t.isNormalized=!0),e.push(t);return e}normalizeWheelEvent(t){let e=this.rootWheelEvent;this.transferMouseData(e,t),e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ;let{x:i,y:r}=this.mapToCanvasPoint(t);e.canvas.x=i,e.canvas.y=r,e.global.x=i,e.global.y=r,e.offset.x=i,e.offset.y=r;let{x:n,y:a}=this.mapToViewportPoint(e);return e.viewport.x=n,e.viewport.y=a,e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);let{x:i,y:r}=this.mapToCanvasPoint(e);t.canvas.x=i,t.canvas.y=r,t.global.x=i,t.global.y=r,t.offset.x=i,t.offset.y=r;let{x:n,y:a}=this.mapToViewportPoint(t);return t.viewport.x=n,t.viewport.y=a,t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=b[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=g.m.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null}isEventOutsideOfTargetViewPort(t){if(this.isEventOutsideOfTargetElement(t))return!0;if(this.domElement.getViewBox){let e=this.mapToViewportPoint(this.mapToCanvasPoint(t)),i=this.domElement.getViewBox(),r=i.width(),n=i.height();return!(e.x<r&&e.y<n&&e.x>0&&e.y>0)}return!1}isEventOutsideOfTargetElement(t){let e=t.target;return t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]),e!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}pauseTriggerEvent(){this.manager.pauseNotify=!0}resumeTriggerEvent(){this.manager.pauseNotify=!1}}},241897:function(t,e,i){i.d(e,{x:()=>n});var r=i(796241);class n{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=n.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.composedDetailPath(),this.path}composedDetailPath(){return this.pickParams&&this.pickParams.graphic?(this.detailPath=this.path.slice(),this._composedDetailPath(this.pickParams)):this.detailPath=this.path.slice(),this.detailPath}_composedDetailPath(t){if(t&&t.graphic){let e=t.graphic;if(e.stage){let i=e.stage.eventSystem.manager.propagationPath(e);this.detailPath.push(i),this._composedDetailPath(t.params)}}}preventDefault(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault()}catch(t){this.nativeEvent.preventDefault&&(0,r.Z)(this.nativeEvent.preventDefault)&&this.nativeEvent.preventDefault()}this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation()}catch(t){this.nativeEvent.stopPropagation&&(0,r.Z)(this.nativeEvent.stopPropagation)&&this.nativeEvent.stopPropagation()}this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw Error("Method not implemented.")}}},170365:function(t,e,i){i.d(e,{A:()=>n});var r=i(241897);class n extends r.x{constructor(t,e){super(),this.type=t,this.detail=e}}},142813:function(t,e,i){i.d(e,{m:()=>r});let r="object"==typeof performance&&performance.now?performance:Date},947581:function(t,e,i){i.d(e,{F:()=>r});class r{static registerPlugin(t,e){r._pluginClasses[t]=e}static getPlugin(t){return r._pluginClasses[t]}}r._pluginClasses={}},30371:function(t,e,i){i.d(e,{Q:()=>m,w:()=>f});var r=i(704654),n=i(695723),a=i(309762),s=i(408830),o=i(426835),l=i(92451),h=i(780949),d=i(25666),u=i(509257),c=i(721756),p=i(819024);let g=["innerRadius","outerRadius","startAngle","endAngle","cornerRadius","padAngle","padRadius","cap",...o.DH];class f extends o.zs{constructor(t){super(t),this.type="arc",this.numberType=c.r_}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{startAngle:t,endAngle:e,outerRadius:i,innerRadius:r}=this.attribute;return this._validNumber(t)&&this._validNumber(e)&&this._validNumber(i)&&this._validNumber(r)}getParsedCornerRadius(){let t=this.getGraphicTheme(),{cornerRadius:e=t.cornerRadius,innerPadding:i=t.innerPadding,outerPadding:a=t.outerPadding}=this.attribute,{outerRadius:s=t.outerRadius,innerRadius:o=t.innerRadius}=this.attribute;if(s+=a,o-=i,0===e||"0%"===e)return 0;let l=Math.abs(s-o),h=t=>Math.min((0,r.Z)(t,!0)?t:l*parseFloat(t)/100,l/2);if((0,n.Z)(e)){let t=e.map(t=>h(t)||0);return 0===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:(3===t.length&&t.push(0),t)}return h(e)}getParsedAngle(){let t=this.getGraphicTheme(),{startAngle:e=t.startAngle,endAngle:i=t.endAngle}=this.attribute,{cap:r=t.cap}=this.attribute,n=i-e>=0?1:-1,o=i-e;if(i=(e=(0,a.gt)(e))+o,r&&(0,s.Wn)(o)<s.f7-s.Ho){let a=1,o=1;r.length&&(a=Number(r[0]),o=Number(r[1]));let{outerRadius:l=t.outerRadius,innerRadius:h=t.innerRadius}=this.attribute,{outerPadding:d=t.outerPadding,innerPadding:u=t.innerPadding}=this.attribute,c=Math.abs((l+=d)-(h-=u))/2,p=c/l;if(c>s.Ho&&l>s.Ho)return{startAngle:e-n*p*a,endAngle:i+n*p*o,sc:n*p*a,ec:n*p*o}}return{startAngle:e,endAngle:i}}getParsePadAngle(t,e){let i=this.getGraphicTheme(),{innerPadding:r=i.innerPadding,outerPadding:n=i.outerPadding,padAngle:a=i.padAngle}=this.attribute,{outerRadius:o=i.outerRadius,innerRadius:l=i.innerRadius}=this.attribute;o+=n,l-=r;let{padRadius:h=(0,s._b)(o*o+l*l)}=this.attribute,d=(0,s.Wn)(e-t),u=t,c=e,p=t,g=e,f=a/2,m=d,b=d;if(f>s.Ho&&h>s.Ho){let i=e>t?1:-1,r=(0,s.ZR)(Number(h)/l*(0,s.O$)(f)),n=(0,s.ZR)(Number(h)/o*(0,s.O$)(f));return(m-=2*r)>s.Ho?(r*=i,p+=r,g-=r):(m=0,p=g=(t+e)/2),(b-=2*n)>s.Ho?(n*=i,u+=n,c-=n):(b=0,u=c=(t+e)/2),{outerStartAngle:u,outerEndAngle:c,innerStartAngle:p,innerEndAngle:g,innerDeltaAngle:m,outerDeltaAngle:b}}return{outerStartAngle:u,outerEndAngle:c,innerStartAngle:p,innerEndAngle:g,innerDeltaAngle:m,outerDeltaAngle:b}}getGraphicTheme(){return(0,d.gh)(this).arc}updateAABBBounds(t,e,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateArcAABBBoundsImprecise(t,e,i):this.updateArcAABBBoundsAccurate(t,e,i));let{tb1:n,tb2:a}=u.w.graphicService.updateTempAABBBounds(i);(0,p.E)(t,e,n),i.union(n),n.setValue(a.x1,a.y1,a.x2,a.y2),this.setWidthHeightWithoutTransform(i);let{lineJoin:s=e.lineJoin}=t;return u.w.graphicService.transformAABBBounds(t,i,e,"miter"===s,this),i}updateArcAABBBoundsImprecise(t,e,i){let{outerRadius:r=e.outerRadius,innerRadius:n=e.innerRadius}=t,{outerPadding:a=e.outerPadding,innerPadding:s=e.innerPadding}=t;return(r+=a)<(n-=s)&&(r=n),i.set(-r,-r,r,r),i}updateArcAABBBoundsAccurate(t,e,i){let{outerRadius:r=e.outerRadius,innerRadius:n=e.innerRadius}=t,{outerPadding:a=e.outerPadding,innerPadding:o=e.innerPadding}=t;if((r+=a)<(n-=o)){let t=r;r=n,n=t}let{endAngle:l=e.endAngle,startAngle:d=e.startAngle}=t;if(d>l){let t=d;d=l,l=t}return r<=s.Ho?i.set(0,0,0,0):Math.abs(l-d)>s.f7-s.Ho?i.set(-r,-r,r,r):((0,h.jx)(d,l,r,i),(0,h.jx)(d,l,n,i)),i}needUpdateTags(t){return super.needUpdateTags(t,g)}needUpdateTag(t){return super.needUpdateTag(t,g)}toCustomPath(){var t,e,i,r;let n=super.toCustomPath();if(n)return n;let a=this.attribute,{startAngle:o,endAngle:h}=this.getParsedAngle(),d=(null!=(t=a.innerRadius)?t:0)-(null!=(e=a.innerPadding)?e:0),u=(null!=(i=a.outerRadius)?i:0)-(null!=(r=a.outerPadding)?r:0),c=(0,s.Wn)(h-o),p=h>o;if(u<d){let t=u;u=d,d=t}if(n=new l.r,u<=s.Ho)n.moveTo(0,0);else if(c>=s.f7-s.Ho)n.moveTo(0+u*(0,s.mC)(o),0+u*(0,s.O$)(o)),n.arc(0,0,u,o,h,!p),d>s.Ho&&(n.moveTo(0+d*(0,s.mC)(h),0+d*(0,s.O$)(h)),n.arc(0,0,d,h,o,p));else{let t=u*(0,s.mC)(o),e=u*(0,s.O$)(o),i=d*(0,s.mC)(h),r=d*(0,s.O$)(h);n.moveTo(0+t,0+e),n.arc(0,0,u,o,h,!p),n.lineTo(0+i,0+r),n.arc(0,0,d,h,o,p),n.closePath()}return n}clone(){return new f(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return f.NOWORK_ANIMATE_ATTR}}function m(t){return new f(t)}f.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},o.Wl)},138139:function(t,e,i){let r;i.d(e,{o:()=>a});var n=i(205427);function a(t){return r||(r=n.i.CreateGraphic("text",{})),r.initAttributes(t),r.AABBBounds}},226594:function(t,e,i){i.d(e,{C:()=>c,y:()=>p});var r=i(408830),n=i(426835),a=i(92451),s=i(780949),o=i(25666),l=i(509257),h=i(721756),d=i(819024);let u=["radius","startAngle","endAngle",...n.DH];class c extends n.zs{constructor(t={radius:1}){super(t),this.type="circle",this.numberType=h.Aw}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{startAngle:t,endAngle:e,radius:i}=this.attribute;return this._validNumber(t)&&this._validNumber(e)&&this._validNumber(i)}getGraphicTheme(){return(0,o.gh)(this).circle}updateAABBBounds(t,e,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateCircleAABBBoundsImprecise(t,e,i):this.updateCircleAABBBoundsAccurate(t,e,i));let{tb1:n,tb2:a}=l.w.graphicService.updateTempAABBBounds(i);return(0,d.E)(t,e,n),i.union(n),n.setValue(a.x1,a.y1,a.x2,a.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,l.w.graphicService.transformAABBBounds(t,i,e,!1,this),i}updateCircleAABBBoundsImprecise(t,e,i){let{radius:r=e.radius}=t;return i.set(-r,-r,r,r),i}updateCircleAABBBoundsAccurate(t,e,i){let{startAngle:n=e.startAngle,endAngle:a=e.endAngle,radius:o=e.radius}=t;return a-n>r.f7-r.Ho?i.set(-o,-o,o,o):(0,s.jx)(n,a,o,i),i}needUpdateTags(t){return super.needUpdateTags(t,u)}needUpdateTag(t){return super.needUpdateTag(t,u)}toCustomPath(){var t,e,i;let r=super.toCustomPath();if(r)return r;let n=this.attribute,s=null!=(t=n.radius)?t:this.getDefaultAttribute("radius"),o=null!=(e=n.startAngle)?e:this.getDefaultAttribute("startAngle"),l=null!=(i=n.endAngle)?i:this.getDefaultAttribute("endAngle");return(r=new a.r).arc(0,0,s,o,l),r}clone(){return new c(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return c.NOWORK_ANIMATE_ATTR}}function p(t){return new c(t)}c.NOWORK_ANIMATE_ATTR=n.Wl},678412:function(t,e,i){i.d(e,{F1:()=>l,Iq:()=>C,J7:()=>A,T5:()=>P,Up:()=>m,VF:()=>w,WC:()=>u,YW:()=>M,ZD:()=>S,bZ:()=>v,e9:()=>x,eh:()=>b,h8:()=>B,jK:()=>R,kx:()=>T,pp:()=>h,q9:()=>c,t8:()=>y,th:()=>k,xF:()=>f});var r=i(669182),n=i(408830),a=i(985476),s=i(92451),o=i(927484);let l={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new r.y},h={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},d={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},u=Object.assign({outerBorder:Object.assign(Object.assign({},d),{distance:0}),innerBorder:Object.assign(Object.assign({},d),{distance:0})},d),c={text:"",maxLineWidth:1/0,maxWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:"PingFang SC,Microsoft Yahei,system-ui,'-apple-system',segoe ui,\n    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol",fontWeight:"",ellipsis:"\u2026",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0,measureMode:o.r.fontBounding,keepCenterInLine:!1},p=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,autoAnimateTexture:!1,textureRatio:1,textureOptions:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,backgroundKeepAspectRatio:!1,backgroundClip:!0,backgroundScale:1,backgroundOffsetX:0,backgroundOffsetY:0,blur:0,filter:"",cursor:null,html:null,react:null,vue:null},h),u),{alignSelf:"auto"}),{pickStrokeBuffer:0}),g={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},f=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,shadowGraphic:void 0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,fillStrokeOrder:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden",shadowPickMode:"graphic",keepStrokeScale:!1,clipConfig:null,roughStyle:null},{_debug_bounds:!1}),p),l),m=Object.assign(Object.assign({},f),{startAngle:0,endAngle:n.f7,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),b=Object.assign(Object.assign(Object.assign({},f),g),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1,curveTension:1}),y=Object.assign(Object.assign({},f),{radius:1,startAngle:0,endAngle:n.f7}),v=Object.assign(Object.assign({},f),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",baseOpacity:1,cornerType:"round"}),x=Object.assign(Object.assign({},f),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),B=Object.assign(Object.assign(Object.assign({},f),g),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1,curveTension:1}),A=Object.assign(Object.assign({},f),{path:new s.r,fillStrokeOrder:1,clipRange:1,customPath:()=>{a.Y.getInstance().warn("\u7A7A\u51FD\u6570")}}),S=Object.assign(Object.assign({},f),{points:[],cornerRadius:0,closePath:!0}),w=Object.assign(Object.assign({},f),{width:100,height:100,spikes:5,thickness:.5}),T=Object.assign(Object.assign({},f),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0,cornerType:"round",drawStrokeWhenZeroWH:!1});Object.assign(Object.assign({},f),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0,cornerType:"round",drawStrokeWhenZeroWH:!1});let k=Object.assign(Object.assign({},f),{symbolType:"circle",size:10,keepDirIn3d:!0,clipRange:1}),P=Object.assign(Object.assign(Object.assign({},f),c),{strokeBoundsBuffer:0,keepDirIn3d:!0}),C=Object.assign(Object.assign(Object.assign({},f),c),{upgradeAttrs:null,editable:!1,editOptions:null,ascentDescentMode:"actual",width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],disableAutoWrapLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),R=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0,maxWidth:500,maxHeight:500},f),{fill:!0,cornerRadius:0,cornerType:"round"}),M=Object.assign(Object.assign({},R),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1})},721756:function(t,e,i){i.d(e,{$M:()=>g,Aw:()=>o,B5:()=>f,Hf:()=>d,IJ:()=>a,IO:()=>v,I_:()=>l,Kh:()=>c,Lo:()=>x,PN:()=>h,Ri:()=>s,Us:()=>m,_u:()=>p,fB:()=>b,qm:()=>u,r_:()=>n,tA:()=>y});var r=i(721192);let n=(0,r.Gg)(),a=(0,r.Gg)(),s=(0,r.Gg)(),o=(0,r.Gg)();(0,r.Gg)();let l=(0,r.Gg)(),h=(0,r.Gg)(),d=(0,r.Gg)(),u=(0,r.Gg)(),c=(0,r.Gg)();(0,r.Gg)();let p=(0,r.Gg)();(0,r.Gg)();let g=(0,r.Gg)();(0,r.Gg)();let f=(0,r.Gg)(),m=(0,r.Gg)(),b=Symbol.for("GraphicService"),y=Symbol.for("GraphicCreator"),v={"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity",stroke:"stroke",fill:"fill"},x=Object.keys(v)},205427:function(t,e,i){i.d(e,{i:()=>r});let r=new class{constructor(){this.store=new Map}RegisterGraphicCreator(t,e){this.store.set(t,e),this[t]=e}CreateGraphic(t,e){let i=this.store.get(t);return i?i(e):null}}},819024:function(t,e,i){i.d(e,{E:()=>r});let r=(t,e,i)=>{let{outerBorder:r,shadowBlur:n=e.shadowBlur}=t;if(r){let t=e.outerBorder,{distance:a=t.distance,lineWidth:s=t.lineWidth}=r;i.expand(a+(n+s)/2)}return i}},228279:function(t,e,i){i.d(e,{JG:()=>y,M_:()=>b,RT:()=>m});var r,n=i(360309),a=i(458943),s=i(263401),o=i(704654),l=i(360177),h=i(492859),d=i(721192),u=i(418953),c=i(170130),p=i(798043),g=i(721756),f=i(795069);function m(t,e,i){var r;let{x:n=i.x,y:a=i.y,z:s=i.z,dx:o=i.dx,dy:l=i.dy,dz:h=i.dz,scaleX:d=i.scaleX,scaleY:c=i.scaleY,scaleZ:p=i.scaleZ,alpha:g=i.alpha,beta:m=i.beta,angle:b=i.angle,anchor3d:y=e.attribute.anchor,anchor:v}=e.attribute,x=[0,0,0];if(y){if("string"==typeof y[0]){let t=parseFloat(y[0])/100,i=e.AABBBounds;x[0]=i.x1+(i.x2-i.x1)*t}else x[0]=y[0];if("string"==typeof y[1]){let t=parseFloat(y[1])/100,i=e.AABBBounds;x[1]=i.x1+(i.x2-i.x1)*t}else x[1]=y[1];x[2]=null!=(r=y[2])?r:0}if((0,f.TL)(t),(0,f.Iu)(t,t,[n+o,a+l,s+h]),(0,f.Iu)(t,t,[x[0],x[1],x[2]]),(0,f.lM)(t,t,m),(0,f.uD)(t,t,g),(0,f.Iu)(t,t,[-x[0],-x[1],x[2]]),(0,f.mN)(t,t,[d,c,p]),b){let i=u.yp.allocate(),r=[0,0];if(v){if("string"==typeof y[0]){let t=parseFloat(y[0])/100,i=e.AABBBounds;r[0]=i.x1+(i.x2-i.x1)*t}else r[0]=y[0];if("string"==typeof y[1]){let t=parseFloat(y[1])/100,i=e.AABBBounds;r[1]=i.x1+(i.x2-i.x1)*t}else r[1]=y[1]}(0,f.Iu)(i,i,[r[0],r[1],0]),(0,f.jI)(i,i,b),(0,f.Iu)(i,i,[-r[0],-r[1],0]),(0,f.G9)(t,t,i)}}function b(t){let{alpha:e,beta:i}=t.attribute;return e||i}let y=class{constructor(t){this.creator=t,this.hooks={onAttributeUpdate:new l.n(["graphic"]),onSetStage:new l.n(["graphic","stage"]),onRemove:new l.n(["graphic"]),onRelease:new l.n(["graphic"]),onAddIncremental:new l.n(["graphic","group","stage"]),onClearIncremental:new l.n(["graphic","group","stage"]),beforeUpdateAABBBounds:new l.n(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new l.n(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"]),clearAABBBounds:new l.n(["graphic","stage","aabbBounds"])},this.tempAABBBounds1=new s.FB,this.tempAABBBounds2=new s.FB}onAttributeUpdate(t){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(t)}onSetStage(t,e){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(t,e)}onRemove(t){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(t)}onRelease(t){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(t)}onAddIncremental(t,e,i){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(t,e,i)}onClearIncremental(t,e){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(t,e)}beforeUpdateAABBBounds(t,e,i,r){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(t,e,i,r)}afterUpdateAABBBounds(t,e,i,r,n){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(t,e,i,r,n)}clearAABBBounds(t,e,i){this.hooks.clearAABBBounds.taps.length&&this.hooks.clearAABBBounds.call(t,e,i)}updatePathProxyAABBBounds(t,e){let i="function"==typeof e.pathProxy?e.pathProxy(e.attribute):e.pathProxy;if(!i)return!1;let r=new c.C(t);return(0,p.h)(i.commandList,r,0,0),!0}updateHTMLTextAABBBounds(t,e,i,r){let{textAlign:n,textBaseline:a}=t;if(null!=t.forceBoundsHeight){let e=(0,o.Z)(t.forceBoundsHeight)?t.forceBoundsHeight:t.forceBoundsHeight(),r=(0,h.nV)(a,e,e);i.set(i.x1,r,i.x2,r+e)}if(null!=t.forceBoundsWidth){let e=(0,o.Z)(t.forceBoundsWidth)?t.forceBoundsWidth:t.forceBoundsWidth(),r=(0,h.js)(n,e);i.set(r,i.y1,r+e,i.y2)}}combindShadowAABBBounds(t,e){if(e&&e.shadowRoot){let i=e.shadowRoot.AABBBounds;t.union(i)}}transformAABBBounds(t,e,i,r,n){if(!e.empty()){let{scaleX:n=i.scaleX,scaleY:a=i.scaleY,stroke:s=i.stroke,shadowBlur:o=i.shadowBlur,lineWidth:l=i.lineWidth,pickStrokeBuffer:h=i.pickStrokeBuffer,strokeBoundsBuffer:u=i.strokeBoundsBuffer}=t,c=this.tempAABBBounds1,p=this.tempAABBBounds2;if(s&&l){let t=(l+h)/Math.abs(n+a);(0,d.ph)(c,t,r,u),e.union(c),c.setValue(p.x1,p.y1,p.x2,p.y2)}if(o){let{shadowOffsetX:r=i.shadowOffsetX,shadowOffsetY:s=i.shadowOffsetY}=t,l=o/Math.abs(n+a)*2;(0,d.ph)(c,l,!1,u+1),c.translate(r,s),e.union(c)}}if(this.combindShadowAABBBounds(e,n),e.empty())return;let a=!0,o=n.transMatrix;n&&n.isContainer&&(a=1!==o.a||0!==o.b||0!==o.c||1!==o.d||0!==o.e||0!==o.f),a&&(0,s.n2)(e,e,o)}validCheck(t,e,i,r){if(!r||null!=t.forceBoundsHeight||null!=t.forceBoundsWidth||r.shadowRoot||r.isContainer)return!0;let{visible:n=e.visible}=t;return!(!r.valid||!n)||(i.empty()||(r.parent&&i.transformWithMatrix(r.parent.globalTransMatrix),this.clearAABBBounds(r,r.stage,i),i.clear()),!1)}updateTempAABBBounds(t){let e=this.tempAABBBounds1,i=this.tempAABBBounds2;return e.setValue(t.x1,t.y1,t.x2,t.y2),i.setValue(t.x1,t.y1,t.x2,t.y2),{tb1:e,tb2:i}}};y=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,n.b)(),(r=(0,a.f)(g.tA),function(t,e){r(t,e,0)}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],y)},426835:function(t,e,i){i.d(e,{DH:()=>tz,zs:()=>tZ,Wl:()=>tX});var r=i(263401),n=i(695723),a=i(408830),s=i(669182),o=i(919498),l=i(454326),h=i(83624),d=i(636410),u=i(806761),c=i(480971),p=i(421883),g=i.n(p),f=i(985476),m=i(863778),b=i(796241),y=i(203922);class v extends g(){get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=y.R.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(t,e=!1){if(e){let e=this._lastChild,i=0;for(;e;){if(t(e,i++))return;e=e._prev}}else{let e=this._firstChild,i=0;for(;e;){if(t(e,i++))return;e=e._next}}}forEachChildrenAsync(t,e=!1){var i,r,n,a;return i=this,r=void 0,n=void 0,a=function*(){if(e){let e=this._lastChild,i=0;for(;e;){let r=t(e,i++);if(r.then&&(r=yield r),r)return;e=e._prev}}else{let e=this._firstChild,i=0;for(;e;){let r=t(e,i++);if(r.then&&(r=yield r),r)return;e=e._next}}},new(n||(n=Promise))(function(t,e){function s(t){try{l(a.next(t))}catch(t){e(t)}}function o(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):((i=e.value)instanceof n?i:new n(function(t){t(i)})).then(s,o)}l((a=a.apply(i,r||[])).next())})}forEach(t){return this.forEachChildren(t)}appendChild(t,e=!0){if(this._uid===t._uid)return null;if(!e&&t.isAncestorsOf(this))throw Error("\u3010Node::appendChild\u3011\u4E0D\u80FD\u5C06\u7236\u8F88\u5143\u7D20append\u4E3A\u5B50\u5143\u7D20");return t.parent&&t.parent.removeChild(t),t.parent=this,this._lastChild?(this._lastChild._next=t,t._prev=this._lastChild,this._lastChild=t):(this._firstChild=this._lastChild=t,t._prev=t._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this.setCount(t.count),this._structEdit=!0,t}appendChildArrHighPerformance(t,e=!1){return console.error("\u6682\u4E0D\u652F\u6301\u8BE5\u51FD\u6570"),t}insertBefore(t,e){if(!e)return this.appendChild(t);if(this===t||t===e)return null;if(t.isAncestorsOf(this))throw Error("\u3010Node::insertBefore\u3011\u4E0D\u80FD\u5C06\u7236\u8F88\u5143\u7D20insert\u4E3A\u5B50\u5143\u7D20");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,t._prev=e._prev,e._prev?e._prev._next=t:this._firstChild=t,e._prev=t,t._next=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertAfter(t,e){if(!e)return this.appendChild(t);if(this===t||t===e)return null;if(t.isAncestorsOf(this))throw Error("\u3010Node::insertAfter\u3011\u4E0D\u80FD\u5C06\u7236\u8F88\u5143\u7D20insert\u4E3A\u5B50\u5143\u7D20");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,e._next?(e._next._prev=t,t._next=e._next):this._lastChild=t,e._next=t,t._prev=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertInto(t,e){if(!this._ignoreWarn&&this._nodeList&&f.Y.getInstance().warn("insertIntoKeepIdx\u548CinsertInto\u6DF7\u7528\u53EF\u80FD\u4F1A\u5B58\u5728\u9519\u8BEF"),e>=this.childrenCount)return this.appendChild(t);if(this===t)return null;if(t.isAncestorsOf(this))throw Error("\u3010Node::insertBefore\u3011\u4E0D\u80FD\u5C06\u7236\u8F88\u5143\u7D20insert\u4E3A\u5B50\u5143\u7D20");if(t.parent&&t.parent.removeChild(t),t.parent=this,0===e)t._next=this._firstChild,this._firstChild&&(this._firstChild._prev=t),t._prev=null,this._firstChild=t;else{let i=this._firstChild;for(let t=0;t<e;t++){if(!i)return null;t>0&&(i=i._next)}if(!i)return null;t._next=i._next,t._prev=i,i._next=t,t._next&&(t._next._prev=t)}return this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t}insertIntoKeepIdx(t,e){let i;if(this._nodeList||(this._nodeList=this.children),this._nodeList[e]){let i=this._nodeList[e];return this._nodeList.splice(e,0,t),this.insertBefore(t,i)}this._nodeList[e]=t;for(let t=e-1;t>=0&&!(i=this._nodeList[t]);t--);if(i)return i._next?this.insertBefore(t,i._next):this.appendChild(t);this._ignoreWarn=!0;let r=this.insertInto(t,0);return this._ignoreWarn=!1,r}removeChild(t){if(!this._idMap||!this._idMap.has(t._uid))return null;if(this._idMap.delete(t._uid),this._nodeList){let e=this._nodeList.findIndex(e=>e===t);e>=0&&this._nodeList.splice(e,1)}return t._prev?t._prev._next=t._next:this._firstChild=t._next,t._next?t._next._prev=t._prev:this._lastChild=t._prev,t.parent=null,t._prev=null,t._next=null,this._structEdit=!0,this.setCount(-t.count),t}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(t){if(!this._idMap)return;this._nodeList&&(this._nodeList.length=0);let e=this._firstChild;for(;e;){let t=e._next;e.parent=null,e._prev=null,e._next=null,e=e._next,e=t}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(t,e){throw Error("\u6682\u4E0D\u652F\u6301")}find(t,e=!1){let i=null;return this.forEachChildren((e,r)=>!(e===this||!t(e,r))&&(i=e,!0)),e&&this.forEachChildren(e=>{if(e.isContainer){let r=e.find(t,!0);if(r)return i=r,!0}return!1}),i}findAll(t,e=!1){let i=[];return this.forEachChildren((e,r)=>{e!==this&&t(e,r)&&i.push(e)}),e&&this.forEachChildren(e=>{if(e.isContainer){let r=e.findAll(t,!0);r.length&&(i=i.concat(r))}}),i}getElementById(t){return this.find(e=>e.id===t,!0)}findChildById(t){return this.getElementById(t)}findChildByUid(t){return this._idMap&&this._idMap.get(t)||null}getElementsByName(t){return this.findAll(e=>e.name===t,!0)}findChildrenByName(t){return this.getElementsByName(t)}getElementsByType(t){return this.findAll(e=>e.type===t,!0)}getChildByName(t,e=!1){return this.find(e=>e.name===t,e)}getChildAt(t){let e=this._firstChild;if(!e)return null;for(let i=0;i<t;i++){if(!e._next)return null;e=e._next}return e}at(t){return this.getChildAt(t)}containNode(t){if(!this._idMap)return!1;if(this._idMap.has(t._uid))return!0;let e=this._firstChild;for(;e;){if(e.containNode(t))return!0;e=e._next}return!1}getRootNode(){let t=this.parent;for(;null==t?void 0:t.parent;)t=t.parent;return t||this}hasChildNodes(){return null!==this._firstChild}addChild(t){return this.appendChild(t)}add(t){return this.appendChild(t)}getChildren(){let t=[],e=this._firstChild;for(;e;)t.push(e),e=e._next;return t}isChildOf(t){return!!this.parent&&this.parent._uid===t._uid}isParentOf(t){return t.isChildOf(this)}isDescendantsOf(t){let e=this.parent;if(!e)return!1;do{if(e._uid===t._uid)return!0;e=e.parent}while(null!==e);return!1}isAncestorsOf(t){return t.isDescendantsOf(this)}getAncestor(t){throw Error("\u6682\u4E0D\u652F\u6301")}setAllDescendantsProps(t,e){let i=this._firstChild;for(;i;)i[t]=e,i.setAllDescendantsProps(t,e),i=i._next}setCount(t){this._count+=t;let e=this.parent;if(e)do e._count+=t,e=e.parent;while(null!==e)}clone(){throw Error("\u6682\u4E0D\u652F\u6301")}cloneTo(t){throw Error("\u6682\u4E0D\u652F\u6301")}getParent(){return this.parent}del(t){return this.removeChild(t)}addEventListener(t,e,i){let r=(0,m.Z)(i,!0)&&i||(0,c.Z)(i)&&i.capture,n=(0,c.Z)(i)&&i.once,a=(0,b.Z)(e)?void 0:e;return t=r?`${t}capture`:t,e=(0,b.Z)(e)?e:e.handleEvent,n?super.once(t,e,a):super.on(t,e,a),this}on(t,e,i){return this.addEventListener(t,e,i)}removeEventListener(t,e,i){let r=(0,m.Z)(i,!0)&&i||(0,c.Z)(i)&&i.capture,n=(0,b.Z)(e)?void 0:e;t=r?`${t}capture`:t,e=(0,b.Z)(e)?e:e.handleEvent;let a=(0,c.Z)(i)&&i.once;return super.off(t,e,n,a),this}off(t,e,i){return this.removeEventListener(t,e,i)}once(t,e,i){return(0,c.Z)(i)?(i.once=!0,this.addEventListener(t,e,i)):this.addEventListener(t,e,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(t,...e){return super.emit(t.type,t,...e),!t.defaultPrevented}emit(t,e){return this.dispatchEvent(t,e)}release(){this.removeAllListeners()}}var x=i(170365),B=i(241897),A=i(678412),S=i(509257),w=i(92451),T=i(545293),k=i(916905),P=i(170130),C=i(798043),R=i(780949),M=i(704654);class O{bounds(t,e){if((0,M.Z)(t)){let i=t/2;e.x1=-i,e.x2=i,e.y1=-i,e.y2=i}else e.x1=-t[0]/2,e.x2=t[0]/2,e.y1=-t[1]/2,e.y2=t[1]/2}parseSize(t){return(0,M.Z)(t)?t:Math.min(t[0],t[1])}}function _(t,e,i,r,n){return n?t.arc(i,r,e,0,a.BZ,!1,n):t.arc(i,r,e,0,a.BZ),!1}var E=new class extends O{constructor(){super(...arguments),this.type="circle",this.pathStr="M0.5,0A0.5,0.5,0,1,1,-0.5,0A0.5,0.5,0,1,1,0.5,0"}draw(t,e,i,r,n){return _(t,this.parseSize(e)/2,i,r,n)}drawOffset(t,e,i,r,n,a){return _(t,this.parseSize(e)/2+n,i,r,a)}drawToSvgPath(t,e,i,r){let n=this.parseSize(t)/2;return`M ${e-n}, ${i} a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 -${2*n},0`}},I=new class extends O{constructor(){super(...arguments),this.type="cross",this.pathStr="M-0.5,-0.2L-0.5,0.2L-0.2,0.2L-0.2,0.5L0.2,0.5L0.2,0.2L0.5,0.2L0.5,-0.2L0.2,-0.2L0.2,-0.5L-0.2,-0.5L-0.2,-0.2Z"}draw(t,e,i,r,n){var a;return a=this.parseSize(e)/6,t.moveTo(-3*a+i,-a+r,n),t.lineTo(-a+i,-a+r,n),t.lineTo(-a+i,-3*a+r,n),t.lineTo(a+i,-3*a+r,n),t.lineTo(a+i,-a+r,n),t.lineTo(3*a+i,-a+r,n),t.lineTo(3*a+i,a+r,n),t.lineTo(a+i,a+r,n),t.lineTo(a+i,3*a+r,n),t.lineTo(-a+i,3*a+r,n),t.lineTo(-a+i,a+r,n),t.lineTo(-3*a+i,a+r,n),t.closePath(),!0}drawOffset(t,e,i,r,n,a){var s;return s=this.parseSize(e)/6,t.moveTo(-3*s+i-n,-s+r-n,a),t.lineTo(-s+i-n,-s+r-n,a),t.lineTo(-s+i-n,-3*s+r-n,a),t.lineTo(s+i+n,-3*s+r-n,a),t.lineTo(s+i+n,-s+r-n,a),t.lineTo(3*s+i+n,-s+r-n,a),t.lineTo(3*s+i+n,s+r+n,a),t.lineTo(s+i+n,s+r+n,a),t.lineTo(s+i+n,3*s+r+n,a),t.lineTo(-s+i-n,3*s+r+n,a),t.lineTo(-s+i-n,s+r+n,a),t.lineTo(-3*s+i-n,s+r+n,a),t.closePath(),!0}};function L(t,e,i,r,n){return t.moveTo(i,r-e,n),t.lineTo(e+i,r,n),t.lineTo(i,r+e,n),t.lineTo(i-e,r,n),t.closePath(),!0}var U=new class extends O{constructor(){super(...arguments),this.type="diamond",this.pathStr="M-0.5,0L0,-0.5L0.5,0L0,0.5Z"}draw(t,e,i,r,n){return L(t,this.parseSize(e)/2,i,r,n)}drawFitDir(t,e,i,r,n){return L(t,this.parseSize(e)/2,i,r,n)}drawOffset(t,e,i,r,n,a){return L(t,this.parseSize(e)/2+n,i,r,a)}};function D(t,e,i,r){let n=2*e;return t.rect(i-e,r-e,n,n),!1}var W=new class extends O{constructor(){super(...arguments),this.type="square",this.pathStr="M-0.5,-0.5h1v1h-1Z"}draw(t,e,i,r){return D(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return D(t,this.parseSize(e)/2+n,i,r)}};function j(t,e,i,r,n=0){return t.moveTo(i+e+2*n,e+r+n),t.lineTo(i-e-2*n,e+r+n),t.lineTo(i,r-e-2*n),t.closePath(),!0}class G extends O{constructor(){super(...arguments),this.type="triangleUp",this.pathStr="M0.5,0.5 L-0.5,0.5 L0,-0.5 Z"}draw(t,e,i,r){return j(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return j(t,this.parseSize(e)/2,i,r,n)}}var z=new G,F=new class extends G{constructor(){super(...arguments),this.type="triangle"}};let N=Math.sin(Math.PI/10)/Math.sin(7*Math.PI/10),H=Math.sin(a.BZ/10)*N,Y=-Math.cos(a.BZ/10)*N;function X(t,e,i,r){let n=H*e,s=Y*e;t.moveTo(i,-e+r),t.lineTo(n+i,s+r);for(let o=1;o<5;++o){let l=a.BZ*o/5,h=Math.cos(l),d=Math.sin(l);t.lineTo(d*e+i,-h*e+r),t.lineTo(h*n-d*s+i,d*n+h*s+r)}return t.closePath(),!0}var Z=new class extends O{constructor(){super(...arguments),this.type="star",this.pathStr="M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"}draw(t,e,i,r){return X(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return X(t,this.parseSize(e)/2+n,i,r)}};let V=(0,a._b)(3);function K(t,e,i,r){let n=e/V,a=n/5;return t.moveTo(0+i,-e+r),t.lineTo(n/2+i,r),t.lineTo(a/2+i,r),t.lineTo(a/2+i,e+r),t.lineTo(-a/2+i,e+r),t.lineTo(-a/2+i,r),t.lineTo(-n/2+i,r),t.closePath(),!0}var $=new class extends O{constructor(){super(...arguments),this.type="arrow",this.pathStr="M-0.07142857142857142,0.5L0.07142857142857142,0.5L0.07142857142857142,-0.0625L0.2,-0.0625L0,-0.5L-0.2,-0.0625L-0.07142857142857142,-0.0625Z"}draw(t,e,i,r){return K(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return K(t,this.parseSize(e)/2+n,i,r)}};function q(t,e,i,r){let n=2*e;return t.moveTo(i,-e+r),t.lineTo(n/3/2+i,e+r),t.lineTo(-n/3/2+i,e+r),t.closePath(),!0}var Q=new class extends O{constructor(){super(...arguments),this.type="wedge",this.pathStr="M0,-0.5773502691896257L-0.125,0.28867513459481287L0.125,0.28867513459481287Z"}draw(t,e,i,r){return q(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return q(t,this.parseSize(e)/2+n,i,r)}};function J(t,e,i,r){return t.moveTo(-e+i,r),t.lineTo(i,e+r),!1}var tt=new class extends O{constructor(){super(...arguments),this.type="stroke",this.pathStr=""}draw(t,e,i,r){return J(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return J(t,this.parseSize(e)/2+n,i,r)}};let te=(0,a._b)(3)/2,ti=1/(0,a._b)(12);function tr(t,e,i,r){let n=e/2,a=e*ti,s=e*ti+e,o=-n;return t.moveTo(n+i,a+r),t.lineTo(n+i,s+r),t.lineTo(o+i,s+r),t.lineTo(-.5*n-te*a+i,te*n+-.5*a+r),t.lineTo(-.5*n-te*s+i,te*n+-.5*s+r),t.lineTo(-.5*o-te*s+i,te*o+-.5*s+r),t.lineTo(-.5*n+te*a+i,-.5*a-te*n+r),t.lineTo(-.5*n+te*s+i,-.5*s-te*n+r),t.lineTo(-.5*o+te*s+i,-.5*s-te*o+r),t.closePath(),!1}var tn=new class extends O{constructor(){super(...arguments),this.type="wye",this.pathStr="M0.25 0.14433756729740646L0.25 0.6443375672974064L-0.25 0.6443375672974064L-0.25 0.14433756729740643L-0.6830127018922193 -0.10566243270259357L-0.4330127018922193 -0.5386751345948129L0 -0.28867513459481287L0.4330127018922193 -0.5386751345948129L0.6830127018922193 -0.10566243270259357Z"}draw(t,e,i,r){return tr(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return tr(t,this.parseSize(e)/2+n,i,r)}};function ta(t,e,i,r,n){return t.moveTo(-e+i-2*n,r),t.lineTo(e+i+n,e+r+2*n),t.lineTo(e+i+n,r-e-2*n),t.closePath(),!0}var ts=new class extends O{constructor(){super(...arguments),this.type="triangleLeft",this.pathStr="M-0.5,0 L0.5,0.5 L0.5,-0.5 Z"}draw(t,e,i,r){return ta(t,this.parseSize(e)/2,i,r,0)}drawOffset(t,e,i,r,n){return ta(t,this.parseSize(e)/2,i,r,n)}};function to(t,e,i,r,n=0){return t.moveTo(i-e-n,e+r+2*n),t.lineTo(e+i+2*n,r),t.lineTo(i-e-n,r-e-2*n),t.closePath(),!0}var tl=new class extends O{constructor(){super(...arguments),this.type="triangleRight",this.pathStr="M-0.5,0.5 L0.5,0 L-0.5,-0.5 Z"}draw(t,e,i,r){return to(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return to(t,this.parseSize(e)/2,i,r,n)}};function th(t,e,i,r,n=0){return t.moveTo(i-e-2*n,r-e-n),t.lineTo(i+e+2*n,r-e-n),t.lineTo(i,r+e+2*n),t.closePath(),!0}var td=new class extends O{constructor(){super(...arguments),this.type="triangleDown",this.pathStr="M-0.5,-0.5 L0.5,-0.5 L0,0.5 Z"}draw(t,e,i,r){return th(t,this.parseSize(e)/2,i,r)}drawOffset(t,e,i,r,n){return th(t,this.parseSize(e)/2,i,r,n)}};let tu=(0,a._b)(3);function tc(t,e,i,r){let n=e*tu;return t.moveTo(i,r+-n/3*2),t.lineTo(e+i,r+n),t.lineTo(i-e,r+n),t.closePath(),!0}var tp=new class extends O{constructor(){super(...arguments),this.type="thinTriangle",this.pathStr="M0,-0.5773502691896257L-0.5,0.28867513459481287L0.5,0.28867513459481287Z"}draw(t,e,i,r){return tc(t,this.parseSize(e)/2/tu,i,r)}drawOffset(t,e,i,r,n){return tc(t,this.parseSize(e)/2/tu+n,i,r)}};function tg(t,e,i,r){let n=2*e;return t.moveTo(e+i,r-n),t.lineTo(i-e,r),t.lineTo(e+i,n+r),!0}var tf=new class extends O{constructor(){super(...arguments),this.type="arrow2Left",this.pathStr="M 0.25 -0.5 L -0.25 0 l 0.25 0.5"}draw(t,e,i,r){return tg(t,this.parseSize(e)/4,i,r)}drawOffset(t,e,i,r,n){return tg(t,this.parseSize(e)/4+n,i,r)}};function tm(t,e,i,r){let n=2*e;return t.moveTo(i-e,r-n),t.lineTo(i+e,r),t.lineTo(i-e,n+r),!0}var tb=new class extends O{constructor(){super(...arguments),this.type="arrow2Right",this.pathStr="M -0.25 -0.5 l 0.25 0 l -0.25 0.5"}draw(t,e,i,r){return tm(t,this.parseSize(e)/4,i,r)}drawOffset(t,e,i,r,n){return tm(t,this.parseSize(e)/4+n,i,r)}};function ty(t,e,i,r){let n=2*e;return t.moveTo(i-n,r+e),t.lineTo(i,r-e),t.lineTo(i+n,r+e),!0}var tv=new class extends O{constructor(){super(...arguments),this.type="arrow2Up",this.pathStr="M -0.5 0.25 L 0 -0.25 l 0.5 0.25"}draw(t,e,i,r){return ty(t,this.parseSize(e)/4,i,r)}drawOffset(t,e,i,r,n){return ty(t,this.parseSize(e)/4+n,i,r)}};function tx(t,e,i,r){let n=2*e;return t.moveTo(i-n,r-e),t.lineTo(i,r+e),t.lineTo(i+n,r-e),!0}var tB=new class extends O{constructor(){super(...arguments),this.type="arrow2Down",this.pathStr="M -0.5 -0.25 L 0 0.25 l 0.5 -0.25"}draw(t,e,i,r){return tx(t,this.parseSize(e)/4,i,r)}drawOffset(t,e,i,r,n){return tx(t,this.parseSize(e)/4+n,i,r)}};function tA(t,e,i,r,n){return t.moveTo(i,r-e),t.lineTo(i,r+e),!0}var tS=new class extends O{constructor(){super(...arguments),this.type="lineV",this.pathStr="M0,-0.5L0,0.5"}draw(t,e,i,r,n){return tA(t,this.parseSize(e)/2,i,r,n)}drawOffset(t,e,i,r,n,a){return tA(t,this.parseSize(e)/2+n,i,r,a)}drawToSvgPath(t,e,i,r){let n=this.parseSize(t)/2;return`M ${e}, ${i-n} L ${e},${i+n}`}};function tw(t,e,i,r,n){return t.moveTo(i-e,r),t.lineTo(i+e,r),!0}var tT=new class extends O{constructor(){super(...arguments),this.type="lineH",this.pathStr="M-0.5,0L0.5,0"}draw(t,e,i,r,n){return tw(t,this.parseSize(e)/2,i,r,n)}drawOffset(t,e,i,r,n,a){return tw(t,this.parseSize(e)/2+n,i,r,a)}drawToSvgPath(t,e,i,r){let n=this.parseSize(t)/2;return`M ${e-n}, ${i} L ${e+n},${i}`}};function tk(t,e,i,r,n){return t.moveTo(i-e,r-e),t.lineTo(i+e,r+e),t.moveTo(i+e,r-e),t.lineTo(i-e,r+e),!0}var tP=new class extends O{constructor(){super(...arguments),this.type="close",this.pathStr="M-0.5,-0.5L0.5,0.5,M0.5,-0.5L-0.5,0.5"}draw(t,e,i,r,n){return tk(t,this.parseSize(e)/2,i,r,n)}drawOffset(t,e,i,r,n,a){return tk(t,this.parseSize(e)/2+n,i,r,a)}drawToSvgPath(t,e,i,r){let n=this.parseSize(t)/2;return`M ${e-n}, ${i-n} L ${e+n},${i+n} M ${e+n}, ${i-n} L ${e-n},${i+n}`}};function tC(t,e,i,r){return t.rect(i-e[0]/2,r-e[1]/2,e[0],e[1]),!1}function tR(t,e,i,r){let n=e/2;return t.rect(i-e/2,r-n/2,e,n),!1}var tM=new class extends O{constructor(){super(...arguments),this.type="rect",this.pathStr="M -0.5,0.25 L 0.5,0.25 L 0.5,-0.25,L -0.5,-0.25 Z"}draw(t,e,i,r){return(0,M.Z)(e)?tR(t,e,i,r):tC(t,e,i,r)}drawWithClipRange(t,e,i,r,n,a,s){(0,M.Z)(e)&&(e=[e,e/2]);let o=2*(e[0]+e[1])*n,l=[{x:i+e[0]/2,y:r-e[1]/2},{x:i+e[0]/2,y:r+e[1]/2},{x:i-e[0]/2,y:r+e[1]/2},{x:i-e[0]/2,y:r-e[1]/2}],h=0,d=l[3];t.moveTo(d.x,d.y);for(let e=0;e<l.length;e++){let i=l[e],r=Math.sqrt((i.x-d.x)*(i.x-d.x)+(i.y-d.y)*(i.y-d.y));if(h+r>o){let e=(i.x-d.x)*(o-h)/r,n=(i.y-d.y)*(o-h)/r;t.lineTo(d.x+e,d.y+n);break}t.lineTo(i.x,i.y),d=i,h+=r}return!1}drawOffset(t,e,i,r,n){return(0,M.Z)(e)?tR(t,e+2*n,i,r):tC(t,[e[0]+2*n,e[1]+2*n],i,r)}};let tO={};[E,I,U,W,tp,F,Z,$,Q,tt,tn,ts,tl,z,td,tf,tb,tv,tB,tM,tS,tT,tP].forEach(t=>{tO[t.type]=t});let t_={arrowLeft:"M 0.25 -0.5 L -0.25 0 l 0.5 0.5",arrowRight:"M -0.25 -0.5 l 0.5 0.5 l -0.5 0.5",rectRound:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",roundLine:"M 1.2392 -0.258 L -1.3432 -0.258 C -1.4784 -0.258 -1.588 -0.1436 -1.588 -0.002 c 0 0.1416 0.1096 0.256 0.2448 0.256 l 2.5824 0 c 0.1352 0 0.2448 -0.1144 0.2448 -0.256 C 1.484 -0.1436 1.3744 -0.258 1.2392 -0.258 z"},tE=new r.FB;class tI{constructor(t,e,i=!1){this.pathStr="",this.type=t,(0,n.Z)(e)?this.svgCache=e:this.path=e,this.isSvg=i}drawOffset(t,e,i,r,n,a,s){return e=this.parseSize(e),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(n=>{t.beginPath(),(0,C.h)(n.path.commandList,t,i,r,e,e),s&&s(n.path,n.attribute)}),!1):((0,C.h)(this.path.commandList,t,i,r,e+n,e+n),!1)}draw(t,e,i,r,n,a){return e=this.parseSize(e),this.drawOffset(t,e,i,r,0,n,a)}parseSize(t){return(0,M.Z)(t)?t:Math.min(t[0],t[1])}drawWithClipRange(t,e,i,r,n,a,s){return e=this.parseSize(e),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(a=>{a.path.drawWithClipRange(t,e,i,r,n),s&&s(a.path,a.attribute)}),!1):(this.path.drawWithClipRange(t,e,i,r,n),!1)}bounds(t,e){if(t=this.parseSize(t),this.isSvg){if(!this.svgCache)return;return e.clear(),void this.svgCache.forEach(({path:i})=>{tE.x1=i.bounds.x1*t,tE.y1=i.bounds.y1*t,tE.x2=i.bounds.x2*t,tE.y2=i.bounds.y2*t,e.union(tE)})}this.path.bounds&&(e.x1=this.path.bounds.x1*t,e.y1=this.path.bounds.y1*t,e.x2=this.path.bounds.x2*t,e.y2=this.path.bounds.y2*t)}}var tL=i(916096),tU=i(721756),tD=i(63424),tW=i(94265);let tj=new r.FB,tG=new s.y;new r.FB;let tz=["lineWidth","scaleX","scaleY","angle","anchor","visible"],tF=["x","y"],tN=["scaleX","scaleY"],tH=["angle"],tY=new o.E9,tX={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class tZ extends v{static mixin(t){let e=Object.keys(t);for(let i=0;i<e.length;++i){let r=e[i];Object.defineProperty(tZ.prototype,r,Object.getOwnPropertyDescriptor(t,r))}}get AABBBounds(){return this.tryUpdateAABBBounds()}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(t={}){var e;super(),this._AABBBounds=new r.FB,this._updateTag=k.Gz.INIT,this.attribute=t,this.valid=this.isValid(),this.updateAABBBoundsStamp=0,t.background?this.loadImage(null!=(e=t.background.background)?e:t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic)}getGraphicService(){var t,e;return null!=(e=null==(t=this.stage)?void 0:t.graphicService)?e:S.w.graphicService}getAttributes(){return this.attribute}setMode(t){"3d"===t?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(t,e=!1){var i,r;let{dx:n=t.dx,dy:a=t.dy}=this.attribute;if(e&&this.parent){let t=this.parent.attribute;tY.x=n+(null!=(i=t.scrollX)?i:0),tY.y=a+(null!=(r=t.scrollY)?r:0)}else tY.x=n,tY.y=a;return tY}onAnimateBind(t){this._emitCustomEvent("animate-bind",t)}tryUpdateAABBBounds(){let t="imprecise"===this.attribute.boundsMode;if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);let e=this.doUpdateAABBBounds(t);return this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),"empty"===this.attribute.boundsMode&&e.clear(),e}tryUpdateOBBBounds(){return(this._OBBBounds||(this._OBBBounds=new r.a5),this.tryUpdateAABBBounds(),this.updateOBBBoundsStamp===this.updateAABBBoundsStamp)?this._OBBBounds:(this.updateOBBBoundsStamp=this.updateAABBBoundsStamp,this.valid)?this.doUpdateOBBBounds():(this._OBBBounds.clear(),this._OBBBounds)}combindShadowAABBBounds(t){if(this.shadowRoot){let e=this.shadowRoot.AABBBounds.clone();t.union(e)}}doUpdateOBBBounds(){return this._OBBBounds}getClipPath(){let{clipConfig:t}=this.attribute;if(!t)return null;this.clipPathMap||(this.clipPathMap=new Map);let{shape:e}=t,i=this.clipPathMap.get(e)||null;return i||(this.clipPathMap.size>10&&this.clipPathMap.clear(),(i=this.parsePath(e))&&this.clipPathMap.set(e,i)),i}parsePath(t){if(!t)return null;let e=tO[t];if(e||(e=tZ.userSymbolMap[t]))return e;let i=t_[t];if(!0===(0,tL.Dc)(t=i||t)){let{svg:e}=(new tL.Fq).parse(t);if(!e)return null;let i=(0,n.Z)(e.path)?e.path:[e.path];tj.clear();let r=[];i.forEach(t=>{let e=(new w.r).fromString(t.d),i={};tU.Lo.forEach(e=>{t[e]&&(i[tU.IO[e]]=t[e])}),r.push({path:e,attribute:i}),tj.union(e.bounds)});let s=tj.width(),o=tj.height(),l=1/(0,a.Fp)(s,o);r.forEach(t=>t.path.transform(0,0,l,l));let h=new tI(t,r,!0);return tZ.userSymbolMap[t]=h,h}let r=(new w.r).fromString(t),s=r.bounds.width(),o=r.bounds.height(),l=1/(0,a.Fp)(s,o);r.transform(0,0,l,l);let h=new tI(t,r);return tZ.userSymbolMap[t]=h,h}doUpdateAABBBounds(t){this.updateAABBBoundsStamp++;let e=this.getGraphicTheme();this._AABBBounds.clear();let i=this.attribute,r=this.updateAABBBounds(i,e,this._AABBBounds,t),{boundsPadding:n=e.boundsPadding}=i,a=(0,R.dj)(n);return a&&r.expand(a),this.clearUpdateBoundTag(),r}updatePathProxyAABBBounds(t){let e="function"==typeof this.pathProxy?this.pathProxy(this.attribute):this.pathProxy;if(!e)return!1;let i=new P.C(t);return(0,C.h)(e.commandList,i,0,0),!0}tryUpdateGlobalAABBBounds(){let t=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(t.x1,t.y1,t.x2,t.y2):this._globalAABBBounds=t.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(t=!0){if(this._globalTransMatrix){if(this.parent){let t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(t=!0){return this._transMatrix||(this._transMatrix=new s.y),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),t&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?(!!(this._updateTag&k.Gz.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds())&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this):!!(this._updateTag&k.Gz.UPDATE_BOUNDS)&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&k.Gz.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&k.Gz.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&k.Gz.UPDATE_LOCAL_MATRIX)}isValid(){var t,e;let i=this.attribute;return Number.isFinite((null!=(t=i.x)?t:0)+(null!=(e=i.y)?e:0))}_validNumber(t){return null==t||Number.isFinite(t)}shouldUpdateShape(){return!!(this._updateTag&k.Gz.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=k.Gz.CLEAR_SHAPE}containsPoint(t,e,i,r){if(!r)return!1;if(i===k.LZ.GLOBAL){let i=new o.E9(t,e);this.parent&&this.parent.globalTransMatrix.transformPoint(i,i),t=i.x,e=i.y}return r.containsPoint(this,{x:t,y:e})}setWidthHeightWithoutTransform(t){this.widthWithoutTransform=t.x2-t.x1,this.heightWithoutTransform=t.y2-t.y1}setAttributesAndPreventAnimate(t,e=!1,i,r){this.setAttributes(t,e,i),this.animates&&this.animates.forEach(e=>{(e.priority!==1/0||r)&&Object.keys(t).forEach(t=>{e.preventAttr(t)})})}setAttributes(t,e=!1,i){t&&((t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,i)||t).background?this.loadImage(t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic),this._setAttributes(t,e,i))}_setAttributes(t,e=!1,i){let r=Object.keys(t);for(let e=0;e<r.length;e++){let i=r[e];this.attribute[i]=t[i]}this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(e||this.needUpdateTags(r))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)}setAttribute(t,e,i,r){var n;let a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,r);a?this._setAttributes(a,i,r):(0,l.Z)(null==(n=this.normalAttrs)?void 0:n[t])?(this.attribute[t]=e,this.valid=this.isValid(),!this.updateShapeAndBoundsTagSetted()&&(i||this.needUpdateTag(t))?this.addUpdateShapeAndBoundsTag():this.addUpdateBoundTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)):this.normalAttrs[t]=e,"background"===t?this.loadImage(e,!0):"shadowGraphic"===t&&this.setShadowGraphic(e)}needUpdateTags(t,e=tz){for(let i=0;i<e.length;i++){let r=e[i];if(-1!==t.indexOf(r))return!0}return!1}needUpdateTag(t,e=tz){for(let i=0;i<e.length;i++)if(t===e[i])return!0;return!1}initAttributes(t){let e={type:k.Gk.INIT};t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,e)||t,this.attribute=t,t.background?this.loadImage(t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic),this._updateTag=k.Gz.INIT,this.valid=this.isValid(),this.onAttributeUpdate(e)}translate(t,e){var i,r;if(0===t&&0===e)return this;let n={type:k.Gk.TRANSLATE},a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,tF,n);a&&(t=a.x,e=a.y,delete a.x,delete a.y,this._setAttributes(a));let s=this.attribute,o=s.postMatrix;return o?S.w.transformUtil.fromMatrix(o,o).translate(t,e):(s.x=(null!=(i=s.x)?i:A.F1.x)+t,s.y=(null!=(r=s.y)?r:A.F1.y)+e),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n),this}translateTo(t,e){let i=this.attribute;if(i.x===t&&i.y===e)return this;let r={type:k.Gk.TRANSLATE_TO},n=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,tF,r);return n?this._setAttributes(n,!1,r):(i.x=t,i.y=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)),this}scale(t,e,i){var r,n;if(1===t&&1===e)return this;let a={type:k.Gk.SCALE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e,scaleCenter:i},this.attribute,tN,a);o&&(t=o.scaleX,e=o.scaleY,delete o.scaleX,delete o.scaleY,this._setAttributes(o));let l=this.attribute;if(i){let{postMatrix:r}=this.attribute;r||(l.postMatrix=r=new s.y),S.w.transformUtil.fromMatrix(r,r).scale(t,e,i)}else l.scaleX=(null!=(r=l.scaleX)?r:A.F1.scaleX)*t,l.scaleY=(null!=(n=l.scaleY)?n:A.F1.scaleY)*e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(a),this}scaleTo(t,e){let i=this.attribute;if(i.scaleX===t&&i.scaleY===e)return this;let r={type:k.Gk.SCALE_TO},n=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e},this.attribute,tN,r);return n?this._setAttributes(n,!1,r):(i.scaleX=t,i.scaleY=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)),this}rotate(t,e){var i;if(0===t)return this;let r={type:k.Gk.ROTATE},n=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:t,rotateCenter:e},this.attribute,tH,r);n&&(delete n.angle,this._setAttributes(n,!1,r));let a=this.attribute;if(e){let{postMatrix:i}=this.attribute;i||(a.postMatrix=i=new s.y),S.w.transformUtil.fromMatrix(i,i).rotate(t,e)}else a.angle=(null!=(i=a.angle)?i:A.F1.angle)+t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this}rotateTo(t){let e=this.attribute;if(e.angle===t)return this;let i={type:k.Gk.ROTATE_TO},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,tH,i);return r?this._setAttributes(r,!1,i):(e.angle=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)),this}skewTo(t,e){return this}onAttributeUpdate(t){t&&t.skipUpdateCallback||(this.getGraphicService().onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",t))}update(t){t?(t.bounds&&this.tryUpdateAABBBounds(),t.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds(),this.tryUpdateLocalTransMatrix())}hasState(t){return!(!this.currentStates||!this.currentStates.length)&&(!!(0,l.Z)(t)||this.currentStates.includes(t))}getState(t){var e;return null==(e=this.states)?void 0:e[t]}applyStateAttrs(t,e,i,r){var n,a;if(i){let e,i=Object.keys(t),s=this.getNoWorkAnimateAttr(),o={};i.forEach(i=>{s[i]?(e||(e={}),e[i]=t[i]):o[i]=r&&void 0===t[i]?this.getDefaultAttribute(i):t[i]});let l=null!=(a=null!=(n=this.context&&this.context.stateAnimateConfig)?n:this.stateAnimateConfig)?a:tD.l;this.applyAnimationState(["state"],[{name:"state",animation:{type:"state",to:o,duration:l.duration,easing:l.easing}}]),e&&this.setAttributesAndPreventAnimate(e,!1,{type:k.Gk.STATE}),this.finalAttribute&&Object.assign(this.finalAttribute,t)}else this.stopStateAnimates(),this.setAttributesAndPreventAnimate(t,!1,{type:k.Gk.STATE}),this.finalAttribute&&Object.assign(this.finalAttribute,t);this._emitCustomEvent("afterStateUpdate",{type:k.Gk.STATE})}updateNormalAttrs(t){let e={};this.normalAttrs?(Object.keys(t).forEach(t=>{t in this.normalAttrs?(e[t]=this.normalAttrs[t],delete this.normalAttrs[t]):e[t]=this.getNormalAttribute(t)}),Object.keys(this.normalAttrs).forEach(e=>{t[e]=this.normalAttrs[e]})):Object.keys(t).forEach(t=>{e[t]=this.getNormalAttribute(t)}),this.normalAttrs=e}stopStateAnimates(t="end"){this.animates&&this.animates.forEach(e=>{e.stateNames&&(e.stop(t),this.animates.delete(e.id))})}getNormalAttribute(t){var e,i;let r=this.attribute[t];return this.animates&&this.animates.size?null==(e=this.finalAttribute)?void 0:e[t]:null!=r?r:null==(i=this.finalAttribute)?void 0:i[t]}clearStates(t){this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,t,!0)):this.currentStates=[],this.normalAttrs=null}removeState(t,e){if(this.currentStates){let i=(0,n.Z)(t)?e=>!t.includes(e):e=>e!==t,r=this.currentStates.filter(i);r.length!==this.currentStates.length&&this.useStates(r,e)}}toggleState(t,e){if(this.hasState(t))this.removeState(t,e);else if((this.currentStates?this.currentStates.indexOf(t):-1)<0){let i=this.currentStates?this.currentStates.slice():[];i.push(t),this.useStates(i,e)}}addState(t,e,i){var r;if(this.currentStates&&this.currentStates.includes(t)&&(e||1===this.currentStates.length))return;let n=e&&(null==(r=this.currentStates)?void 0:r.length)?this.currentStates.concat([t]):[t];this.useStates(n,i)}useStates(t,e){var i;if(!t.length)return void this.clearStates(e);if(!((null==(i=this.currentStates)?void 0:i.length)!==t.length||t.some((t,e)=>this.currentStates[e]!==t)))return;this.stateSort&&(t=t.sort(this.stateSort));let r={};t.forEach(e=>{var i;let n=this.stateProxy?this.stateProxy(e,t):null==(i=this.states)?void 0:i[e];n&&Object.assign(r,n)}),this.updateNormalAttrs(r),this.currentStates=t,this.applyStateAttrs(r,t,e)}addUpdateBoundTag(){this._updateTag|=k.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=k.Gz.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=k.Gz.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&k.Gz.UPDATE_SHAPE_AND_BOUNDS)===k.Gz.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=k.Gz.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=k.Gz.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=k.Gz.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=k.Gz.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=k.Gz.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=k.Gz.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=k.Gz.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&k.Gz.UPDATE_LAYOUT)}getAnchor(t,e,i){let r=[0,0],n=()=>{if(e.b)return e.b;let t=this.clone();return t.attribute.angle=0,t.attribute.scaleCenter=null,i&&(t.attribute.scaleX=1,t.attribute.scaleY=1),e.b=t.AABBBounds,e.b};if("string"==typeof t[0]){let e=parseFloat(t[0])/100,i=n();r[0]=i.x1+(i.x2-i.x1)*e}else r[0]=t[0];if("string"==typeof t[1]){let e=parseFloat(t[1])/100,i=n();r[1]=i.y1+(i.y2-i.y1)*e}else r[1]=t[1];return r}doUpdateLocalMatrix(){let{x:t=A.F1.x,y:e=A.F1.y,scaleX:i=A.F1.scaleX,scaleY:r=A.F1.scaleY,angle:n=A.F1.angle,scaleCenter:a,anchor:o,postMatrix:l}=this.attribute,h=[0,0],d={};if(o&&n&&(h=this.getAnchor(o,d)),a&&(1!==i||1!==r)){let s=this._transMatrix;s.reset(),s.translate(h[0],h[1]),s.rotate(n),s.translate(-h[0],-h[1]),s.translate(t,e),h=this.getAnchor(a,d,!0),S.w.transformUtil.fromMatrix(s,s).scale(i,r,{x:h[0],y:h[1]})}else(0,s.X)(this._transMatrix,this._transMatrix.reset(),t,e,i,r,n,o&&h);let u=this.getOffsetXY(A.F1);if(this._transMatrix.e+=u.x,this._transMatrix.f+=u.y,l){let t=tG.setValue(l.a,l.b,l.c,l.d,l.e,l.f),e=this._transMatrix;t.multiply(e.a,e.b,e.c,e.d,e.e,e.f),e.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);let{scrollX:t=0,scrollY:e=0}=this.parent.attribute;this._globalTransMatrix.translate(t,e)}}setStage(t,e){if(this.stage!==t){if(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this.animates&&this.animates.size){let e=t.getTimeline();this.animates.forEach(t=>{t.timeline.isGlobal&&(t.setTimeline(e),e.addAnimate(t))})}this._onSetStage&&this._onSetStage(this,t,e),this.getGraphicService().onSetStage(this,t)}}setStageToShadowRoot(t,e){this.shadowRoot&&this.shadowRoot.setStage(t,e)}onAddStep(t){}onStop(t){t&&this.setAttributes(t,!1,{type:k.Gk.ANIMATE_END})}getDefaultAttribute(t){return this.getGraphicTheme()[t]}getComputedAttribute(t){var e;return null!=(e=this.attribute[t])?e:this.getDefaultAttribute(t)}onSetStage(t,e=!1){this._onSetStage=t,e&&this.stage&&t(this,this.stage)}attachShadow(t){return t&&(t.shadowHost=this),this.shadowRoot=null!=t?t:S.w.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot.release(!0),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map(t=>t.toJson())}}createPathProxy(t){return(0,h.Z)(t,!0)?this.pathProxy=(new w.r).fromString(t):this.pathProxy=new w.r,this.pathProxy}loadImage(t,e=!1){var i;if(!t||e&&!(!(i=t).fill&&!i.stroke))return;this.resources||(this.resources=new Map);let r={data:"init",state:null};this.resources.set(t,r),"string"==typeof t?(r.state="loading",t.startsWith("<svg")?(T.h.GetSvg(t,this),this.backgroundImg=this.backgroundImg||e):((0,d.Z)(t)||t.includes("/")||(0,u.Z)(t))&&(T.h.GetImage(t,this),this.backgroundImg=this.backgroundImg||e)):(0,c.Z)(t)?(r.state="success",r.data=t,this.backgroundImg=this.backgroundImg||e):r.state="fail"}setShadowGraphic(t){t?this.attachShadow().add(t):this.detachShadow()}imageLoadSuccess(t,e,i){if(!this.resources)return;let r=this.resources.get(t);r&&(r.state="success",r.data=e,i&&i(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(t,e){if(!this.resources)return;let i=this.resources.get(t);i&&(i.state="fail",e&&e())}_stopAnimates(t){t&&t.forEach(t=>{t.stop()})}stopAnimates(t=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&t&&this.forEachChildren(e=>{e.stopAnimates(t)})}release(){this.releaseStatus="released",this.stopAnimates(),S.w.graphicService.onRelease(this)}_emitCustomEvent(t,e){var i,r;if(this._events&&t in this._events){let n=new x.A(t,e);n.bubbles=!1,n.manager=null==(r=null==(i=this.stage)?void 0:i.eventSystem)?void 0:r.manager,this.dispatchEvent(n)}}toCustomPath(){var t,e,i;let r=null==(i=null==(e=(null==(t=this.stage)?void 0:t.renderService)||S.w.renderService)?void 0:e.drawContribution)?void 0:i.getRenderContribution(this);if(r){let t=new tW.w(null,1);return r.drawShape(this,t,0,0,{},{}),t.path}return null}}tZ.userSymbolMap={},tZ.mixin({dispatchEvent(t){var e;if(!(t instanceof B.x))throw Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=[],t.detailPath&&(t.detailPath=[]),t.target=this,null==(e=null==t?void 0:t.manager)||e.dispatchEvent(t),!t.defaultPrevented},emit(t,e){return this.dispatchEvent(new x.A(t,e))}})},829425:function(t,e,i){i.d(e,{ZA:()=>c,sS:()=>p});var r,n,a=i(919498),s=i(509257),o=i(426835),l=i(25666),h=i(916905),d=i(721756),u=i(678412);(r=n||(n={}))[r.LESS_GROUP=0]="LESS_GROUP",r[r.MORE_GROUP=1]="MORE_GROUP";class c extends o.zs{constructor(t){super(t),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=d.I_,this._childUpdateTag=h.Gz.UPDATE_BOUNDS}setMode(t){"3d"===t?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(t){return this.theme||(this.theme=new l.Q2),this.theme.setTheme(t,this)}createTheme(){this.theme||(this.theme=new l.Q2)}visibleAll(t){this.setAttribute("visible",t),this.forEachChildren(e=>{e.isContainer&&e.visibleAll?e.visibleAll(t):e.setAttribute("visible",t)})}hideAll(){this.visibleAll(!1)}showAll(){this.visibleAll(!0)}containsPoint(t,e,i){if(i===h.LZ.GLOBAL){let i=new a.E9(t,e);return this.parent&&this.parent.globalTransMatrix.transformPoint(i,i),this.AABBBounds.contains(i.x,i.y)}return this.AABBBounds.contains(t,e)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&h.Gz.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);let t=this.shouldSelfChangeUpdateAABBBounds(),e=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,t),"empty"===this.attribute.boundsMode&&e.clear(),e}doUpdateLocalMatrix(){let{x:t=u.F1.x,y:e=u.F1.y,dx:i=u.F1.dx,dy:r=u.F1.dy,scaleX:n=u.F1.scaleX,scaleY:a=u.F1.scaleY,angle:s=u.F1.angle,postMatrix:o}=this.attribute;if(0!==t||0!==e||0!==i||0!==r||1!==n||1!==a||0!==s||o)return super.doUpdateLocalMatrix();this._transMatrix.reset()}getGraphicTheme(){return(0,l.gh)(this).group}updateAABBBounds(t,e,i){let r=i;i=i.clone();let{width:n,height:a,path:o,clip:l=e.clip}=t;if(o&&o.length?o.forEach(t=>{i.union(t.AABBBounds)}):null!=n&&null!=a&&i.set(0,0,Math.max(0,n),Math.max(0,a)),!l){this.forEachChildren(t=>{i.union(t.AABBBounds)});let{scrollX:e=0,scrollY:r=0}=t;i.translate(e,r)}return s.w.graphicService.updateTempAABBBounds(i),s.w.graphicService.transformAABBBounds(t,i,e,!1,this),r.copy(i),r}doUpdateAABBBounds(){this.updateAABBBoundsStamp++;let t=super.doUpdateAABBBounds();return this.parent&&this.parent.addChildUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),t}clearUpdateBoundTag(){this._updateTag&=h.Gz.CLEAR_BOUNDS,this._childUpdateTag&=h.Gz.CLEAR_BOUNDS}addUpdateBoundTag(){this._updateTag|=h.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&h.Gz.UPDATE_BOUNDS||(this._childUpdateTag|=h.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(t){let e=super.appendChild(t);return this.stage&&e&&(e.stage=this.stage,e.layer=this.layer),this.addUpdateBoundTag(),this.getGraphicService().onAddIncremental(t,this,this.stage),e}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),this.getGraphicService().onClearIncremental(this,this.stage)}_updateChildToStage(t){return this.stage&&t&&t.setStage(this.stage,this.layer),this.addUpdateBoundTag(),t}appendChild(t,e=!0){let i=super.appendChild(t);return e&&this.stage&&i&&i.setStage(this.stage,this.layer),this.addUpdateBoundTag(),i}insertBefore(t,e){return this._updateChildToStage(super.insertBefore(t,e))}insertAfter(t,e){return this._updateChildToStage(super.insertAfter(t,e))}insertInto(t,e){return this._updateChildToStage(super.insertInto(t,e))}removeChild(t){let e=super.removeChild(t);return this.getGraphicService().onRemove(t),t.stage=null,this.addUpdateBoundTag(),e}removeAllChild(t=!1){this.forEachChildren(e=>{this.getGraphicService().onRemove(e),t&&e.isContainer&&e.removeAllChild(t)}),super.removeAllChild(),this.addUpdateBoundTag()}setStage(t,e){this.stage!==t&&(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this._onSetStage&&this._onSetStage(this,t,e),this.getGraphicService().onSetStage(this,t),this.forEachChildren(e=>{e.setStage(t,this.layer)}))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren(t=>{t.isContainer&&t.addUpdateGlobalPositionTag()})}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren(t=>{t.isContainer&&t.addUpdateGlobalPositionTag()})}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){let t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&h.Gz.UPDATE_GLOBAL_MATRIX)}_getChildByName(t,e){return this.find(e=>e.name===t,e)}createOrUpdateChild(t,e,i){let r=this._getChildByName(t);return r?r.setAttributes(e):((r=s.w.graphicService.creator[i](e)).name=t,this.add(r)),r}clone(){return new c(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return c.NOWORK_ANIMATE_ATTR}release(t){t&&this.forEachChildren(e=>{e.release(t)}),super.release()}}function p(t){return new c(t)}c.NOWORK_ANIMATE_ATTR=o.Wl},507261:function(t,e,i){i.d(e,{B:()=>u,E:()=>d});var r=i(426835),n=i(678412),a=i(25666),s=i(509257),o=i(721756),l=i(819024);let h=["width","height","image",...r.DH];class d extends r.zs{constructor(t){super(t),this.type="image",this.numberType=o.PN,this.loadImage(this.attribute.image)}getImageElement(){let{image:t}=this.attribute;if(!t||!this.resources)return null;let e=this.resources.get(t);return"success"!==e.state?null:e.data}get width(){return this.tryUpdateAABBBounds(),this._actualWidth}get height(){return this.tryUpdateAABBBounds(),this._actualHeight}get repeatX(){var t;return null!=(t=this.attribute.repeatX)?t:"no-repeat"}set repeatX(t){this.attribute.repeatX===t&&(this.attribute.repeatX=t)}get repeatY(){var t;return null!=(t=this.attribute.repeatY)?t:"no-repeat"}set repeatY(t){this.attribute.repeatY===t&&(this.attribute.repeatY=t)}get image(){return this.attribute.image}set image(t){t!==this.attribute.image&&(this.attribute.image=t,this.loadImage(this.attribute.image))}imageLoadSuccess(t,e,i){super.imageLoadSuccess(t,e,()=>{this.successCallback&&this.successCallback()}),this.addUpdateBoundTag()}imageLoadFail(t,e){super.imageLoadFail(t,()=>{this.failCallback&&this.failCallback()})}setAttributes(t,e,i){return t.image&&this.loadImage(t.image),super.setAttributes(t,e,i)}setAttribute(t,e,i,r){return"image"===t&&this.loadImage(e),super.setAttribute(t,e,i,r)}getGraphicTheme(){return(0,a.gh)(this).image}updateAABBBounds(t,e,i){if(!this.updatePathProxyAABBBounds(i)){let{maxWidth:r=e.maxWidth,maxHeight:n=e.maxHeight}=t,{width:a,height:s}=t;if(null==a||null==s){let t=this.getImageElement();if(t){let e=t.width,i=t.height;if(null!=a)s=i/e*a;else if(null!=s)a=e/i*s;else{let t=e/i;t>r/n?(a=r,s=r/t):(s=n,a=n*t)}}else a=r,s=n}this._actualWidth=a,this._actualHeight=s,i.set(0,0,a,s)}let{tb1:r,tb2:n}=s.w.graphicService.updateTempAABBBounds(i);return(0,l.E)(t,e,r),i.union(r),r.setValue(n.x1,n.y1,n.x2,n.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,s.w.graphicService.transformAABBBounds(t,i,e,!1,this),i}getDefaultAttribute(t){return n.jK[t]}needUpdateTags(t){return super.needUpdateTags(t,h)}needUpdateTag(t){return super.needUpdateTag(t,h)}clone(){return new d(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return d.NOWORK_ANIMATE_ATTR}}function u(t){return new d(t)}d.NOWORK_ANIMATE_ATTR=Object.assign({image:1,repeatX:1,repeatY:1},r.Wl)},623579:function(t,e,i){i.d(e,{W:()=>u});var r=i(426835),n=i(25666),a=i(509257),s=i(780949),o=i(92451),l=i(721756);let h=["segments","points","curveType","curveTension",...r.DH];class d extends r.zs{constructor(t={}){super(t),this.type="line",this.numberType=l.Hf}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;let{points:t,segments:e}=this.attribute;return e?0!==e.length:!!t&&!(t.length<=1)}_interpolate(t,e,i,r,n){"points"===t&&(n.points=(0,s.SA)(i,r,e))}getGraphicTheme(){return(0,n.gh)(this).line}updateAABBBounds(t,e,i){this.updatePathProxyAABBBounds(i)||(t.segments?this.updateLineAABBBoundsBySegments(t,e,i):this.updateLineAABBBoundsByPoints(t,e,i)),a.w.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;let{lineJoin:r=e.lineJoin}=t;return a.w.graphicService.transformAABBBounds(t,i,e,"miter"===r,this),i}updateLineAABBBoundsByPoints(t,e,i,r){let{points:n=e.points,connectedType:a}=t;return n.forEach(t=>{!1===t.defined&&"connect"!==a||i.add(t.x,t.y)}),i}updateLineAABBBoundsBySegments(t,e,i,r){let{segments:n=e.segments,connectedType:a}=t;return n.forEach(t=>{t.points.forEach(t=>{!1===t.defined&&"connect"!==a||i.add(t.x,t.y)})}),i}needUpdateTags(t){return super.needUpdateTags(t,h)}needUpdateTag(t){return super.needUpdateTag(t,h)}toCustomPath(){let t=super.toCustomPath();if(t)return t;let e=this.attribute;t=new o.r;let i=e.segments,r=e=>{if(e&&e.length){let i=!0;e.forEach(e=>{!1!==e.defined&&(i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y),i=!1)})}};return i&&i.length?i.forEach(t=>{r(t.points)}):e.points&&r(e.points),t}clone(){return new d(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return d.NOWORK_ANIMATE_ATTR}}function u(t){return new d(t)}d.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},r.Wl)},987373:function(t,e,i){i.d(e,{p:()=>u});var r=i(426835),n=i(25666),a=i(780949),s=i(92451),o=i(509257),l=i(721756);let h=["points","cornerRadius",...r.DH];class d extends r.zs{constructor(t){super(t),this.type="polygon",this.numberType=l.Kh}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{points:t}=this.attribute;return t&&t.length>=2}getGraphicTheme(){return(0,n.gh)(this).polygon}updateAABBBounds(t,e,i){this.updatePathProxyAABBBounds(i)||this.updatePolygonAABBBoundsImprecise(t,e,i),o.w.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;let{lineJoin:r=e.lineJoin}=t;return o.w.graphicService.transformAABBBounds(t,i,e,"miter"===r,this),i}updatePolygonAABBBoundsImprecise(t,e,i){let{points:r=e.points}=t;return r.forEach(t=>{i.add(t.x,t.y)}),i}_interpolate(t,e,i,r,n){"points"===t&&(n.points=(0,a.SA)(i,r,e))}needUpdateTags(t){return super.needUpdateTags(t,h)}needUpdateTag(t){return super.needUpdateTag(t,h)}toCustomPath(){let t=super.toCustomPath();if(t)return t;let e=this.attribute.points;return t=new s.r,e.forEach((e,i)=>{0===i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),t}clone(){return new d(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return d.NOWORK_ANIMATE_ATTR}}function u(t){return new d(t)}d.NOWORK_ANIMATE_ATTR=r.Wl},669860:function(t,e,i){i.d(e,{U:()=>u,f:()=>c});var r=i(426835),n=i(92451),a=i(25666),s=i(509257),o=i(721756),l=i(58174),h=i(819024);let d=["width","x1","y1","height","cornerRadius",...r.DH];class u extends r.zs{constructor(t){super(t),this.type="rect",this.numberType=o._u}isValid(){return super.isValid()&&this._isValid()}_isValid(){return!0}getGraphicTheme(){return(0,a.gh)(this).rect}updateAABBBounds(t,e,i){if(!this.updatePathProxyAABBBounds(i)){let{width:e,height:r}=t,{x1:n,y1:a,x:s,y:o}=t;e=null!=e?e:n-s,r=null!=r?r:a-o,(isFinite(e)||isFinite(r)||isFinite(s)||isFinite(o))&&i.set(0,0,e||0,r||0)}let{tb1:r,tb2:n}=s.w.graphicService.updateTempAABBBounds(i);return(0,h.E)(t,e,r),i.union(r),r.setValue(n.x1,n.y1,n.x2,n.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,s.w.graphicService.transformAABBBounds(t,i,e,!1,this),i}needUpdateTags(t){return super.needUpdateTags(t,d)}needUpdateTag(t){return super.needUpdateTag(t,d)}toCustomPath(){let t=super.toCustomPath();if(t)return t;let e=this.attribute,{x:i,y:r,width:a,height:s}=(0,l.p)(e);return(t=new n.r).moveTo(i,r),t.rect(i,r,a,s),t}clone(){return new u(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return u.NOWORK_ANIMATE_ATTR}}function c(t){return new u(t)}u.NOWORK_ANIMATE_ATTR=r.Wl},505850:function(t,e,i){i.d(e,{H:()=>A,p:()=>S});var r=i(83624),n=i(704654),a=i(426835),s=i(678412),o=i(43806);class l{constructor(t,e,i,r,n,a,s,l,h,d,u,c,p,g){this.left=t,this.top=e,this.width=i,this.height=r,this.actualHeight=0,this.bottom=e+r,this.right=t+i,this.ellipsis=n,this.wordBreak=a,this.verticalDirection=s,this.lines=[],this.globalAlign=l,this.globalBaseline=h,this.layoutDirection=d,this.directionKey=o.i7[this.layoutDirection],this.isWidthMax=u,this.isHeightMax=c,this.singleLine=p,g?(g.clear(),this.icons=g):this.icons=new Map}draw(t,e){let{width:i,height:r}=this.getActualSize(),n=this.isWidthMax?Math.min(this.width,i):this.width||i||0,a=this.isHeightMax?Math.min(this.height,r):this.height||r||0;a=Math.min(a,r);let s=0;switch(this.globalBaseline){case"top":s=0;break;case"middle":s=-a/2;break;case"bottom":s=-a}let o=0;"right"===this.globalAlign||"end"===this.globalAlign?o=-n:"center"===this.globalAlign&&(o=-n/2);let l=this[this.directionKey.height];this.singleLine&&(l=this.lines[0].height+1);let h=!1;if("middle"===this.verticalDirection)if(this.actualHeight>=l&&0!==l)for(let i=0;i<this.lines.length;i++){let{top:r,height:n}=this.lines[i];if(r+n<this[this.directionKey.top]||r+n>this[this.directionKey.top]+l)break;let a=!1;this.ellipsis&&this.lines[i+1]&&this.lines[i+1].top+this.lines[i+1].height>this[this.directionKey.top]+l&&(a=!0,h=!0),this.lines[i].draw(t,a,this.lines[i][this.directionKey.left]+o,this.lines[i][this.directionKey.top]+s,this.ellipsis,e)}else{let i=Math.floor((l-this.actualHeight)/2);"vertical"===this.layoutDirection?o+=i:s+=i;for(let i=0;i<this.lines.length;i++)this.lines[i].draw(t,!1,this.lines[i][this.directionKey.left]+o,this.lines[i][this.directionKey.top]+s,this.ellipsis,e)}else if("bottom"===this.verticalDirection&&"vertical"!==this.layoutDirection)for(let i=0;i<this.lines.length;i++){let{top:r,height:n}=this.lines[i],a=l-this.lines[i].top-this.lines[i].height;if(0===l)this.lines[i].draw(t,!1,o,a+s,this.ellipsis,e);else{if(a+n>this[this.directionKey.top]+l||a<this[this.directionKey.top])return h;{let r=!1;this.ellipsis&&this.lines[i+1]&&a-this.lines[i+1].height<this[this.directionKey.top]&&(r=!0,h=!0),this.lines[i].draw(t,r,o,a+s,this.ellipsis,e)}}}else{"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&this.singleLine&&this.isWidthMax&&(o+=this.lines[0].height+1);for(let i=0;i<this.lines.length;i++){"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&(o-=this.lines[i].height+this.lines[i].top);let{top:r,height:n}=this.lines[i];if(0===l)this.lines[i].draw(t,!1,this.lines[i][this.directionKey.left]+o,this.lines[i][this.directionKey.top]+s,this.ellipsis,e);else{if(r+n<this[this.directionKey.top]||r+n>this[this.directionKey.top]+l)return h;{let r=!1;this.ellipsis&&this.lines[i+1]&&this.lines[i+1].top+this.lines[i+1].height>this[this.directionKey.top]+l&&(r=!0,h=!0),this.lines[i].draw(t,r,this.lines[i][this.directionKey.left]+o,this.lines[i][this.directionKey.top]+s,this.ellipsis,e)}}}}return h}getActualSize(){return this.ellipsis?this.getActualSizeWidthEllipsis():this.getRawActualSize()}getRawActualSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){let r=this.lines[i];r.actualWidth>t&&(t=r.actualWidth),e+=r.height}return{width:"vertical"===this.layoutDirection?e:t,height:"vertical"===this.layoutDirection?t:e}}getActualSizeWidthEllipsis(){let t=0,e=0,{width:i,height:r}=this.getRawActualSize();this.width;let n=this.height||r||0;n=Math.min(n,r);let a=this[this.directionKey.height];if(this.singleLine&&(a=this.lines[0].height+1),"middle"===this.verticalDirection)if(this.actualHeight>=a&&0!==a)for(let i=0;i<this.lines.length;i++){let{top:r,height:n}=this.lines[i];if(r+n<this[this.directionKey.top]||r+n>this[this.directionKey.top]+a);else if(this.ellipsis&&this.lines[i+1]&&this.lines[i+1].top+this.lines[i+1].height>this[this.directionKey.top]+a){let r=!0===this.ellipsis?"...":this.ellipsis||"",n=this.lines[i].getWidthWithEllips(r);n>t&&(t=n),e+=this.lines[i].height}else this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height}else{this.actualHeight;for(let i=0;i<this.lines.length;i++)this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height}else if("bottom"===this.verticalDirection)for(let i=0;i<this.lines.length;i++){let{top:r,height:n}=this.lines[i],s=a-this.lines[i].top-this.lines[i].height;if(0===a)this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height;else if(s+n>this[this.directionKey.top]+a||s<this[this.directionKey.top]);else if(this.ellipsis&&this.lines[i+1]&&s-this.lines[i+1].height<this[this.directionKey.top]){let r=!0===this.ellipsis?"...":this.ellipsis||"",n=this.lines[i].getWidthWithEllips(r);n>t&&(t=n),e+=this.lines[i].height}else this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height}else for(let i=0;i<this.lines.length;i++){let{top:r,height:n}=this.lines[i];if(0===a)this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height;else if(r+n<this[this.directionKey.top]||r+n>this[this.directionKey.top]+a);else if(this.ellipsis&&this.lines[i+1]&&this.lines[i+1].top+this.lines[i+1].height>this[this.directionKey.top]+a){let r=!0===this.ellipsis?"...":this.ellipsis||"",n=this.lines[i].getWidthWithEllips(r);n>t&&(t=n),e+=this.lines[i].height}else this.lines[i].actualWidth>t&&(t=this.lines[i].actualWidth),e+=this.lines[i].height}return{width:"vertical"===this.layoutDirection?e:t,height:"vertical"===this.layoutDirection?t:e}}}var h=i(780949);function d(t,e,i,r){let n=Math.round(t),a=Math.round(i),s=Math.round(e),o=Math.round(r);return{left:t>n?n:n-.5,top:i>a?a:a-.5,right:s>e?s:s+.5,bottom:o>r?o:o+.5}}class u{constructor(t,e,i,r){var n,a;this.fontSize=i.fontSize||16,this.textBaseline=i.textBaseline||"alphabetic",this.ascentDescentMode=r;let s=(0,h.VA)(i.lineHeight,this.fontSize);this.lineHeight="number"==typeof s?s>this.fontSize?s:this.fontSize:Math.floor(1.2*this.fontSize),this.height=this.lineHeight;let{ascent:l,height:d,descent:u,width:c}=(0,o.MS)(t,i,this.ascentDescentMode),p=0,g=0,f=0;this.height>d&&(g=Math.ceil(p=(this.height-d)/2),f=Math.floor(p)),"top"===this.textBaseline?(this.ascent=p,this.descent=d-p):"bottom"===this.textBaseline?(this.ascent=d-p,this.descent=p):"middle"===this.textBaseline?(this.ascent=this.height/2,this.descent=this.height/2):(this.ascent=l+g,this.descent=u+f),this.length=t.length,this.width=c||0,this.text=t||"",this.newLine=e||!1,this.character=i,this.left=0,this.top=0,this.ellipsis="normal",this.ellipsisWidth=0,this.ellipsisOtherParagraphWidth=0,this.space=i.space,this.dx=null!=(n=i.dx)?n:0,this.dy=null!=(a=i.dy)?a:0,"vertical"===i.direction&&(this.direction=i.direction,this.widthOrigin=this.width,this.heightOrigin=this.height,this.width=this.heightOrigin,this.height=this.widthOrigin,this.lineHeight=this.height),this.ellipsisStr="..."}updateWidth(){let{width:t}=(0,o.MS)(this.text,this.character,this.ascentDescentMode);this.width=t,"vertical"===this.direction&&(this.widthOrigin=this.width,this.width=this.heightOrigin,this.height=this.widthOrigin)}drawBackground(t,e,i,r,n,a,s){if(""===this.text||"\n"===this.text||!this.character.background||this.character.backgroundOpacity&&!(this.character.backgroundOpacity>0))return;let l=e+i,h=this.text,u=this.left+r;l+=this.top;let c=this.direction;if(this.verticalEllipsis)h=this.ellipsisStr,c="vertical",l-=this.ellipsisWidth/2;else{if("hide"===this.ellipsis)return;if("add"===this.ellipsis)h+=this.ellipsisStr,"right"!==a&&"end"!==a||(u-=this.ellipsisWidth);else if("replace"===this.ellipsis){let t=(0,o.Hi)(h,("vertical"===c?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,h.length-1);if(h=h.slice(0,t)+this.ellipsisStr,"right"===a||"end"===a)if("vertical"===c);else{let{width:e}=(0,o.MS)(this.text.slice(t),this.character,this.ascentDescentMode);u-=this.ellipsisWidth-e}}}return Object.assign(Object.assign({},d(u,u+(this.widthOrigin||this.width),e,e+s)),{fillStyle:this.character.background,globalAlpha:this.character.backgroundOpacity})}draw(t,e,i,r,n,a,s){var l;let h=e+i,u=this.text,c=this.left+r+(null!=(l=this.space)?l:0)/2;h+=this.top;let p=this.direction;if(this.verticalEllipsis)u=this.ellipsisStr,p="vertical",h-=this.ellipsisWidth/2;else{if("hide"===this.ellipsis)return;if("add"===this.ellipsis)u+=this.ellipsisStr,"right"!==a&&"end"!==a||(c-=this.ellipsisWidth);else if("replace"===this.ellipsis){let t=(0,o.Hi)(u,("vertical"===p?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,u.length-1);if(u=u.slice(0,t)+this.ellipsisStr,"right"===a||"end"===a)if("vertical"===p);else{let{width:e}=(0,o.MS)(this.text.slice(t),this.character,this.ascentDescentMode);c-=this.ellipsisWidth-e}}}switch(this.character.script){case"super":h-=this.ascent*(1/3);break;case"sub":h+=this.descent/2}"vertical"===p&&(t.save(),t.rotateAbout(Math.PI/2,c,h),t.translate(-this.heightOrigin||-this.lineHeight/2,-this.descent/2),t.translate(c,h),c=0,h=0);let{lineWidth:g=1}=this.character;if(this.character.stroke&&g&&t.strokeText(u,c+this.dx,h+this.dy),this.character.fill&&t.fillText(u,c+this.dx,h+this.dy),this.character.fill){if(this.character.lineThrough||this.character.underline){if(this.character.underline){let e=1+h,i=d(c,c+(this.widthOrigin||this.width),e,e+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));t.fillRect(i.left,1+h,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}if(this.character.lineThrough){let e=1+h-this.ascent/2,i=d(c,c+(this.widthOrigin||this.width),e,e+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));t.fillRect(i.left,1+h-this.ascent/2,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}}else if("underline"===this.character.textDecoration){let e=1+h,i=d(c,c+(this.widthOrigin||this.width),e,e+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));t.fillRect(i.left,1+h,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}else if("line-through"===this.character.textDecoration){let e=1+h-this.ascent/2,i=d(c,c+(this.widthOrigin||this.width),e,e+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));t.fillRect(i.left,1+h-this.ascent/2,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}}"vertical"===p&&t.restore()}getWidthWithEllips(t){let e=this.text,i="vertical"===t?this.height:this.width;if("hide"===this.ellipsis)return i;if("add"===this.ellipsis)return i+this.ellipsisWidth;if("replace"===this.ellipsis){let t=(0,o.Hi)(e,i-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,e.length-1);e=e.slice(0,t)+this.ellipsisStr;let{width:r}=(0,o.MS)(this.text.slice(t),this.character,this.ascentDescentMode);return i+this.ellipsisWidth-r}return i}}var c=i(695723),p=i(507261);class g extends p.E{constructor(t){if(super(t),this._x=0,this._y=0,this._hovered=!1,this._marginArray=[0,0,0,0],"always"===t.backgroundShowMode&&(this._hovered=!0),t.margin){let e=(0,h.dj)(t.margin);this._marginArray="number"==typeof e?[e,e,e,e]:e}this.onBeforeAttributeUpdate=(t,e,i)=>{if((0,c.Z)(i)&&-1!==i.indexOf("margin")||"margin"===i)if(e.margin){let t=(0,h.dj)(e.margin);this._marginArray="number"==typeof t?[t,t,t,t]:t}else this._marginArray=[0,0,0,0]}}get width(){var t;return(null!=(t=this.attribute.width)?t:0)+this._marginArray[1]+this._marginArray[3]}get height(){var t;return(null!=(t=this.attribute.height)?t:0)+this._marginArray[0]+this._marginArray[2]}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.doUpdateAABBBounds();let{width:t=s.jK.width,height:e=s.jK.height}=this.attribute,{backgroundWidth:i=t,backgroundHeight:r=e}=this.attribute;return this._AABBBounds.expand([0,(i-t)/2*2,(r-e)/2*2,0]),this._AABBBounds}setHoverState(t){"hover"===this.attribute.backgroundShowMode&&this._hovered!==t&&(this._hovered=t)}}class f{constructor(t,e,i,r,n,a,s,l){this.left=t,this.width=e,this.baseline=i,this.ascent=r,this.descent=n,this.top=i-r,this.paragraphs=a.map(t=>t),this.textAlign=(this.paragraphs[0]instanceof g?this.paragraphs[0].attribute.textAlign:this.paragraphs[0].character.textAlign)||"left",this.direction=s,this.directionKey=o.i7[this.direction],this.actualWidth=0;let h=0;this.paragraphs.forEach((t,e)=>{if(0===e&&t instanceof u){let e=o.cV.exec(t.text);0!==(null==e?void 0:e.index)&&(t.text=t.text.slice(null==e?void 0:e.index),t.updateWidth())}this.actualWidth+=t[this.directionKey.width],h=Math.max(t[this.directionKey.height],h)}),this.height=h,this.blankWidth=l?0:this.width-this.actualWidth,this.calcOffset(e,l)}calcOffset(t,e){let i=this.directionKey,r=this.height,n=this.left,a=0;this.actualWidth<t&&!e&&("right"===this.textAlign||"end"===this.textAlign?n=t-this.actualWidth:"center"===this.textAlign?n=(t-this.actualWidth)/2:"justify"===this.textAlign&&(this.paragraphs.length<2?n=(t-this.actualWidth)/2:a=(t-this.actualWidth)/(this.paragraphs.length-1))),this.paragraphs.map(function(t){t instanceof g?(t["_"+i.x]=n,n+=t[i.width]+a,t["_"+i.y]="top"===t.attribute.textBaseline?0:"bottom"===t.attribute.textBaseline?r-t.height:(r-t.height)/2):(t[i.left]=n,n+=t[i.width]+a)})}draw(t,e,i,r,n,a){if(n&&(e||this.paragraphs.some(t=>t.overflow))){let t=!0,i=!1;for(let e=this.paragraphs.length-1;e>=0;e--){let r=this.paragraphs[e];if(r.overflow)t=t&&""===r.text;else if(t){i=!0;break}}let r=0;if(!i)for(let t=this.paragraphs.length-1;t>=0;t--){let i=this.paragraphs[t];if(i.overflow){if(""===i.text)break;continue}if(i instanceof g)break;if("vertical"===this.direction&&"vertical"!==i.direction){i.verticalEllipsis=!0;break}let a=!0===n?"...":n||"";i.ellipsisStr=a;let{width:s}=(0,o.MS)(a,i.character,i.ascentDescentMode),l=s||0;if(l<=this.blankWidth+r){e&&(i.ellipsis="add");break}if(l<=this.blankWidth+r+i.width){i.ellipsis="replace",i.ellipsisWidth=l,i.ellipsisOtherParagraphWidth=this.blankWidth+r;break}i.ellipsis="hide",r+=i.width}}let s="",l=-1,h=[],d=[h];this.paragraphs.forEach((e,n)=>{if(e instanceof g)return;let a=e.drawBackground(t,r,this.ascent,i,0===n,this.textAlign,this.height);a&&(s===a.fillStyle&&l===a.globalAlpha||(h=[],d.push(h),s=a.fillStyle,l=a.globalAlpha),h.push(a))}),d.forEach(e=>{if(0===e.length)return;let i=e[0],r=e[e.length-1];t.fillStyle=i.fillStyle,t.globalAlpha=i.globalAlpha,t.fillRect(i.left,i.top,r.right-i.left,r.bottom-i.top)}),this.paragraphs.forEach((e,n)=>{if(e instanceof g)return e.setAttributes({x:i+e._x,y:r+e._y}),void a(e,t,i+e._x,r+e._y,this.ascent);let s={x1:this.left,y1:this.top,x2:this.left+this.actualWidth,y2:this.top+this.height};(0,o.p3)(t,e.character),(0,o.nq)(t,e.character,s),e.draw(t,r,this.ascent,i,0===n,this.textAlign,this.height)})}getWidthWithEllips(t){let e=0;for(let i=this.paragraphs.length-1;i>=0;i--){let r=this.paragraphs[i];if(r instanceof g)break;let{width:n}=(0,o.MS)(t,r.character,r.ascentDescentMode),a=n||0;if(a<=this.blankWidth+e){r.ellipsis="add",r.ellipsisWidth=a;break}if(a<=this.blankWidth+e+r.width){r.ellipsis="replace",r.ellipsisWidth=a,r.ellipsisOtherParagraphWidth=this.blankWidth+e;break}r.ellipsis="hide",e+=r.width}let i=0;return this.paragraphs.forEach((t,e)=>{i+=t instanceof g?t.width:t.getWidthWithEllips(this.direction)}),i}}class m{constructor(t){this.frame=t,this.width=this.frame.width,this.height=this.frame.height,this.lineWidth=0,this.y=this.frame.top,this.maxAscent=0,this.maxDescent=0,this.maxAscentForBlank=0,this.maxDescentForBlank=0,this.lineBuffer=[],this.direction=t.layoutDirection,this.directionKey=o.i7[this.direction]}store(t){if(t instanceof g){this.frame.icons.set(t.richtextId,t),this.lineBuffer.push(t),this.lineWidth+=t[this.directionKey.width];let e=0,i=0;"top"===t.attribute.textBaseline?(e=0,i=t.height):"bottom"===t.attribute.textBaseline?(e=t.height,i=0):(e=t.height/2,i=t.height/2),this.maxAscent=Math.max(this.maxAscent,e),this.maxDescent=Math.max(this.maxDescent,i)}else this.lineBuffer.push(t),0!==t.text.length?(this.lineWidth+=t[this.directionKey.width],this.maxAscent=Math.max(this.maxAscent,t.ascent),this.maxDescent=Math.max(this.maxDescent,t.descent)):(this.maxAscentForBlank=Math.max(this.maxAscentForBlank,t.ascent),this.maxDescentForBlank=Math.max(this.maxDescentForBlank,t.descent))}send(){if(0===this.lineBuffer.length)return;let t=0===this.maxAscent?this.maxAscentForBlank:this.maxAscent,e=0===this.maxDescent?this.maxDescentForBlank:this.maxDescent,i=new f(this.frame.left,this[this.directionKey.width],this.y+t,t,e,this.lineBuffer,this.direction,"horizontal"===this.direction?this.frame.isWidthMax:this.frame.isHeightMax);this.frame.lines.push(i),this.frame.actualHeight+=i.height,this.y+=i.height,this.lineBuffer.length=0,this.lineWidth=this.maxAscent=this.maxDescent=this.maxAscentForBlank=this.maxDescentForBlank=0}deal(t,e=!1){t instanceof g?"horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+t[this.directionKey.width]<=this[this.directionKey.width]?this.store(t):0===this.lineBuffer.length?(this.store(t),this.send()):(this.send(),this.deal(t)):"number"!=typeof this.width||this.width<0||(t.newLine&&this.send(),(0!==t.text.length||this.newLine)&&("horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+t[this.directionKey.width]<=this[this.directionKey.width]?this.store(t):this.lineWidth===this[this.directionKey.width]?(this.send(),this.deal(t)):this.cut(t,e)))}cut(t,e){let i=this[this.directionKey.width]-this.lineWidth||0,r=Math.ceil(i/t[this.directionKey.width]*t.length)||0,n=(0,o.Hi)(t.text,i,t.character,r,"break-word"===this.frame.wordBreak);if(0!==n){let[i,r]=function(t,e){let i=t.text.slice(0,e),r=t.text.slice(e);return[new u(i,t.newLine,t.character,t.ascentDescentMode),new u(r,!0,t.character,t.ascentDescentMode)]}(t,n);this.store(i),e?this.send():this.deal(r)}else 0!==this.lineBuffer.length&&(this.send(),this.deal(t))}}var b=i(25666),y=i(509257),v=i(721756);let x=!1;try{x=Intl&&"function"==typeof Intl.Segmenter}catch(t){x=!1}let B=["width","height","ellipsis","wordBreak","verticalDirection","maxHeight","maxWidth","textAlign","textBaseline","textConfig","layoutDirection","fill","stroke","fontSize","fontFamily","fontStyle","fontWeight","lineWidth","opacity","fillOpacity","strokeOpacity",...a.DH];class A extends a.zs{constructor(t){super(t),this.type="richtext",this._currentHoverIcon=null,this.numberType=v.$M,this.onBeforeAttributeUpdate=(t,e,i)=>{for(let i in t)if("hoverIconId"===i){if(t[i]===e[i])continue;let r=this._frameCache.icons.get(t[i]);this.updateHoverIconState(r)}}}get width(){var t;return null!=(t=this.attribute.width)?t:s.Iq.width}set width(t){this.attribute.width!==t&&(this.attribute.width=t,this.addUpdateShapeAndBoundsTag())}get height(){var t;return null!=(t=this.attribute.height)?t:s.Iq.height}set height(t){this.attribute.height!==t&&(this.attribute.height=t,this.addUpdateShapeAndBoundsTag())}get maxWidth(){return this.attribute.maxWidth}set maxWidth(t){this.attribute.maxWidth!==t&&(this.attribute.maxWidth=t,this.addUpdateShapeAndBoundsTag())}get maxHeight(){return this.attribute.maxHeight}set maxHeight(t){this.attribute.maxHeight!==t&&(this.attribute.maxHeight=t,this.addUpdateShapeAndBoundsTag())}get ellipsis(){var t;return null!=(t=this.attribute.ellipsis)?t:s.Iq.ellipsis}set ellipsis(t){this.attribute.ellipsis!==t&&(this.attribute.ellipsis=t,this.addUpdateShapeAndBoundsTag())}get wordBreak(){var t;return null!=(t=this.attribute.wordBreak)?t:s.Iq.wordBreak}set wordBreak(t){this.attribute.wordBreak!==t&&(this.attribute.wordBreak=t,this.addUpdateShapeAndBoundsTag())}get verticalDirection(){var t;return null!=(t=this.attribute.verticalDirection)?t:s.Iq.verticalDirection}set verticalDirection(t){this.attribute.verticalDirection!==t&&(this.attribute.verticalDirection=t,this.addUpdateShapeAndBoundsTag())}get textAlign(){var t;return null!=(t=this.attribute.textAlign)?t:s.Iq.textAlign}set textAlign(t){this.attribute.textAlign!==t&&(this.attribute.textAlign=t,this.addUpdateShapeAndBoundsTag())}get textBaseline(){var t;return null!=(t=this.attribute.textBaseline)?t:s.Iq.textBaseline}set textBaseline(t){this.attribute.textBaseline!==t&&(this.attribute.textBaseline=t,this.addUpdateShapeAndBoundsTag())}get textConfig(){var t;return null!=(t=this.attribute.textConfig)?t:s.Iq.textConfig}set textConfig(t){this.attribute.textConfig=t,this.addUpdateShapeAndBoundsTag()}getGraphicTheme(){return(0,b.gh)(this).richtext}static AllSingleCharacter(t){return t.lines?t.lines.every(t=>t.paragraphs.every(t=>!(t.text&&(0,r.Z)(t.text)&&A.splitText(t.text).length>1))):t.every(t=>t.isComposing||!(t.text&&(0,r.Z)(t.text)&&A.splitText(t.text).length>1))}static splitText(t){if(x){let e=new Intl.Segmenter(void 0,{granularity:"grapheme"}),i=[];for(let{segment:r}of e.segment(t))i.push(r);return i}return Array.from(t)}static TransformTextConfig2SingleCharacter(t){let e=[];return t.forEach(t=>{let i=A.splitText(t.text.toString());if((0,r.Z)(t.text)&&i.length>1)for(let r=0;r<i.length;r++){let n=i[r];e.push(Object.assign(Object.assign({},t),{text:n}))}else e.push(t)}),e}updateAABBBounds(t,e,i){var r,n,a,s;let{width:o=e.width,height:l=e.height,maxWidth:h=e.maxWidth,maxHeight:d=e.maxHeight,textAlign:u=e.textAlign,textBaseline:c=null!=(n=null!=(r=t.textBaseline)?r:e.textBaseline)?n:"top",editOptions:p}=t;if(o>0&&l>0)i.set(0,0,o,l);else{let{width:t,height:e}=this.getFrameCache().getActualSize(),r=o||t||0,n=l||e||0;n="number"==typeof d&&n>d?d:n||0,r="number"==typeof h&&r>h?h:r||0,i.set(0,0,r,n)}!p||!p.keepHeightWhileEmpty||i.height()||(null==(a=t.textConfig)?void 0:a.length)||(i.y2=i.y1+(null!=(s=t.fontSize)?s:12),i.x2=i.x1+2);let g=0;switch(c){case"top":g=0;break;case"middle":g=-i.height()/2;break;case"bottom":g=-i.height()}let f=0;switch(u){case"left":f=0;break;case"center":f=-i.width()/2;break;case"right":f=-i.width()}return l||("middle"===this.verticalDirection?g-=i.height()/2:"bottom"===this.verticalDirection&&(g-=i.height())),i.translate(f,g),y.w.graphicService.updateTempAABBBounds(i),null==t.forceBoundsHeight&&null==t.forceBoundsWidth||y.w.graphicService.updateHTMLTextAABBBounds(t,e,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,y.w.graphicService.transformAABBBounds(t,i,e,!1,this),0===i.width()&&0===i.height()&&i.clear(),i}needUpdateTags(t){return super.needUpdateTags(t,B)}needUpdateTag(t){return super.needUpdateTag(t,B)}getFrameCache(){return this.shouldUpdateShape()&&(this.doUpdateFrameCache(),this.clearUpdateShapeTag()),this._frameCache}get cliped(){let t=this.getFrameCache();if(t.actualHeight>t.height)return!0;let{disableAutoWrapLine:e}=this.attribute;if(e)for(let e=0;e<t.lines.length;e++){let i=t.lines[e];for(let t=0;t<i.paragraphs.length;t++){let e=i.paragraphs[t];if(e.overflow&&""!==e.text)return!0}}return!1}combinedStyleToCharacter(t){let{fill:e,stroke:i,fontSize:r,fontFamily:n,fontStyle:a,fontWeight:s,lineWidth:o,opacity:l,fillOpacity:h,lineHeight:d,strokeOpacity:u,upgradeAttrs:c}=this.attribute,p=Object.assign({fill:e,stroke:i,fontSize:r,fontFamily:n,fontStyle:a,fontWeight:s,lineWidth:o,opacity:l,fillOpacity:h,strokeOpacity:u},t);return(null==c?void 0:c.lineHeight)&&(p.lineHeight=d),p}doUpdateFrameCache(t){var e;let{maxWidth:i,maxHeight:r,width:a,height:s,ellipsis:o,wordBreak:h,verticalDirection:d,textAlign:c,textBaseline:p,layoutDirection:f,singleLine:b,disableAutoWrapLine:y,editable:v,ascentDescentMode:x,upgradeAttrs:B}=this.attribute,S=B&&B.multiBreakLine,{textConfig:w=[]}=this.attribute;v&&w.length>0&&!A.AllSingleCharacter(w)&&(w=A.TransformTextConfig2SingleCharacter(w),this.attribute.textConfig=w);let T=[],k=null!=t?t:w;for(let t=0;t<k.length;t++)if("image"in k[t]){let e=this.combinedStyleToCharacter(k[t]);e.lineWidth=void 0;let i=e.id&&this._frameCache&&this._frameCache.icons&&this._frameCache.icons.get(e.id);if(i)T.push(i);else{let t=new g(e);t.successCallback=()=>{var t;this.addUpdateBoundTag(),null==(t=this.stage)||t.renderNextFrame()},t.richtextId=e.id,T.push(t)}}else{let e=this.combinedStyleToCharacter(k[t]);if((0,n.Z)(e.text)&&(e.text=`${e.text}`),e.text&&e.text.includes("\n")){let i=e.text.split("\n");for(let r=0;r<i.length;r++)if(0===r)T.push(new u(i[r],!1,e,x));else if(i[r]||t===k.length-1)T.push(new u(i[r],!0,e,x));else{let e=this.combinedStyleToCharacter(k[t+1]);T.push(new u(i[r],!0,e,x))}}else e.text&&T.push(new u(e.text,!1,e,x))}let P="number"==typeof i&&Number.isFinite(i)&&i>0,C="number"==typeof r&&Number.isFinite(r)&&r>0,R="number"==typeof a&&Number.isFinite(a)&&a>0&&(!P||a<=i),M="number"==typeof s&&Number.isFinite(s)&&s>0&&(!C||s<=r),O=new l(0,0,(R?a:P?i:0)||0,(M?s:C?r:0)||0,o,h,d,c,p,f||"horizontal",!R&&P,!M&&C,b||!1,null==(e=this._frameCache)?void 0:e.icons),_=new m(O);if(_.newLine=S,y){let t=0,e=!1;for(let i=0;i<T.length;i++){let r=T[i];e?(r.overflow=!0,r.left=1/0,r.top=1/0,r.newLine||O.lines[O.lines.length-1].paragraphs.push(r)):_.deal(r,!0),O.lines.length!==t&&(t=O.lines.length,_.lineBuffer.length=0,r.overflow=!0,r.left=1e3,r.top=1e3,O.lines[O.lines.length-1].paragraphs.push(r),e=!0),r.newLine&&(e=!1,_.lineWidth=0),_.send()}}else for(let t=0;t<T.length;t++)_.deal(T[t]);if(_.send(),!("horizontal"===O.layoutDirection?R:M)){let t=O.getActualSizeWidthEllipsis(),e="horizontal"===O.layoutDirection?t.width:t.height;("horizontal"===O.layoutDirection?P:C)&&(e=Math.min(e,"horizontal"===O.layoutDirection?i:r)),O.lines.forEach(function(t){t.calcOffset(e,!1)})}S&&O.lines.forEach(t=>{let e=t.paragraphs;t.paragraphs=t.paragraphs.filter(t=>""!==t.text),0===t.paragraphs.length&&e.length&&(e[0].text="\n",t.paragraphs.push(e[0]))}),this._frameCache=O}clone(){return new A(Object.assign({},this.attribute))}setStage(t,e){super.setStage(t,e),this.getFrameCache().icons.forEach(i=>{i.setStage(t,e)})}bindIconEvent(){this.addEventListener("pointermove",t=>{let e=this.pickIcon(t.global);e&&e===this._currentHoverIcon||(e?this.setAttribute("hoverIconId",e.richtextId):!e&&this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0))}),this.addEventListener("pointerleave",t=>{this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0)})}updateHoverIconState(t){var e,i,r,n,a;t?(null==(e=this._currentHoverIcon)||e.setHoverState(!1),this._currentHoverIcon=t,this._currentHoverIcon.setHoverState(!0),null==(i=this.stage)||i.setCursor(t.attribute.cursor),null==(r=this.stage)||r.renderNextFrame()):(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,null==(n=this.stage)||n.setCursor(),null==(a=this.stage)||a.renderNextFrame())}pickIcon(t){let e,i=this.getFrameCache(),{e:r,f:n}=this.globalTransMatrix;return i.icons.forEach((i,a)=>{var s,o;let l=i.AABBBounds.clone();l.translate(i._marginArray[3],i._marginArray[0]),l.containsPoint({x:t.x-r,y:t.y-n})&&((e=i).globalX=(null!=(s=e.attribute.x)?s:0)+r+i._marginArray[3],e.globalY=(null!=(o=e.attribute.y)?o:0)+n+i._marginArray[0])}),e}getNoWorkAnimateAttr(){return A.NOWORK_ANIMATE_ATTR}}function S(t){return new A(t)}A.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,verticalDirection:1,textAlign:1,textBaseline:1,textConfig:1,layoutDirection:1},a.Wl)},43806:function(t,e,i){i.d(e,{Hi:()=>g,MS:()=>m,SZ:()=>f,cV:()=>d,i7:()=>s,nq:()=>c,p3:()=>p});var r=i(509257),n=i(830420),a=i(728733);let s={horizontal:{width:"width",height:"height",left:"left",top:"top",x:"x",y:"y",bottom:"bottom"},vertical:{width:"height",height:"width",left:"top",top:"left",x:"y",y:"x",bottom:"right"}},o={fontSize:16,fontFamily:a.iR,fill:!0,stroke:!1,fontWeight:"normal",lineHeight:"normal",fontStyle:"normal",textDecoration:"none",textAlign:"left",script:"normal"};String.fromCharCode(160);let l=/\w|\(|\)|-/,h=/[.?!,;:/]/,d=/\S/,u=(t,e)=>{let i=e.fontSize||16;switch(e.script){case"super":case"sub":i*=.8}t.setTextStyle({textAlign:"left",textBaseline:e.textBaseline||"alphabetic",fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||"",fontSize:i,fontFamily:e.fontFamily})};function c(t,e,i){let r=e&&e.fill||o.fill;if(!r)return void(t.globalAlpha=0);let{fillOpacity:a=1,opacity:s=1}=e;t.globalAlpha=a*s,t.fillStyle=i?(0,n.L)(t,r,{AABBBounds:i}):r,u(t,e)}function p(t,e){let i=e&&e.stroke||o.stroke;if(!i)return void(t.globalAlpha=0);let{strokeOpacity:r=1,opacity:n=1}=e;t.globalAlpha=r*n,t.lineWidth=e&&"number"==typeof e.lineWidth?e.lineWidth:1,t.strokeStyle=i,u(t,e)}function g(t,e,i,n,a){if(t.length<=1||!e||e<=0)return 0;let s=r.w.graphicUtil.textMeasure,o=n,l=t.slice(0,o),h=Math.floor(s.measureText(l,i).width),d=t.slice(0,o+1),u=Math.floor(s.measureText(d,i).width);for(;h>e||u<=e;){if(h>e?o--:o++,o>t.length){o=t.length;break}if(o<0){o=0;break}l=t.slice(0,o),h=Math.floor(s.measureText(l,i).width),d=t.slice(0,o+1),u=Math.floor(s.measureText(d,i).width)}return a&&(o=f(t,o)),o}function f(t,e,i=!1){let r=e;for(;l.test(t[r-1])&&l.test(t[r])||h.test(t[r]);)if(--r<=0)return i?function(t,e){let i=e;for(;l.test(t[i+1])&&l.test(t[i])||h.test(t[i]);)if(++i>=t.length)return i;return i+1}(t,e):e;return r}function m(t,e,i="actual"){var n;if(""===t)return{ascent:0,height:0,descent:0,width:0};let a=r.w.graphicUtil.textMeasure.measureText(t,e),s={ascent:0,height:0,descent:0,width:0},o="actual"===i?a.actualBoundingBoxAscent:a.fontBoundingBoxAscent,l="actual"===i?a.actualBoundingBoxDescent:a.fontBoundingBoxDescent;"number"!=typeof o||"number"!=typeof l?(s.width=Math.floor(a.width),s.height=e.fontSize||0,s.ascent=s.height,s.descent=0):(s.width=Math.floor(a.width),s.height=Math.floor(o+l),s.ascent=Math.floor(o),s.descent=s.height-s.ascent);let h=null!=(n=e.space)?n:0;return s.width+=h,s}},252953:function(t,e,i){i.d(e,{t:()=>c});var r=i(695723),n=i(426835),a=i(25666),s=i(509257),o=i(92451),l=i(721756),h=i(721192);let d=["symbolType","size",...n.DH];class u extends n.zs{constructor(t={symbolType:"circle"}){super(t),this.type="symbol",this.numberType=l.B5}getParsedPath(){return this.shouldUpdateShape()&&(this._parsedPath=this.doUpdateParsedPath(),this.clearUpdateShapeTag()),this._parsedPath}getParsedPath2D(t=0,e=0,i=1){let r=null;try{r=new Path2D}catch(t){return null}let n=this.getParsedPath();if(!n)return null;n.draw(r,i,t,e)}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{size:t}=this.attribute;return(0,r.Z)(t)?2===t.length&&t.every(this._validNumber):this._validNumber(t)}doUpdateParsedPath(){let{symbolType:t="circle"}=this.attribute;return super.parsePath(t)}getGraphicTheme(){return(0,a.gh)(this).symbol}updateAABBBounds(t,e,i,r){this.updatePathProxyAABBBounds(i)||(r?this.updateSymbolAABBBoundsImprecise(t,e,i):this.updateSymbolAABBBoundsAccurate(t,e,i));let{tb1:n,tb2:a}=s.w.graphicService.updateTempAABBBounds(i);((t,e,i)=>{let{outerBorder:r,shadowBlur:n=e.shadowBlur,strokeBoundsBuffer:a=e.strokeBoundsBuffer}=t;if(r){let t=e.outerBorder,{distance:s=t.distance,lineWidth:o=t.lineWidth}=r;(0,h.ph)(i,s+(n+o)/2,!0,a)}})(t,e,n),i.union(n),n.setValue(a.x1,a.y1,a.x2,a.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,this.x1WithoutTransform=i.x1,this.y1WithoutTransform=i.y1;let{lineJoin:o=e.lineJoin}=t;return s.w.graphicService.transformAABBBounds(t,i,e,"miter"===o,this),i}updateSymbolAABBBoundsImprecise(t,e,i){let{size:n=e.size}=t;if((0,r.Z)(n))i.set(-n[0]/2,-n[1]/2,n[0]/2,n[1]/2);else{let t=n/2;i.set(-t,-t,t,t)}return i}updateSymbolAABBBoundsAccurate(t,e,i){let{size:r=e.size}=t,n=this.getParsedPath();return n&&n.bounds(r,i),i}needUpdateTags(t){return super.needUpdateTags(t,d)}needUpdateTag(t){return super.needUpdateTag(t,d)}toCustomPath(){let t=this.getParsedPath();if(!t)return null;let e=this.attribute.size,i=(0,r.Z)(e)?e:[e,e];return t.path?(new o.r).fromCustomPath2D(t.path,0,0,i[0],i[1]):(new o.r).fromString(t.pathStr,0,0,i[0],i[1])}clone(){return new u(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return u.NOWORK_ANIMATE_ATTR}}function c(t){return new u(t)}u.NOWORK_ANIMATE_ATTR=Object.assign({symbolType:1},n.Wl)},212711:function(t,e,i){i.d(e,{r:()=>y,x:()=>b});var r=i(390180),n=i(695723),a=i(219273),s=i(263401),o=i(408830),l=i(492859),h=i(290568),d=i(509257),u=i(426835),c=i(25666),p=i(780949),g=i(721756),f=i(721192);let m=["text","maxLineWidth","maxWidth","textAlign","textBaseline","heightLimit","lineClamp","fontSize","fontFamily","fontWeight","ellipsis","lineHeight","direction","wordBreak","heightLimit","lineClamp",...u.DH];class b extends u.zs{get font(){let t=this.getGraphicTheme();return this._font||(this._font=(0,r.U)(this.attribute,t)),this._font}get clipedText(){var t;let e=this.attribute,i=this.getGraphicTheme();return Number.isFinite(this.getMaxWidth(i))?(this.tryUpdateAABBBounds(),this.cache.clipedText):(null!=(t=e.text)?t:i.text).toString()}get clipedWidth(){return this.tryUpdateAABBBounds(),this.cache.clipedWidth}get cliped(){var t,e;let i=this.getGraphicTheme(),r=this.attribute;if(!Number.isFinite(this.getMaxWidth(i)))return!1;let{text:n}=this.attribute;if(this.tryUpdateAABBBounds(),null==(e=null==(t=this.cache)?void 0:t.layoutData)?void 0:e.lines){let t="";return this.cache.layoutData.lines.forEach(e=>{t+=e.str}),(Array.isArray(n)?n.join(""):n).toString()!==t}return"vertical"===r.direction&&this.cache.verticalList&&this.cache.verticalList[0]?this.cache.verticalList[0].map(t=>t.text).join("")!==r.text.toString():null!=this.clipedText&&this.clipedText!==r.text.toString()}get multilineLayout(){return this.tryUpdateAABBBounds(),this.cache.layoutData}get isMultiLine(){return Array.isArray(this.attribute.text)||"normal"===this.attribute.whiteSpace}constructor(t={text:"",fontSize:16}){super(t),this.type="text",this.numberType=g.Us,this.cache={}}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{text:t}=this.attribute;return(0,n.Z)(t)?!t.every(t=>null==t||""===t):null!=t&&""!==t}getGraphicTheme(){return(0,c.gh)(this).text}doUpdateOBBBounds(){let t=this.getGraphicTheme();this._OBBBounds.clear();let e=this.attribute,{angle:i=t.angle}=e;if(!i){let t=this.AABBBounds;return this._OBBBounds.setValue(t.x1,t.y1,t.x2,t.y2),this._OBBBounds}this.obbText||(this.obbText=new b({})),this.obbText.setAttributes(Object.assign(Object.assign({},e),{angle:0}));let r=this.obbText.AABBBounds,{x:n,y:s}=e,o={x:(r.x1+r.x2)/2,y:(r.y1+r.y2)/2},l=(0,a.xj)(o,i,{x:n,y:s});return this._OBBBounds.copy(r),this._OBBBounds.translate(l.x-o.x,l.y-o.y),this._OBBBounds.angle=i,this._OBBBounds}updateAABBBounds(t,e,i){let{text:r=e.text}=this.attribute;Array.isArray(r)?this.updateMultilineAABBBounds(r):this.updateSingallineAABBBounds(r);let{tb1:n}=d.w.graphicService.updateTempAABBBounds(i),{scaleX:a=e.scaleX,scaleY:o=e.scaleY,shadowBlur:l=e.shadowBlur,strokeBoundsBuffer:h=e.strokeBoundsBuffer}=t;if(l){let t=l/Math.abs(a+o);(0,f.ph)(n,t,!0,h),i.union(n)}return d.w.graphicService.combindShadowAABBBounds(i,this),null==t.forceBoundsHeight&&null==t.forceBoundsWidth||d.w.graphicService.updateHTMLTextAABBBounds(t,e,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,(0,s.n2)(i,i,this.transMatrix),i}updateSingallineAABBBounds(t){this.updateMultilineAABBBounds([t]);let e=this.cache.layoutData;if(e&&e.lines&&e.lines.length){let t=e.lines[0];this.cache.clipedText=t.str,this.cache.clipedWidth=t.width}return this._AABBBounds}updateMultilineAABBBounds(t){let e=this.getGraphicTheme(),{direction:i=e.direction,underlineOffset:r=e.underlineOffset}=this.attribute,n="horizontal"===i?this.updateHorizontalMultilineAABBBounds(t):this.updateVerticalMultilineAABBBounds(t);return"horizontal"===i&&r&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+r),n}guessLineHeightBuf(t){return t?.1*t:0}updateHorizontalMultilineAABBBounds(t){var e,i;let r=this.getGraphicTheme(),n=this.attribute,{fontFamily:a=r.fontFamily,textAlign:s=r.textAlign,textBaseline:o=r.textBaseline,fontSize:l=r.fontSize,fontWeight:u=r.fontWeight,ellipsis:c=r.ellipsis,maxLineWidth:p,stroke:g=r.stroke,wrap:f=r.wrap,measureMode:m=r.measureMode,lineWidth:b=r.lineWidth,whiteSpace:y=r.whiteSpace,suffixPosition:v=r.suffixPosition,ignoreBuf:x=r.ignoreBuf,keepCenterInLine:B=r.keepCenterInLine}=n,A=x?0:this.guessLineHeightBuf(l),S=this.getLineHeight(n,r,A);if("normal"===y||f)return this.updateWrapAABBBounds(t);if(!this.shouldUpdateShape()&&(null==(e=this.cache)?void 0:e.layoutData)){let t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),g&&this._AABBBounds.expand(b/2),this._AABBBounds}let w=d.w.graphicUtil.getTextMeasureInstance(this.textMeasureId||(null==(i=this.stage)?void 0:i.textMeasureId)),T=new h.j(a,{fontSize:l,fontWeight:u,fontFamily:a,lineHeight:S},w).GetLayoutByLines(t,s,o,S,!0===c?r.ellipsis:c||void 0,!1,{lineWidth:p,suffixPosition:v,measureMode:m,keepCenterInLine:B}),{bbox:k}=T;return this.cache.layoutData=T,this.clearUpdateShapeTag(),this._AABBBounds.set(k.xOffset,k.yOffset,k.xOffset+k.width,k.yOffset+k.height),g&&this._AABBBounds.expand(b/2),this._AABBBounds}updateWrapAABBBounds(t){var e,i,r,a;let s=this.getGraphicTheme(),{fontFamily:o=s.fontFamily,textAlign:l=s.textAlign,textBaseline:u=s.textBaseline,fontSize:c=s.fontSize,ellipsis:p=s.ellipsis,maxLineWidth:g,stroke:f=s.stroke,lineWidth:m=s.lineWidth,wordBreak:b=s.wordBreak,fontWeight:y=s.fontWeight,ignoreBuf:v=s.ignoreBuf,measureMode:x=s.measureMode,suffixPosition:B=s.suffixPosition,heightLimit:A=0,lineClamp:S,keepCenterInLine:w=s.keepCenterInLine}=this.attribute,T=v?0:this.guessLineHeightBuf(c),k=this.getLineHeight(this.attribute,s,T);if(!this.shouldUpdateShape()&&(null==(e=this.cache)?void 0:e.layoutData)){let t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}let P=d.w.graphicUtil.getTextMeasureInstance(this.textMeasureId||(null==(i=this.stage)?void 0:i.textMeasureId)),C={fontSize:c,fontWeight:y,fontFamily:o,lineHeight:k},R=new h.j(o,C,P),M=(0,n.Z)(t)?t.map(t=>t.toString()):[t.toString()],O=[],_=[0,0],E=1/0;if(A>0&&(E=Math.max(Math.floor(A/k),1)),S&&(E=Math.min(E,S)),"number"==typeof g&&g!==1/0){if(g>0)for(let t=0;t<M.length;t++){let e=M[t],i=!0;if(t===E-1){let i=P.clipTextWithSuffix(e,C,g,p,!1,B,t!==M.length-1),r=P.measureTextPixelADscentAndWidth(i.str,C,x);O.push({str:i.str,width:i.width,ascent:r.ascent,descent:r.descent,keepCenterInLine:w});break}let n=P.clipText(e,C,g,"break-all"!==b,"keep-all"===b);if(""!==e&&""===n.str||n.wordBreaked){if(p){let t=P.clipTextWithSuffix(e,C,g,p,!1,B);n.str=null!=(r=t.str)?r:"",n.width=null!=(a=t.width)?a:0}else n.str="",n.width=0;i=!1}let s=P.measureTextPixelADscentAndWidth(n.str,C,x);O.push({str:n.str,width:n.width,ascent:s.ascent,descent:s.descent,keepCenterInLine:w});let o=n.str.length;if(n.wordBreaked&&(""===e||""!==n.str)&&(i=!0,o=n.wordBreaked),n.str.length===e.length);else if(i){let i=e.substring(o);"keep-all"===b&&(i=i.replace(/^\s+/g,"")),M.splice(t+1,0,i)}}let t=0;O.forEach(e=>{t=Math.max(t,e.width)}),_[0]=t}else{let t,e,i=0;for(let r=0,n=M.length;r<n;r++){if(r===E-1){let t=P.clipTextWithSuffix(M[r],C,g,p,!1,B),e=P.measureTextPixelADscentAndWidth(t.str,C,x);O.push({str:t.str,width:t.width,ascent:e.ascent,descent:e.descent,keepCenterInLine:w}),i=Math.max(i,t.width);break}e=M[r],i=Math.max(i,t=P.measureTextWidth(e,C));let n=P.measureTextPixelADscentAndWidth(e,C,x);O.push({str:e,width:t,ascent:n.ascent,descent:n.descent,keepCenterInLine:w})}_[0]=i}_[1]=O.length*k;let I={xOffset:0,yOffset:0,width:_[0],height:_[1]};R.LayoutBBox(I,l,u,O);let L=R.layoutWithBBox(I,O,l,u,k);return this.cache.layoutData=L,this.clearUpdateShapeTag(),this._AABBBounds.set(I.xOffset,I.yOffset,I.xOffset+I.width,I.yOffset+I.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}updateVerticalMultilineAABBBounds(t){var e,i,r;let n,a=this.getGraphicTheme(),s=d.w.graphicUtil.getTextMeasureInstance(this.textMeasureId||(null==(e=this.stage)?void 0:e.textMeasureId)),h=this.attribute,{maxLineWidth:u=a.maxLineWidth,ellipsis:c=a.ellipsis,fontFamily:p=a.fontFamily,fontSize:g=a.fontSize,fontWeight:m=a.fontWeight,stroke:y=a.stroke,lineWidth:v=a.lineWidth,verticalMode:x=a.verticalMode,suffixPosition:B=a.suffixPosition}=h,A=this.getLineHeight(h,a,0),{textAlign:S=a.textAlign,textBaseline:w=a.textBaseline}=h;if(!x){let t=S;S=null!=(i=b.baselineMapAlign[w])?i:"left",w=null!=(r=b.alignMapBaseline[t])?r:"top"}if(n=0,!this.shouldUpdateShape()&&this.cache){this.cache.verticalList.forEach(t=>{let e=t.reduce((t,e)=>t+e.width,0);n=(0,o.Fp)(e,n)});let t=(0,l.js)(S,n),e=this.cache.verticalList.length*A,i=(0,l.nV)(w,e,g);return this._AABBBounds.set(i,t,i+e,t+n),y&&this._AABBBounds.expand(v/2),this._AABBBounds}let T=t.map(t=>(0,f.Xk)(t.toString()));T.forEach((t,e)=>{if(Number.isFinite(u))if(c){let i=!0===c?a.ellipsis:c,r=s.clipTextWithSuffixVertical(t,{fontSize:g,fontWeight:m,fontFamily:p},u,i,!1,B);T[e]=r.verticalList,n=r.width}else{let i=s.clipTextVertical(t,{fontSize:g,fontWeight:m,fontFamily:p},u,!1);T[e]=i.verticalList,n=i.width}else n=0,t.forEach(t=>{let e=t.direction===f.m5.HORIZONTAL?g:s.measureTextWidth(t.text,{fontSize:g,fontWeight:m,fontFamily:p});n+=e,t.width=e})}),this.cache.verticalList=T,this.clearUpdateShapeTag(),this.cache.verticalList.forEach(t=>{let e=t.reduce((t,e)=>t+e.width,0);n=(0,o.Fp)(e,n)});let k=(0,l.js)(S,n),P=this.cache.verticalList.length*A,C=(0,l.nV)(w,P,g);return this._AABBBounds.set(C,k,C+P,k+n),y&&this._AABBBounds.expand(v/2),this._AABBBounds}getMaxWidth(t){var e,i;let r=this.attribute;return null!=(i=null!=(e=r.maxLineWidth)?e:r.maxWidth)?i:t.maxWidth}getLineHeight(t,e,i){var r;return null!=(r=(0,p.VA)(t.lineHeight,t.fontSize||e.fontSize))?r:(t.fontSize||e.fontSize)+i}needUpdateTags(t,e=m){return super.needUpdateTags(t,e)}needUpdateTag(t,e=m){return super.needUpdateTag(t,e)}_interpolate(t,e,i,r,n){"text"===t&&(n.text=r)}clone(){return new b(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return b.NOWORK_ANIMATE_ATTR}getBaselineMapAlign(){return b.baselineMapAlign}getAlignMapBaseline(){return b.alignMapBaseline}}function y(t){return new b(t)}b.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,direction:1,textAlign:1,textBaseline:1,fontFamily:1,fontWeight:1},u.Wl),b.baselineMapAlign={top:"left",bottom:"right",middle:"center"},b.alignMapBaseline={left:"top",right:"bottom",center:"middle"}},25666:function(t,e,i){i.d(e,{Q2:()=>h,gh:()=>function t(e,i){return e.glyphHost?t(e.glyphHost):i?(e.isContainer,i):function(t){let e;if(e=t.isContainer?t:t.parent){for(;e&&!e.theme;)e=e.parent;return e?(e.theme||e.createTheme(),e.theme.getTheme(e)):d.getTheme()}return null}(e)||e.attachedThemeGraphic&&t(e.attachedThemeGraphic)||d.getTheme()}});var r=i(985476),n=i(678412);let a={arc:n.Up,area:n.eh,circle:n.t8,line:n.h8,path:n.J7,symbol:n.th,text:n.T5,rect:n.kx,polygon:n.ZD,star:n.VF,richtext:n.Iq,richtextIcon:n.YW,image:n.jK,group:n.bZ,glyph:n.e9},s=Object.keys(a);function o(t,e){Object.keys(e).forEach(i=>{t[i]=e[i]})}let l={arc:Object.assign({},a.arc),area:Object.assign({},a.area),circle:Object.assign({},a.circle),line:Object.assign({},a.line),path:Object.assign({},a.path),symbol:Object.assign({},a.symbol),text:Object.assign({},a.text),rect:Object.assign({},a.rect),polygon:Object.assign({},a.polygon),star:Object.assign({},a.star),richtext:Object.assign({},a.richtext),richtextIcon:Object.assign({},a.richtextIcon),image:Object.assign({},a.image),group:Object.assign({},a.group),glyph:Object.assign({},a.glyph)};class h{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},s.forEach(t=>{this._defaultTheme[t]=Object.create(l[t])}),this.combinedTheme=this._defaultTheme}getTheme(t){if(!t||!this.dirty)return this.combinedTheme;let e={},i=this.getParentWithTheme(t);return i&&(e=i.theme),this.applyTheme(t,e),this.combinedTheme}getParentWithTheme(t){for(;t.parent;)if((t=t.parent).theme)return t;return null}applyTheme(t,e,i=!1){if(this.dirty){let n=this.getParentWithTheme(t);if(n){let t=n.theme;(t.dirty||i)&&t.applyTheme(n,e,!0)}this.userTheme?this.doCombine(n&&n.theme.combinedTheme):(n?this.combinedTheme=n.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,r.Y.getInstance().warn("\u672A\u77E5\u9519\u8BEF\uFF0C\u8D70\u5230\u4E0D\u5E94\u8BE5\u8D70\u7684\u533A\u57DF\u91CC")),this.dirty=!1)}return this.combinedTheme}doCombine(t){let e=this.userTheme,i=this.combinedTheme;s.forEach(r=>{let n=Object.create(l[r]);t&&t[r]&&o(n,t[r]),i[r]&&o(n,i[r]),e[r]&&o(n,e[r]),this.combinedTheme[r]=n}),e.common&&s.forEach(t=>{o(this.combinedTheme[t],e.common)}),this.dirty=!1}setTheme(t,e){let i=this.userTheme;i?Object.keys(t).forEach(e=>{i[e]?Object.assign(i[e],t[e]):i[e]=Object.assign({},t[e])}):i=t,this.userTheme=i,this.dirty=!0,this.dirtyChildren(e)}resetTheme(t,e){this.userTheme=t,this.dirty=!0,this.dirtyChildren(e)}dirtyChildren(t){t.forEachChildren(t=>{t.isContainer&&(t.theme&&(t.theme.dirty=!0),this.dirtyChildren(t))})}}let d=new h},721192:function(t,e,i){var r,n;function a(t,e,i,r=0){var n,s;return t.expand(e+(r/2+(i?(n=i,s=e,n?s:0):0))),t}i.d(e,{Gg:()=>o,Xk:()=>l,m5:()=>r,ph:()=>a});let s=0;function o(){return s++}function l(t){let e=[],i=0,n="";for(let a=0;a<t.length;a++)!function(t){if(h.has(t))return!0;if(d.has(t))return!1;let e=!1;return 256>t.codePointAt(0)&&(e=!0),e}(t[a])?(i&&(e.push({text:n,direction:r.VERTICAL}),n="",i=0),e.push({text:t[a],direction:r.HORIZONTAL})):i?n+=t[a]:(i=1,n=t[a]);return n&&e.push({text:n,direction:r.VERTICAL}),e}(n=r||(r={}))[n.HORIZONTAL=0]="HORIZONTAL",n[n.VERTICAL=1]="VERTICAL";let h=new Map;["\u2026","\uFF08","\uFF09","\u2014","\u3010","\u3011","\u300C","\u300D","\u300A","\u300B"].forEach(t=>h.set(t,!0));let d=new Map;[""].forEach(t=>d.set(t,!0))},778484:function(t,e,i){var r,n;i.d(e,{Q:()=>r}),(n=r||(r={}))[n.INITIAL=0]="INITIAL",n[n.RUNNING=1]="RUNNING",n[n.PAUSE=2]="PAUSE"},817618:function(t,e,i){var r,n,a,s;i.d(e,{T:()=>r,t:()=>n}),(a=r||(r={})).wait="wait",a.from="from",a.to="to",a.customAnimate="customAnimate",(s=n||(n={}))[s.INITIAL=0]="INITIAL",s[s.RUNNING=1]="RUNNING",s[s.PAUSED=2]="PAUSED",s[s.END=3]="END"},927484:function(t,e,i){var r,n;i.d(e,{r:()=>r}),(n=r||(r={}))[n.estimate=0]="estimate",n[n.actualBounding=1]="actualBounding",n[n.fontBounding=2]="fontBounding"},474702:function(t,e,i){i.d(e,{WN:()=>tR,VJ:()=>tP,rF:()=>tC});var r,n=i(798841),a=i(263457),s=i(360309),o=i(458943),l=i(197721);let h=class{constructor(t){this.drawContribution=t}prepare(t){t&&this.renderTreeRoots.forEach(e=>{this._prepare(e,t)})}_prepare(t,e){t.forEachChildren(t=>{this._prepare(t,e)}),t.update({bounds:e,trans:!0})}prepareRenderList(){}beforeDraw(t){}draw(t){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(t){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}reInit(){this.drawContribution.reInit()}render(t,e){this.renderTreeRoots=t,this.drawParams=e;let i=e.updateBounds;this.prepare(i),this.prepareRenderList(),this.beforeDraw(e),this.draw(e),this.afterDraw(e),this.drawParams=null}};h=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),(tv=(0,o.f)(l.Iv),function(t,e){tv(t,e,0)}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],h);var d=i(6846),u=new a.n(t=>{t(d.p).to(h)}),c=i(533896),p=i(919498),g=i(418953),f=i(301537),m=i(25666),b=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};let y=class{constructor(){this.order=1}afterPickItem(t,e,i,r,n){if(t.graphic){let e=t.graphic;for(;e.parent;)e=e.parent;e.shadowHost&&(t.params={shadowTarget:t.graphic},t.graphic=e.shadowHost)}return t}};y=b([(0,s.b)()],y);let v=class{constructor(){this.order=1}afterPickItem(t,e,i,r,n){return t.attribute.shadowRootIdx>0||!t.attribute.shadowRootIdx?this._pickItem(t,e,i,r,n):null}beforePickItem(t,e,i,r,n){return t.attribute.shadowRootIdx<0?this._pickItem(t,e,i,r,n):null}_pickItem(t,e,i,r,n){var a;if(!t.shadowRoot)return null;let{parentMatrix:s}=n||{};if(!s)return null;let o=e.pickContext;o.highPerformanceSave();let l=null==(a=(0,m.gh)(t))?void 0:a[t.type],{shadowPickMode:h=null==l?void 0:l.shadowPickMode}=t.attribute,d=t.shadowRoot,u=g.QE.allocateByObj(s),c=new p.E9(u.a*i.x+u.c*i.y+u.e,u.b*i.x+u.d*i.y+u.f),f=e.pickGroup(d,c,u,r);return o.highPerformanceRestore(),!f.graphic&&f.group&&"full"===h&&(f.graphic=f.group),f}};v=b([(0,s.b)()],v);let x=class{constructor(){this.order=1}beforePickItem(t,e,i,r,n){let a=t.baseGraphic;if(a&&a.parent){let t=new p.E9(i.x,i.y),n=e.pickContext;n.highPerformanceSave();let s=a.parent.globalTransMatrix;s.transformPoint(t,t);let o=a.isContainer?e.pickGroup(a,t.clone(),s,r):e.pickItem(a,t.clone(),s,r);return n.highPerformanceRestore(),o}return null}};x=b([(0,s.b)()],x);let B=class{constructor(){this.order=1}beforePickItem(t,e,i,r,n){if(!t.in3dMode||r.in3dInterceptor)return null;let a=e.pickContext,s=t.stage;if(!a||!s)return null;if(r.in3dInterceptor=!0,a.save(),this.initCanvasCtx(a),a.camera=s.camera,t.isContainer){let s=(0,f.y)(a,t,()=>e.pickGroup(t,i,n.parentMatrix,r),r);return a.camera=null,r.in3dInterceptor=!1,a.restore(),s}return a.restore(),null}initCanvasCtx(t){t.setTransformForCurrent()}};B=b([(0,s.b)()],B);var A=i(609443),S=new a.n((t,e,i)=>{i(c.hH)||(t(c.BR).toSelf(),t(c.hH).toService(c.BR)),t(B).toSelf().inSingletonScope(),t(c.uH).toService(B),t(v).toSelf().inSingletonScope(),t(c.uH).toService(v),t(x).toSelf().inSingletonScope(),t(c.uH).toService(x),(0,A.yb)(t,c.uH),t(y).toSelf().inSingletonScope(),t(c.tn).toService(y),(0,A.yb)(t,c.tn)}),w=i(228279),T=i(721756),k=i(205427),P=new a.n(t=>{t(T.fB).to(w.JG),t(T.tA).toConstantValue(k.i)}),C=i(335893),R=i(759311),M=i(455353),O=function(t,e){return function(i,r){e(i,r,t)}};let _=class{constructor(t){this.autoEnablePlugins=t,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(t,e){this.stage=t,this.actived=!0;let{pluginList:i}=e;i&&M.n.isBound(C.X)&&this.autoEnablePlugins.getContributions().forEach(t=>{i.includes(t.name)&&this.register(t)})}findPluginsByName(t){let e=[];return this.onStartupFinishedPlugin.forEach(i=>{i.name===t&&e.push(i)}),this.onRegisterPlugin.forEach(i=>{i.name===t&&e.push(i)}),e}register(t){"onStartupFinished"===t.activeEvent?this.onStartupFinishedPlugin.push(t):"onRegister"===t.activeEvent&&(this.onRegisterPlugin.push(t),t.activate(this))}unRegister(t){"onStartupFinished"===t.activeEvent?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(t),1):"onRegister"===t.activeEvent&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(t),1),t.deactivate(this)}release(...t){this.onStartupFinishedPlugin.forEach(t=>{t.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(t=>{t.deactivate(this)}),this.onRegisterPlugin=[]}};_=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),O(0,(0,o.f)(A.Qc)),O(0,(0,R.t)(C.X)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],_);var E=new a.n(t=>{t(C.H).to(_),(0,A.EM)(t,C.X)}),I=i(785812),L=i(125411),U=i(119761),D=i(678412),W=i(263401),j=i(695723),G=i(219273),z=i(985476),F=i(64269),N=i(830420),H=i(352611),Y=i(509257),X=function(t,e){return function(i,r){e(i,r,t)}};let Z=class{constructor(t,e){this.contributions=t,this.drawItemInterceptorContributions=e,this._renderInGroup=(t,e,i,r)=>{var n;t?e.forEachChildren(t=>{i.break||(t.isContainer?this.renderGroup(t,i,r):this.renderItem(t,i))}):(0,U.kD)(e,D.xF.zIndex,t=>{i.break||(t.isContainer?this.renderGroup(t,i,r):this.renderItem(t,i))},!1,!!(null==(n=i.context)?void 0:n.camera))},this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new W.YZ,this.backupDirtyBounds=new W.YZ,this.global=Y.w.global,this.layerService=Y.w.layerService,(0,j.Z)(this.contributions)||(this.contributions=[this.contributions]),this.init()}reInit(){this.init(),this.contributions.forEach(t=>{t.reInit()})}init(){this.contributions.forEach(t=>{if(t.style){let e=this.styleRenderMap.get(t.style)||new Map;e.set(t.numberType,t),this.styleRenderMap.set(t.style,e)}else this.defaultRenderMap.set(t.numberType,t)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((t,e)=>t.order-e.order)}prepareForDraw(t,e){e.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!e.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(t,e){var i;this.prepareForDraw(t,e),e.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(e.renderStyle)||this.defaultRenderMap,this.currentRenderService=t;let{context:r,stage:n,viewBox:a,transMatrix:s}=e;if(!r)return;let o=this.dirtyBounds.setValue(0,0,a.width(),a.height());if(n.dirtyBounds&&!n.dirtyBounds.empty()){let t=(0,G.di)(o,n.dirtyBounds,!1);o.x1=Math.floor(t.x1),o.y1=Math.floor(t.y1),o.x2=Math.ceil(t.x2),o.y2=Math.ceil(t.y2)}let l=r.dpr%1;(l||.5!==l)&&(o.x1=Math.floor(o.x1*r.dpr)/r.dpr,o.y1=Math.floor(o.y1*r.dpr)/r.dpr,o.x2=Math.ceil(o.x2*r.dpr)/r.dpr,o.y2=Math.ceil(o.y2*r.dpr)/r.dpr),this.backupDirtyBounds.copy(o),r.reset(!1),r.save(),r.setClearMatrix(s.a,s.b,s.c,s.d,s.e,s.f),r.clearMatrix(!1),r.translate(a.x1,a.y1,!0),r.beginPath(),r.rect(o.x1,o.y1,o.width(),o.height()),r.clip(),n.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(t,r,e),(null==(i=t.drawParams)?void 0:i.stage)&&t.drawParams.stage.hooks.afterClearScreen.call(t.drawParams),t.renderTreeRoots.sort((t,e)=>{var i,r;return(null!=(i=t.attribute.zIndex)?i:D.xF.zIndex)-(null!=(r=e.attribute.zIndex)?r:D.xF.zIndex)}).forEach(t=>{t.isContainer?this.renderGroup(t,e,g.QE.allocate(1,0,0,1,0,0)):this.renderItem(t,e)}),r.restore(),r.draw()}doRegister(){throw Error("\u6682\u4E0D\u652F\u6301")}_findNextGraphic(t){let e=t.parent,i=t._uid;for(;e;){let t=(0,U.qA)(e,i,D.xF.zIndex);if(t)return t;i=e._uid,e=e.parent}return null}renderGroup(t,e,i,r){if(e.break||!1===t.attribute.visibleAll)return;if(t.incremental&&(null==e.startAtId||e.startAtId===t._uid))return e.break=!0,void this._increaseRender(t,e);if(this.useDirtyBounds&&!(0,G.SX)(t.AABBBounds,this.dirtyBounds,!1)&&"empty"!==t.attribute.boundsMode)return;let n,a=i;if(this.useDirtyBounds){n=H.et.allocateByObj(this.dirtyBounds);let e=t.transMatrix;a=g.QE.allocateByObj(i).multiply(e.a,e.b,e.c,e.d,e.e,e.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(a.getInverse())}e.isGroupScroll=!(!t.attribute.scrollX&&!t.attribute.scrollY),this.renderItem(t,e,{renderInGroupParams:{skipSort:r,nextM:a},renderInGroup:this._renderInGroup}),this.useDirtyBounds&&(this.dirtyBounds.copy(n),H.et.free(n),g.QE.free(a))}_increaseRender(t,e){let{layer:i,stage:r}=e,{subLayers:n}=i,a=n.get(t._uid);a||(a={layer:this.layerService.createLayer(r),zIndex:n.size,group:t},n.set(t._uid,a));let s=a.layer.getNativeHandler().getContext(),o=a.drawContribution||M.n.get(l.Pf);o.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:a.layer,context:s,startAtId:t._uid,break:!1})),a.drawContribution=o;let h=this._findNextGraphic(t);if(h)if(h.isContainer&&h.incremental)this._increaseRender(h,e);else{let t=n.get(h._uid);t||(t={layer:this.layerService.createLayer(r),zIndex:n.size},n.set(h._uid,t));let i=t.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:t.layer,context:i,startAtId:h._uid,break:!1}))}}getRenderContribution(t){let e;return e||(e=this.selectRenderByNumberType(t.numberType,t)),e||(e=this.selectRenderByType(t.type)),e}renderItem(t,e,i){if(this.InterceptorContributions.length)for(let r=0;r<this.InterceptorContributions.length;r++){let n=this.InterceptorContributions[r];if(n.beforeDrawItem&&n.beforeDrawItem(t,this.currentRenderService,e,this,i))return}let r=this.getRenderContribution(t);if(!r)return;let n,a=!1;if(e.isGroupScroll){let{scrollX:e=0,scrollY:i=0}=t.parent.attribute;a=!0,this.scrollMatrix||(this.scrollMatrix=g.QE.allocate(1,0,0,1,0,0)),this.scrollMatrix.translate(-e,-i)}if(a&&(n=this.dirtyBounds.clone().transformWithMatrix(this.scrollMatrix)),this.useDirtyBounds&&!t.isContainer&&"empty"!==t.attribute.boundsMode&&!(0,G.SX)(t.AABBBounds,null!=n?n:this.dirtyBounds,!1)){if(a&&t.parent){let{scrollX:e=0,scrollY:i=0}=t.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(e,i)}return}let s=null!=e.startAtId&&t._uid!==e.startAtId;if(t._uid===e.startAtId&&(e.startAtId=null),i&&(i.skipDraw=s),s?t.isContainer&&r.draw(t,this.currentRenderService,e,i):r.draw(t,this.currentRenderService,e,i),a&&t.parent){let{scrollX:e=0,scrollY:i=0}=t.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(e,i)}if(this.InterceptorContributions.length)for(let i=0;i<this.InterceptorContributions.length;i++){let r=this.InterceptorContributions[i];if(r.afterDrawItem&&r.afterDrawItem(t,this.currentRenderService,e,this))return}}selectRenderByType(t){return z.Y.getInstance().warn("\u672A\u77E5\u9519\u8BEF\uFF0C\u4E0D\u5E94\u8BE5\u8D70\u5230\u8FD9\u91CC"),null}selectRenderByNumberType(t,e){let i;if(e.attribute.renderStyle){let r=this.styleRenderMap.get(e.attribute.renderStyle);i=r&&r.get(t)}return i||this.currentRenderMap.get(t)||this.defaultRenderMap.get(t)}clearScreen(t,e,i){var r,n,a;let{clear:s,viewBox:o}=i,l=o.width(),h=o.height();if(s){e.clearRect(0,0,l,h),(null==(r=t.drawParams)?void 0:r.stage)&&t.drawParams.stage.hooks.afterClearRect.call(t.drawParams);let i=null==(n=t.drawParams)?void 0:n.stage;if(i&&(e.globalAlpha=null!=(a=i.attribute.opacity)?a:1),i&&i.backgroundImg&&i.resources){let t=i.resources.get(s);t&&"success"===t.state&&t.data&&e.drawImage(t.data,0,0,l,h)}else e.fillStyle=(0,N.L)(e,s,{AABBBounds:{x1:0,y1:0,x2:0+l,y2:0+h}},0,0),e.fillRect(0,0,l,h)}}afterDraw(t,e){}};Z=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),X(0,(0,L.n)(l.uz)),X(1,(0,o.f)(A.Qc)),X(1,(0,R.t)(F.xL)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Array,Object])],Z);var V=i(521564),K=i(892287),$=i(925428),q=i(916905),Q=i(466955);class J extends Q.M2{constructor(){super(...arguments),this.time=q.Oh.beforeFillStroke}drawShape(t,e,i,r,n,a,s,o,l,h,d,u){let{background:c,backgroundMode:p=l.backgroundMode,backgroundFit:g=l.backgroundFit,backgroundKeepAspectRatio:f=l.backgroundKeepAspectRatio,backgroundScale:m=l.backgroundScale,backgroundOffsetX:b=l.backgroundOffsetX,backgroundOffsetY:y=l.backgroundOffsetY}=t.attribute;if(c)if(t.backgroundImg&&t.resources){let i=t.resources.get(c);if("success"!==i.state||!i.data)return;e.highPerformanceSave(),e.setTransformFromMatrix(t.parent.globalTransMatrix,!0);let r=t.AABBBounds;this.doDrawImage(e,i.data,r,{backgroundMode:p,backgroundFit:g,backgroundKeepAspectRatio:f,backgroundScale:m,backgroundOffsetX:b,backgroundOffsetY:y}),e.highPerformanceRestore(),e.setTransformForCurrent()}else e.highPerformanceSave(),e.fillStyle=c,e.fill(),e.highPerformanceRestore()}}let tt=new J;var te=i(795069),ti=function(t,e){return function(i,r){e(i,r,t)}};let tr=class{constructor(t){this.groupRenderContribitions=t,this.numberType=T.I_}reInit(){this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(tt)}drawShape(t,e,i,r,n,a,s,o,l){let{clip:h,fill:d,stroke:u,background:c}=t.attribute;if(!(h||d||u||c))return;l=null!=l?l:(0,m.gh)(t,null==a?void 0:a.theme).group;let{opacity:p=l.opacity,width:g=l.width,height:f=l.height,fillOpacity:b=l.fillOpacity,strokeOpacity:y=l.strokeOpacity,cornerRadius:v=l.cornerRadius,path:x=l.path,lineWidth:B=l.lineWidth,visible:A=l.visible,fillStrokeOrder:S=l.fillStrokeOrder,cornerType:w=l.cornerType,x:T=l.x,y:k=l.y}=t.attribute,P=(0,K.GT)(p,b,g,f,d),C=(0,K.Ze)(p,y,g,f),R=(0,K.dz)(d,c),M=(0,K.ak)(u,B);if(!t.valid||!A||!h&&(!R&&!M||!(P||C||s||o||c)))return;if(x&&x.length&&n.drawContribution){let t=e.disableFill,i=e.disableStroke,r=e.disableBeginPath;e.disableFill=!0,e.disableStroke=!0,e.disableBeginPath=!0,x.forEach(t=>{n.drawContribution.getRenderContribution(t).draw(t,n.renderService,n,a)}),e.disableFill=t,e.disableStroke=i,e.disableBeginPath=r}else 0===v||(0,j.Z)(v)&&v.every(t=>0===t)?(e.beginPath(),e.rect(i,r,g,f)):(e.beginPath(),(0,V.U)(e,i,r,g,f,v,"bevel"!==w));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(tt));let O={doFill:R,doStroke:M};e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this._groupRenderContribitions.forEach(a=>{a.time===q.Oh.beforeFillStroke&&a.drawShape(t,e,i,r,R,M,P,C,l,n,s,o,O)}),h&&e.clip();let _=()=>{O.doFill&&(s?s(e,t.attribute,l):P&&(e.setCommonStyle(t,t.attribute,T-i,k-r,l),e.fill()))},E=()=>{O.doStroke&&(o?o(e,t.attribute,l):C&&(e.setStrokeStyle(t,t.attribute,T-i,k-r,l),e.stroke()))};S?(E(),_()):(_(),E()),this._groupRenderContribitions.forEach(a=>{a.time===q.Oh.afterFillStroke&&a.drawShape(t,e,i,r,R,M,P,C,l,n,s,o)})}draw(t,e,i,r){var n,a;let s,{context:o}=i;if(!o)return;let{clip:l,baseOpacity:h=1,drawMode:d}=t.attribute,u=o.nativeContext,c=o.canvas.nativeCanvas;if(d>0){let{x:e,y:i,width:r,height:n}=t.attribute,a=o.canvas,s=Y.w.global.createCanvas({width:a.width,height:a.height,dpr:1}),l=s.getContext("2d"),h=o.nativeContext.getTransform();l.setTransform(h.a,h.b,h.c,h.d,h.e,h.f),1===d&&(l.save(),l.clearRect(0,0,a.width,a.height),l.beginPath(),l.rect(e,i,r,n),l.clip(),l.drawImage(a.nativeCanvas,0,0,a.width,a.height,0,0,a.displayWidth,a.displayHeight),l.restore()),o.nativeContext=l,a.nativeCanvas=s}l?o.save():o.highPerformanceSave();let p=o.baseGlobalAlpha;o.baseGlobalAlpha*=h;let f=o.modelMatrix;if(o.camera){let e=(0,m.gh)(t,null==r?void 0:r.theme).group,i=g.yp.allocate(),n=g.yp.allocate();(0,w.RT)(n,t,e),(0,te.G9)(i,f||i,n),o.modelMatrix=i,g.yp.free(n),o.setTransform(1,0,0,1,0,0,!0)}else o.transformFromMatrix(t.transMatrix,!0);o.beginPath(),r.skipDraw?this.drawShape(t,o,0,0,i,r,()=>!1,()=>!1):this.drawShape(t,o,0,0,i,null,null,null);let{scrollX:b,scrollY:y}=t.attribute;if((b||y)&&o.translate(b,y),r&&r.renderInGroup&&(s=r.renderInGroup(null==(n=r.renderInGroupParams)?void 0:n.skipSort,t,i,null==(a=r.renderInGroupParams)?void 0:a.nextM)),o.modelMatrix!==f&&g.yp.free(o.modelMatrix),o.modelMatrix=f,o.baseGlobalAlpha=p,d>0){let{x:e,y:i,width:r,height:n}=t.attribute,a=o.nativeContext,s=o.canvas.nativeCanvas;u.save(),u.setTransform(o.dpr,0,0,o.dpr,0,0,!0),1===d&&a.rect(e,i,r,n),u.drawImage(s,0,0,s.width,s.height,0,0,o.canvas.displayWidth,o.canvas.displayHeight);let l=a.getTransform();u.setTransform(l.a,l.b,l.c,l.d,l.e,l.f),o.nativeContext=u,o.canvas.nativeCanvas=c,u.restore()}s&&s.then?s.then(()=>{l?o.restore():o.highPerformanceRestore()}):l?o.restore():o.highPerformanceRestore()}};tr=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),ti(0,(0,o.f)(A.Qc)),ti(0,(0,R.t)($.jd)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],tr);var tn=i(360177),ta=i(850173),ts=i(408830),to=i(535427),tl=i(124407),th=i(20778),td=i(508338),tu=i(903544),tc=i(780949);class tp extends tu.${constructor(){super(...arguments),this.time=q.Oh.afterFillStroke}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){var p,g,f,m;this.textureMap||this.initTextureMap(e,t.stage);let{attribute:b=t.attribute}=c||{},{texture:y=null!=(p=t.attribute.texture)?p:(0,tc.hT)(l,"texture"),textureColor:v=null!=(g=t.attribute.textureColor)?g:(0,tc.hT)(l,"textureColor"),textureSize:x=null!=(f=t.attribute.textureSize)?f:(0,tc.hT)(l,"textureSize"),texturePadding:B=null!=(m=t.attribute.texturePadding)?m:(0,tc.hT)(l,"texturePadding")}=b;y&&this.drawTexture(y,t,e,i,r,l,v,x,B)}}let tg=new tp,tf=Q.R6;var tm=function(t,e){return function(i,r){e(i,r,t)}};let tb=class extends td.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=T.Ri,this.builtinContributions=[tg,tf],this.init(t)}drawLinearAreaHighPerformance(t,e,i,r,n,a,s,o,l,h,d,u,c){var p,g,f;let{points:m}=t.attribute;if(m.length<2)return;e.beginPath();let b=null!=(p=this.z)?p:0,y=m[0];e.moveTo(y.x+s,y.y+o,b);for(let t=1;t<m.length;t++){let i=m[t];e.lineTo(i.x+s,i.y+o,b)}for(let t=m.length-1;t>=0;t--){let i=m[t];e.lineTo((null!=(g=i.x1)?g:i.x)+s,(null!=(f=i.y1)?f:i.y)+o,b)}e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,s,o,!!n,!1,i,!1,l,h,u,null,{attribute:t.attribute});let{x:v=0,x:x=0}=t.attribute;!1!==i&&(u?u(e,t.attribute,l):n&&(e.setCommonStyle(t,t.attribute,v-s,x-o,l),e.fill())),this.afterRenderStep(t,e,s,o,!!n,!1,i,!1,l,h,u,null,{attribute:t.attribute}),(()=>{var i,n;if(r){let{stroke:r=l&&l.stroke}=t.attribute;if((0,j.Z)(r)&&(r[0]||r[2])&&!1===r[1]){if(e.beginPath(),r[0]){e.moveTo(y.x+s,y.y+o,b);for(let t=1;t<m.length;t++){let i=m[t];e.lineTo(i.x+s,i.y+o,b)}}else if(r[2]){let t=m[m.length-1];e.moveTo(t.x+s,t.y+o,b);for(let t=m.length-2;t>=0;t--){let r=m[t];e.lineTo((null!=(i=r.x1)?i:r.x)+s,(null!=(n=r.y1)?n:r.y)+o,b)}}}c?c(e,t.attribute,l):(e.setStrokeStyle(t,t.attribute,v-s,x-o,l),e.stroke())}})()}drawShape(t,e,i,r,n,a,s,o){var l,h,d,u,c,p;let g=(0,m.gh)(t,null==a?void 0:a.theme).area,{fill:f=g.fill,stroke:b=g.stroke,fillOpacity:y=g.fillOpacity,z:v=g.z,strokeOpacity:x=g.strokeOpacity,curveTension:B=g.curveTension,connectedType:A=g.connectedType}=t.attribute,S=this.valid(t,g,s,o);if(!S)return;let{doFill:w}=S,T=S.doStroke&&S.sVisible,{clipRange:k=g.clipRange,closePath:P,points:C,segments:R}=t.attribute,{curveType:M=g.curveType}=t.attribute;function O(t,e){return"connect"!==e?t:t.filter(t=>!1!==t.defined)}if(P&&"linear"===M&&(M="linearClosed"),1===k&&!R&&!C.some(t=>!1===t.defined)&&"linear"===M)return this.drawLinearAreaHighPerformance(t,e,!!f,T,y,x,i,r,g,n,a,s,o);if(t.shouldUpdateShape()){if(R&&R.length){let e,i,r,n=R.map((t,r)=>{if(t.points.length<=1&&0===r)return t.points[0]&&(i={endX:t.points[0].x,endY:t.points[0].y}),null;1===r?e={x:i.endX,y:i.endY}:r>1&&(e.x=i.endX,e.y=i.endY);let n=(0,to.X0)(O(t.points,A),M,{startPoint:e,curveTension:B});return i=n,n}).filter(t=>!!t),a=[];for(let t=R.length-1;t>=0;t--){let e=R[t].points,i=[];for(let t=e.length-1;t>=0;t--)i.push({x:null!=(l=e[t].x1)?l:e[t].x,y:null!=(h=e[t].y1)?h:e[t].y});if(0!==t){let e=R[t-1].points,r=e[e.length-1];r&&i.push({x:null!=(d=r.x1)?d:r.x,y:null!=(u=r.y1)?u:r.y})}i.length>1&&(r=(0,to.X0)(O(i,A),"stepBefore"===M?"stepAfter":"stepAfter"===M?"stepBefore":M,{curveTension:B}),a.unshift(r))}t.cacheArea=a.map((t,e)=>({top:n[e],bottom:t}))}else{if(!C||!C.length)return t.cacheArea=null,void t.clearUpdateShapeTag();{let e=O(C,A),i=[];for(let t=e.length-1;t>=0;t--)i.push({x:null!=(c=e[t].x1)?c:e[t].x,y:null!=(p=e[t].y1)?p:e[t].y});t.cacheArea={top:(0,to.X0)(e,M,{curveTension:B}),bottom:(0,to.X0)(i,"stepBefore"===M?"stepAfter":"stepAfter"===M?"stepBefore":M,{curveTension:B})}}}t.clearUpdateShapeTag()}if(Array.isArray(t.cacheArea)){let a=t.attribute.segments.filter(t=>t.points.length);if(1===a[0].points.length&&a.shift(),1===k){let l=!1;t.cacheArea.forEach((h,d)=>{l||(l=this.drawSegmentItem(e,h,w,y,T,x,a[d],[g,t.attribute],k,i,r,v,t,n,s,o))})}else{let l=k*t.cacheArea.reduce((t,e)=>t+e.top.getLength(),0),h=0,d=!1;t.cacheArea.forEach((u,c)=>{if(d)return;let p=u.top.getLength(),f=(l-h)/p;h+=p,f>0&&(d=this.drawSegmentItem(e,u,w,y,T,x,a[c],[g,t.attribute],(0,ts.VV)(f,1),i,r,v,t,n,s,o))})}}else this.drawSegmentItem(e,t.cacheArea,w,y,T,x,t.attribute,g,k,i,r,v,t,n,s,o)}draw(t,e,i,r){let n=(0,m.gh)(t,null==r?void 0:r.theme).area;this._draw(t,n,!1,i,r)}drawSegmentItem(t,e,i,r,n,a,s,o,l,h,d,u,c,p,g,f){return this._drawSegmentItem(t,e,i,r,n,a,s,o,l,h,d,u,c,p,g,f)}_drawSegmentItem(t,e,i,r,n,a,s,o,l,h,d,u,c,p,g,f){if(!(e&&e.top&&e.bottom&&e.top.curves&&e.top.curves.length&&e.bottom.curves&&e.bottom.curves.length))return;t.beginPath();let{points:m,segments:b}=c.attribute,y,v,x=q.Nm.ROW;if(b){let t=b[b.length-1];v=b[0].points[0],y=t.points[t.points.length-1]}else v=m[0],y=m[m.length-1];let B=(0,ts.Wn)(y.x-v.x),A=(0,ts.Wn)(y.y-v.y);x=null==y.x1?q.Nm.ROW:null==y.y1?q.Nm.COLUMN:Number.isFinite(B+A)?B>A?q.Nm.ROW:q.Nm.COLUMN:q.Nm.ROW,(0,tl.y)(t,e,l,{offsetX:h,offsetY:d,offsetZ:u,direction:x}),this.beforeRenderStep(c,t,h,d,!!r,!1,i,!1,o,p,g,null,{attribute:s}),t.setShadowBlendStyle&&t.setShadowBlendStyle(c,s,o);let{x:S=0,x:w=0}=s;return!1!==i&&(g?g(t,s,o):r&&(t.setCommonStyle(c,s,S-h,w-d,o),t.fill())),this.afterRenderStep(c,t,h,d,!!r,!1,i,!1,o,p,g,null,{attribute:s}),(()=>{if(!1!==n)if(f)f(t,s,o);else{let{stroke:i=o&&o[1]&&o[1].stroke}=s;(0,j.Z)(i)&&(i[0]||i[2])&&!1===i[1]&&(t.beginPath(),(0,th.fW)(t,i[0]?e.top:e.bottom,l,x===q.Nm.ROW?"x":"y",{offsetX:h,offsetY:d,offsetZ:u})),t.setStrokeStyle(c,s,S-h,w-d,o),t.stroke()}})(),!1}};tb=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),tm(0,(0,o.f)(A.Qc)),tm(0,(0,R.t)($.Gq)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],tb);let ty=class extends tb{constructor(){super(...arguments),this.numberType=T.Ri}drawShape(t,e,i,r,n,a,s){if(t.incremental&&n.multiGraphicOptions){let{startAtIdx:a,length:o}=n.multiGraphicOptions,{segments:l=[]}=t.attribute;if(a>l.length)return;let h=(0,m.gh)(t).area,{fill:d=h.fill,fillOpacity:u=h.fillOpacity,opacity:c=h.opacity,visible:p=h.visible}=t.attribute,g=(0,K.Bv)(c,u,d),f=(0,K.dz)(d);if(t.valid&&p&&f&&(g||s))for(let n=a;n<a+o;n++)this.drawIncreaseSegment(t,e,l[n-1],l[n],t.attribute.segments[n],[h,t.attribute],i,r)}else super.drawShape(t,e,i,r,n,a,s)}drawIncreaseSegment(t,e,i,r,n,a,s,o){r&&(e.beginPath(),(0,th.hJ)(e.camera?e:e.nativeContext,i,r,{offsetX:s,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,n,a),e.setCommonStyle(t,n,s,o,a),e.fill())}};ty=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)()],ty);var tv,tx,tB=function(t,e){return function(i,r){e(i,r,t)}},tA=function(t,e,i,r){return new(i||(i=Promise))(function(n,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?n(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(s,o)}l((r=r.apply(t,e||[])).next())})};(r=tx||(tx={}))[r.NORMAL=0]="NORMAL",r[r.STOP=1]="STOP";let tS=class extends Z{constructor(t,e,i,r){super(t,r),this.contributions=t,this.lineRender=e,this.areaRender=i,this.drawItemInterceptorContributions=r,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=tx.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new tn.n([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(t,e){return tA(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=t,this.lastDrawContext=e,this.checkingForDrawPromise=this.checkForDraw(e);let i=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,i)return;this.currentRenderService=t;let{context:r,viewBox:n}=e;r&&(r.inuse=!0,r.clearMatrix(),r.setTransformForCurrent(!0),r.save(),e.restartIncremental&&this.clearScreen(this.currentRenderService,r,e),r.translate(n.x1,n.y1,!0),r.save(),t.renderTreeRoots.sort((t,e)=>{var i,r;return(null!=(i=t.attribute.zIndex)?i:D.xF.zIndex)-(null!=(r=e.attribute.zIndex)?r:D.xF.zIndex)}).forEach(t=>{this.renderGroup(t,e)}),this.hooks.completeDraw.tap("top-draw",()=>{r.restore(),r.restore(),r.draw(),r.inuse=!1,this.rendering=!1}))})}_increaseRender(t,e){return tA(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(t,e)})}_renderIncrementalGroup(t,e){return tA(this,void 0,void 0,function*(){this.count=t.count,yield new Promise(i=>{this.renderItem(t,e,{drawingCb:()=>tA(this,void 0,void 0,function*(){if(2!==t.count)yield(0,U.Ud)(t,D.xF.zIndex,(i,r)=>{if(this.status===tx.STOP)return!0;if(i.isContainer||r<this.currentIdx)return!1;let n=this.currFrameStartAt+t.incremental;return r<n&&(this.currentIdx=r+1,this.renderItem(i,e)),r===n-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),i(!1);else{let r=t.getChildAt(0);if(r.incremental&&r.attribute.segments)for(r.incrementalAt||(r.incrementalAt=0);r.incrementalAt<r.attribute.segments.length;)e.multiGraphicOptions={startAtIdx:r.incrementalAt,length:r.incremental},this.renderItem(r,e),r.incrementalAt+=r.incremental,yield this.waitToNextFrame();else this.renderItem(r,e);i(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return tA(this,void 0,void 0,function*(){return new Promise(t=>{this.global.getRequestAnimationFrame()(()=>{t(!1)})})})}checkForDraw(t){return tA(this,void 0,void 0,function*(){let e=this.rendering;return t.restartIncremental&&(e=!1,yield this.forceStop(),this.resetToInit()),e})}forceStop(){return tA(this,void 0,void 0,function*(){this.rendering&&(this.status=tx.STOP,yield new Promise(t=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=tx.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(t=>"stopCb"!==t.name),t(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(t,e){return tA(this,void 0,void 0,function*(){if(!e.break&&!1!==t.attribute.visibleAll)return t.incremental&&e.startAtId===t._uid?(yield this._increaseRender(t,e),void(e.break=!0)):void(yield new Promise(i=>{this.renderItem(t,e,{drawingCb:()=>tA(this,void 0,void 0,function*(){yield(0,U.Ud)(t,D.xF.zIndex,t=>tA(this,void 0,void 0,function*(){e.break||t.isContainer&&(yield this.renderGroup(t,e))})),i(!1)})})}))})}};tS=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),tB(0,(0,L.n)(l.uz)),tB(1,(0,o.f)(ta.U)),tB(2,(0,o.f)(ty)),tB(3,(0,o.f)(A.Qc)),tB(3,(0,R.t)(F.xL)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Array,Object,Object,Object])],tS);var tw=new a.n(t=>{t(Q.M2).toSelf().inSingletonScope(),t(tu.$).toSelf().inSingletonScope(),t(l.Iv).to(Z),t(l.Pf).to(tS),t(l.Cb).to(tr).inSingletonScope(),t(l.uz).toService(l.Cb),(0,A.yb)(t,$.jd),t(Q.Sg).toSelf().inSingletonScope(),(0,A.yb)(t,$.tg),(0,A.yb)(t,l.uz),t(F.pN).toSelf().inSingletonScope(),t(F.xL).toService(F.pN),(0,A.yb)(t,F.xL)}),tT=i(938851),tk=i(728733);function tP(){tP.__loaded||(tP.__loaded=!0,M.n.load(n.Z),M.n.load(P),M.n.load(u),M.n.load(S),M.n.load(E),(0,I.Z)(M.n),M.n.load(tw))}tP.__loaded=!1,tP();let tC=M.n.get(tk.y2);Y.w.global=tC;let tR=M.n.get(tT.no);Y.w.graphicUtil=tR;let tM=M.n.get(tT.Gp);Y.w.transformUtil=tM;let tO=M.n.get(T.fB);Y.w.graphicService=tO;let t_=M.n.get(tT.IT);Y.w.layerService=t_},533896:function(t,e,i){i.d(e,{BR:()=>n,hH:()=>r,tn:()=>s,uH:()=>a}),Symbol.for("GraphicPicker");let r=Symbol.for("PickerService");Symbol.for("BoundsPicker");let n=Symbol.for("GlobalPickerService"),a=Symbol.for("PickItemInterceptor"),s=Symbol.for("PickServiceInterceptor")},274981:function(t,e,i){i.d(e,{f:()=>y});var r=i(263401),n=i(669182),a=i(919498),s=i(360309),o=i(458943),l=i(759311),h=i(119761),d=i(609443),u=i(25666),c=i(678412),p=i(795069),g=i(418953),f=i(509257),m=i(533896),b=function(t,e){return function(i,r){e(i,r,t)}};let y=class{constructor(t,e){this.pickItemInterceptorContributions=t,this.pickServiceInterceptorContributions=e,this.type="default",this.global=f.w.global}reInit(){this._init()}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((t,e)=>t.order-e.order),this.pickerServiceInterceptorContributions=this.pickServiceInterceptorContributions.getContributions().sort((t,e)=>t.order-e.order)}pick(t,e,i){let a,s={graphic:null,group:null};i.pickerService=this;let o=i.bounds.width(),l=i.bounds.height();if(!(new r.FB).setValue(0,0,o,l).containsPoint(e))return s;this.pickContext&&(this.pickContext.inuse=!0),i.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);let h=new n.y(1,0,0,1,0,0);for(let r=t.length-1;r>=0&&!(s=t[r].isContainer?this.pickGroup(t[r],e,h,i):this.pickItem(t[r],e,h,i)).graphic;r--)a||(a=s.group);if(s.graphic||(s.group=a),this.pickContext&&(this.pickContext.inuse=!1),this.pickerServiceInterceptorContributions.length)for(let t=0;t<this.pickerServiceInterceptorContributions.length;t++){let r=this.pickerServiceInterceptorContributions[t];r.afterPickItem&&(s=r.afterPickItem(s,this,e,i,{parentMatrix:h}))}return s}containsPoint(t,e,i){var r;return!!(null==(r=this.pickItem(t,e,null,null!=i?i:{pickContext:this.pickContext,pickerService:this}))?void 0:r.graphic)}pickGroup(t,e,i,r){let n={group:null,graphic:null};if(!1===t.attribute.visibleAll)return n;let s=r.pickContext,o=s.modelMatrix;if(s.camera){let e=t.transMatrix,i=g.yp.allocate();if((0,p.B$)(i,e),o){if(i){let t=g.yp.allocate();s.modelMatrix=(0,p.G9)(t,o,i),g.yp.free(i)}}else(0,p.B$)(i,t.globalTransMatrix),s.modelMatrix=i}if(this.InterceptorContributions.length)for(let n=0;n<this.InterceptorContributions.length;n++){let a=this.InterceptorContributions[n];if(a.beforePickItem){let n=a.beforePickItem(t,this,e,r,{parentMatrix:i});if(n)return s.modelMatrix!==o&&g.yp.free(s.modelMatrix),s.modelMatrix=o,n}}let l=t.transMatrix,d=g.QE.allocateByObj(i),f=new a.E9(e.x,e.y);d.transformPoint(f,f);let m=t.AABBBounds.containsPoint(f);if(!m&&!t.stage.camera)return n;let b=this.pickItem(t,f.clone(),i,r);b&&b.graphic&&(n.graphic=b.graphic,n.params=b.params);let y=!1!==t.attribute.pickable&&m;return d.multiply(l.a,l.b,l.c,l.d,l.e,l.f),!1===t.attribute.childrenPickable||b&&b.graphic||(0,h.kD)(t,c.xF.zIndex,s=>{if(s.isContainer){let i=new a.E9(e.x,e.y),o=(0,u.gh)(t).group,{scrollX:l=o.scrollX,scrollY:h=o.scrollY}=t.attribute;i.x-=l,i.y-=h,n=this.pickGroup(s,i,d,r)}else{let o=new a.E9(e.x,e.y);d.transformPoint(o,o);let l=(0,u.gh)(t).group,{scrollX:h=l.scrollX,scrollY:c=l.scrollY}=t.attribute;o.x-=h,o.y-=c;let p=this.pickItem(s,o,i,r);p&&p.graphic&&(n.graphic=p.graphic,n.params=p.params)}return!!n.graphic||!!n.group},!0,!!s.camera),s.modelMatrix!==o&&g.yp.free(s.modelMatrix),s.modelMatrix=o,n.graphic||n.group||!y||t.stage.camera||(n.group=t),g.QE.free(d),n}selectPicker(t){return this.pickerMap.get(t.numberType)||null}};y=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,s.b)(),b(0,(0,o.f)(d.Qc)),b(0,(0,l.t)(m.uH)),b(1,(0,o.f)(d.Qc)),b(1,(0,l.t)(m.tn)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object,Object])],y)},958231:function(t,e,i){i.d(e,{J:()=>a});var r=i(203922),n=i(509257);class a{constructor(){this.name="AutoRefreshPlugin",this.activeEvent="onRegister",this._uid=r.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=t=>{t.glyphHost&&(t=t.glyphHost),t.stage===this.pluginService.stage&&null!=t.stage&&t.stage.renderNextFrame()}}activate(t){this.pluginService=t,this.dpr=n.w.global.devicePixelRatio,this.refresh()}refresh(){this._refreshByMediaQuery()||this._refreshByRaf()}_refreshByRaf(){let t=n.w.global.getRequestAnimationFrame();this.rafId=t(()=>{n.w.global.devicePixelRatio!==this.dpr&&(this.dpr=n.w.global.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0)),this.refresh()})}_refreshByMediaQuery(){try{let t=`(resolution: ${window.devicePixelRatio}dppx)`,e=()=>{window.devicePixelRatio!==this.dpr&&(this.dpr=window.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0))},i=matchMedia(t);i&&i.addEventListener("change",e),this.autoRefreshCbs||(this.autoRefreshCbs=[]),this.autoRefreshCbs.push(()=>{i&&i.removeEventListener("change",e)})}catch(t){return!1}return!0}deactivate(t){var e;let i=n.w.global.getCancelAnimationFrame();i&&this.rafId&&i(this.rafId),null==(e=this.autoRefreshCbs)||e.forEach(t=>{t()}),this.autoRefreshCbs=void 0}}},175412:function(t,e,i){i.d(e,{y:()=>n});var r=i(203922);class n{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=r.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=t=>{t.glyphHost&&(t=t.glyphHost),t.stage===this.pluginService.stage&&null!=t.stage&&t.stage.renderNextFrame()}}activate(t){this.pluginService=t;let e=this.pluginService.stage;e&&(e.graphicService.hooks.onAttributeUpdate.tap(this.key,this.handleChange),e.graphicService.hooks.onSetStage.tap(this.key,this.handleChange),e.graphicService.hooks.onRemove.tap(this.key,this.handleChange))}deactivate(t){let e=t=>t.filter(t=>t.name!==this.key),i=this.pluginService.stage;i&&(i.graphicService.hooks.onAttributeUpdate.taps=e(i.graphicService.hooks.onAttributeUpdate.taps),i.graphicService.hooks.onSetStage.taps=e(i.graphicService.hooks.onSetStage.taps),i.graphicService.hooks.onRemove.taps=e(i.graphicService.hooks.onRemove.taps))}}},387503:function(t,e,i){i.d(e,{Q:()=>s});var r=i(263401),n=i(203922);let a=new r.FB;class s{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=n.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,t.stage.hooks.afterRender.tap(this.key,t=>{t&&t===this.pluginService.stage&&t.dirtyBounds.clear()});let e=this.pluginService.stage;e&&(e.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(t,e,i,r)=>{t.glyphHost&&(t=t.glyphHost),e&&e===this.pluginService.stage&&e.renderCount&&(t.isContainer&&!t.shouldSelfChangeUpdateAABBBounds()||i&&(a.setValue(r.x1,r.y1,r.x2,r.y2),e.dirty(a,t.parent&&t.parent.globalTransMatrix)))}),e.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(t,e,i,r,n)=>{e&&e===this.pluginService.stage&&e.renderCount&&(t.isContainer&&!n||e.dirty(r.globalAABBBounds))}),e.graphicService.hooks.clearAABBBounds.tap(this.key,(t,e,i)=>{e&&e===this.pluginService.stage&&e.renderCount&&e&&e.dirty(i)}),e.graphicService.hooks.onRemove.tap(this.key,t=>{let e=t.stage;e&&e===this.pluginService.stage&&e.renderCount&&e&&e.dirty(t.globalAABBBounds)}))}deactivate(t){let e=this.pluginService.stage;e&&(e.graphicService.hooks.beforeUpdateAABBBounds.taps=e.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.afterUpdateAABBBounds.taps=e.graphicService.hooks.afterUpdateAABBBounds.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.clearAABBBounds.taps=e.graphicService.hooks.clearAABBBounds.taps.filter(t=>t.name!==this.key),e.hooks.afterRender.taps=e.hooks.afterRender.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.onRemove.taps=e.graphicService.hooks.onRemove.taps.filter(t=>t.name!==this.key))}}},505445:function(t,e,i){i.d(e,{E:()=>h});var r=i(25666),n=i(203922),a=i(263401),s=i(947581);let o=new a.FB;class l{constructor(){this.name="FlexLayoutPlugin",this.activeEvent="onRegister",this.id=n.R.GenAutoIncrementId(),this.key=this.name+this.id,this.tempBounds=new a.FB}pauseLayout(t){this.pause=t}tryLayoutChildren(t){t.firstChild&&this.tryLayout(t.firstChild)}tryLayout(t,e=!0){if(this.pause)return;let i=t.parent;if(!(e||i&&t.needUpdateLayout()))return;let n=(0,r.gh)(i).group,{display:a=n.display}=i.attribute;if("flex"!==a)return;let{flexDirection:s=n.flexDirection,flexWrap:o=n.flexWrap,alignItems:l=n.alignItems,clip:h=n.clip}=i.attribute,{alignContent:d=null!=l?l:n.alignContent}=i.attribute,{width:u,height:c,justifyContent:p=n.justifyContent}=i.attribute,g=i.getChildren();if(null==u||null==c){let t=0,e=0,i=0;if(g.forEach(r=>{let n=this.getAABBBounds(r);n.empty()||("column"===s||"column-reverse"===s?(e+=n.height(),t=Math.max(t,n.width())):(t+=n.width(),e=Math.max(e,n.height())),i+=n.x1,i+=n.y1,i+=n.x2,i+=n.y2)}),!isFinite(i))return;u=t,c=e}null==i.attribute.width?i.attribute.width=u:u=i.attribute.width,null==i.attribute.height?i.attribute.height=c:c=i.attribute.height,this.tempBounds.copy(i._AABBBounds);let f={main:{len:u,field:"x"},cross:{len:c,field:"y"}},m=f.main,b=f.cross;"column"!==s&&"column-reverse"!==s||(m.len=c,b.len=u,m.field="y",b.field="x"),"row-reverse"!==s&&"column-reverse"!==s||("flex-start"===p?p="flex-end":"flex-end"===p?p="flex-start":g.reverse());let y=0,v=0,x=[];g.forEach(t=>{let e=this.getAABBBounds(t);if(e.empty())return;let i="x"===m.field?e.width():e.height(),r="x"===b.field?e.width():e.height();x.push({mainLen:i,crossLen:r}),y+=i,v=Math.max(v,r)});let B=[];if(y>m.len&&"wrap"===o){let t=0,e=0;x.forEach(({mainLen:i,crossLen:r},n)=>{t+i>m.len?0===t?(B.push({idx:n,mainLen:t+i,crossLen:r}),t=0,e=0):(B.push({idx:n-1,mainLen:t,crossLen:e}),t=i,e=r):(t+=i,e=Math.max(e,r))}),B.push({idx:x.length-1,mainLen:t,crossLen:e})}else B.push({idx:x.length-1,mainLen:y,crossLen:v});let A=0;if(B.forEach(t=>{this.layoutMain(i,g,p,m,x,A,t),A=t.idx+1}),v=B.reduce((t,e)=>t+e.crossLen,0),1===B.length){let t={"flex-start":0,"flex-end":b.len,center:b.len/2};this.layoutCross(g,l,b,t,x,B[0],0)}else if("flex-start"===d){A=0;let t=0;B.forEach((e,i)=>{let r={"flex-start":t,"flex-end":t+e.crossLen,center:t+e.crossLen/2};this.layoutCross(g,"flex-start",b,r,x,B[i],A),A=e.idx+1,t+=e.crossLen})}else if("center"===d){A=0;let t=Math.max(0,(b.len-v)/2);B.forEach((e,i)=>{let r={"flex-start":t,"flex-end":t+e.crossLen,center:t+e.crossLen/2};this.layoutCross(g,"center",b,r,x,B[i],A),A=e.idx+1,t+=e.crossLen})}else if("space-around"===d){A=0;let t=Math.max(0,(b.len-v)/B.length/2),e=t;B.forEach((i,r)=>{let n={"flex-start":e,"flex-end":e+i.crossLen,center:e+i.crossLen/2};this.layoutCross(g,"flex-start",b,n,x,B[r],A),A=i.idx+1,e+=i.crossLen+2*t})}else if("space-between"===d){A=0;let t=Math.max(0,(b.len-v)/(2*B.length-2)),e=0;B.forEach((i,r)=>{let n={"flex-start":e,"flex-end":e+i.crossLen,center:e+i.crossLen/2};this.layoutCross(g,"flex-start",b,n,x,B[r],A),A=i.idx+1,e+=i.crossLen+2*t})}g.forEach((t,e)=>{t.addUpdateBoundTag(),t.addUpdatePositionTag(),t.clearUpdateLayoutTag()}),i.addUpdateLayoutTag();let S=this.getAABBBounds(i);h||this.tempBounds.equals(S)||this.tryLayout(i,!1)}getAABBBounds(t){this.skipBoundsTrigger=!0;let e=t.AABBBounds;return this.skipBoundsTrigger=!1,e}updateChildPos(t,e,i){return t+(null!=e?e:0)-i}layoutMain(t,e,i,r,n,a,s){var o,l,h,d,u,c,p,g,f,m,b,y,v,x;if("flex-start"===i){let t=0;for(let i=a;i<=s.idx;i++){let a=t+(o=e[i],l=r.field,0),s=this.getAABBBounds(e[i]);s.empty()||(e[i].attribute[r.field]=this.updateChildPos(a,e[i].attribute[r.field],s[`${r.field}1`])),t+=n[i].mainLen}}else if("flex-end"===i){let t=r.len;for(let i=s.idx;i>=a;i--){let a=(t-=n[i].mainLen)+(h=e[i],d=r.field,0),s=this.getAABBBounds(e[i]);s.empty()||(e[i].attribute[r.field]=this.updateChildPos(a,e[i].attribute[r.field],s[`${r.field}1`]))}}else if("space-around"===i)if(s.mainLen>=r.len){let t=0;for(let i=a;i<=s.idx;i++){let a=t+(u=e[i],c=r.field,0),s=this.getAABBBounds(e[i]);s.empty()||(e[i].attribute[r.field]=this.updateChildPos(a,e[i].attribute[r.field],s[`${r.field}1`])),t+=n[i].mainLen}}else{let t=s.idx-a+1,i=(r.len-s.mainLen)/t/2,o=i;for(let t=a;t<=s.idx;t++){let a=o+(p=e[t],g=r.field,0),s=this.getAABBBounds(e[t]);s.empty()||(e[t].attribute[r.field]=this.updateChildPos(a,e[t].attribute[r.field],s[`${r.field}1`])),o+=n[t].mainLen+2*i}}else if("space-between"===i)if(s.mainLen>=r.len){let t=0;for(let i=a;i<=s.idx;i++){let a=t+(f=e[i],m=r.field,0),s=this.getAABBBounds(e[i]);s.empty()||(e[i].attribute[r.field]=this.updateChildPos(a,e[i].attribute[r.field],s[`${r.field}1`])),t+=n[i].mainLen}}else{let t=s.idx-a+1,i=(r.len-s.mainLen)/(2*t-2),o=0;for(let t=a;t<=s.idx;t++){let a=o+(b=e[t],y=r.field,0),s=this.getAABBBounds(e[t]);s.empty()||(e[t].attribute[r.field]=this.updateChildPos(a,e[t].attribute[r.field],s[`${r.field}1`])),o+=n[t].mainLen+2*i}}else if("center"===i){let t=(r.len-s.mainLen)/2;for(let i=a;i<=s.idx;i++){let a=t+(v=e[i],x=r.field,0),s=this.getAABBBounds(e[i]);s.empty()||(e[i].attribute[r.field]=this.updateChildPos(a,e[i].attribute[r.field],s[`${r.field}1`])),t+=n[i].mainLen}}}layoutCross(t,e,i,r,n,a,s){var o,l,h,d;for(let u=s;u<=a.idx;u++){let a=t[u],{alignSelf:s}=a.attribute;s&&"auto"!==s||(s=e);let c=this.getAABBBounds(a),p=null!=(o=r[s])?o:r["flex-start"];"flex-end"===s?c.empty()||(a.attribute[i.field]=this.updateChildPos(p-n[u].crossLen+(l=i.field,0),a.attribute[i.field],c[`${i.field}1`])):"center"===s?c.empty()||(a.attribute[i.field]=this.updateChildPos(p-n[u].crossLen/2+(h=i.field,0),a.attribute[i.field],c[`${i.field}1`])):c.empty()||(a.attribute[i.field]=this.updateChildPos(p+(d=i.field,0),a.attribute[i.field],c[`${i.field}1`]))}}activate(t){this.pluginService=t;let e=this.pluginService.stage;e&&(e.graphicService.hooks.onAttributeUpdate.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),t.stage&&t.stage===this.pluginService.stage&&this.tryLayout(t,!1)}),e.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(t,e,i,r)=>{t.glyphHost&&(t=t.glyphHost),e&&e===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&o.copy(r)}),e.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(t,e,i,r,n)=>{e&&e===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&(o.equals(i)||this.tryLayout(t,!1))}),e.graphicService.hooks.onSetStage.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),this.tryLayout(t,!1)}))}deactivate(t){let e=this.pluginService.stage;e&&(e.graphicService.hooks.onAttributeUpdate.taps=e.graphicService.hooks.onAttributeUpdate.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.beforeUpdateAABBBounds.taps=e.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.afterUpdateAABBBounds.taps=e.graphicService.hooks.afterUpdateAABBBounds.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.onSetStage.taps=e.graphicService.hooks.onSetStage.taps.filter(t=>t.name!==this.key))}}let h=()=>{s.F.registerPlugin("FlexLayoutPlugin",l)}},83569:function(t,e,i){i.d(e,{z:()=>a});var r=i(509257),n=i(203922);class a{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=n.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t;let e=this.pluginService.stage;e&&(e.graphicService.hooks.onAddIncremental.tap(this.key,(e,i,r)=>{e.glyphHost&&(e=e.glyphHost),e.stage===t.stage&&null!=e.stage&&(this.nextUserParams.startAtId=i._uid,this.renderNextFrame(i))}),e.graphicService.hooks.onClearIncremental.tap(this.key,(e,i)=>{e.stage===t.stage&&null!=e.stage&&(this.nextUserParams.startAtId=e._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(e))}))}deactivate(t){let e=this.pluginService.stage;e&&(e.graphicService.hooks.onAddIncremental.taps=e.graphicService.hooks.onAddIncremental.taps.filter(t=>t.name!==this.key),e.graphicService.hooks.onClearIncremental.taps=e.graphicService.hooks.onClearIncremental.taps.filter(t=>t.name!==this.key))}renderNextFrame(t){this.nextFrameRenderGroupSet.add(t),this.willNextFrameRender||(this.willNextFrameRender=!0,r.w.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){let t=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(e=>{let i=e.layer;if(!i||!e.layer.subLayers)return;let r=e.layer.subLayers.get(e._uid);r&&r.drawContribution&&r.drawContribution.draw(t.renderService,Object.assign({stage:t,layer:i,viewBox:t.window.getViewBox(),transMatrix:t.window.getViewBoxTransform(),clear:"transparent",renderService:t.renderService,updateBounds:!1,startAtId:e._uid,context:r.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}},731519:function(t,e,i){i.d(e,{r:()=>f});var r=i(203922),n=i(509257),a=i(25666),s=i(678412),o=i(492859),l=i(454326),h=i(548393),d=i(796241),u=i(480971),c=i(83624),p=i(996766);class g{constructor(){this.name="HtmlAttributePlugin",this.activeEvent="onRegister",this._uid=r.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={},this.renderId=0,this.onWheel=t=>{try{let e=new t.constructor(t.type,t);this.pluginService.stage.window.getContext().getCanvas().nativeCanvas.dispatchEvent(e)}catch(t){return}}}activate(t){this.pluginService=t,t.stage.hooks.afterRender.tap(this.key,e=>{e&&e===this.pluginService.stage&&this.drawHTML([...t.stage.getChildren()])})}deactivate(t){t.stage.hooks.afterRender.taps=t.stage.hooks.afterRender.taps.filter(t=>t.name!==this.key),this.release()}getWrapContainer(t,e,i){let r;return r=e?"string"==typeof e?n.w.global.getElementById(e):e:t.window.getContainer(),{wrapContainer:n.w.global.createDom(Object.assign({tagName:"div",parent:r},i)),nativeContainer:r}}parseDefaultStyleFromGraphic(t){let e="text"===t.type&&t.attribute?t.attribute:(0,a.gh)(t).text;return(0,o.WD)(e)}getTransformOfText(t){let e=(0,a.gh)(t).text,{textAlign:i=e.textAlign,textBaseline:r=e.textBaseline}=t.attribute,{rotateDeg:n,scaleX:s,scaleY:o}=t.globalTransMatrix.toTransformAttrs(),l={left:"0",start:"0",end:"-100%",center:"-50%",right:"-100%",top:"0",middle:"-50%",bottom:"-100%",alphabetic:"-79%"},h={left:"0",start:"0",end:"100%",center:"50%",right:"100%",top:"0",middle:"50%",bottom:"100%",alphabetic:"79%"};return{textAlign:i,transform:`translate(${l[i]},${l[r]}) rotate(${n}deg) scaleX(${s}) scaleY(${o})`,transformOrigin:`${h[i]} ${h[r]}`}}updateStyleOfWrapContainer(t,e,i,r,a){let{pointerEvents:s,penetrateEventList:o=[]}=a,g=this.parseDefaultStyleFromGraphic(t);g.display=!1!==t.attribute.visible?"block":"none",g.pointerEvents=!0===s?"all":s||"none","none"!==g.pointerEvents&&(this.removeWrapContainerEventListener(i),o.forEach(t=>{"wheel"===t&&i.addEventListener("wheel",this.onWheel)})),i.style.position||(i.style.position="absolute",r.style.position="relative");let f=0,m=0,b=t.globalAABBBounds,y=a.anchorType;if((0,l.Z)(y)&&(y="text"===t.type?"position":"boundsLeftTop"),"boundsLeftTop"===y&&(y="top-left"),"position"===y||b.empty()){let e=t.globalTransMatrix;f=e.e,m=e.f}else{let t=(0,h.v1)(b,y);f=t.x,m=t.y}let v=n.w.global.getElementTopLeft(r,!1),x=e.window.getTopLeft(!1),B=e.viewBox,A=f+x.left-v.left+B.x1,S=m+x.top-v.top+B.y1;if(g.left=`${A}px`,g.top=`${S}px`,"text"===t.type&&"position"===y&&(g=Object.assign(Object.assign({},g),this.getTransformOfText(t))),(0,d.Z)(a.style)){let e=a.style({top:S,left:A,width:b.width(),height:b.height()},t,i);e&&(g=Object.assign(Object.assign({},g),e))}else(0,u.Z)(a.style)?g=Object.assign(Object.assign({},g),a.style):(0,c.Z)(a.style)&&a.style&&(g=Object.assign(Object.assign({},g),(0,p.wv)(a.style)));n.w.global.updateDom(i,{width:a.width,height:a.height,style:g})}clearCacheContainer(){this.htmlMap&&Object.keys(this.htmlMap).forEach(t=>{this.htmlMap[t]&&this.htmlMap[t].renderId!==this.renderId&&this.removeElement(t)}),this.renderId+=1}drawHTML(t){"browser"===n.w.global.env&&(t.sort((t,e)=>{var i,r;return(null!=(i=t.attribute.zIndex)?i:s.xF.zIndex)-(null!=(r=e.attribute.zIndex)?r:s.xF.zIndex)}).forEach(t=>{this.renderGroupHTML(t)}),this.clearCacheContainer())}renderGroupHTML(t){this.renderGraphicHTML(t),t.forEachChildren(t=>{t.isContainer?this.renderGroupHTML(t):this.renderGraphicHTML(t)})}removeElement(t){if(!this.htmlMap||!this.htmlMap[t])return;let{wrapContainer:e}=this.htmlMap[t];e&&n.w.global.removeDom(e),this.htmlMap[t]=null}removeWrapContainerEventListener(t){t.removeEventListener("wheel",this.onWheel)}renderGraphicHTML(t){var e;let{html:i}=t.attribute;if(!i)return;let r=t.stage;if(!r)return;let{dom:n,container:a}=i;if(!n)return;let s=(0,l.Z)(i.id)?`${null!=(e=t.id)?e:t._uid}_react`:i.id;if(this.htmlMap&&this.htmlMap[s]&&a&&a!==this.htmlMap[s].container&&this.removeElement(s),this.htmlMap&&this.htmlMap[s])"string"==typeof n?this.htmlMap[s].wrapContainer.innerHTML=n:n!==this.htmlMap[s].wrapContainer.firstChild&&(this.htmlMap[s].wrapContainer.removeChild(this.htmlMap[s].wrapContainer.firstChild),this.htmlMap[s].wrapContainer.appendChild(n));else{let{wrapContainer:t,nativeContainer:e}=this.getWrapContainer(r,a);t&&("string"==typeof n?t.innerHTML=n:t.appendChild(n),this.htmlMap||(this.htmlMap={}),this.htmlMap[s]={wrapContainer:t,nativeContainer:e,container:a,renderId:this.renderId})}if(!this.htmlMap||!this.htmlMap[s])return;let{wrapContainer:o,nativeContainer:h}=this.htmlMap[s];this.updateStyleOfWrapContainer(t,r,o,h,i),this.htmlMap[s].renderId=this.renderId}release(){"browser"===n.w.global.env&&this.removeAllDom(this.pluginService.stage.defaultLayer)}removeAllDom(t){this.htmlMap&&(Object.keys(this.htmlMap).forEach(t=>{this.removeElement(t)}),this.htmlMap=null)}}class f extends g{constructor(){super(...arguments),this.name="ReactAttributePlugin",this.activeEvent="onRegister",this._uid=r.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={}}removeElement(t){if(!this.htmlMap||!this.htmlMap[t])return;let{root:e,wrapContainer:i,unmount:r}=this.htmlMap[t];e?n.w.global.getRequestAnimationFrame()(()=>{e.unmount()}):r&&r(),i&&n.w.global.removeDom(i),this.htmlMap[t]=null}renderGraphicHTML(t){var e;let{react:i}=t.attribute;if(!i)return;let r=t.stage;if(!r)return;let n=r.params.ReactDOM,{element:a,container:s}=i;if(!a||!n||!n.createRoot&&!n.render)return;let o=(0,l.Z)(i.id)?`${null!=(e=t.id)?e:t._uid}_react`:i.id;if(this.htmlMap&&this.htmlMap[o]&&s&&s!==this.htmlMap[o].container&&this.removeElement(o),this.htmlMap&&this.htmlMap[o])n.createRoot?this.htmlMap[o].root.render(a):n.render(a,this.htmlMap[o].wrapContainer);else{let{wrapContainer:t,nativeContainer:e}=this.getWrapContainer(r,s);if(t)if(this.htmlMap||(this.htmlMap={}),n.createRoot){let i=n.createRoot(t);i.render(a),this.htmlMap[o]={root:i,wrapContainer:t,nativeContainer:e,container:s,renderId:this.renderId}}else n.render(a,t),this.htmlMap[o]={wrapContainer:t,nativeContainer:e,container:s,renderId:this.renderId,unmount:()=>{n.unmountComponentAtNode(t)}}}if(!this.htmlMap||!this.htmlMap[o])return;let{wrapContainer:h,nativeContainer:d}=this.htmlMap[o];this.updateStyleOfWrapContainer(t,r,h,d,i),this.htmlMap[o].renderId=this.renderId}}},335893:function(t,e,i){i.d(e,{H:()=>n,X:()=>r});let r=Symbol.for("AutoEnablePlugins"),n=Symbol.for("PluginService")},14550:function(t,e,i){i.d(e,{l:()=>a});var r=i(30371),n=i(205427);function a(){n.i.RegisterGraphicCreator("arc",r.Q)}},159556:function(t,e,i){i.d(e,{g:()=>a});var r=i(226594),n=i(205427);function a(){n.i.RegisterGraphicCreator("circle",r.y)}},807310:function(t,e,i){i.d(e,{t:()=>a});var r=i(829425),n=i(205427);function a(){n.i.RegisterGraphicCreator("group",r.sS)}},942065:function(t,e,i){i.d(e,{u:()=>a});var r=i(507261),n=i(205427);function a(){n.i.RegisterGraphicCreator("image",r.B)}},166564:function(t,e,i){i.d(e,{c:()=>a});var r=i(623579),n=i(205427);function a(){n.i.RegisterGraphicCreator("line",r.W)}},774935:function(t,e,i){i.d(e,{O:()=>f});var r=i(454326),n=i(83624),a=i(426835),s=i(92451),o=i(25666),l=i(509257),h=i(721756),d=i(819024);let u=["path","customPath",...a.DH];class c extends a.zs{constructor(t){super(t),this.type="path",this.numberType=h.qm}get pathShape(){return this.tryUpdateAABBBounds(),this.getParsedPathShape()}isValid(){return super.isValid()&&this._isValid()}_isValid(){let{path:t}=this.attribute;return null!=t&&""!==t}getParsedPathShape(){let t=this.getGraphicTheme();if(!this.valid)return t.path;let e=this.attribute;return e.path instanceof s.r?e.path:((0,r.Z)(this.cache)&&this.doUpdatePathShape(),this.cache instanceof s.r?this.cache:t.path)}getGraphicTheme(){return(0,o.gh)(this).path}updateAABBBounds(t,e,i){if(!this.updatePathProxyAABBBounds(i)){let t=this.getParsedPathShape();i.union(t.getBounds())}let{tb1:r,tb2:n}=l.w.graphicService.updateTempAABBBounds(i);(0,d.E)(t,e,r),i.union(r),r.setValue(n.x1,n.y1,n.x2,n.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;let{lineJoin:a=e.lineJoin}=t;return l.w.graphicService.transformAABBBounds(t,i,e,"miter"===a,this),i}doUpdateAABBBounds(t){return this.doUpdatePathShape(),super.doUpdateAABBBounds(t)}doUpdatePathShape(){let t=this.attribute;(0,n.Z)(t.path,!0)?this.cache=(new s.r).fromString(t.path):t.customPath&&(this.cache=new s.r,t.customPath(this.cache,this))}needUpdateTags(t){return super.needUpdateTags(t,u)}needUpdateTag(t){return super.needUpdateTag(t,u)}toCustomPath(){return(new s.r).fromCustomPath2D(this.getParsedPathShape(),0,0)}clone(){return new c(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return c.NOWORK_ANIMATE_ATTR}}function p(t){return new c(t)}c.NOWORK_ANIMATE_ATTR=Object.assign({path:1,customPath:1},a.Wl);var g=i(205427);function f(){g.i.RegisterGraphicCreator("path",p)}},657637:function(t,e,i){i.d(e,{d:()=>a});var r=i(987373),n=i(205427);function a(){n.i.RegisterGraphicCreator("polygon",r.p)}},356822:function(t,e,i){i.d(e,{M:()=>a});var r=i(669860),n=i(205427);function a(){n.i.RegisterGraphicCreator("rect",r.f)}},983513:function(t,e,i){i.d(e,{R:()=>a});var r=i(505850),n=i(205427);function a(){n.i.RegisterGraphicCreator("richtext",r.p)}},787903:function(t,e,i){i.d(e,{T:()=>o});var r=i(829425);class n extends r.ZA{constructor(t){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=t}clearUpdateBoundTag(){super.clearUpdateBoundTag(),this.shadowHost&&this.shadowHost.clearUpdateBoundTag()}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){let e=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f):this._globalTransMatrix=e.clone(),this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){let t=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(t.a,t.b,t.c,t.d,t.e,t.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}}function a(t){return new n(t)}var s=i(205427);function o(){s.i.RegisterGraphicCreator("shadowRoot",a)}},320156:function(t,e,i){i.d(e,{n:()=>a});var r=i(252953),n=i(205427);function a(){n.i.RegisterGraphicCreator("symbol",r.t)}},497192:function(t,e,i){i.d(e,{v:()=>a});var r=i(212711),n=i(205427);function a(){n.i.RegisterGraphicCreator("text",r.r)}},621136:function(t,e,i){i.d(e,{D:()=>c});var r=i(695723),n=i(290568),a=i(509257),s=i(212711),o=i(780949);let l=["heightLimit","lineClamp"];class h extends s.x{constructor(t){super(Object.assign(Object.assign({},t),{wrap:!0}))}_isValid(){let{text:t}=this.attribute;return(0,r.Z)(t)?!t.every(t=>null==t||""===t):null!=t&&""!==t}updateMultilineAABBBounds(t){var e,i,r,s,l;let h=this.getGraphicTheme(),{fontFamily:d=h.fontFamily,textAlign:u=h.textAlign,textBaseline:c=h.textBaseline,fontSize:p=h.fontSize,ellipsis:g=h.ellipsis,maxLineWidth:f,stroke:m=h.stroke,lineWidth:b=h.lineWidth,wordBreak:y=h.wordBreak,fontWeight:v=h.fontWeight,ignoreBuf:x=h.ignoreBuf,heightLimit:B=0,suffixPosition:A=h.suffixPosition,lineClamp:S}=this.attribute,w=null!=(e=(0,o.VA)(this.attribute.lineHeight,this.attribute.fontSize||h.fontSize))?e:this.attribute.fontSize||h.fontSize;if(!this.shouldUpdateShape()&&(null==(i=this.cache)?void 0:i.layoutData)){let t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),m&&this._AABBBounds.expand(b/2),this._AABBBounds}let T=a.w.graphicUtil.getTextMeasureInstance(this.textMeasureId||(null==(r=this.stage)?void 0:r.textMeasureId)),k=new n.j(d,{fontSize:p,fontWeight:v,fontFamily:d},T),P=t.map(t=>t.toString()),C=[],R=[0,0],M=1/0;if(B>0&&(M=Math.max(Math.floor(B/w),1)),S&&(M=Math.min(M,S)),"number"==typeof f&&f!==1/0){if(f>0)for(let t=0;t<P.length;t++){let e=P[t],i=!0;if(t===M-1){let t=k.textMeasure.clipTextWithSuffix(e,k.textOptions,f,g,!1,A);C.push({str:t.str,width:t.width,ascent:0,descent:0,keepCenterInLine:!1});break}let r=k.textMeasure.clipText(e,k.textOptions,f,"break-word"===y);if(""!==e&&""===r.str){if(g){let t=k.textMeasure.clipTextWithSuffix(e,k.textOptions,f,g,!1,A);r.str=null!=(s=t.str)?s:"",r.width=null!=(l=t.width)?l:0}else r.str="",r.width=0;i=!1}if(C.push({str:r.str,width:r.width,ascent:0,descent:0,keepCenterInLine:!1}),r.str.length===e.length);else if(i){let i=e.substring(r.str.length);P.splice(t+1,0,i)}}let t=0;C.forEach(e=>{t=Math.max(t,e.width)}),R[0]=t}else{let t,e,i=0;for(let r=0,n=P.length;r<n;r++){if(r===M-1){let t=k.textMeasure.clipTextWithSuffix(P[r],k.textOptions,f,g,!1,A);C.push({str:t.str,width:t.width,ascent:0,descent:0,keepCenterInLine:!1}),i=Math.max(i,t.width);break}e=P[r],i=Math.max(i,t=k.textMeasure.measureTextWidth(e,k.textOptions,"break-word"===y)),C.push({str:e,width:t,ascent:0,descent:0,keepCenterInLine:!1})}R[0]=i}R[1]=C.length*(w+2*!x);let O={xOffset:0,yOffset:0,width:R[0],height:R[1]};k.LayoutBBox(O,u,c);let _=k.layoutWithBBox(O,C,u,c,w);return this.cache.layoutData=_,this.clearUpdateShapeTag(),this._AABBBounds.set(O.xOffset,O.yOffset,O.xOffset+O.width,O.yOffset+O.height),m&&this._AABBBounds.expand(b/2),this._AABBBounds}needUpdateTags(t){for(let e=0;e<l.length;e++){let i=l[e];if(-1!==t.indexOf(i))return!0}return super.needUpdateTags(t)}needUpdateTag(t){for(let e=0;e<l.length;e++)if(t===l[e])return!0;return super.needUpdateTag(t)}getNoWorkAnimateAttr(){return h.NOWORK_ANIMATE_ATTR}}function d(t){return new h(t)}var u=i(205427);function c(){u.i.RegisterGraphicCreator("wrapText",d)}},6846:function(t,e,i){i.d(e,{p:()=>r});let r=Symbol.for("RenderService");Symbol.for("BeforeRenderConstribution")},946242:function(t,e,i){i.d(e,{_:()=>C});var r=i(609443),n=i(263457),a=i(408830),s=i(863778),o=i(360309),l=i(458943),h=i(759311),d=i(25666),u=i(780949),c=i(892287),p=i(938166),g=i(925428),f=i(721756),m=i(508338),b=i(830420),y=i(466955),v=i(916905),x=i(903544);let B=new class{constructor(){this.time=v.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u){let{outerBorder:p,innerBorder:g}=t.attribute,f=p&&!1!==p.visible,m=g&&!1!==g.visible;if(!f&&!m)return;let{innerPadding:y=l.innerPadding,outerPadding:v=l.outerPadding,startAngle:x=l.startAngle,endAngle:B=l.endAngle,opacity:A=l.opacity,x:S=l.x,y:w=l.y,scaleX:T=l.scaleX,scaleY:k=l.scaleY,keepStrokeScale:P=l.keepStrokeScale}=t.attribute,{innerRadius:C=l.innerRadius,outerRadius:R=l.outerRadius}=t.attribute;R+=v,C-=y;let M=(n,a)=>{let s=!(!n||!n.stroke),{distance:o=l[a].distance}=n,h=P?o:(0,b.D)(e,o,e.dpr),d=o/R,p="outerBorder"===a?1:-1;if(t.setAttributes({outerRadius:R+p*h,innerRadius:C-p*h,startAngle:x-p*d,endAngle:B+p*d}),e.beginPath(),(0,c.Eg)(t,e,i,r,R+p*h,C-p*h),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),u)u(e,n,l[a]);else if(s){let s=l[a].opacity;l[a].opacity=A,e.setStrokeStyle(t,n,(S-i)/T,(w-r)/k,l[a]),l[a].opacity=s,e.stroke()}};f&&M(p,"outerBorder"),m&&M(g,"innerBorder"),t.setAttributes({outerRadius:R,innerRadius:C,startAngle:x,endAngle:B})}},A=x.H,S=y.R6;var w=function(t,e){return function(i,r){e(i,r,t)}};let T=class extends m.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=f.r_,this.builtinContributions=[B,S,A],this.init(t)}drawArcTailCapPath(t,e,i,r,n,s,o,l){let h=l-o,d=t.getParsedAngle(),u=d.startAngle,p=d.endAngle;p=l,(0,a.Wn)(p-u);let g=p>u,f=!1;if(n<s){let t=n;n=s,s=t}let{outerDeltaAngle:m,xors:b,yors:y,xirs:v,yirs:x,limitedOcr:B,outerCornerRadiusStart:A,outerCornerRadiusEnd:S,maxOuterCornerRadius:w,xore:T,yore:k,xire:P,yire:C,limitedIcr:R,innerDeltaAngle:M,innerStartAngle:O,innerCornerRadiusStart:_,innerCornerRadiusEnd:E,maxInnerCornerRadius:I}=(0,c.ZN)(t,u,p,s,n);if(B>a.Ho){let t=(0,a.VV)(A,B),s=(0,a.VV)(S,B),o=(0,c.gI)(v,x,b,y,n,t,Number(g)),l=(0,c.gI)(T,k,P,C,n,s,Number(g));if(B<w&&t===s)e.moveTo(i+o.cx+o.x01,r+o.cy+o.y01),e.arc(i+o.cx,r+o.cy,B,(0,a.fv)(o.y01,o.x01),(0,a.fv)(l.y01,l.x01),!g);else{let t=p-h-.03,o=(0,a.fv)(l.y11,l.x11);e.arc(i,r,n,t,o,!g),s>0&&e.arc(i+l.cx,r+l.cy,s,(0,a.fv)(l.y11,l.x11),(0,a.fv)(l.y01,l.x01),!g)}}else e.moveTo(i+b,r+y);if(!(s>a.Ho)||M<.001)e.lineTo(i+P,r+C),f=!0;else if(R>a.Ho){let t=(0,a.VV)(_,R),n=(0,a.VV)(E,R),o=(0,c.gI)(P,C,T,k,s,-n,Number(g)),l=(0,c.gI)(b,y,v,x,s,-t,Number(g));if(e.lineTo(i+o.cx+o.x01,r+o.cy+o.y01),R<I&&t===n){let t=(0,a.fv)(l.y01,l.x01);e.arc(i+o.cx,r+o.cy,R,(0,a.fv)(o.y01,o.x01),t,!g)}else{n>0&&e.arc(i+o.cx,r+o.cy,n,(0,a.fv)(o.y01,o.x01),(0,a.fv)(o.y11,o.x11),!g);let t=(0,a.fv)(o.cy+o.y11,o.cx+o.x11),l=p-h-.03;e.arc(i,r,s,t,l,g)}}else e.lineTo(i+s*(0,a.mC)(O),r+s*(0,a.O$)(O));return f}drawShape(t,e,i,r,n,o,l,h,g){g=null!=g?g:(0,d.gh)(t,null==o?void 0:o.theme).arc;let{fill:f=g.fill,stroke:m=g.stroke,x:b=g.x,y:y=g.y,fillStrokeOrder:v=g.fillStrokeOrder}=t.attribute,x=this.valid(t,g,l,h);if(!x)return;let{fVisible:B,sVisible:A,doFill:S,doStroke:w}=x,{outerPadding:T=g.outerPadding,innerPadding:k=g.innerPadding,cap:P=g.cap,forceShowCap:C=g.forceShowCap}=t.attribute,{outerRadius:R=g.outerRadius,innerRadius:M=g.innerRadius}=t.attribute;R+=T,M-=k;let O=0,_=((0,s.Z)(P)&&P||P[0])&&"conical"===f.gradient;if(_){let{sc:e,startAngle:i,endAngle:r}=t.getParsedAngle();(0,a.Wn)(r-i)<a.f7-a.Ho&&(O=e||0,f.startAngle-=O,f.endAngle-=O)}let E=!1,{isFullStroke:I,stroke:L}=(0,u.Dn)(m);if((S||I)&&(e.beginPath(),(0,c.Eg)(t,e,i,r,R,M),E=!0,e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,g),this.beforeRenderStep(t,e,i,r,S,w,B,A,g,n,l,h),v?(this._runStroke(t,e,i,r,g,w,I,A,h),this._runFill(t,e,i,r,g,S,B,b,y,l)):(this._runFill(t,e,i,r,g,S,B,b,y,l),this._runStroke(t,e,i,r,g,w,I,A,h))),!I&&w&&(e.beginPath(),(0,c.Eg)(t,e,i,r,R,M,L),E||this.beforeRenderStep(t,e,i,r,S,w,B,A,g,n,l,h),h?h(e,t.attribute,g):A&&(e.setStrokeStyle(t,t.attribute,i,r,g),e.stroke())),((0,s.Z)(P)&&P||P[1])&&C){let{startAngle:s,endAngle:o}=t.getParsedAngle();if((0,a.Wn)(o-s)>=a.f7-a.Ho){e.beginPath();let a=Math.abs(R-M)/2/R,{endAngle:s=g.endAngle,fill:o=g.fill}=t.attribute;this.drawArcTailCapPath(t,e,i,r,R,M,s,s+a),E||this.beforeRenderStep(t,e,i,r,S,w,B,A,g,n,l,h),(()=>{if(S&&"conical"===o.gradient){let n=(0,p.MB)(0,0,s,o);l||c.Bv&&(e.setCommonStyle(t,t.attribute,i,r,g),e.fillStyle=n,e.fill())}})(),w&&(h||A&&(e.setStrokeStyle(t,t.attribute,i,r,g),e.stroke()))}}this.afterRenderStep(t,e,i,r,S,w,B,A,g,n,l,h),_&&(f.startAngle+=O,f.endAngle+=O)}_runFill(t,e,i,r,n,a,s,o,l,h){a&&(h?h(e,t.attribute,n):s&&(e.setCommonStyle(t,t.attribute,o-i,l-r,n),e.fill()))}_runStroke(t,e,i,r,n,a,s,o,l){a&&s&&(l?l(e,t.attribute,n):o&&(e.setStrokeStyle(t,t.attribute,i,r,n),e.stroke()))}draw(t,e,i,r){let n=(0,d.gh)(t,null==r?void 0:r.theme).arc;this._draw(t,n,!1,i,r,n)}};T=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,o.b)(),w(0,(0,l.f)(r.Qc)),w(0,(0,h.t)(g.OL)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],T);var k=i(197721);let P=!1,C=new n.n(t=>{P||(P=!0,t(T).toSelf().inSingletonScope(),t(k.Xe).to(T).inSingletonScope(),t(k.uz).toService(k.Xe),t(g.OL).toService(y.Sg),(0,r.yb)(t,g.OL))})},508338:function(t,e,i){i.d(e,{Y:()=>c});var r=i(228279),n=i(418953),a=i(892287),s=i(916905),o=i(795069),l=i(25666),h=i(798043),d=i(466955);let u={x:0,y:0,z:0,lastModelMatrix:null};class c{init(t){t&&(this._renderContribitions=t.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions||(this.builtinContributions=[]),this.builtinContributions.push(d.rJ),this.builtinContributions.push(d.Eo),this.builtinContributions.forEach(t=>this._renderContribitions.push(t)),this._renderContribitions.length&&(this._renderContribitions.sort((t,e)=>e.order-t.order),this._beforeRenderContribitions=this._renderContribitions.filter(t=>t.time===s.Oh.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(t=>t.time===s.Oh.afterFillStroke))}reInit(){this.init(this.graphicRenderContributions)}beforeRenderStep(t,e,i,r,n,a,s,o,l,h,d,u,c){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(p=>{(!p.supportedAppName||!t.stage||!t.stage.params||!t.stage.params.context||!t.stage.params.context.appName||(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(t.stage.params.context.appName))&&p.drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c)})}afterRenderStep(t,e,i,r,n,a,s,o,l,h,d,u,c){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(p=>{(!p.supportedAppName||!t.stage||!t.stage.params||!t.stage.params.context||!t.stage.params.context.appName||(Array.isArray(p.supportedAppName)?p.supportedAppName:[p.supportedAppName]).includes(t.stage.params.context.appName))&&p.drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c)})}drawPathProxy(t,e,i,r,n,s,o,d){if(!t.pathProxy)return!1;let u=(0,l.gh)(t,null==s?void 0:s.theme)[t.type.replace("3d","")],{fill:c=u.fill,stroke:p=u.stroke,opacity:g=u.opacity,fillOpacity:f=u.fillOpacity,lineWidth:m=u.lineWidth,strokeOpacity:b=u.strokeOpacity,visible:y=u.visible,x:v=u.x,y:x=u.y}=t.attribute,B=(0,a.Bv)(g,f,c),A=(0,a.Kf)(g,b),S=(0,a.dz)(c),w=(0,a.ak)(p,m);if(!y||!S&&!w||!(B||A||o||d))return!0;e.beginPath();let T="function"==typeof t.pathProxy?t.pathProxy(t.attribute):t.pathProxy;return(0,h.h)(T.commandList,e,i,r),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,u),this.beforeRenderStep(t,e,i,r,S,w,B,A,u,n,o,d),w&&(d?d(e,t.attribute,u):A&&(e.setStrokeStyle(t,t.attribute,i-v,r-x,u),e.stroke())),S&&(o?o(e,t.attribute,u):B&&(e.setCommonStyle(t,t.attribute,i-v,r-x,u),e.fill())),this.afterRenderStep(t,e,i,r,S,w,B,A,u,n,o,d),!0}valid(t,e,i,r){let{fill:n=e.fill,background:s,stroke:o=e.stroke,opacity:l=e.opacity,fillOpacity:h=e.fillOpacity,lineWidth:d=e.lineWidth,strokeOpacity:u=e.strokeOpacity,visible:c=e.visible}=t.attribute,p=(0,a.Bv)(l,h,n),g=(0,a.Kf)(l,u),f=(0,a.dz)(n,s),m=(0,a.ak)(o,d);return!(!t.valid||!c)&&!(!f&&!m)&&!!(p||g||i||r||s)&&{fVisible:p,sVisible:g,doFill:f,doStroke:m}}transform(t,e,i,a=!1){let{x:s=e.x,y:l=e.y,z:h=e.z,scaleX:d=e.scaleX,scaleY:c=e.scaleY,angle:p=e.angle,postMatrix:g}=t.attribute,f=i.modelMatrix,m=i.camera;u.x=s,u.y=l,u.z=h,u.lastModelMatrix=f;let b=m&&(a||(0,r.M_)(t)),y=b?t.transMatrix.onlyTranslate()&&!g:1===d&&1===c&&0===p&&!g;if(b){let a=n.yp.allocate(),s=n.yp.allocate();(0,r.RT)(s,t,e),(0,o.G9)(a,f||a,s),u.x=0,u.y=0,u.z=0,i.modelMatrix=a,i.setTransform(1,0,0,1,0,0,!0),n.yp.free(s)}if(y&&!f){let r=t.getOffsetXY(e);u.x+=r.x,u.y+=r.y,u.z=h,i.setTransformForCurrent()}else if(b)u.x=0,u.y=0,u.z=0,i.setTransform(1,0,0,1,0,0,!0);else if(m&&i.project){let r=t.getOffsetXY(e);u.x+=r.x,u.y+=r.y,this.transformWithoutTranslate(i,u.x,u.y,u.z,d,c,p)}else i.transformFromMatrix(t.transMatrix,!0),u.x=0,u.y=0,u.z=0;return u}transformUseContext2d(t,e,i,r){let n=r.camera;if(this.camera=n,n){let e=t.AABBBounds,n=e.x2-e.x1,a=e.y2-e.y1,s=r.project(0,0,i),o=r.project(n,0,i),l=r.project(n,a,i),h={x:0,y:0},d={x:n,y:0},u={x:n,y:a};r.camera=null;let c=1/(h.x*(u.y-d.y)-d.x*u.y+u.x*d.y+(d.x-u.x)*h.y),p=-(h.y*(l.x-o.x)-d.y*l.x+u.y*o.x+(d.y-u.y)*s.x)*c,g=(d.y*l.y+h.y*(o.y-l.y)-u.y*o.y+(u.y-d.y)*s.y)*c,f=(h.x*(l.x-o.x)-d.x*l.x+u.x*o.x+(d.x-u.x)*s.x)*c,m=-(d.x*l.y+h.x*(o.y-l.y)-u.x*o.y+(u.x-d.x)*s.y)*c,b=(h.x*(u.y*o.x-d.y*l.x)+h.y*(d.x*l.x-u.x*o.x)+(u.x*d.y-d.x*u.y)*s.x)*c,y=(h.x*(u.y*o.y-d.y*l.y)+h.y*(d.x*l.y-u.x*o.y)+(u.x*d.y-d.x*u.y)*s.y)*c;r.setTransform(p,g,f,m,b,y,!0)}}restoreTransformUseContext2d(t,e,i,r){this.camera&&(r.camera=this.camera)}transformWithoutTranslate(t,e,i,r,n,a,s){let o=t.project(e,i,r);t.translate(o.x,o.y,!1),t.scale(n,a,!1),t.rotate(s,!1),t.translate(-o.x,-o.y,!1),t.setTransformForCurrent()}_draw(t,e,i,r,a,s){let{context:o}=r;if(!o)return;let{renderable:l}=t.attribute;if(!1===l)return;o.highPerformanceSave();let{x:h,y:d,z:u,lastModelMatrix:c}=this.transform(t,e,o,i);this.z=u,this.drawPathProxy(t,o,h,d,r,a)||(this.drawShape(t,o,h,d,r,a,null,null,s),this.z=0,o.modelMatrix!==c&&n.yp.free(o.modelMatrix),o.modelMatrix=c),o.highPerformanceRestore()}}},120884:function(t,e,i){i.d(e,{z:()=>S});var r=i(609443),n=i(263457),a=i(360309),s=i(458943),o=i(759311),l=i(25666),h=i(721756),d=i(925428),u=i(508338),c=i(830420),p=i(466955),g=i(916905),f=i(903544);let m=new class{constructor(){this.time=g.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u){let{outerBorder:p,innerBorder:g}=t.attribute,f=p&&!1!==p.visible,m=g&&!1!==g.visible;if(!f&&!m)return;let{radius:b=l.radius,startAngle:y=l.startAngle,endAngle:v=l.endAngle,opacity:x=l.opacity,x:B=l.x,y:A=l.y,scaleX:S=l.scaleX,scaleY:w=l.scaleY,keepStrokeScale:T=l.keepStrokeScale}=t.attribute,k=(n,a)=>{let s=!(!n||!n.stroke),{distance:o=l[a].distance}=n,h=T?o:(0,c.D)(e,o,e.dpr);if(e.beginPath(),e.arc(i,r,b+("outerBorder"===a?1:-1)*h,y,v),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),u)u(e,n,l[a]);else if(s){let s=l[a].opacity;l[a].opacity=x,e.setStrokeStyle(t,n,(B-i)/S,(A-r)/w,l[a]),l[a].opacity=s,e.stroke()}};f&&k(p,"outerBorder"),m&&k(g,"innerBorder")}},b=f.H,y=p.R6;var v=function(t,e){return function(i,r){e(i,r,t)}};let x=class extends u.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=h.Aw,this.builtinContributions=[m,y,b],this.init(t)}drawShape(t,e,i,r,n,a,s,o){let h=(0,l.gh)(t,null==a?void 0:a.theme).circle,{radius:d=h.radius,startAngle:u=h.startAngle,endAngle:c=h.endAngle,x:p=h.x,y:g=h.y,fillStrokeOrder:f=h.fillStrokeOrder}=t.attribute,m=this.valid(t,h,s,o);if(!m)return;let{fVisible:b,sVisible:y,doFill:v,doStroke:x}=m;e.beginPath(),e.arc(i,r,d,u,c),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,h),this.beforeRenderStep(t,e,i,r,v,x,b,y,h,n,s,o);let B=()=>{v&&(s?s(e,t.attribute,h):b&&(e.setCommonStyle(t,t.attribute,p-i,g-r,h),e.fill()))},A=()=>{x&&(o?o(e,t.attribute,h):y&&(e.setStrokeStyle(t,t.attribute,p-i,g-r,h),e.stroke()))};f?(A(),B()):(B(),A()),this.afterRenderStep(t,e,i,r,v,x,b,y,h,n,s,o)}draw(t,e,i,r){let n=(0,l.gh)(t,null==r?void 0:r.theme).circle;this._draw(t,n,!1,i,r)}};x=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,a.b)(),v(0,(0,s.f)(r.Qc)),v(0,(0,o.t)(d.Cs)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],x);var B=i(197721);let A=!1,S=new n.n(t=>{A||(A=!0,t(x).toSelf().inSingletonScope(),t(B.aP).to(x).inSingletonScope(),t(B.uz).toService(B.aP),t(d.Cs).toService(p.Sg),(0,r.yb)(t,d.Cs))})},466955:function(t,e,i){i.d(e,{Eo:()=>m,M2:()=>c,R6:()=>p,Sg:()=>g,rJ:()=>f});var r=i(360309),n=i(458943),a=i(759311),s=i(25666),o=i(474163),l=i(916905),h=i(609443),d=i(925428),u=function(t,e){return function(i,r){e(i,r,t)}};class c{constructor(){this.time=l.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,o,l,h,d,u,c,p){var g;let{background:f,backgroundOpacity:m=null!=(g=t.attribute.fillOpacity)?g:h.backgroundOpacity,opacity:b=h.opacity,backgroundMode:y=h.backgroundMode,backgroundFit:v=h.backgroundFit,backgroundKeepAspectRatio:x=h.backgroundKeepAspectRatio,backgroundScale:B=h.backgroundScale,backgroundOffsetX:A=h.backgroundOffsetX,backgroundOffsetY:S=h.backgroundOffsetY,backgroundClip:w=h.backgroundClip}=t.attribute;if(f)if(t.backgroundImg&&t.resources){let n=t.resources.get(f);if("success"!==n.state||!n.data)return;if(e.save(),t.parent&&!t.transMatrix.onlyTranslate()){let i=(0,s.gh)(t.parent).group,{scrollX:r=i.scrollX,scrollY:n=i.scrollY}=t.parent.attribute;e.setTransformFromMatrix(t.parent.globalTransMatrix,!0),e.translate(r,n)}w&&e.clip();let a=t.AABBBounds;e.setCommonStyle(t,t.attribute,i,r,h),e.globalAlpha=m*b,this.doDrawImage(e,n.data,a,{backgroundMode:y,backgroundFit:v,backgroundKeepAspectRatio:x,backgroundScale:B,backgroundOffsetX:A,backgroundOffsetY:S}),e.restore(),t.transMatrix.onlyTranslate()||e.setTransformForCurrent()}else e.highPerformanceSave(),e.setCommonStyle(t,t.attribute,i,r,h),e.globalAlpha=m*b,e.fillStyle=f,e.fill(),e.highPerformanceRestore()}doDrawImage(t,e,i,r){let{backgroundMode:n,backgroundFit:a,backgroundKeepAspectRatio:s,backgroundScale:l=1,backgroundOffsetX:h=0,backgroundOffsetY:d=0}=r,u=i.width(),c=i.height(),p=u,g=c;if("no-repeat"===n)if(a)if(s){let r=Math.max(u/e.width,c/e.height);t.drawImage(e,i.x1+h,i.y1+d,e.width*r*l,e.height*r*l)}else t.drawImage(e,i.x1,i.y1,i.width(),i.height());else{let r=e.width*l,n=e.height*l;t.drawImage(e,i.x1+h,i.y1+d,r,n)}else{if(a&&"repeat"!==n&&(e.width||e.height)){let i=e.width,r=e.height;"repeat-x"===n?(p=c/r*i,g=c):"repeat-y"===n&&(g=u/i*r,p=u);let a=t.dpr,s=o.A.allocate({width:p,height:g,dpr:a}),l=s.getContext("2d");l&&(l.inuse=!0,l.clearMatrix(),l.setTransformForCurrent(!0),l.clearRect(0,0,p,g),l.drawImage(e,0,0,p,g),e=s.nativeCanvas),o.A.free(s)}let r=t.dpr,s=t.createPattern(e,n);s.setTransform&&s.setTransform(new DOMMatrix([1/r,0,0,1/r,0,0])),t.fillStyle=s,t.translate(i.x1,i.y1),t.fillRect(0,0,u,c),t.translate(-i.x1,-i.y1)}}}let p=new c,g=class{constructor(t){this.subRenderContribitions=t,this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(p=>{p.render(t,e,i,r,n,a,s,o,l,h,d,u,c)})}};g=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,r.b)(),u(0,(0,n.f)(h.Qc)),u(0,(0,a.t)(d.tg)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],g);let f=new class{constructor(){this.time=l.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){var p,g;let{clipConfig:f}=t.attribute;if(!f)return;let m=t.getClipPath();if(!m)return;let b=!(d||u),y=t.AABBBounds,v=null!=(p=t.attribute.width)?p:y.width(),x=null!=(g=t.attribute.height)?g:y.height();b&&e.save(),e.beginPath(),!1===m.draw(e,[v,x],i+v/2,r+x/2,0)&&e.closePath(),d&&d(e,t.attribute,l,!0),b&&e.clip()}},m=new class{constructor(){this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){let{clipConfig:p}=t.attribute;p&&t.getClipPath()&&(d||u||e.restore())}}},903544:function(t,e,i){i.d(e,{$:()=>o,H:()=>l});var r=i(474163),n=i(916905),a=i(252953),s=i(408830);class o{constructor(){this.time=n.Oh.afterFillStroke,this.useStyle=!0,this.order=10,this._tempSymbolGraphic=null}createCommonPattern(t,e,i,n,a){let s=(t-2*e)/2,o=n.dpr,l=r.A.allocate({width:t,height:t,dpr:o}),h=l.getContext("2d");if(!h)return null;h.inuse=!0,h.clearMatrix(),h.setTransformForCurrent(!0),h.clearRect(0,0,t,t),a(s,h);let d=n.createPattern(l.nativeCanvas,"repeat");return d.setTransform&&d.setTransform(new DOMMatrix([1/o,0,0,1/o,0,0])),r.A.free(l),d}createCirclePattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(t,e)=>{e.fillStyle=i,e.arc(t,t,t,0,s.f7),e.fill()})}createDiamondPattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(e,r)=>{let n=t/2;r.fillStyle=i,r.moveTo(n,n-e),r.lineTo(e+n,n),r.lineTo(n,n+e),r.lineTo(n-e,n),r.closePath(),r.fill()})}createRectPattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(t,r)=>{r.fillStyle=i,r.fillRect(e,e,2*t,2*t)})}createVerticalLinePattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(r,n)=>{n.fillStyle=i,n.fillRect(e,0,2*r,t)})}createHorizontalLinePattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(r,n)=>{n.fillStyle=i,n.fillRect(0,e,t,2*r)})}createBiasLRLinePattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(e,r)=>{r.strokeStyle=i,r.lineWidth=e,r.moveTo(0,0),r.lineTo(t,t);let n=t/2,a=-n;r.moveTo(n,a),r.lineTo(n+t,a+t),r.moveTo(-n,-a),r.lineTo(-n+t,-a+t),r.stroke()})}createBiasRLLinePattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(e,r)=>{r.strokeStyle=i,r.lineWidth=e,r.moveTo(t,0),r.lineTo(0,t);let n=t/2;r.moveTo(t+n,n),r.lineTo(n,n+t),r.moveTo(t-n,-n),r.lineTo(-n,-n+t),r.stroke()})}createGridPattern(t,e,i,r){return this.createCommonPattern(t,e,i,r,(t,r)=>{r.fillStyle=i,r.fillRect(e,e,t,t),r.fillRect(e+t,e+t,t,t)})}initTextureMap(t,e){this.textureMap=new Map}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){this.textureMap||this.initTextureMap(e,t.stage);let{texture:p=l.texture,textureColor:g=l.textureColor,textureSize:f=l.textureSize,texturePadding:m=l.texturePadding}=t.attribute;p&&this.drawTexture(p,t,e,i,r,l,g,f,m)}drawTexture(t,e,i,n,s,o,l,h,d){var u;let{textureRatio:c=o.textureRatio,textureOptions:p=null}=e.attribute,g=this.textureMap.get(t);if(!g)switch(t){case"circle":g=this.createCirclePattern(h,d,l,i);break;case"diamond":g=this.createDiamondPattern(h,d,l,i);break;case"rect":g=this.createRectPattern(h,d,l,i);break;case"vertical-line":g=this.createVerticalLinePattern(h,d,l,i);break;case"horizontal-line":g=this.createHorizontalLinePattern(h,d,l,i);break;case"bias-lr":g=this.createBiasLRLinePattern(h,d,l,i);break;case"bias-rl":g=this.createBiasRLLinePattern(h,d,l,i);break;case"grid":g=this.createGridPattern(h,d,l,i)}if(p&&p.dynamicTexture){let g,{gridConfig:f={},useNewCanvas:m}=p,b=e.AABBBounds;n=b.x1,s=b.y1;let y=i;if(m){let t=(g=r.A.allocate({width:b.width(),height:b.height(),dpr:i.dpr})).getContext("2d");t.clearRect(0,0,b.width(),b.height()),n=0,s=0,i=t}if(y.save(),e.parent&&!e.transMatrix.onlyTranslate()){let{scrollX:t=0,scrollY:i=0}=e.parent.attribute;y.setTransformFromMatrix(e.parent.globalTransMatrix),y.translate(t,i,!0)}y.setCommonStyle(e,e.attribute,n,s,o),y.clip();let v=b.width(),x=b.height(),B=f.columns?f.columns:Math.ceil(v/h),A=f.rows?f.rows:Math.ceil(x/h),S=f.gutterColumn?f.gutterColumn:2*d,w=f.gutterRow?f.gutterRow:2*d;this._tempSymbolGraphic||(this._tempSymbolGraphic=(0,a.t)({}));let T=f.columns?v/f.columns:h,k=f.rows?x/f.rows:h;this._tempSymbolGraphic.setAttributes({size:[T-S,k-w],symbolType:t});let P=this._tempSymbolGraphic.getParsedPath();for(let t=0;t<A;t++)for(let r=0;r<B;r++){let a=n+h/2+r*h,o=s+h/2+t*h;null==(u=p.beforeDynamicTexture)||u.call(p,i,t,r,A,B,c,e,b.width(),b.height()),i.beginPath(),!1===P.draw(i,Math.min(T-S,k-w),a,o,0)&&i.closePath(),i.fillStyle=l,p.dynamicTexture(i,t,r,A,B,c,e,b.width(),b.height())}m&&(y.globalAlpha=1,y.drawImage(g.nativeCanvas,0,0,g.nativeCanvas.width,g.nativeCanvas.height,b.x1,b.y1,b.width()*y.dpr,b.height()*y.dpr)),y.restore()}else if(g)i.highPerformanceSave(),i.setCommonStyle(e,e.attribute,n,s,o),i.fillStyle=g,i.fill(),i.highPerformanceRestore();else if("wave"===t){i.save(),i.setCommonStyle(e,e.attribute,n,s,o),i.clip();let t=e.AABBBounds;(function(t,e,i,r,n,a,s){let{fill:o="orange",percent:l=.6,frequency:h=4,opacity:d,phi:u=0}=n,{amplitude:c=10}=n;c*=e<=.5?4*e-1:-4*e+3;let p=r*(1-l),g=Math.max(Math.round(i/70),2);t.beginPath(),t.moveTo(0+a,r+s),t.lineTo(0+a,p+s);let f=i/h*e,m=i/Math.PI/(2*h);for(let e=0;e<i;e+=g){let i=c*Math.sin((e+f+u)/m+u);t.lineTo(e+a,p+i+s)}t.lineTo(i+a,r+s),t.closePath(),t.fillStyle=o,isFinite(d)&&(t.globalAlpha=d),t.fill()})(i,c,t.width(),t.height(),Object.assign(Object.assign({},p||{}),{fill:l}),n+t.x1-n,s+t.y1-s),i.restore()}}}let l=new o},925428:function(t,e,i){i.d(e,{$K:()=>c,Cs:()=>a,Gq:()=>n,JO:()=>o,Mj:()=>l,OL:()=>r,U7:()=>h,X3:()=>u,d5:()=>d,jd:()=>s,tg:()=>p});let r=Symbol.for("ArcRenderContribution"),n=Symbol.for("AreaRenderContribution"),a=Symbol.for("CircleRenderContribution"),s=Symbol.for("GroupRenderContribution"),o=Symbol.for("ImageRenderContribution"),l=Symbol.for("PathRenderContribution"),h=Symbol.for("PolygonRenderContribution"),d=Symbol.for("RectRenderContribution"),u=Symbol.for("SymbolRenderContribution"),c=Symbol.for("TextRenderContribution");Symbol.for("StarRenderContribution"),Symbol.for("CommonRenderContribution");let p=Symbol.for("InteractiveSubRenderContribution")},42628:function(t,e,i){i.d(e,{Er:()=>p,NB:()=>g,d4:()=>c,gq:()=>m,k7:()=>f,sH:()=>u});var r=i(695723),n=i(360309),a=i(830420),s=i(466955),o=i(521564),l=i(916905),h=i(903544),d=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s};class u{constructor(){this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,n,s,l,h,d,u,c,p,g){let{outerBorder:f,innerBorder:m}=t.attribute,b=f&&!1!==f.visible,y=m&&!1!==m.visible;if(!b&&!y)return;let{cornerRadius:v=u.cornerRadius,cornerType:x=u.cornerType,opacity:B=u.opacity,x:A=u.x,y:S=u.y,scaleX:w=u.scaleX,scaleY:T=u.scaleY,x1:k,y1:P,keepStrokeScale:C=u.keepStrokeScale}=t.attribute,{width:R,height:M}=t.attribute;R=(null!=R?R:k-i)||0,M=(null!=M?M:P-n)||0;let O=(s,l)=>{let h=!(!s||!s.stroke),d="outerBorder"===l?-1:1,{distance:c=u[l].distance}=s,p=C?c:(0,a.D)(e,c,e.dpr),f=i+d*p,m=n+d*p,b=2*p;if(0===v||(0,r.Z)(v)&&v.every(t=>0===t)?(e.beginPath(),e.rect(f,m,R-d*b,M-d*b)):(e.beginPath(),(0,o.U)(e,f,m,R-d*b,M-d*b,v,"bevel"!==x)),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,u),g)g(e,s,u[l]);else if(h){let r=u[l].opacity;u[l].opacity=B,e.setStrokeStyle(t,s,(A-i)/w,(S-n)/T,u[l]),u[l].opacity=r,e.stroke()}};b&&O(f,"outerBorder"),y&&O(m,"innerBorder")}}let c=class{constructor(){this.time=l.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){let{stroke:p=l.stroke}=t.attribute;Array.isArray(p)&&p.some(t=>!1===t)&&(c.doStroke=!1)}};c=d([(0,n.b)()],c);let p=class{constructor(){this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,n,a,s,l,h,d,u,c,p){let{x1:g,y1:f,x:m=d.x,y:b=d.y,stroke:y=d.stroke,cornerRadius:v=d.cornerRadius,cornerType:x=d.cornerType}=t.attribute,{width:B,height:A}=t.attribute;if(B=(null!=B?B:g-m)||0,A=(null!=A?A:f-b)||0,Array.isArray(y)&&y.some(t=>!1===t)){if(e.setStrokeStyle(t,t.attribute,i,n,d),!(0===v||(0,r.Z)(v)&&v.every(t=>0===t))){let r,a=0;return(0,o.U)(e,i,n,B,A,v,"bevel"!==x,[,,,,].fill(0).map((s,o)=>(s,l,h,u)=>{y[o]&&(a===o-1&&y[o]===r||(e.setStrokeStyle(t,Object.assign(Object.assign({},t.attribute),{stroke:y[o]}),i,n,d),e.beginPath(),e.moveTo(s,l),r=y[o]),a=o,e.lineTo(h,u),e.stroke(),3===o&&e.beginPath())})),void e.stroke()}if(e.beginPath(),e.moveTo(i,n),y[0]?e.lineTo(i+B,n):e.moveTo(i+B,n),y[1]?e.lineTo(i+B,n+A):e.moveTo(i+B,n+A),y[2]?e.lineTo(i,n+A):e.moveTo(i,n+A),y[3]){let t=y[0]?n-e.lineWidth/2:n;e.lineTo(i,t)}else e.moveTo(i,n);e.stroke()}}};p=d([(0,n.b)()],p);let g=new u,f=h.H,m=s.R6},814090:function(t,e,i){i.d(e,{C:()=>d});var r=i(480971),n=i(916905),a=i(466955),s=i(352611),o=i(138139),l=i(521564);class h extends a.M2{constructor(){super(...arguments),this.time=n.Oh.beforeFillStroke}drawShape(t,e,i,n,a,h,d,u,c,p,g,f){var m,b,y,v,x,B,A,S,w,T;let k,{backgroundMode:P=c.backgroundMode,backgroundFit:C=c.backgroundFit,backgroundKeepAspectRatio:R=c.backgroundKeepAspectRatio}=t.attribute,M,{background:O}=t.attribute;if(!O)return;let _=()=>{"richtext"===t.type&&(e.restore(),e.save(),M&&e.setTransformFromMatrix(M,!0,1))};"richtext"===t.type&&(M=e.currentMatrix.clone(),e.restore(),e.save(),e.setTransformForCurrent());let E=(0,r.Z)(O)&&O.background,I=t.transMatrix.onlyTranslate();if(E){let e=t.AABBBounds,i=(null!=(m=O.x)?m:e.x1)+(null!=(b=O.dx)?b:0),r=(null!=(y=O.y)?y:e.y1)+(null!=(v=O.dy)?v:0),n=null!=(x=O.width)?x:e.width(),a=null!=(B=O.height)?B:e.height();if(k=s.et.allocate(i,r,i+n,r+a),O=O.background,!I){let t=k.width(),e=k.height();k.set((null!=(A=O.x)?A:0)+(null!=(S=O.dx)?S:0),(null!=(w=O.y)?w:0)+(null!=(T=O.dy)?T:0),t,e)}}else k=t.AABBBounds,I||(k=(0,o.o)(Object.assign(Object.assign({},t.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(t.backgroundImg&&t.resources){let r=t.resources.get(O);if("success"!==r.state||!r.data)return void _();e.highPerformanceSave(),I&&e.setTransformFromMatrix(t.parent.globalTransMatrix,!0),e.setCommonStyle(t,t.attribute,i,n,c),this.doDrawImage(e,r.data,k,{backgroundMode:P,backgroundFit:C,backgroundKeepAspectRatio:R}),e.highPerformanceRestore(),e.setTransformForCurrent()}else{let{backgroundCornerRadius:r}=t.attribute;e.highPerformanceSave(),e.setCommonStyle(t,t.attribute,i,n,c),e.fillStyle=O,r?((0,l.U)(e,k.x1,k.y1,k.width(),k.height(),r,!0),e.fill()):e.fillRect(k.x1,k.y1,k.width(),k.height()),e.highPerformanceRestore()}E&&s.et.free(k),_()}}let d=new h},64269:function(t,e,i){i.d(e,{pN:()=>g,xL:()=>h});var r=i(360309),n=i(263401),a=i(795069),s=i(205427),o=i(418953),l=i(301537);let h=Symbol.for("DrawItemInterceptor"),d=new n.FB,u=new n.FB;class c{constructor(){this.order=1}afterDrawItem(t,e,i,r,n){return null==t.attribute.shadowRootIdx&&t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx<0||(t.attribute.shadowRootIdx>0||!t.attribute.shadowRootIdx||t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx>0)&&this.drawItem(t,e,i,r,n),!1}beforeDrawItem(t,e,i,r,n){return null==t.attribute.shadowRootIdx&&t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx>0||(t.attribute.shadowRootIdx<0||t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx<0)&&this.drawItem(t,e,i,r,n),!1}drawItem(t,e,i,r,n){if(!t.shadowRoot)return!1;let{context:a}=i;if(a.highPerformanceSave(),a.transformFromMatrix(t.transMatrix,!0),r.dirtyBounds&&r.backupDirtyBounds){d.copy(r.dirtyBounds),u.copy(r.backupDirtyBounds);let e=t.globalTransMatrix.getInverse();r.dirtyBounds.copy(r.backupDirtyBounds).transformWithMatrix(e),r.backupDirtyBounds.copy(r.dirtyBounds)}return r.renderGroup(t.shadowRoot,i,o.QE.allocate(1,0,0,1,0,0)),a.highPerformanceRestore(),r.dirtyBounds&&r.backupDirtyBounds&&(r.dirtyBounds.copy(d),r.backupDirtyBounds.copy(u)),!0}}class p{constructor(){this.order=1}afterDrawItem(t,e,i,r,n){return t.attribute._debug_bounds&&this.drawItem(t,e,i,r,n),!1}drawItem(t,e,i,r,n){if(!t.attribute._debug_bounds)return!1;let{context:a}=i;a.highPerformanceSave(),t.parent&&a.setTransformFromMatrix(t.parent.globalTransMatrix,!0),t.glyphHost&&t.glyphHost.parent&&a.setTransformFromMatrix(t.glyphHost.parent.globalTransMatrix,!0);let s=t.AABBBounds;return!0!==t.attribute._debug_bounds&&t.attribute._debug_bounds(a,t),a.strokeRect(s.x1,s.y1,s.width(),s.height()),a.highPerformanceRestore(),!0}}let g=class{constructor(){this.order=1,this.interceptors=[new c,new m,new f,new p]}afterDrawItem(t,e,i,r,n){if((!t.in3dMode||i.in3dInterceptor)&&!t.shadowRoot&&!t.attribute._debug_bounds&&!(t.baseGraphic||t.attribute.globalZIndex||t.interactiveGraphic))return!1;for(let a=0;a<this.interceptors.length;a++)if(this.interceptors[a].afterDrawItem&&this.interceptors[a].afterDrawItem(t,e,i,r,n))return!0;return!1}beforeDrawItem(t,e,i,r,n){if((!t.in3dMode||i.in3dInterceptor)&&!t.shadowRoot&&!t.attribute._debug_bounds&&!(t.baseGraphic||t.attribute.globalZIndex||t.interactiveGraphic))return!1;for(let a=0;a<this.interceptors.length;a++)if(this.interceptors[a].beforeDrawItem&&this.interceptors[a].beforeDrawItem(t,e,i,r,n))return!0;return!1}};g=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,r.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],g);class f{constructor(){this.order=1}beforeDrawItem(t,e,i,r,n){return!this.processing&&(t.baseGraphic?this.beforeDrawInteractive(t,e,i,r,n):this.beforeSetInteractive(t,e,i,r,n))}beforeSetInteractive(t,e,i,r,n){let a=t.interactiveGraphic;if(t.attribute.globalZIndex){a||(a=t.clone(),t.interactiveGraphic=a,a.baseGraphic=t),a.setAttributes({globalZIndex:0,zIndex:t.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),i.stage.tryInitInteractiveLayer();let e=i.stage.getLayer("_builtin_interactive");return e&&this.getShadowRoot(e).add(a),!0}if(a){i.stage.tryInitInteractiveLayer();let e=i.stage.getLayer("_builtin_interactive");e&&this.getShadowRoot(e).removeChild(a),t.interactiveGraphic=null,a.baseGraphic=null}return!1}beforeDrawInteractive(t,e,i,r,n){let a=t.baseGraphic,s=!!a.stage,o=a.parent;for(;s&&o&&o.stage!==o;)s=!!o.stage,o=o.parent;if(!s){let e=i.stage.getLayer("_builtin_interactive");return e&&this.getShadowRoot(e).removeChild(t),!0}if(a){this.processing=!0;let{context:t}=i;return t.highPerformanceSave(),t.setTransformFromMatrix(a.parent.globalTransMatrix,!0),a.isContainer?r.renderGroup(a,i,a.parent.globalTransMatrix):r.renderItem(a,i),t.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(t){var e;let i=t.getElementById("_interactive_group");return i||((i=s.i.CreateGraphic("group",{})).id="_interactive_group",t.add(i)),null!=(e=i.shadowRoot)?e:i.attachShadow()}}class m{constructor(){this.order=1}beforeDrawItem(t,e,i,r,n){if(!t.in3dMode||i.in3dInterceptor)return!1;i.in3dInterceptor=!0;let{context:s,stage:h}=e.drawParams;s.canvas,s.save(),this.initCanvasCtx(s),s.camera=h.camera;let d=s.currentMatrix;d.a/=s.dpr,d.b/=s.dpr,d.c/=s.dpr,d.d/=s.dpr,d.e/=s.dpr,d.f/=s.dpr;let u=o.yp.allocate();(0,a.B$)(u,d);let c=s.modelMatrix;if(c){if(u){let t=o.yp.allocate();s.modelMatrix=(0,a.G9)(t,c,u)}}else s.modelMatrix=u;return s.setTransform(1,0,0,1,0,0,!0),t.isContainer?(0,l.y)(s,t,(e,n)=>r.renderGroup(t,i,t.parent.globalTransMatrix,!e&&n),i):r.renderItem(t,i),s.camera=null,s.restore(),s.modelMatrix!==c&&o.yp.free(s.modelMatrix),s.modelMatrix=c,i.in3dInterceptor=!1,!0}initCanvasCtx(t){t.setTransformForCurrent()}}},255272:function(t,e,i){i.d(e,{j:()=>P});var r=i(609443),n=i(263457),a=i(466955),s=i(925428),o=i(360309),l=i(458943),h=i(759311),d=i(25666),u=i(721756),c=i(695723),p=i(83624),g=i(521564),f=i(508338),m=i(916905),b=i(42628);class y extends b.sH{constructor(){super(...arguments),this.time=m.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u){return super.drawShape(t,e,i,r,n,a,s,o,l,h,d,u)}}let v=new y,x=a.R6;var B=i(545293),A=function(t,e){return function(i,r){e(i,r,t)}};let S=["","repeat-x","repeat-y","repeat"],w=class extends f.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=u.PN,this.builtinContributions=[v,x],this.init(t)}drawShape(t,e,i,r,n,a,s,o){let l=(0,d.gh)(t).image,{repeatX:h=l.repeatX,repeatY:u=l.repeatY,x:p=l.x,y:f=l.y,cornerRadius:m=l.cornerRadius,fillStrokeOrder:b=l.fillStrokeOrder,cornerType:y=l.cornerType,image:v}=t.attribute,x=this.valid(t,l,s);if(!x)return;let{fVisible:B,sVisible:A,doFill:w,doStroke:T}=x;if(!v||!t.resources)return;let k=t.resources.get(v);if("success"!==k.state)return;let P=t.width,C=t.height;e.beginPath();let R=!1;0===m||(0,c.Z)(m)&&m.every(t=>0===t)?e.rect(i,r,P,C):((0,g.U)(e,i,r,P,C,m,"bevel"!==y),R=!0),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l);let M=()=>{if(w){if(s)s(e,t.attribute,l);else if(B){e.setCommonStyle(t,t.attribute,i,r,l);let n=0;if("repeat"===h&&(n|=1),"repeat"===u&&(n|=2),n){let t=e.createPattern(k.data,S[n]);e.fillStyle=t,e.translate(i,r,!0),e.fillRect(0,0,P,C),e.translate(-i,-r,!0)}else e.drawImage(k.data,i,r,P,C)}}},O=()=>{T&&(o?o(e,t.attribute,l):A&&(e.setStrokeStyle(t,t.attribute,p-i,f-r,l),e.stroke()))};b?(O(),R&&(e.save(),e.clip()),this.beforeRenderStep(t,e,i,r,w,!1,B,!1,l,n,s),M(),R&&e.restore()):(R&&(e.save(),e.clip()),this.beforeRenderStep(t,e,i,r,w,!1,B,!1,l,n,s),M(),R&&e.restore(),O()),this.afterRenderStep(t,e,i,r,w,!1,B,!1,l,n,s)}draw(t,e,i){let{image:r}=t.attribute;if(!r||!t.resources)return;let n=t.resources.get(r);if("loading"===n.state&&(0,p.Z)(r))return void B.h.improveImageLoading(r);if("success"!==n.state)return;let{context:a}=e.drawParams;if(!a)return;let s=(0,d.gh)(t).image;this._draw(t,s,!1,i)}};w=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,o.b)(),A(0,(0,l.f)(r.Qc)),A(0,(0,h.t)(s.JO)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],w);var T=i(197721);let k=!1,P=new n.n(t=>{k||(k=!0,t(T.e0).to(w).inSingletonScope(),t(T.uz).toService(T.e0),t(s.JO).toService(a.Sg),(0,r.yb)(t,s.JO))})},850173:function(t,e,i){i.d(e,{U:()=>h});var r=i(360309),n=i(25666),a=i(721756),s=i(892287),o=i(720934),l=i(20778);let h=class extends o.X{constructor(){super(...arguments),this.numberType=a.Hf}drawShape(t,e,i,r,a,o,l,h){if(t.incremental&&a.multiGraphicOptions){let{startAtIdx:e,length:o}=a.multiGraphicOptions,{segments:d=[]}=t.attribute;if(e>d.length)return;let u=(0,n.gh)(t).line,{fill:c=u.fill,stroke:p=u.stroke,opacity:g=u.opacity,fillOpacity:f=u.fillOpacity,strokeOpacity:m=u.strokeOpacity,lineWidth:b=u.lineWidth,visible:y=u.visible}=t.attribute,v=(0,s.Bv)(g,f,c),x=(0,s.Kf)(g,m),B=(0,s.dz)(c),A=(0,s.ak)(p,b);if(!t.valid||!y||!B&&!A||!(v||x||l||h))return;let{context:S}=a;for(let n=e;n<e+o;n++)this.drawIncreaseSegment(t,S,d[n-1],d[n],t.attribute.segments[n],[u,t.attribute],i,r)}else super.drawShape(t,e,i,r,a,o,l,h)}drawIncreaseSegment(t,e,i,r,n,a,s,o){r&&(e.beginPath(),(0,l.V3)(e.nativeContext,i,r,{offsetX:s,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,n,a),e.setStrokeStyle(t,n,s,o,a),e.stroke())}};h=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,r.b)()],h)},869464:function(t,e,i){i.d(e,{Q:()=>l});var r=i(263457),n=i(850173),a=i(720934),s=i(197721);let o=!1,l=new r.n(t=>{o||(o=!0,t(a.X).toSelf().inSingletonScope(),t(n.U).toSelf().inSingletonScope(),t(s.O).to(a.X).inSingletonScope(),t(s.uz).toService(s.O))})},720934:function(t,e,i){i.d(e,{X:()=>u});var r=i(695723),n=i(408830),a=i(360309),s=i(25666),o=i(721756),l=i(508338),h=i(20778),d=i(535427);let u=class extends l.Y{constructor(){super(...arguments),this.numberType=o.Hf}draw(t,e,i,r){let n=(0,s.gh)(t,null==r?void 0:r.theme).line;this._draw(t,n,!1,i,r)}drawSegmentItem(t,e,i,n,a,s,o,l,d,u,c,p,g,f,m){var b;if(!e)return;t.beginPath();let y=null!=(b=this.z)?b:0;(0,h.fW)(t,e,d,u,{offsetX:c,offsetY:p,offsetZ:y}),g.cache&&!(0,r.Z)(g.cache)&&g.cache.curves.every(t=>t.defined)&&g.attribute.curveType&&g.attribute.curveType.includes("Closed")&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(g,o,l);let{x:v=0,x:x=0}=o;return!1!==i&&(f?f(t,o,l):a&&(t.setCommonStyle(g,o,v-c,x-p,l),t.fill())),!1!==n&&(m?m(t,o,l):s&&(t.setStrokeStyle(g,o,v-c,x-p,l),t.stroke())),!1}drawLinearLineHighPerformance(t,e,i,r,n,a,s,o,l,h,d,u,c){var p;e.beginPath();let g=null!=(p=this.z)?p:0,{points:f}=t.attribute,m=f[0];e.moveTo(m.x+s,m.y+o,g);for(let t=1;t<f.length;t++){let i=f[t];e.lineTo(i.x+s,i.y+o,g)}e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l);let{x:b=0,x:y=0}=t.attribute;!1!==i&&(u?u(e,t.attribute,l):n&&(e.setCommonStyle(t,t.attribute,b-s,y-o,l),e.fill())),!1!==r&&(c?c(e,t.attribute,l):a&&(e.setStrokeStyle(t,t.attribute,b-s,y-o,l),e.stroke()))}drawShape(t,e,i,r,a,o,l,h){let u=(0,s.gh)(t,null==o?void 0:o.theme).line,{fill:c=u.fill,stroke:p=u.stroke,fillOpacity:g=u.fillOpacity,strokeOpacity:f=u.strokeOpacity,segments:m,points:b,closePath:y,curveTension:v=u.curveTension,connectedType:x=u.connectedType}=t.attribute;if(!this.valid(t,u,l,h))return;let{curveType:B=u.curveType}=t.attribute;y&&"linear"===B&&(B="linearClosed");let{clipRange:A=u.clipRange,clipRangeByDimension:S=u.clipRangeByDimension}=t.attribute;if(1===A&&!m&&!b.some(t=>!1===t.defined)&&"linear"===B)return this.drawLinearLineHighPerformance(t,e,!!c,!!p,g,f,i,r,u,a,o,l,h);function w(t,e){return"none"===e?t:t.filter(t=>!1!==t.defined)}if(t.shouldUpdateShape()){let{points:e,segments:i}=t.attribute;if(i&&i.length){let e,r;if(t.cache=i.map((t,i)=>{if(t.points.length<=1&&0===i)return t.points[0]&&(r={endX:t.points[0].x,endY:t.points[0].y,curves:[{defined:!1!==t.points[0].defined}]}),null;1===i?e={x:r.endX,y:r.endY,defined:r.curves[r.curves.length-1].defined}:i>1&&(e.x=r.endX,e.y=r.endY,e.defined=r.curves[r.curves.length-1].defined);let n=(0,d.X0)(w(t.points,x),B,{startPoint:e,curveTension:v});return r=n,n}).filter(t=>!!t),"linearClosed"===B){let e;for(let i=0;i<t.cache.length;i++){let r=t.cache[i];for(let t=0;t<r.curves.length;t++)if(r.curves[t].defined){e=r.curves[t].p0;break}if(e)break}t.cache[t.cache.length-1]&&t.cache[t.cache.length-1].lineTo(e.x,e.y,!0)}}else{if(!e||!e.length)return t.cache=null,void t.clearUpdateShapeTag();t.cache=(0,d.X0)(w(e,x),B,{curveTension:v})}t.clearUpdateShapeTag()}if(Array.isArray(t.cache)){let a=t.attribute.segments.filter(t=>t.points.length);if(1===a[0].points.length&&a.shift(),1===A){let n=!1;t.cache.forEach((s,o)=>{n||(n=this.drawSegmentItem(e,s,!!c,!!p,g,f,a[o],[u,t.attribute],A,S,i,r,t,l,h))})}else{let s=A*t.cache.reduce((t,e)=>t+e.getLength(),0),o=0,d=!1;t.cache.forEach((m,b)=>{if(d)return;let y=m.getLength(),v=(s-o)/y;o+=y,v>0&&(d=this.drawSegmentItem(e,m,!!c,!!p,g,f,a[b],[u,t.attribute],(0,n.VV)(v,1),S,i,r,t,l,h))})}}else this.drawSegmentItem(e,t.cache,!!c,!!p,g,f,t.attribute,u,A,S,i,r,t,l,h)}};u=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,a.b)()],u)},359863:function(t,e,i){i.d(e,{f:()=>x});var r=i(609443),n=i(263457),a=i(466955),s=i(925428),o=i(360309),l=i(458943),h=i(759311),d=i(798043),u=i(25666),c=i(721756),p=i(508338);let g=i(903544).H,f=a.R6;var m=function(t,e){return function(i,r){e(i,r,t)}};let b=class extends p.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=c.qm,this.builtinContributions=[f,g],this.init(t)}drawShape(t,e,i,r,n,a,s,o){var l,h,c;let p=null!=(l=this.tempTheme)?l:(0,u.gh)(t,null==a?void 0:a.theme).path,{x:g=p.x,y:f=p.y,fillStrokeOrder:m=p.fillStrokeOrder}=t.attribute,b=null!=(h=this.z)?h:0,y=this.valid(t,p,s,o);if(!y)return;let{fVisible:v,sVisible:x,doFill:B,doStroke:A}=y;if(e.beginPath(),t.pathShape)(0,d.h)(t.pathShape.commandList,e,i,r,1,1,b);else{let n=null!=(c=t.attribute.path)?c:p.path;(0,d.h)(n.commandList,e,i,r,1,1,b)}e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,p),this.beforeRenderStep(t,e,i,r,B,A,v,x,p,n,s,o);let S=()=>{A&&(o?o(e,t.attribute,p):x&&(e.setStrokeStyle(t,t.attribute,g-i,f-r,p),e.stroke()))},w=()=>{B&&(s?s(e,t.attribute,p):v&&(e.setCommonStyle(t,t.attribute,g-i,f-r,p),e.fill()))};m?(S(),w()):(w(),S()),this.afterRenderStep(t,e,i,r,B,A,v,x,p,n,s,o)}draw(t,e,i,r){let n=(0,u.gh)(t,null==r?void 0:r.theme).path;this.tempTheme=n,this._draw(t,n,!1,i,r),this.tempTheme=null}};b=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,o.b)(),m(0,(0,l.f)(r.Qc)),m(0,(0,h.t)(s.Mj)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],b);var y=i(197721);let v=!1,x=new n.n(t=>{v||(v=!0,t(b).toSelf().inSingletonScope(),t(y.lG).to(b).inSingletonScope(),t(y.uz).toService(y.lG),t(s.Mj).toService(a.Sg),(0,r.yb)(t,s.Mj))})},275079:function(t,e,i){i.d(e,{M:()=>B});var r=i(609443),n=i(263457),a=i(466955),s=i(925428),o=i(695723),l=i(360309),h=i(458943),d=i(759311),u=i(25666),c=i(721756),p=i(974579),g=i(508338);let f=i(903544).H,m=a.R6;var b=function(t,e){return function(i,r){e(i,r,t)}};let y=class extends g.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=c.Kh,this.builtinContributions=[m,f],this.init(t)}drawShape(t,e,i,r,n,a,s,l){let h=(0,u.gh)(t,null==a?void 0:a.theme).polygon,{points:d=h.points,cornerRadius:c=h.cornerRadius,x:g=h.x,y:f=h.y,closePath:m=h.closePath,fillStrokeOrder:b=h.fillStrokeOrder}=t.attribute,y=this.valid(t,h,s,l);if(!y)return;let{fVisible:v,sVisible:x,doFill:B,doStroke:A}=y;e.beginPath(),c<=0||(0,o.Z)(c)&&c.every(t=>0===t)?(0,p.i)(e.camera?e:e.nativeContext,d,i,r):(0,p.k)(e.camera?e:e.nativeContext,d,i,r,c,m),m&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,h),this.beforeRenderStep(t,e,i,r,B,A,v,x,h,n,s,l);let S=()=>{B&&(s?s(e,t.attribute,h):v&&(e.setCommonStyle(t,t.attribute,g-i,f-r,h),e.fill()))},w=()=>{A&&(l?l(e,t.attribute,h):x&&(e.setStrokeStyle(t,t.attribute,g-i,f-r,h),e.stroke()))};b?(w(),S()):(S(),w()),this.afterRenderStep(t,e,i,r,B,A,v,x,h,n,s,l)}draw(t,e,i,r){let n=(0,u.gh)(t,null==r?void 0:r.theme).polygon;this._draw(t,n,!1,i,r)}};y=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,l.b)(),b(0,(0,h.f)(r.Qc)),b(0,(0,d.t)(s.U7)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],y);var v=i(197721);let x=!1,B=new n.n(t=>{x||(x=!0,t(v.ZT).to(y).inSingletonScope(),t(v.uz).toService(v.ZT),t(s.U7).toService(a.Sg),(0,r.yb)(t,s.U7))})},288334:function(t,e,i){i.d(e,{c:()=>B});var r=i(609443),n=i(263457),a=i(42628),s=i(466955),o=i(925428),l=i(695723),h=i(360309),d=i(458943),u=i(759311),c=i(25666),p=i(721756),g=i(521564),f=i(892287),m=i(508338),b=function(t,e){return function(i,r){e(i,r,t)}};let y=class extends m.Y{constructor(t){super(),this.graphicRenderContributions=t,this.type="rect",this.numberType=p._u,this.builtinContributions=[a.NB,a.gq,a.k7],this.init(t)}drawShape(t,e,i,r,n,a,s,o,h){h=null!=h?h:(0,c.gh)(t,null==a?void 0:a.theme).rect;let{fill:d=h.fill,background:u,stroke:p=h.stroke,cornerRadius:m=h.cornerRadius,cornerType:b=h.cornerType,opacity:y=h.opacity,fillOpacity:v=h.fillOpacity,lineWidth:x=h.lineWidth,strokeOpacity:B=h.strokeOpacity,visible:A=h.visible,x1:S,y1:w,x:T=h.x,y:k=h.y,fillStrokeOrder:P=h.fillStrokeOrder,drawStrokeWhenZeroWH:C=h.drawStrokeWhenZeroWH}=t.attribute,{width:R,height:M}=t.attribute;R=(null!=R?R:S-T)||0,M=(null!=M?M:w-k)||0;let O=(0,f.GT)(y,v,R,M,d),_=(0,f.Ze)(y,B,R,M,C),E=(0,f.dz)(d,u),I=(0,f.ak)(p,x);if(!t.valid||!A||!E&&!I||!(O||_||s||o||u))return;0===m||(0,l.Z)(m)&&m.every(t=>0===t)?(e.beginPath(),e.rect(i,r,R,M)):(e.beginPath(),(0,g.U)(e,i,r,R,M,m,"bevel"!==b));let L={doFill:E,doStroke:I};e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,h),this.beforeRenderStep(t,e,i,r,E,I,O,_,h,n,s,o,L),P?(this._runStroke(t,e,i,r,h,L,_,T,k,o),this._runFill(t,e,i,r,h,L,O,T,k,s)):(this._runFill(t,e,i,r,h,L,O,T,k,s),this._runStroke(t,e,i,r,h,L,_,T,k,o)),this.afterRenderStep(t,e,i,r,E,I,O,_,h,n,s,o)}_runFill(t,e,i,r,n,a,s,o,l,h){a.doFill&&(h?h(e,t.attribute,n):s&&(e.setCommonStyle(t,t.attribute,o-i,l-r,n),e.fill()))}_runStroke(t,e,i,r,n,a,s,o,l,h){a.doStroke&&(h?h(e,t.attribute,n):s&&(e.setStrokeStyle(t,t.attribute,o-i,l-r,n),e.stroke()))}draw(t,e,i,r){let n=(0,c.gh)(t,null==r?void 0:r.theme).rect;this._draw(t,n,!1,i,r,n)}};y=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,h.b)(),b(0,(0,d.f)(r.Qc)),b(0,(0,u.t)(o.d5)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],y);var v=i(197721);let x=!1,B=new n.n(t=>{x||(x=!0,t(y).toSelf().inSingletonScope(),t(v.Uj).to(y).inSingletonScope(),t(v.uz).toService(v.Uj),t(a.Er).toSelf(),t(a.d4).toSelf(),t(o.d5).toService(a.Er),t(o.d5).toService(a.d4),t(o.d5).toService(s.Sg),(0,r.yb)(t,o.d5))})},136386:function(t,e,i){i.d(e,{k:()=>g});var r=i(263457),n=i(360309),a=i(521564),s=i(25666),o=i(721756),l=i(892287),h=i(508338),d=i(814090);let u=class extends h.Y{constructor(){super(),this.numberType=o.$M,this.builtinContributions=[d.C],this.init()}drawShape(t,e,i,r,n){let a=(0,s.gh)(t).richtext,{strokeOpacity:o=a.strokeOpacity,opacity:h=a.opacity,fillOpacity:d=a.fillOpacity,visible:u=a.visible}=t.attribute;if(!t.valid||!u)return;let c=(0,l.Bv)(h,d,!0),p=(0,l.Bv)(h,o,!0);c&&(e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,a),e.translate(i,r),this.beforeRenderStep(t,e,i,r,c,p,c,p,a,n),t.getFrameCache().draw(e,this.drawIcon),this.afterRenderStep(t,e,i,r,c,p,c,p,a,n))}drawIcon(t,e,i,r,n){var o;let l=(0,s.gh)(t).richtextIcon,{width:h=l.width,height:d=l.height,opacity:u=l.opacity,image:c,backgroundFill:p=l.backgroundFill,backgroundFillOpacity:g=l.backgroundFillOpacity,backgroundStroke:f=l.backgroundStroke,backgroundStrokeOpacity:m=l.backgroundStrokeOpacity,backgroundRadius:b=l.backgroundRadius,margin:y}=t.attribute,{backgroundWidth:v=h,backgroundHeight:x=d}=t.attribute;if(y&&(i+=t._marginArray[3],r+=t._marginArray[0]),t._hovered){let t=(v-h)/2,n=(x-d)/2;0===b?(e.beginPath(),e.rect(i-t,r-n,v,x)):(e.beginPath(),(0,a.U)(e,i-t,r-n,v,x,b,!0)),p&&(e.globalAlpha=g,e.fillStyle=p,e.fill()),f&&(e.globalAlpha=m,e.strokeStyle=f,e.stroke())}let B=c&&(null==(o=null==t?void 0:t.resources)?void 0:o.get(c));B&&"success"===B.state&&(e.globalAlpha=u,e.drawImage(B.data,i,r,h,d))}draw(t,e,i){let r=(0,s.gh)(t).richtext;this._draw(t,r,!1,i)}};u=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,n.b)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[])],u);var c=i(197721);let p=!1,g=new r.n(t=>{p||(p=!0,t(c.fS).to(u).inSingletonScope(),t(c.uz).toService(c.fS))})},246573:function(t,e,i){i.d(e,{A:()=>T});var r=i(609443),n=i(263457),a=i(466955),s=i(925428),o=i(197721),l=i(360309),h=i(458943),d=i(759311),u=i(25666),c=i(721756),p=i(508338),g=i(695723),f=i(830420),m=i(916905),b=i(903544);let y=new class{constructor(){this.time=m.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u){let c=t.getParsedPath();if(!c)return;let{outerBorder:p,innerBorder:g}=t.attribute,m=p&&!1!==p.visible,b=g&&!1!==g.visible;if(!m&&!b)return;let{size:y=l.size,opacity:v=l.opacity,x:x=l.x,y:B=l.y,scaleX:A=l.scaleX,scaleY:S=l.scaleY,keepStrokeScale:w=l.keepStrokeScale}=t.attribute,T=(n,a)=>{let s=!(!n||!n.stroke),{distance:o=l[a].distance}=n,h=w?o:(0,f.D)(e,o,e.dpr);if(e.beginPath(),!1===c.drawOffset(e,y,i,r,("outerBorder"===a?1:-1)*h)&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),u)u(e,n,l[a]);else if(s){let s=l[a].opacity;l[a].opacity=v,e.setStrokeStyle(t,n,(x-i)/A,(B-r)/S,l[a]),l[a].opacity=s,e.stroke()}};m&&T(p,"outerBorder"),b&&T(g,"innerBorder")}},v=new class{constructor(){this.time=m.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,i,r,n,a,s,o,l,h,d,u,c){let{clipRange:p=l.clipRange,x:g=l.x,y:f=l.y,z:m=l.z,size:b=l.size,scaleX:y=l.scaleX,scaleY:v=l.scaleY}=t.attribute,x=t.getParsedPath();x&&p<1&&p>0&&(e.beginPath(),x.drawWithClipRange&&x.drawWithClipRange(e,b,i,r,p,m,(n,a)=>{var s,h,d,c;if(t._parsedPath.svgCache){let e=Object.assign({},a);e.fill=null!=(s=a.fill)?s:t.attribute.fill,e.opacity=null!=(h=a.opacity)?h:t.attribute.opacity,e.fillOpacity=t.attribute.fillOpacity,e.stroke=null!=(d=a.stroke)?d:t.attribute.stroke,e.lineWidth=null!=(c=a.lineWidth)?c:t.attribute.lineWidth,a=e}a.stroke&&(u?u(e,t.attribute,l):o&&(e.setStrokeStyle(t,a,(g-i)/y,(f-r)/v,l),e.stroke()))}),a&&!x.isSvg&&(u?u(e,t.attribute,l):o&&(e.setStrokeStyle(t,t.attribute,(g-i)/y,(f-r)/v,l),e.stroke())))}},x=b.H,B=a.R6;var A=function(t,e){return function(i,r){e(i,r,t)}};let S=class extends p.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=c.B5,this.builtinContributions=[y,B,x,v],this.init(t)}drawShape(t,e,i,r,n,a,s,o,l){var h;l=null!=l?l:(0,u.gh)(t,null==a?void 0:a.theme).symbol;let{size:d=l.size,x:c=l.x,y:p=l.y,scaleX:f=l.scaleX,scaleY:m=l.scaleY,fillStrokeOrder:b=l.fillStrokeOrder,clipRange:y=l.clipRange}=t.attribute,v=this.valid(t,l,s,o);if(!v)return;let{fVisible:x,sVisible:B,doFill:A,doStroke:S}=v,w=t.getParsedPath();if(!w)return;let{keepDirIn3d:T=l.keepDirIn3d}=t.attribute,k=null!=(h=this.z)?h:0;e.beginPath();let P=i,C=r,R=k,M=e.camera;if(T&&M&&e.project){let t=e.project(i,r,k);e.camera=null,(0,g.Z)(d)&&(d[0],d[1]),P=t.x,C=t.y,R=void 0}!1===w.draw(e,d,P,C,R,(n,a)=>{var h,d,u,g;if(t._parsedPath.svgCache){let e=Object.assign({},a);e.fill=null!=(h=a.fill)?h:t.attribute.fill,e.opacity=null!=(d=a.opacity)?d:t.attribute.opacity,e.fillOpacity=t.attribute.fillOpacity,e.stroke=null!=(u=a.stroke)?u:t.attribute.stroke,e.lineWidth=null!=(g=a.lineWidth)?g:t.attribute.lineWidth,a=e}let v=()=>{a.fill&&(s?s(e,t.attribute,l):(e.setCommonStyle(t,a,c-i,p-r,l),e.fill()))},x=()=>{a.stroke&&(o?o(e,t.attribute,l):B&&y>=1&&(e.setStrokeStyle(t,a,(c-i)/f,(p-r)/m,l),e.stroke()))};b?(x(),v()):(v(),x())})&&e.closePath(),e.camera=M,e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,i,r,A,S,x,B,l,n,s,o),b?(this._runStroke(t,e,i,r,l,S,B,c,p,w,y,f,m,o),this._runFill(t,e,i,r,l,A,x,c,p,w,s)):(this._runFill(t,e,i,r,l,A,x,c,p,w,s),this._runStroke(t,e,i,r,l,S,B,c,p,w,y,f,m,o)),this.afterRenderStep(t,e,i,r,A,S,x,B,l,n,s,o)}_runFill(t,e,i,r,n,a,s,o,l,h,d){a&&!h.isSvg&&(d?d(e,t.attribute,n):s&&(e.setCommonStyle(t,t.attribute,o-i,l-r,n),e.fill()))}_runStroke(t,e,i,r,n,a,s,o,l,h,d,u,c,p){a&&!h.isSvg&&(p?p(e,t.attribute,n):s&&d>=1&&(e.setStrokeStyle(t,t.attribute,(o-i)/u,(l-r)/c,n),e.stroke()))}draw(t,e,i,r){let n=(0,u.gh)(t,null==r?void 0:r.theme).symbol;this._draw(t,n,!1,i,r)}};S=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,l.b)(),A(0,(0,h.f)(r.Qc)),A(0,(0,d.t)(s.X3)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],S);let w=!1,T=new n.n(t=>{w||(w=!0,t(S).toSelf().inSingletonScope(),t(o.tP).to(S).inSingletonScope(),t(o.uz).toService(o.tP),t(s.X3).toService(a.Sg),(0,r.yb)(t,s.X3))})},197721:function(t,e,i){i.d(e,{Cb:()=>o,EY:()=>p,Iv:()=>m,O:()=>l,Pf:()=>r,Uj:()=>u,Xe:()=>n,ZT:()=>d,aP:()=>a,e0:()=>f,fS:()=>g,lG:()=>h,tP:()=>c,uz:()=>s});let r=Symbol.for("IncrementalDrawContribution"),n=Symbol.for("ArcRender");Symbol.for("Arc3dRender"),Symbol.for("AreaRender");let a=Symbol.for("CircleRender"),s=Symbol.for("GraphicRender"),o=Symbol.for("GroupRender"),l=Symbol.for("LineRender"),h=Symbol.for("PathRender"),d=Symbol.for("PolygonRender"),u=Symbol.for("RectRender");Symbol.for("Rect3DRender");let c=Symbol.for("SymbolRender"),p=Symbol.for("TextRender"),g=Symbol.for("RichTextRender");Symbol.for("Pyramid3dRender"),Symbol.for("GlyphRender");let f=Symbol.for("ImageRender");Symbol.for("RenderSelector");let m=Symbol.for("DrawContribution");Symbol.for("StarRender")},720434:function(t,e,i){i.d(e,{D:()=>S});var r=i(609443),n=i(263457),a=i(466955),s=i(925428),o=i(197721),l=i(360309),h=i(458943),d=i(759311),u=i(25666),c=i(721756),p=i(492859),g=i(508338),f=i(418953),m=i(408830),b=i(454326),y=i(780949),v=i(814090),x=function(t,e){return function(i,r){e(i,r,t)}};let B=class extends g.Y{constructor(t){super(),this.graphicRenderContributions=t,this.numberType=c.Us,this.builtinContributions=[v.C],this.init(t)}drawShape(t,e,i,r,n,a,s,o){var l,h,d;let c=(0,u.gh)(t,null==a?void 0:a.theme).text,{text:p,underline:g=c.underline,lineThrough:b=c.lineThrough,keepDirIn3d:v=c.keepDirIn3d,direction:x=c.direction,fontSize:B=c.fontSize,verticalMode:A=c.verticalMode,x:S=c.x,y:w=c.y}=t.attribute,T=null!=(l=(0,y.VA)(t.attribute.lineHeight,B))?l:B,k=this.valid(t,c,s,o);if(!k)return;let{fVisible:P,sVisible:C,doFill:R,doStroke:M}=k,O=!v,_=this.z||0;if(e.beginPath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,c),this.beforeRenderStep(t,e,i,r,R,M,P,C,c,n,s,o),O&&this.transformUseContext2d(t,c,_,e),e.setTextStyleWithoutAlignBaseline(t.attribute,c,_),"horizontal"===x){let{multilineLayout:n}=t;if(!n)return void e.highPerformanceRestore();let{xOffset:a,yOffset:l}=n.bbox;M&&(o?o(e,t.attribute,c):C&&(e.setStrokeStyle(t,t.attribute,S-i,w-r,c),n.lines.forEach(t=>{e.strokeText(t.str,(t.leftOffset||0)+a+i,(t.topOffset||0)+l+r,_)}))),R&&(s?s(e,t.attribute,c):P&&(e.setCommonStyle(t,t.attribute,S-i,w-r,c),n.lines.forEach(n=>{e.fillText(n.str,(n.leftOffset||0)+a+i,(n.topOffset||0)+l+r,_),this.drawUnderLine(g,b,t,(n.leftOffset||0)+a+i,(n.topOffset||0)+l+r,n.descent,(n.descent-n.ascent)/2,_,c,e,{width:n.width})})))}else{let{textAlign:n=c.textAlign,textBaseline:a=c.textBaseline}=t.attribute;if(!A){let e=n;n=null!=(h=t.getBaselineMapAlign()[a])?h:"left",a=null!=(d=t.getAlignMapBaseline()[e])?d:"top"}t.tryUpdateAABBBounds();let{verticalList:l}=t.cache;e.textAlign="left",e.textBaseline="top";let u=T*l.length,p=0;l.forEach(t=>{let e=t.reduce((t,e)=>t+(e.width||0),0);p=(0,m.Fp)(e,p)});let g=0,b=0;"bottom"===a?b=-u:"middle"===a&&(b=-u/2),"center"===n?g-=p/2:"right"===n&&(g-=p),l.forEach((a,l)=>{let h=a.reduce((t,e)=>t+(e.width||0),0),d=p-h,m=g;"center"===n?m+=d/2:"right"===n&&(m+=d),a.forEach(n=>{let{text:a,width:h,direction:d}=n;((n,a,l,h)=>{let d=i+a,u=r+l;if(h){e.highPerformanceSave(),d+=B;let t=f.QE.allocate(1,0,0,1,0,0);t.rotateByCenter(Math.PI/2,d,u),e.transformFromMatrix(t,!0),f.QE.free(t)}M&&(o?o(e,t.attribute,c):C&&(e.setStrokeStyle(t,t.attribute,S-i,w-r,c),e.strokeText(n,d,u,_))),R&&(s?s(e,t.attribute,c):P&&(e.setCommonStyle(t,t.attribute,S-i,w-r,c),e.fillText(n,d,u,_))),h&&(e.highPerformanceRestore(),e.setTransformForCurrent())})(a,u-(l+1)*T+b,m,d),m+=h})})}O&&this.restoreTransformUseContext2d(t,c,_,e),this.afterRenderStep(t,e,i,r,R,M,P,C,c,n,s,o)}draw(t,e,i,r){let n=(0,u.gh)(t,null==r?void 0:r.theme).text,{keepDirIn3d:a=n.keepDirIn3d}=t.attribute;this._draw(t,n,!a,i,r)}drawUnderLine(t,e,i,r,n,a,s,o,l,h,d){if(e+t<=0)return;let{textAlign:u=l.textAlign,fill:c=l.fill,opacity:g=l.opacity,underlineOffset:f=l.underlineOffset,underlineDash:m=l.underlineDash,fillOpacity:y=l.fillOpacity}=i.attribute,v=!(0,b.Z)(d),x=v?d.width:i.clipedWidth,B=v?0:(0,p.js)(u,x),A={lineWidth:0,stroke:c,opacity:g,strokeOpacity:y};if(t){A.lineWidth=t,h.setStrokeStyle(i,A,r,n,l),m&&h.setLineDash(m),h.beginPath();let e=n+a+f;h.moveTo(r+B,e,o),h.lineTo(r+B+x,e,o),h.stroke()}if(e){A.lineWidth=e,h.setStrokeStyle(i,A,r,n,l),h.beginPath();let t=n+s;h.moveTo(r+B,t,o),h.lineTo(r+B+x,t,o),h.stroke()}}};B=function(t,e,i,r){var n,a=arguments.length,s=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,i,s):n(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}([(0,l.b)(),x(0,(0,h.f)(r.Qc)),x(0,(0,d.t)(s.$K)),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],B);let A=!1,S=new n.n(t=>{A||(A=!0,t(o.EY).to(B).inSingletonScope(),t(o.uz).toService(o.EY),t(s.$K).toService(a.Sg),(0,r.yb)(t,s.$K))})},892287:function(t,e,i){i.d(e,{Bv:()=>o,Eg:()=>p,GT:()=>l,Kf:()=>h,ZN:()=>c,Ze:()=>d,ak:()=>s,dz:()=>a,gI:()=>u});var r=i(695723),n=i(408830);function a(t,e){return!(!t&&!e)}function s(t,e){return((0,r.Z)(t)?t.some(t=>t||void 0===t):!!t)&&e>0}function o(t,e,i){return i&&t*e>0}function l(t,e,i,r,n){return n&&t*e>0&&0!==i&&0!==r}function h(t,e){return t*e>0}function d(t,e,i,r,n){return n?t*e>0:t*e>0&&0!==i&&0!==r}function u(t,e,i,r,n,a,s){let o=t-i,l=e-r,h=(s?a:-a)/Math.sqrt(o*o+l*l),d=h*l,u=-h*o,c=t+d,p=e+u,g=i+d,f=r+u,m=(c+g)/2,b=(p+f)/2,y=g-c,v=f-p,x=y*y+v*v,B=n-a,A=c*f-g*p,S=(v<0?-1:1)*Math.sqrt(Math.max(0,B*B*x-A*A)),w=(A*v-y*S)/x,T=(-A*y-v*S)/x,k=(A*v+y*S)/x,P=(-A*y+v*S)/x,C=w-m,R=T-b,M=k-m,O=P-b;return C*C+R*R>M*M+O*O&&(w=k,T=P),{cx:w,cy:T,x01:-d,y01:-u,x11:w*(n/B-1),y11:T*(n/B-1)}}function c(t,e,i,a,s){let o,l,h,d,u=(0,n.Wn)(i-e),c=t.getParsedCornerRadius(),p=(0,r.Z)(c),{outerDeltaAngle:g,innerDeltaAngle:f,outerStartAngle:m,outerEndAngle:b,innerEndAngle:y,innerStartAngle:v}=t.getParsePadAngle(e,i),x=p?c[0]:c,B=p?c[1]:c,A=p?c[2]:c,S=p?c[3]:c,w=Math.max(B,x),T=Math.max(A,S),k=w,P=T,C=s*(0,n.mC)(m),R=s*(0,n.O$)(m),M=a*(0,n.mC)(y),O=a*(0,n.O$)(y);if((T>n.Ho||w>n.Ho)&&(o=s*(0,n.mC)(b),l=s*(0,n.O$)(b),h=a*(0,n.mC)(v),d=a*(0,n.O$)(v),u<n.pi)){let t=function(t,e,i,r,a,s,o,l){let h=i-t,d=r-e,u=o-a,c=l-s,p=c*h-u*d;return p*p<n.Ho?[]:(p=(u*(e-s)-c*(t-a))/p,[t+p*h,e+p*d])}(C,R,h,d,o,l,M,O);if(t){let e=C-t[0],i=R-t[1],r=o-t[0],h=l-t[1],d=1/(0,n.O$)((0,n.Kh)((e*r+i*h)/((0,n._b)(e*e+i*i)*(0,n._b)(r*r+h*h)))/2),u=(0,n._b)(t[0]*t[0]+t[1]*t[1]);P=(0,n.VV)(T,(a-u)/(d-1)),k=(0,n.VV)(w,(s-u)/(d+1))}}return{outerDeltaAngle:g,xors:C,yors:R,xirs:h,yirs:d,xore:o,yore:l,xire:M,yire:O,limitedOcr:k,limitedIcr:P,outerCornerRadiusStart:x,outerCornerRadiusEnd:B,maxOuterCornerRadius:w,maxInnerCornerRadius:T,outerStartAngle:m,outerEndAngle:b,innerDeltaAngle:f,innerEndAngle:y,innerStartAngle:v,innerCornerRadiusStart:S,innerCornerRadiusEnd:A}}function p(t,e,i,r,a,s,o){let{startAngle:l,endAngle:h}=t.getParsedAngle(),d=(0,n.Wn)(h-l),p=h>l,g=!1;if(a<s){let t=a;a=s,s=t}if(a<=n.Ho)e.moveTo(i,r);else if(d>=n.f7-n.Ho)e.moveTo(i+a*(0,n.mC)(l),r+a*(0,n.O$)(l)),e.arc(i,r,a,l,h,!p),s>n.Ho&&(e.moveTo(i+s*(0,n.mC)(h),r+s*(0,n.O$)(h)),e.arc(i,r,s,h,l,p));else{let{outerDeltaAngle:d,xors:f,yors:m,xirs:b,yirs:y,limitedOcr:v,outerCornerRadiusStart:x,outerCornerRadiusEnd:B,maxOuterCornerRadius:A,xore:S,yore:w,xire:T,yire:k,outerStartAngle:P,outerEndAngle:C,limitedIcr:R,innerDeltaAngle:M,innerEndAngle:O,innerStartAngle:_,innerCornerRadiusStart:E,innerCornerRadiusEnd:I,maxInnerCornerRadius:L}=c(t,l,h,s,a);if(d<.001)o&&(o[3]||o[1])&&e.moveTo(i+f,r+m),g=!0;else if(v>n.Ho){let t=(0,n.VV)(x,v),s=(0,n.VV)(B,v),l=u(b,y,f,m,a,t,Number(p)),h=u(S,w,T,k,a,s,Number(p));v<A&&t===s?!o||o[0]?(e.moveTo(i+l.cx+l.x01,r+l.cy+l.y01),e.arc(i+l.cx,r+l.cy,v,(0,n.fv)(l.y01,l.x01),(0,n.fv)(h.y01,h.x01),!p)):e.moveTo(i+l.cx+v*(0,n.mC)((0,n.fv)(h.y01,h.x01)),r+l.cy+v*(0,n.O$)((0,n.fv)(h.y01,h.x01))):!o||o[0]?(e.moveTo(i+l.cx+l.x01,r+l.cy+l.y01),t>0&&e.arc(i+l.cx,r+l.cy,t,(0,n.fv)(l.y01,l.x01),(0,n.fv)(l.y11,l.x11),!p),e.arc(i,r,a,(0,n.fv)(l.cy+l.y11,l.cx+l.x11),(0,n.fv)(h.cy+h.y11,h.cx+h.x11),!p),s>0&&e.arc(i+h.cx,r+h.cy,s,(0,n.fv)(h.y11,h.x11),(0,n.fv)(h.y01,h.x01),!p)):s>0?e.moveTo(i+h.cx+s*(0,n.mC)((0,n.fv)(h.y01,h.x01)),r+h.cy+s*(0,n.O$)((0,n.fv)(h.y01,h.x01))):e.moveTo(i+S,r+a*(0,n.O$)(C))}else!o||o[0]?(e.moveTo(i+f,r+m),e.arc(i,r,a,P,C,!p)):e.moveTo(i+a*(0,n.mC)(C),r+a*(0,n.O$)(C));if(!(s>n.Ho)||M<.001)!o||o[1]?e.lineTo(i+T,r+k):e.moveTo(i+T,r+k),g=!0;else if(R>n.Ho){let t=(0,n.VV)(E,R),a=(0,n.VV)(I,R),l=u(T,k,S,w,s,-a,Number(p)),h=u(f,m,b,y,s,-t,Number(p));if(!o||o[1]?e.lineTo(i+l.cx+l.x01,r+l.cy+l.y01):e.moveTo(i+l.cx+l.x01,r+l.cy+l.y01),R<L&&t===a){let t=(0,n.fv)(h.y01,h.x01);!o||o[2]?e.arc(i+l.cx,r+l.cy,R,(0,n.fv)(l.y01,l.x01),t,!p):e.moveTo(i+l.cx+(0,n.mC)(t),r+l.cy+(0,n.O$)(t))}else!o||o[2]?(a>0&&e.arc(i+l.cx,r+l.cy,a,(0,n.fv)(l.y01,l.x01),(0,n.fv)(l.y11,l.x11),!p),e.arc(i,r,s,(0,n.fv)(l.cy+l.y11,l.cx+l.x11),(0,n.fv)(h.cy+h.y11,h.cx+h.x11),p),t>0&&e.arc(i+h.cx,r+h.cy,t,(0,n.fv)(h.y11,h.x11),(0,n.fv)(h.y01,h.x01),!p)):t>0?e.moveTo(i+h.cx+t*(0,n.mC)((0,n.fv)(h.y01,h.x01)),r+h.cy+t*(0,n.O$)((0,n.fv)(h.y01,h.x01))):e.moveTo(i+b,r+y)}else!o||o[1]?e.lineTo(i+T,r+k):e.moveTo(i+T,r+k),!o||o[2]?e.arc(i,r,s,O,_,p):e.moveTo(i+s*(0,n.mC)(_),r+s*(0,n.O$)(_))}return o?o[3]&&e.lineTo(i+a*(0,n.mC)(l),r+a*(0,n.O$)(l)):e.closePath(),g}},545293:function(t,e,i){i.d(e,{h:()=>n});var r=i(509257);class n{static GetImage(t,e){var i;let a=n.cache.get(t);a?"fail"===a.loadState?r.w.global.getRequestAnimationFrame()(()=>{e.imageLoadFail(t)}):"init"===a.loadState||"loading"===a.loadState?null==(i=a.waitingMark)||i.push(e):e&&e.imageLoadSuccess(t,a.data):n.loadImage(t,e)}static GetSvg(t,e){var i;let a=n.cache.get(t);a?"fail"===a.loadState?r.w.global.getRequestAnimationFrame()(()=>{e.imageLoadFail(t)}):"init"===a.loadState||"loading"===a.loadState?null==(i=a.waitingMark)||i.push(e):e&&e.imageLoadSuccess(t,a.data):(a={type:"image",loadState:"init"},n.cache.set(t,a),a.dataPromise=r.w.global.loadSvg(t),a.dataPromise?(a.waitingMark=[e],a.dataPromise.then(e=>{var i;a.loadState=(null==e?void 0:e.data)?"success":"fail",a.data=null==e?void 0:e.data,null==(i=a.waitingMark)||i.map((i,r)=>{(null==e?void 0:e.data)?(a.loadState="success",a.data=e.data,i.imageLoadSuccess(t,e.data)):(a.loadState="fail",i.imageLoadFail(t))}),a.waitingMark&&(a.waitingMark=[])})):(a.loadState="fail",e.imageLoadFail(t)))}static GetFile(t,e){let i=n.cache.get(t);return i?"fail"===i.loadState?Promise.reject():"init"===i.loadState||"loading"===i.loadState?i.dataPromise.then(t=>t.data):Promise.resolve(i.data):(i={type:e,loadState:"init"},n.cache.set(t,i),"arrayBuffer"===e?i.dataPromise=r.w.global.loadArrayBuffer(t):"blob"===e?i.dataPromise=r.w.global.loadBlob(t):"json"===e&&(i.dataPromise=r.w.global.loadJson(t)),i.dataPromise.then(t=>t.data))}static loading(){setTimeout(()=>{if(!n.isLoading&&n.toLoadAueue.length){n.isLoading=!0;let t=n.toLoadAueue.splice(0,10),e=[];t.forEach(t=>{let{url:i,marks:a}=t,s={type:"image",loadState:"init"};if(n.cache.set(i,s),s.dataPromise=r.w.global.loadImage(i),s.dataPromise){s.waitingMark=a;let t=s.dataPromise.then(t=>{var e;s.loadState=(null==t?void 0:t.data)?"success":"fail",s.data=null==t?void 0:t.data,null==(e=s.waitingMark)||e.map((e,r)=>{(null==t?void 0:t.data)?(s.loadState="success",s.data=t.data,e.imageLoadSuccess(i,t.data)):(s.loadState="fail",e.imageLoadFail(i))}),s.waitingMark&&(s.waitingMark=[])});e.push(t)}else s.loadState="fail",a.forEach(t=>t.imageLoadFail(i))}),Promise.all(e).then(()=>{n.isLoading=!1,this.onLoadSuccessCb.forEach(t=>t()),n.loading()}).catch(t=>{console.error(t),n.isLoading=!1,this.onLoadSuccessCb.forEach(t=>t()),n.loading()})}},0)}static loadImage(t,e){let i=a(t,n.toLoadAueue);if(-1!==i)return n.toLoadAueue[i].marks.push(e),void n.loading();n.toLoadAueue.push({url:t,marks:[e]}),n.loading()}static improveImageLoading(t){let e=a(t,n.toLoadAueue);if(-1!==e){let t=n.toLoadAueue.splice(e,1);n.toLoadAueue.unshift(t[0])}}static onLoadSuccess(t){this.onLoadSuccessCb.push(t)}}function a(t,e){for(let i=0;i<e.length;i++)if(e[i].url===t)return i;return -1}n.cache=new Map,n.isLoading=!1,n.toLoadAueue=[],n.onLoadSuccessCb=[]},360177:function(t,e,i){i.d(e,{n:()=>n});class r{constructor(t,e){this._args=t,this.name=e,this.taps=[]}tap(t,e){this._tap("sync",t,e)}unTap(t,e){let i="string"==typeof t?t.trim():t.name;i&&(this.taps=this.taps.filter(t=>!(t.name===i&&(!e||t.fn===e))))}_parseOptions(t,e,i){let r;if("string"==typeof e)r={name:e.trim()};else if("object"!=typeof e||null===e)throw Error("Invalid tap options");if("string"!=typeof r.name||""===r.name)throw Error("Missing name for tap");return Object.assign({type:t,fn:i},r)}_tap(t,e,i){this._insert(this._parseOptions(t,e,i))}_insert(t){let e;"string"==typeof t.before?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));let i=0;"number"==typeof t.stage&&(i=t.stage);let r=this.taps.length;for(;r>0;){r--;let t=this.taps[r];this.taps[r+1]=t;let n=t.stage||0;if(e){if(e.has(t.name)){e.delete(t.name);continue}if(e.size>0)continue}if(!(n>i)){r++;break}}this.taps[r]=t}}class n extends r{call(...t){this.taps.map(t=>t.fn).forEach(e=>e(...t))}}}}]);