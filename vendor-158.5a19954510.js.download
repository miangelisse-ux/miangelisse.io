"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["30130"],{785009:function(t,e,i){i.d(e,{p:()=>c});var s=i(75464);class r{constructor(){this._map=new Map,this._levelNodes=new Map,this._levelNodes.set(s.l.vchart,[]),this._levelNodes.set(s.l.chart,[]),this._levelNodes.set(s.l.model,[]),this._levelNodes.set(s.l.mark,[])}addHandler(t,e){var i;let s={level:e,handler:t};return null==(i=this._levelNodes.get(e))||i.push(s),this._map.set(t.callback,s),this}removeHandler(t){let e=this._map.get(t.callback);if(!e)return this;this._map.delete(t.callback);let i=this._levelNodes.get(e.level),s=null==i?void 0:i.findIndex(e=>e.handler.callback===t.callback);return void 0!==s&&s>=0&&(null==i||i.splice(s,1)),this}preventHandler(t){return t&&(t.prevented=!0),this}allowHandler(t){return t&&(t.prevented=!1),this}getHandlers(t){var e;return(null==(e=this._levelNodes.get(t))?void 0:e.map(t=>t.handler))||[]}getAllHandlers(){return Array.from(this._map.values()).map(t=>t.handler)||[]}getCount(){return this._map.size}release(){this._map.clear(),this._levelNodes.clear()}}var a=i(777678),l=i(921763),o=i(896294),n=i(26688),h=i(53210),u=i(279090),d=i(234630);let g={cartesianAxis:"axis","cartesianAxis-band":"axis","cartesianAxis-linear":"axis","cartesianAxis-time":"axis",polarAxis:"axis","polarAxis-band":"axis","polarAxis-linear":"axis",discreteLegend:"legend",continuousLegend:"legend",colorLegend:"legend",sizeLegend:"legend"};class c{constructor(t,e){this._viewBubbles=new Map,this._windowBubbles=new Map,this._canvasBubbles=new Map,this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this._onDelegate=t=>{var e;let i=this.globalInstance.getChart(),s=(0,a.Z)(t.modelId)&&(null==i?void 0:i.getModelById(t.modelId))||void 0,r=(0,a.Z)(t.markId)&&(null==i?void 0:i.getMarkById(t.markId))||null,o=(0,l.Z)(t.event,"target"),n=t.datum;s&&"component"===s.modelType&&(n=null!=(e=s.getDatum(o))?e:n);let h={event:t.event,item:t.item,source:t.source,datum:n,chart:i,model:s,mark:null!=r?r:void 0,node:o};this.dispatch(t.type,h)},this._onDelegateInteractionEvent=t=>{let e=this.globalInstance.getChart(),i=t.event,s=null;i.graphics&&(s=i.graphics);let r={event:t.event,chart:e,graphics:s,datums:s&&s.map(t=>(0,d.BY)(t))};this.dispatch(t.type,r)},this.globalInstance=t,this._compiler=e}register(t,e){var i,a,l,o,n;this._parseQuery(e);let h=this.getEventBubble((null==(i=e.filter)?void 0:i.source)||s.AY.chart),u=this.getEventListeners((null==(a=e.filter)?void 0:a.source)||s.AY.chart);if(h.get(t)||h.set(t,new r),h.get(t).addHandler(e,null==(l=e.filter)?void 0:l.level),this._isValidEvent(t)&&!u.has(t)){let i=this._onDelegate.bind(this);this._compiler.addEventListener(null==(o=e.filter)?void 0:o.source,t,i),u.set(t,i)}else if(this._isInteractionEvent(t)&&!u.has(t)){let i=this._onDelegateInteractionEvent.bind(this);this._compiler.addEventListener(null==(n=e.filter)?void 0:n.source,t,i),u.set(t,i)}return this}unregister(t,e){var i,r,a,l;let o=!1,n=this.getEventBubble((null==(i=null==e?void 0:e.filter)?void 0:i.source)||s.AY.chart),h=this.getEventListeners((null==(r=null==e?void 0:e.filter)?void 0:r.source)||s.AY.chart);if(e){let i=n.get(t);null==i||i.removeHandler(e),0===(null==i?void 0:i.getCount())&&(null==i||i.release(),n.delete(t),o=!0),(null==(a=null==e?void 0:e.wrappedCallback)?void 0:a.cancel)&&e.wrappedCallback.cancel()}else{let e=n.get(t);null==e||e.release(),n.delete(t),o=!0}if(o&&this._isValidEvent(t)){let i=h.get(t);this._compiler.removeEventListener((null==(l=null==e?void 0:e.filter)?void 0:l.source)||s.AY.chart,t,i),h.delete(t)}return this}dispatch(t,e,i){let r=this.getEventBubble(e.source||s.AY.chart).get(t);if(!r)return this;let a=!1;if(i){let s=r.getHandlers(i);a=this._invoke(s,t,e)}else{let i=0;for(;!a&&i<s.Ay.length;)a=this._invoke(r.getHandlers(s.Ay[i]),t,e),i++}return this}prevent(t,e){return["canvas","chart","window"].forEach(i=>{let r=this.getEventBubble(i).get(t);r&&r.getAllHandlers().forEach(t=>{e?s.Ay.indexOf(t.filter.level)<s.Ay.indexOf(e.level)&&t.callback!==e.handler&&r.preventHandler(t):r.preventHandler(t)})}),this}allow(t){return["canvas","chart","window"].forEach(e=>{let i=this.getEventBubble(e).get(t);i&&i.getAllHandlers().forEach(t=>i.allowHandler(t))}),this}clear(){[s.AY.chart,s.AY.window,s.AY.canvas].forEach(t=>{let e=this.getEventListeners(t);for(let i of e.entries())this._compiler.removeEventListener(t,i[0],i[1]);e.clear()}),[this._viewBubbles,this._windowBubbles,this._canvasBubbles].forEach(t=>{for(let e of t.values())e.release();t.clear()})}release(){this.clear(),this.globalInstance=null,this._compiler=null}_filter(t,e,i){var s,r,n;if((0,o.Z)(t.filter)&&!t.filter(i)||t.nodeName&&(0,l.Z)(i,"node.name")!==t.nodeName||t.markName&&(null==(s=null==i?void 0:i.mark)?void 0:s.name)!==t.markName)return!1;let h=null==(r=i.model)?void 0:r.type;return g[h]&&(h=g[h]),(!t.type||h===t.type)&&!("mark"===t.level&&!t.type&&!(null==i?void 0:i.mark))&&!("model"===t.level&&!t.type&&!(null==i?void 0:i.model))&&(!(0,a.Z)(t.userId)||(null==(n=i.model)?void 0:n.userId)===t.userId)}_invoke(t,e,i){return t.map(t=>{var s,r,a;let l=t.filter;if(!t.prevented&&(!t.query||this._filter(l,e,i))){let e=(t.wrappedCallback||t.callback).call(null,Object.assign({},i)),l=null!=e?e:null==(s=t.query)?void 0:s.consume;return l&&(null==(r=i.event)||r.stopPropagation(),null==(a=i.event)||a.preventDefault()),!!l}}).some(t=>!0===t)}_getQueryLevel(t){return t?t.level?t.level:(0,a.Z)(t.id)?s.l.model:s.l.vchart:s.l.vchart}_parseQuery(t){var e;let i=t.query;(null==i?void 0:i.throttle)?t.wrappedCallback=(0,n.Z)(t.callback,i.throttle):(null==i?void 0:i.debounce)&&(t.wrappedCallback=(0,h.Z)(t.callback,i.debounce));let r=this._getQueryLevel(i),l=null,o=s.AY.chart,u=null,d=null,g=null;return(null==i?void 0:i.nodeName)&&(u=i.nodeName),(null==i?void 0:i.markName)&&(d=i.markName),(null==i?void 0:i.type)&&(r===s.l.model||r===s.l.mark)&&(l=i.type),(null==i?void 0:i.source)&&(o=i.source),(0,a.Z)(null==i?void 0:i.id)&&(g=null==i?void 0:i.id,r=s.l.model),t.filter={level:r,markName:d,type:l,source:o,nodeName:u,userId:g,filter:null!=(e=null==i?void 0:i.filter)?e:null},t}getEventBubble(t){switch(t){case s.AY.chart:return this._viewBubbles;case s.AY.window:return this._windowBubbles;case s.AY.canvas:return this._canvasBubbles;default:return this._viewBubbles}}getEventListeners(t){switch(t){case s.AY.chart:return this._viewListeners;case s.AY.window:return this._windowListeners;case s.AY.canvas:return this._canvasListeners;default:return this._viewListeners}}_isValidEvent(t){return s.Ve.includes(t)||Object.values(s.ZK).includes(t)}_isInteractionEvent(t){let e;return t&&(e=t.split(":")[0])&&u.F.hasInteractionTrigger(e)}}},368231:function(t,e,i){i.d(e,{j:()=>r});var s=i(279090);class r{getComposedEventMap(){return this._composedEventMap}constructor(t,e){this._composedEventMap=new Map,this._eventDispatcher=t,this._mode=e}on(t,e,i){let r="function"==typeof e?{query:null,callback:e}:{query:e,callback:i},a=s.F.getComposedEvent(t);if(a){let e=new a(this._eventDispatcher,this._mode);e.register(t,r),this._composedEventMap.set(i,{eventType:t,event:e})}else this._eventDispatcher.register(t,r);return this}off(t,e,i){var r,a;let l=null!=i?i:e;if(s.F.getComposedEvent(t))if(l)null==(r=this._composedEventMap.get(l))||r.event.unregister(),this._composedEventMap.delete(l);else for(let e of this._composedEventMap.entries())e[1].eventType===t&&(null==(a=this._composedEventMap.get(e[0]))||a.event.unregister(),this._composedEventMap.delete(e[0]));else if(l){let i={callback:l,query:null,filter:{nodeName:null,type:t,level:null,source:e.source,markName:null,filter:null,userId:null}};this._eventDispatcher.unregister(t,i)}else this._eventDispatcher.unregister(t);return this}emit(t,e,i){return this._eventDispatcher.dispatch(t,e,i),this}prevent(t,e){return this._eventDispatcher.prevent(t,e),this}allow(t){return this._eventDispatcher.allow(t),this}release(){this._eventDispatcher.clear(),this._composedEventMap.clear()}}},26982:function(t,e,i){var s,r;i.d(e,{C:()=>s}),(r=s||(s={})).dimensionHover="dimensionHover",r.dimensionClick="dimensionClick"},303313:function(t,e,i){i.d(e,{KV:()=>p,p5:()=>g});var s=i(459774),r=i(763111),a=i(576225),l=i(241104);let o=t=>t.fieldX[0],n=t=>t.fieldY[0],h=t=>{var e;return[t.fieldX[0],null!=(e=t.fieldX2)?e:t.fieldX[1]]},u=t=>{var e;return[t.fieldY[0],null!=(e=t.fieldY2)?e:t.fieldY[1]]},d=(t,e)=>t?e?o:h:e?n:u,g=(t,e,i)=>{var a,o;if(!t)return null;let{x:n,y:h}=e,u=null!=(a=(0,r.dd)(t,t=>(0,l.yL)(t.getOrient()),e))?a:[],g=null!=(o=(0,r.dd)(t,t=>(0,l.Vz)(t.getOrient()),e))?o:[];if(!u.length&&!g.length)return null;let p=new Set,y=new Set,m=new Set;[u,g].forEach(t=>t.forEach(t=>{(0,s.lK)(t.getScale().type)?p.add(t):y.add(t),i&&t.getSpec().hasDimensionTooltip&&m.add(t)}));let v=[],f=t=>{let e="x"===t,i=e?n:h;(e?u:g).forEach(t=>{if(m.size>0){if(m.has(t)){let r=c(t,i,d(e,(0,s.lK)(t.getScale().type)));r&&v.push(r)}}else{let s=p.size>0;if((s?p:y).has(t)){let r=c(t,i,d(e,s));r&&v.push(r)}}})};return"horizontal"===t.getSpec().direction?(f("y"),0===v.length&&f("x")):(f("x"),0===v.length&&f("y")),v.length?v:null},c=(t,e,i)=>{let s=t.positionToData(e,!0);return(0,a.Z)(s)?null:p(t,s,i)},p=(t,e,i)=>{let s=t.getScale();if((0,a.Z)(e))return null;let h=s.domain().findIndex(t=>(null==t?void 0:t.toString())===e.toString());h<0&&(h=void 0);let u=(0,r.SH)(e,t,"cartesian",null!=i?i:(0,l.yL)(t.getOrient())?o:n);return{index:h,value:e,position:s.scale(e),axis:t,data:u}}},763111:function(t,e,i){i.d(e,{SH:()=>u,dd:()=>g,eH:()=>n});var s=i(835151),r=i(576225),a=i(50026),l=i(777678),o=i(459774);let n=(t,e)=>{var i,s;return t===e||!(0,r.Z)(t)&&!(0,r.Z)(e)&&t.value===e.value&&(null==(i=t.axis)?void 0:i.id)===(null==(s=e.axis)?void 0:s.id)},h=(t,e)=>{let i=t.tooltipFilterRange,s="function"==typeof i?i({scale:e}):i;return(0,a.Z)(s)?[-s,s]:s},u=(t,e,i,r)=>{var a;let n=e.getScale(),u=(0,o.lK)(n.type),g=[];for(let o of e.getOption().getChart().getSeriesInIndex(e.getSpecInfo().seriesIndexes))if(o.coordinate===i){let i=(0,s.IX)(r(o)),c=null==(a=o.getViewData())?void 0:a.latestData;if(i&&c)if(u){let e=[],s=[];c.forEach((r,a)=>{var l;(null==(l=r[i[0]])?void 0:l.toString())===(null==t?void 0:t.toString())&&(e.push(r),s.push(a))}),g.push({series:o,datum:e,key:d(o,s)})}else if((0,l.Z)(i[1])){let e=[],s=[];c.forEach((r,a)=>{var o;((null==(o=r[i[0]])?void 0:o.toString())===(null==t?void 0:t.toString())||(0,l.Z)(r[i[0]])&&(0,l.Z)(r[i[1]])&&t>=r[i[0]]&&t<r[i[1]])&&(e.push(r),s.push(a))}),g.push({series:o,datum:e,key:d(o,s)})}else{let s=h(e.getSpec(),n),r=[],a=[];if(s)c.forEach((e,o)=>{if((0,l.Z)(e[i[0]])){let l=e[i[0]]-t;l>=s[0]&&l<=s[1]&&(r.push(e),a.push(o))}});else{let e=1/0,s=0;c.forEach((o,n)=>{if((0,l.Z)(o[i[0]])){let l=Math.abs(o[i[0]]-t),h=Math.sign(o[i[0]]-t);l<e?(e=l,r=[o],a=[n],s=h):l===e&&h===s&&(r.push(o),a.push(n))}})}g.push({series:o,datum:r,key:d(o,a)})}}return g},d=(t,e)=>`${t.id}_${e.join("_")}`,g=(t,e,i)=>{let r=t.getAllComponents().filter(r=>"axes"===r.specKey&&e(r)&&((t,e,i)=>{let r=t.getRegionsInIds((0,s.IX)(e.layout.layoutBindRegionID));return null==r?void 0:r.some(t=>{let e,s,r=t.getLayoutRect(),a=t.getLayoutStartPoint();return e={x:a.x,y:a.y},s={x:r.width+a.x,y:r.height+a.y},i.x>=e.x&&i.x<=s.x&&i.y>=e.y&&i.y<=s.y})})(t,r,i));return r.length?r:null}},82173:function(t,e,i){i.d(e,{e:()=>n});var s=i(459774),r=i(763111),a=i(835151),l=i(576225),o=i(62209);let n=(t,e)=>{if(!t)return null;let i=(0,r.dd)(t,t=>"angle"===t.getOrient(),e),n=(0,r.dd)(t,t=>"radius"===t.getOrient(),e);if(!(i&&i.length||n&&n.length))return null;let h=[],u=t=>t.getDimensionField()[0],{x:d,y:g}=e;return i&&i.forEach(t=>{var e;let i=t.getScale();if(i&&(0,s.lK)(i.type)){let s=i.domain(),c=i.range(),p=t.getCenter(),y={x:d-t.getLayoutStartPoint().x-p.x,y:g-t.getLayoutStartPoint().y-p.y},m=(0,o.cX)({x:1,y:0},y);m=((t,e)=>{let i=2*Math.PI,s=(0,a.iH)(e),r=(0,a.CE)(e);return t<s?t+=Math.ceil((s-t)/i)*i:t>r&&(t-=Math.ceil((t-r)/i)*i),t})(m,c);let v=(0,o.TE)(y),f=null==(e=n[0])?void 0:e.getScale(),_=null==f?void 0:f.range();if((m-(null==c?void 0:c[0]))*(m-(null==c?void 0:c[1]))>0||(v-(null==_?void 0:_[0]))*(v-(null==_?void 0:_[1]))>0)return;let S=t.invert(m);if((0,l.Z)(S))return;let b=s.findIndex(t=>(null==t?void 0:t.toString())===S.toString());b<0&&(b=void 0);let E=(0,r.SH)(S,t,"polar",u);h.push({index:b,value:S,position:i.scale(S),axis:t,data:E})}}),n&&n.forEach(t=>{var e;let a=t.getScale(),n=null==a?void 0:a.range();if(a&&(0,s.lK)(a.type)){let s=t.getCenter(),c={x:d-t.getLayoutStartPoint().x-s.x,y:g-t.getLayoutStartPoint().y-s.y},p=(0,o.cX)({x:1,y:0},c);p<-Math.PI/2&&(p=2*Math.PI+p);let y=(0,o.TE)(c),m=null==(e=i[0])?void 0:e.getScale(),v=null==m?void 0:m.range();if((p-(null==v?void 0:v[0]))*(p-(null==v?void 0:v[1]))>0||(y-(null==n?void 0:n[0]))*(y-(null==n?void 0:n[1]))>0)return;let f=a.invert(y);if((0,l.Z)(f))return;let _=a.domain().findIndex(t=>(null==t?void 0:t.toString())===f.toString());_<0&&(_=void 0);let S=(0,r.SH)(f,t,"polar",u);h.push({index:_,value:f,position:a.scale(f),axis:t,data:S})}}),h.length?h:null}},972632:function(t,e,i){i.d(e,{Kf:()=>p});var s=i(279090),r=i(26982),a=i(453375),l=i(588712),o=i(459774),n=i(241104);class h{constructor(t,e){this._eventDispatcher=t,this._mode=e}get chart(){var t,e;return this._chart||(this._chart=null==(e=(t=this._eventDispatcher.globalInstance).getChart)?void 0:e.call(t)),this._chart}register(t,e){var i,s;(null!=(s=null==(i=this.chart)?void 0:i.getOption().onError)?s:l.vU)("Method not implemented.")}unregister(){var t,e;(null!=(e=null==(t=this.chart)?void 0:t.getOption().onError)?e:l.vU)("Method not implemented.")}getTargetDimensionInfo(t,e){var i,s,r;let a=null!=(r=null==(s=(i=this.chart.getModelOption()).getDimensionInfo)?void 0:s.call(i,this.chart,{x:t,y:e}))?r:[];return 0===a.length?null:a}dispatch(t,e){var i,s;let r=null==(i=this.chart)?void 0:i.getAllComponents().filter(t=>"axes"===t.specKey&&(!(null==e?void 0:e.filter)||e.filter(t))),a=r.filter(t=>{let e=t.getScale();return(0,o.lK)(e.type)}),l=a.length?a:r.filter(t=>{let e=t.getOrient();return(0,n.yL)(e)||"angle"===e}),h=[],u=null==(s=this.chart)?void 0:s.getModelOption().getDimensionInfoByValue;return u&&l.forEach(e=>{let i=u(e,t);i&&h.push(i)}),this._callback.call(null,{action:"enter",dimensionInfo:h}),h}}var u=i(763111),d=i(75464);class g extends h{constructor(){super(...arguments),this._cacheDimensionInfo=null,this.onMouseMove=t=>{if(!t)return;let e=t.event.viewX,i=t.event.viewY,s=this.getTargetDimensionInfo(e,i);null===s&&null!==this._cacheDimensionInfo?(this._callback.call(null,Object.assign(Object.assign({},t),{action:"leave",dimensionInfo:this._cacheDimensionInfo.slice()})),this._cacheDimensionInfo=s):null!==s&&(null===this._cacheDimensionInfo||s.length!==this._cacheDimensionInfo.length||s.some((t,e)=>!(0,u.eH)(t,this._cacheDimensionInfo[e])))?(this._callback.call(null,Object.assign(Object.assign({},t),{action:"enter",dimensionInfo:s.slice()})),this._cacheDimensionInfo=s):null!==s&&this._callback.call(null,Object.assign(Object.assign({},t),{action:"move",dimensionInfo:s.slice()}))},this.onMouseOut=t=>{t&&(this._callback.call(null,Object.assign(Object.assign({},t),{action:"leave",dimensionInfo:this._cacheDimensionInfo?this._cacheDimensionInfo.slice():[]})),this._cacheDimensionInfo=null)}}register(t,e){this._callback=e.callback,this._eventDispatcher.register("pointermove",{query:Object.assign(Object.assign({},e.query),{source:d.AY.chart}),callback:this.onMouseMove}),this._eventDispatcher.register("pointerout",{query:Object.assign(Object.assign({},e.query),{source:d.AY.canvas}),callback:this.onMouseOut}),(0,a.wx)(this._mode)&&this._eventDispatcher.register("pointerdown",{query:Object.assign(Object.assign({},e.query),{source:d.AY.chart}),callback:this.onMouseMove})}unregister(){this._eventDispatcher.unregister("pointermove",{query:null,callback:this.onMouseMove}),(0,a.wx)(this._mode)&&this._eventDispatcher.unregister("pointerdown",{query:null,callback:this.onMouseMove})}}class c extends h{constructor(){super(...arguments),this.onClick=t=>{if(!t)return;let e=t.event.viewX,i=t.event.viewY,s=this.getTargetDimensionInfo(e,i);s&&this._callback.call(null,Object.assign(Object.assign({},t),{action:"click",dimensionInfo:s.slice()}))}}register(t,e){this._callback=e.callback,this._eventDispatcher.register("pointertap",{query:Object.assign(Object.assign({},e.query),{source:d.AY.chart}),callback:this.onClick})}unregister(){this._eventDispatcher.unregister("pointertap",{query:null,callback:this.onClick})}}let p=()=>{s.F.registerComposedEvent(r.C.dimensionHover,g),s.F.registerComposedEvent(r.C.dimensionClick,c)}},531764:function(t,e,i){e.ZPm=i(553823).H},507281:function(t,e,i){i.d(e,{V:()=>a});var s=i(303401),r=i(453375);function a(t){return t===s.i["desktop-browser"]||t===s.i["desktop-miniApp"]?{hover:{enable:!0,trigger:"pointermove",triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"pointertap"}}:(0,r.wx)(t)||(0,r.Oy)(t)?{hover:{enable:!0,trigger:["pointerdown","pointermove"],triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"tap"}}:null}},251423:function(t,e,i){i.d(e,{F:()=>g});var s=i(576225),r=i(933248),a=i(7234),l=i(236930),o=i(100563),n=i(468453),h=i(75464),u=i(924706),d=i(72754);class g{_getDrillTriggerEvent(t){var e;let{mode:i}=this._drillParams;return null==(e=(0,o.n)(i))?void 0:e[t]}_hideTooltip(){let t=this.getChart().getComponentsByType(d.L.tooltip)[0];t&&t.hideTooltip()}initDrillable(t){this._drillParams=t}initDrillableData(t){let{getRawData:e}=this._drillParams;(0,u.U)(t,"drillFilter",l.G),e().transform({type:"drillFilter",options:{info:()=>this._drillInfo,keyField:()=>this._drillParams.drillField()}})}bindDrillEvent(){let{event:t,getRawData:e,drillField:i}=this._drillParams,r=i();this._getDrillTriggerEvent("start")&&t.on(this._getDrillTriggerEvent("start"),t=>{var i,a,l;if((0,s.Z)(t.datum)||(0,s.Z)(null==(i=t.datum)?void 0:i[r]))return void this.drillUp();this._hideTooltip();let o=t.datum[r],h=null!=(l=null==(a=this._drillInfo)?void 0:a.path)?l:[],u=(0,n.sj)(e().rawData,o,r,"children");h[h.length-1]===u[u.length-1]?this.drillUp():this.drillDown(u)})}drillDown(t=[]){let{getRawData:e,event:i}=this._drillParams;if(!(0,r.Z)(t)||(0,a.Z)(t))return t;let s=t[t.length-1];return this._drillInfo={key:s,path:t,type:l.l.DrillDown},e().reRunAllTransform(),i.emit(h.$7.drill,{value:{path:t,type:l.l.DrillDown},model:this}),t}drillUp(){var t,e;let{getRawData:i,event:s}=this._drillParams,o=null!=(e=null==(t=this._drillInfo)?void 0:t.path)?e:[];if(!(0,r.Z)(o)||(0,a.Z)(o))return o;let n=o.pop();return this._drillInfo={key:n,path:o,type:l.l.DrillUp},i().reRunAllTransform(),s.emit(h.$7.drill,{value:{path:o,type:l.l.DrillUp},model:this}),o}}},316925:function(t,e,i){i.d(e,{U:()=>s});class s{constructor(){this._stateGraphicsByTrigger=new Map,this._disableTriggerEvent=!1,this._triggerMapByState=new Map}setDisableActiveEffect(t){this._disableTriggerEvent=t}addTrigger(t){t&&[t.getStartState(),t.getResetState()].forEach(e=>{if(e){let i=this._triggerMapByState.get(e);i?i.includes(t)||i.push(t):this._triggerMapByState.set(e,[t])}})}setStatedGraphics(t,e){this._stateGraphicsByTrigger.set(t,e)}getStatedGraphics(t){return this._stateGraphicsByTrigger.get(t)}updateStates(t,e,i,s,r){return this._disableTriggerEvent?[]:e&&e.length?(s&&r?i&&i.length?(this.toggleReverseStateOfGraphics(t,e,i,r),this.toggleStateOfGraphics(t,e,i,s)):this.addBothStateOfGraphics(t,e,s,r):s&&(i&&i.length?this.toggleStateOfGraphics(t,e,i,s):this.addStateOfGraphics(t,e,s)),e):[]}toggleReverseStateOfGraphics(t,e,i,s){let r=t.getMarkIdByState();i.forEach(t=>{var e;if(s&&r[s]&&r[s].includes(t.context.markId)){let i=null==(e=t.parent)?void 0:e.mark,r=i.hasAnimationByState&&i.hasAnimationByState("state");t.addState(s,!0,r)}}),e.forEach(t=>{var e;if(s&&r[s]&&r[s].includes(t.context.markId)){let i=null==(e=t.parent)?void 0:e.mark,r=i.hasAnimationByState&&i.hasAnimationByState("state");t.removeState(s,r)}})}toggleStateOfGraphics(t,e,i,s){let r=t.getMarkIdByState();i.forEach(t=>{var e;if(s&&r[s]&&r[s].includes(t.context.markId)){let i=null==(e=t.parent)?void 0:e.mark,r=i.hasAnimationByState&&i.hasAnimationByState("state");t.removeState(s,r)}}),e.forEach(t=>{var e;if(s&&r[s]&&r[s].includes(t.context.markId)){let i=null==(e=t.parent)?void 0:e.mark,r=i.hasAnimationByState&&i.hasAnimationByState("state");t.addState(s,!0,r)}})}addBothStateOfGraphics(t,e,i,s){let r=t.getMarks(),a=t.getMarkIdByState();r.forEach(t=>{var r;let l=s&&a[s]&&a[s].includes(t.id),o=i&&a[i]&&a[i].includes(t.id);if(!l&&!o)return;let n=t.hasAnimationByState&&t.hasAnimationByState("state");null==(r=t.getGraphics())||r.forEach(t=>{e&&e.includes(t)?o&&t.addState(i,!0,n):l&&t.addState(s,!0,n)})})}addStateOfGraphics(t,e,i){let s=t.getMarks(),r=t.getMarkIdByState();s.forEach(t=>{var s;let a=i&&r[i]&&r[i].includes(t.id);if(!a)return;let l=t.hasAnimationByState&&t.hasAnimationByState("state");null==(s=t.getGraphics())||s.forEach(t=>{e&&e.includes(t)&&a&&t.addState(i,!0,l)})})}clearAllStatesOfTrigger(t,e,i){if(this._disableTriggerEvent)return;let s=this.getStatedGraphics(t);if(!s||!s.length)return;let r=t.getMarks(),a=t.getMarkIdByState();r.forEach(t=>{if(t){let r=t.getGraphics(),l=t.hasAnimationByState&&t.hasAnimationByState("state");r&&r.length&&(i&&a[i]&&a[i].includes(t.id)&&r.forEach(t=>{t.removeState(i,l)}),e&&a[e]&&a[e].includes(t.id)&&r.forEach(t=>{s.includes(t)&&t.removeState(e,l)}))}})}clearAllStates(){this._disableTriggerEvent||this._triggerMapByState.forEach((t,e)=>{t.forEach(t=>{this.clearAllStatesOfTrigger(t,e,t.getResetState())})})}clearByState(t){if(this._disableTriggerEvent)return;let e=this._triggerMapByState.get(t);e&&e.length&&e.forEach(e=>{this.clearAllStatesOfTrigger(e,t,e.getResetState()),this.setStatedGraphics(e,[])})}updateStateOfGraphics(t,e){if(this._disableTriggerEvent)return;let i=this._triggerMapByState.get(t);i&&i.length&&i.forEach(t=>{let i=e.filter(e=>t.getMarks().some(t=>{let i=t&&t.getGraphics();return i&&i.includes(e)}));this.updateStates(t,i,this.getStatedGraphics(t),t.getStartState(),t.getResetState()),this.setStatedGraphics(t,i)})}}},32133:function(t,e,i){i.d(e,{m:()=>l});var s=i(933248),r=i(406823),a=i(815945);class l{constructor(t){this._markSet=new r.D,this.options=t,t.marks&&t.marks.length&&t.marks.forEach(t=>{this.registerMark(t)})}getMarks(){return this._markSet.getMarks()}getMarksByState(t){if(this._markIdByState&&this._markSet){let e=this._markIdByState[t];return e?this.getMarks().filter(t=>t&&e.includes(t.id)):[]}return[]}registerMark(t){(0,s.Z)(t)?t.forEach(t=>{this._markSet.addMark(t)}):this._markSet.addMark(t)}updateMarkIdByState(t){this._markIdByState=(0,a.cq)(this.getMarks(),t)}getMarkIdByState(){var t;return null!=(t=this._markIdByState)?t:{}}isGraphicInStateMark(t,e){var i;let s=this.getMarkIdByState();return s&&s[e]&&s[e].includes(null==(i=t.context)?void 0:i.markId)}isGraphicInMark(t){var e;return!!this._markSet.getMarkInId(null==(e=t.context)?void 0:e.markId)}getStartState(){return null}getResetState(){return null}init(){let t=this.getEvents();t&&this.options.event&&t.forEach(t=>{t.type&&t.handler&&((0,s.Z)(t.type)?t.type.forEach(e=>{e&&"none"!==e&&this.options.event.on(e,t.handler)}):"none"!==t.type&&this.options.event.on(t.type,t.handler))})}release(){let t=this.getEvents();t&&this.options.event&&(null!=t?t:[]).forEach(t=>{t.type&&t.handler&&((0,s.Z)(t.type)?t.type.forEach(e=>{e&&"none"!==e&&this.options.event.on(e,t.handler)}):"none"!==t.type&&this.options.event.off(t.type,t.handler))})}start(t){}reset(t){}dispatchEvent(t,e){this.options.event&&(this.options.event.emit(`${this.type}:${t}`,e),"start"===t&&this.options.onStart?this.options.onStart(e):"reset"===t&&this.options.onReset?this.options.onReset(e):"update"===t&&this.options.onUpdate?this.options.onUpdate(e):"end"===t&&this.options.onEnd&&this.options.onEnd(e))}}},687961:function(t,e,i){i.d(e,{V:()=>d});var s=i(933248),r=i(26982),a=i(64510),l=i(234630),o=i(32133),n=i(279090);let h={state:a.q.STATE_DIMENSION_HOVER,reverseState:a.q.STATE_DIMENSION_HOVER_REVERSE,trigger:r.C.dimensionHover};class u extends o.m{constructor(t){super(t),this.type="dimension-hover",this._resetType=[],this.resetAll=()=>{let{state:t,reverseState:e,interaction:i}=this.options,s=i.getStatedGraphics(this);s&&s.length&&(i.clearAllStatesOfTrigger(this,t,e),this.dispatchEvent("reset",{graphics:s,options:this.options}),i.setStatedGraphics(this,[]))},this.handleStart=t=>{let e=this.options.interaction;switch(t.action){case"enter":let i=this.getStatedGraphics(t);e.updateStates(this,this.getStatedGraphics(t),e.getStatedGraphics(this),this.options.state,this.options.reverseState),e.setStatedGraphics(this,i);break;case"leave":e.clearAllStatesOfTrigger(this,this.options.state,this.options.reverseState),e.setStatedGraphics(this,[])}},this.options=Object.assign({},h,t),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart}]}getStatedGraphics(t,e=!1){let i=this.getMarksByState(e?this.options.reverseState:this.options.state),r=[];return t.dimensionInfo.forEach(t=>{t.data.forEach(t=>{i.filter(e=>e.model===t.series&&e.getVisible()).forEach(i=>{let a=i.getGraphics();if(!a||!a.length)return;let o=a.filter(i=>{let r,a=(0,l.BY)(i);return r=(0,s.Z)(a)?a.every((e,i)=>e===t.datum[i]):t.datum.some(t=>t===a),e?!r:r});r.push(...o)})})}),r}}u.type="dimension-hover",u.defaultOptions=h;let d=()=>{n.F.registerInteractionTrigger(u.type,u)}},595712:function(t,e,i){i.d(e,{P:()=>g});var s=i(279090),r=i(32133),a=i(75464),l=i(576225),o=i(815945),n=i(64510);let h="element-active-by-legend",u={state:n.q.STATE_ACTIVE,filterType:"groupKey"};class d extends r.m{constructor(t){super(t),this.type=h,this.handleStart=t=>{var e,i;let s=t.event;s&&this.start(null==(i=null==(e=s.detail)?void 0:e.data)?void 0:i.id)},this.handleReset=t=>{this.resetAll()},this.options=Object.assign({},u,t),this.updateMarkIdByState([this.options.state])}getEvents(){return[{type:a.$7.legendItemHover,handler:this.handleStart},{type:a.$7.legendItemUnHover,handler:this.handleReset}]}getStartState(){return this.options.state}start(t){if((0,l.Z)(t))return;let{interaction:e,state:i}=this.options,s=(0,o.KX)(this.options),r=e.getStatedGraphics(this),a=[];this.getMarks().forEach(e=>{var i;null==(i=e.getGraphics())||i.forEach(e=>{s(e)===t&&a.push(e)})}),e.updateStates(this,a,r,i),e.setStatedGraphics(this,a)}resetAll(){let{interaction:t,state:e}=this.options;t.clearAllStatesOfTrigger(this,e),t.setStatedGraphics(this,[])}reset(t){let{state:e,interaction:i}=this.options;if(t){let s=i.getStatedGraphics(this);s&&s.includes(t)&&(t.removeState(e),i.setStatedGraphics(this,s.filter(e=>e!==t)))}else this.resetAll()}}d.type=h,d.defaultOptions=u;let g=()=>{s.F.registerInteractionTrigger(h,d)}},206005:function(t,e,i){i.d(e,{i:()=>o});var s=i(279090),r=i(32133);let a={state:i(64510).q.STATE_ACTIVE,trigger:"pointerover",triggerOff:"pointerout"};class l extends r.m{constructor(t){super(t),this.type="element-active",this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{this.reset(t.item)},this.options=Object.assign({},a,t),this.updateMarkIdByState([this.options.state])}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}getStartState(){return this.options.state}start(t){if(t){let{state:e,interaction:i}=this.options;this.isGraphicInStateMark(t,e)&&(t.addState(e,!0),i.setStatedGraphics(this,[t]))}}reset(t){let{interaction:e,state:i}=this.options,s=e.getStatedGraphics(this),r=null!=t?t:null==s?void 0:s[0];r&&s.includes(r)&&(r.removeState(i),e.setStatedGraphics(this,s.filter(t=>t!==r)))}}l.type="element-active",l.defaultOptions=a;let o=()=>{s.F.registerInteractionTrigger(l.type,l)}},431015:function(t,e,i){i.d(e,{K:()=>h,k:()=>n});var s=i(279090),r=i(32133),a=i(576225),l=i(815945);let o="element-highlight-by-group";class n extends r.m{constructor(t){super(t),this.type=o,this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{let e=t.item;e&&this.isGraphicInMark(e)&&this.resetAll()},this.options=Object.assign({},l.nR,t),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}resetAll(){let{interaction:t,highlightState:e,blurState:i}=this.options;t.clearAllStatesOfTrigger(this,e,i),t.setStatedGraphics(this,[])}_getHightlightKey(t){var e;return null==(e=t.context)?void 0:e.groupKey}start(t){if(t&&this.isGraphicInMark(t)){let e=this._getHightlightKey(t);if((0,a.Z)(e))return;let{interaction:i,highlightState:s,blurState:r}=this.options,l=i.getStatedGraphics(this),o=[];this.getMarks().forEach(t=>{var i;null==(i=t.getGraphics())||i.forEach(t=>{this._getHightlightKey(t)===e&&o.push(t)})}),i.updateStates(this,o,l,s,r),i.setStatedGraphics(this,o)}}reset(t){if(t){if(this.isGraphicInMark(t)){let{interaction:e}=this.options,i=e.getStatedGraphics(this);t.removeState([this.options.highlightState,this.options.blurState]),e.setStatedGraphics(this,i.filter(e=>e!==t))}}else this.resetAll()}}n.type=o,n.defaultOptions=l.nR;let h=()=>{s.F.registerInteractionTrigger(o,n)}},686196:function(t,e,i){i.d(e,{R:()=>o});var s=i(279090),r=i(431015);let a="element-highlight-by-key";class l extends r.k{constructor(){super(...arguments),this.type=a}_getHightlightKey(t){var e;return null==(e=t.context)?void 0:e.key}}l.type=a;let o=()=>{s.F.registerInteractionTrigger(a,l)}},250769:function(t,e,i){i.d(e,{v:()=>d});var s=i(279090),r=i(32133),a=i(64510),l=i(75464),o=i(815945);let n="element-highlight-by-legend",h={highlightState:a.q.STATE_HIGHLIGHT,blurState:a.q.STATE_BLUR,filterType:"groupKey"};class u extends r.m{constructor(t){super(t),this.type=n,this.handleStart=t=>{var e,i;let s=t.event;s&&this.start(null==(i=null==(e=s.detail)?void 0:e.data)?void 0:i.id)},this.handleReset=t=>{this.resetAll()},this.options=Object.assign({},h,t),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:l.$7.legendItemHover,handler:this.handleStart},{type:l.$7.legendItemUnHover,handler:this.handleReset}]}start(t){if(t){let e=(0,o.KX)(this.options),{interaction:i,highlightState:s,blurState:r}=this.options,a=i.getStatedGraphics(this),l=[];this.getMarks().forEach(i=>{var s;null==(s=i.getGraphics())||s.forEach(i=>{e(i)===t&&l.push(i)})}),i.updateStates(this,l,a,s,r),i.setStatedGraphics(this,l)}}resetAll(){let{interaction:t,highlightState:e,blurState:i}=this.options;t.clearAllStatesOfTrigger(this,e,i),t.setStatedGraphics(this,[])}reset(t){let{highlightState:e,blurState:i,interaction:s}=this.options;if(t){let r=s.getStatedGraphics(this);r&&r.includes(t)&&(t.removeState([e,i]),s.setStatedGraphics(this,r.filter(e=>e!==t)))}else this.resetAll()}}u.type=n,u.defaultOptions=h;let d=()=>{s.F.registerInteractionTrigger(n,u)}},977530:function(t,e,i){i.d(e,{F:()=>d});var s=i(279090),r=i(32133),a=i(64510),l=i(835151),o=i(815945);let n="element-highlight-by-name",h={highlightState:a.q.STATE_HIGHLIGHT,blurState:a.q.STATE_BLUR,filterType:"groupKey"};class u extends r.m{constructor(t){super(t),this.type=n,this.handleStart=t=>{if(this.options.shouldStart?this.options.shouldStart(t):this._filterByName(t)){let e=this._parseTargetKey(t);this.start(e)}},this.handleReset=t=>{(this.options.shouldReset?this.options.shouldReset(t):this._filterByName(t))&&this.resetAll()},this.options=Object.assign({},h,t),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}_filterByName(t){var e;let i=(0,l.IX)(this.options.graphicName);return(null==(e=null==t?void 0:t.node)?void 0:e.name)&&i.includes(t.node.name)}_parseTargetKey(t){return this.options.parseData?this.options.parseData(t):"text"===t.node.type?t.node.attribute.text:null}start(t){if(t){let e=(0,o.KX)(this.options),{interaction:i,highlightState:s,blurState:r}=this.options,a=i.getStatedGraphics(this),l=[];this.getMarks().forEach(i=>{var s;null==(s=i.getGraphics())||s.forEach(i=>{e(i)===t&&l.push(i)})}),i.updateStates(this,l,a,s,r),i.setStatedGraphics(this,l)}}resetAll(){let{interaction:t,highlightState:e,blurState:i}=this.options;t.clearAllStatesOfTrigger(this,e,i),t.setStatedGraphics(this,[])}reset(t){let{highlightState:e,blurState:i,interaction:s}=this.options;if(t){let r=s.getStatedGraphics(this);r&&r.includes(t)&&(t.removeState([e,i]),s.setStatedGraphics(this,r.filter(e=>e!==t)))}else this.resetAll()}}u.type=n,u.defaultOptions=h;let d=()=>{s.F.registerInteractionTrigger(n,u)}},535727:function(t,e,i){i.d(e,{h:()=>h});var s=i(342279),r=i(64510),a=i(32133),l=i(279090);let o={highlightState:r.q.STATE_HIGHLIGHT,blurState:r.q.STATE_BLUR,trigger:"pointerover",triggerOff:"pointerout"};class n extends a.m{constructor(t){super(t),this.type="element-highlight",this.resetAll=()=>{let{highlightState:t,blurState:e,interaction:i}=this.options;this._lastGraphic&&(i.clearAllStatesOfTrigger(this,t,e),this.dispatchEvent("reset",{graphics:[this._lastGraphic],options:this.options}),this._lastGraphic=null,i.setStatedGraphics(this,[]))},this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{let{interaction:e}=this.options,i=e.getStatedGraphics(this);if(!i||!i.length)return;let s=t.item,r=s&&this._markSet.getMarkInId(s.context.markId);(this._resetType.includes("view")&&!r||this._resetType.includes("self")&&r)&&this.resetAll()},this.options=Object.assign({},o,t),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){let t=this.options.triggerOff,e=[{type:this.options.trigger,handler:this.handleStart}],i=t;return(0,s.Z)(t)&&t.includes("view:")?(i=t.replace("view:",""),this._resetType="view"):this._resetType="self",e.push({type:i,handler:this.handleReset}),e}start(t){if(t&&this._markSet.getMarkInId(t.context.markId)){let{highlightState:e,blurState:i,interaction:s}=this.options;if(this._lastGraphic===t)return;let r=s.updateStates(this,[t],s.getStatedGraphics(this),e,i);s.setStatedGraphics(this,r),this._lastGraphic=t,this.dispatchEvent("start",{graphics:r,options:this.options})}else this._lastGraphic&&"view"===this._resetType&&this.resetAll()}reset(t){t?this._markSet.getMarkInId(t.context.markId)&&t.removeState([this.options.highlightState,this.options.blurState]):this.resetAll()}}n.type="element-highlight",n.defaultOptions=o;let h=()=>{l.F.registerInteractionTrigger(n.type,n)}},589352:function(t,e,i){i.d(e,{p:()=>u});var s=i(933248),r=i(64510),a=i(32133),l=i(815945),o=i(279090);let n={state:r.q.STATE_SELECTED,trigger:"click"};class h extends a.m{constructor(t){super(t),this.type="element-select",this._resetType=[],this.resetAll=()=>{let{state:t,reverseState:e,interaction:i}=this.options,s=i.getStatedGraphics(this);s&&s.length&&(i.clearAllStatesOfTrigger(this,t,e),this.dispatchEvent("reset",{graphics:s,options:this.options}),i.setStatedGraphics(this,[]))},this.handleStart=t=>{this.start(t.item)},this.handleReset=t=>{let{interaction:e}=this.options,i=e.getStatedGraphics(this);if(!i||!i.length)return;let s=t.item,r=s&&this._markSet.getMarkInId(s.context.markId);(this._resetType.includes("view")&&!r||this._resetType.includes("self")&&r)&&this.resetAll()},this.options=Object.assign({},n,t),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){let t=this.options.triggerOff,e=this.options.trigger,i=[{type:e,handler:this.handleStart}],{eventNames:r,resetType:a}=(0,l.lw)(t);return r.forEach(t=>{t&&((0,s.Z)(e)?!e.includes(t):t!==e)&&i.push({type:t,handler:this.handleReset})}),this._resetType=a,i}start(t){let{state:e,reverseState:i,isMultiple:s,interaction:r}=this.options,a=r.getStatedGraphics(this);if(t&&this._markSet.getMarkInId(t.context.markId))if(t.hasState(e)){if(this._resetType.includes("self")){let s=a&&a.filter(e=>e!==t);s&&s.length?r.setStatedGraphics(this,r.updateStates(this,s,a,e,i)):this.resetAll()}}else{this._timer&&clearTimeout(this._timer),t.addState(e,!0);let l=this.options.interaction.updateStates(this,s&&a?[...a,t]:[t],a,e,i);r.setStatedGraphics(this,l),this.dispatchEvent("start",{graphics:l,options:this.options}),this._resetType.includes("timeout")&&(this._timer=setTimeout(()=>{this.resetAll()},this.options.triggerOff))}else this._resetType.includes("view")&&a&&a.length&&this.resetAll()}reset(t){t?this._markSet.getMarkInId(t.context.markId)&&t.removeState([this.options.state,this.options.reverseState]):this.resetAll()}}h.type="element-select",h.defaultOptions=n;let u=()=>{o.F.registerInteractionTrigger(h.type,h)}},815945:function(t,e,i){i.d(e,{KX:()=>d,cq:()=>h,lw:()=>n,nR:()=>g,ww:()=>u});var s=i(835151),r=i(342279),a=i(591431),l=i(234630),o=i(64510);let n=t=>{let e=(0,s.IX)(t),i=[],l=[];return e.forEach(t=>{"empty"===t?i.push("view"):(0,r.Z)(t)&&"none"!==t?t.includes("view:")?(l.push(t.replace("view:","")),i.push("view")):(l.push(t),i.push("self")):(0,a.Z)(t)&&i.push("timeout")}),{eventNames:l,resetType:i}},h=(t,e)=>{if(!e||!t)return null;let i={};return t.forEach(t=>{let s=t.stateStyle;s&&e.forEach(e=>{e&&s[e]&&(i[e]||(i[e]=[]),i[e].push(t.id))})}),i},u=(t,e)=>{if(!e||!e.length)return[];let i=[];return t.markIds?e.filter(e=>{t.markIds.includes(e.getProductId())&&i.push(e)}):t.markNames?e.forEach(e=>{t.markNames.includes(e.name)&&i.push(e)}):e.forEach(t=>{i.push(t)}),i},d=t=>t.filterField?e=>{var i;return null==(i=(0,l.BY)(e))?void 0:i[t.filterField]}:e=>e.context[t.filterType],g={highlightState:o.q.STATE_HIGHLIGHT,blurState:o.q.STATE_BLUR,trigger:"pointerover",triggerOff:"pointerout"}},40806:function(t,e,i){i.d(e,{e:()=>g});var s=i(53210),r=i(26688),a=i(576225),l=i(247230),o=i(303401),n=i(100563),h=i(75464),u=i(453375);let d={debounce:s.Z,throttle:r.Z};class g{constructor(){this._isGestureListener=!1}initZoomable(t,e=o.i["desktop-browser"]){this._eventObj=t,this._renderMode=e,this._gestureController=this._option.getCompiler()._gestureController,this._isGestureListener=(0,u.wx)(this._renderMode)||(0,u.Oy)(this._renderMode),(0,n.n)(this._renderMode)&&(this._clickEnable=!0,this._zoomableTrigger=new(this._getZoomTriggerEvent("trigger")))}_getZoomTriggerEvent(t){return(0,n.n)(this._renderMode)[t]}_zoomEventDispatch(t,e,i,s){if(!this._isGestureListener&&!t.event)return;let r=this._isGestureListener?t:t.event.clone();this._zoomableTrigger.parserZoomEvent(r);let{zoomDelta:o,zoomX:n,zoomY:h,path:u}=r;if(!s&&!u.some(t=>t.name&&t.name.includes("region"))||(0,a.Z)(o)||!(0,l.qr)({x:n,y:h},this._getRegionOrSeriesLayout(e),!1))return;this._clearDragEvent(),this._zoomableTrigger.clearScroll();let d={};i&&(d=i({zoomDelta:o,zoomX:n,zoomY:h},r)),this._eventObj.emit("zoom",Object.assign(Object.assign({scale:r.zoomDelta,scaleCenter:{x:r.zoomX,y:r.zoomY}},d),{model:this}))}_getRegionOrSeriesLayout(t){"region"!==t.type&&(t=t.getRegion());let{x:e,y:i,width:s,height:r}=t.layout.getLayout();return{x1:e,y1:i,x2:e+s,y2:i+r}}_bindZoomEventAsRegion(t,e,i,s){var r,a;let l=null!=(r=null==s?void 0:s.delayType)?r:"throttle",o=null!=(a=null==s?void 0:s.delayTime)?a:0,n=this._isGestureListener?this._gestureController:t,u=this._isGestureListener?[this._getZoomTriggerEvent("zoom")]:[this._getZoomTriggerEvent("zoom"),{level:h.l.chart,consume:!0}],g=this._isGestureListener?[this._getZoomTriggerEvent("zoomEnd")]:[this._getZoomTriggerEvent("zoomEnd"),{level:h.l.chart,consume:!1}];n.on(...g,d[l](t=>{this._zoomableTrigger.clearZoom()},o)),n.on(...u,d[l](t=>{var r;this._zoomEventDispatch(t,e,i,null!=(r=null==s?void 0:s.allowComponentZoom)&&r)},o))}initZoomEventOfSeries(t,e,i){this._option.disableTriggerEvent||(0,n.n)(this._renderMode)&&this._bindZoomEventAsRegion(t.event,t,e,i)}initZoomEventOfRegions(t,e,i,s){this._option.disableTriggerEvent||(0,n.n)(this._renderMode)&&t.forEach(t=>{e?t.getSeries().forEach(t=>{e(t)&&this._bindZoomEventAsRegion(t.event,t,i,s)}):this._bindZoomEventAsRegion(this._eventObj,t,i,s)})}_scrollEventDispatch(t,e,i){let s=!1;if(!this._isGestureListener&&(!t.event||this._option.disableTriggerEvent))return s;let r=this._isGestureListener?t:t.event;this._zoomableTrigger.parserScrollEvent(r);let{scrollX:o,scrollY:n,canvasX:h,canvasY:u}=r;return(0,a.Z)(o)&&(0,a.Z)(n)||(0,l.qr)({x:h,y:u},this._getRegionOrSeriesLayout(e),!1)&&(this._clearDragEvent(),this._zoomableTrigger.clearZoom(),i&&(s=i({scrollX:o,scrollY:n},r)),this._eventObj.emit("scroll",{scrollX:o,scrollY:n,model:this})),s}_bindScrollEventAsRegion(t,e,i,s){var r,a;let l=null!=(r=null==s?void 0:s.delayType)?r:"throttle",o=null!=(a=null==s?void 0:s.delayTime)?a:0,n=this._isGestureListener?this._gestureController:t,u=this._isGestureListener?[this._getZoomTriggerEvent("scroll")]:[this._getZoomTriggerEvent("scroll"),{level:h.l.chart,consume:!0}],g=this._isGestureListener?[this._getZoomTriggerEvent("scrollEnd")]:[this._getZoomTriggerEvent("scrollEnd"),{level:h.l.chart,consume:!1}];n.on(...g,d[l](t=>{this._zoomableTrigger.clearScroll()},o)),n.on(...u,d[l](t=>this._scrollEventDispatch(t,e,i),o))}initScrollEventOfSeries(t,e,i){(0,n.n)(this._renderMode)&&this._bindScrollEventAsRegion(t.event,t,e,i)}initScrollEventOfRegions(t,e,i,s){this._option.disableTriggerEvent||(0,n.n)(this._renderMode)&&t.forEach(t=>{e?t.getSeries().forEach(t=>{e(t)&&this._bindScrollEventAsRegion(t.event,t,i,s)}):this._bindScrollEventAsRegion(this._eventObj,t,i,s)})}_bindDragEventAsRegion(t,e,i,s){t.on(this._getZoomTriggerEvent("start"),{level:h.l.chart},t=>{if(!t.event)return;let{event:r}=t;(0,l.qr)({x:r.canvasX,y:r.canvasY},this._getRegionOrSeriesLayout(e),!1)&&this._handleDrag(t,i,s)}),t.on("click",{level:h.l.chart},()=>!this._clickEnable)}initDragEventOfSeries(t,e,i){this._option.disableTriggerEvent||(0,n.n)(this._renderMode)&&t.event.on(this._getZoomTriggerEvent("start"),{level:h.l.model,filter:({model:e})=>(null==e?void 0:e.id)===t.id},t=>{this._handleDrag(t,e,i)})}initDragEventOfRegions(t,e,i,s){this._option.disableTriggerEvent||(0,n.n)(this._renderMode)&&t.forEach(t=>{e?t.getSeries().forEach(t=>{e(t)&&(t.event.on(this._getZoomTriggerEvent("start"),{level:h.l.model,filter:({model:e})=>(null==e?void 0:e.id)===t.id},t=>{this._handleDrag(t,i)}),t.event.on("click",{level:h.l.model,filter:({model:e})=>(null==e?void 0:e.id)===t.id},()=>!this._clickEnable))}):this._bindDragEventAsRegion(this._eventObj,t,i,s)})}_clearDragEvent(){let t=this._getZoomTriggerEvent("move"),e=this._getZoomTriggerEvent("end");this._handleDragMouseMove&&(this._eventObj.off(t,{level:h.l.chart,source:h.AY.chart},this._handleDragMouseMove),this._handleDragMouseMove=void 0),this._handleDragMouseUp&&(e.forEach(t=>{this._eventObj.off(t,{level:h.l.chart,source:h.AY.chart},this._handleDragMouseUp),this._eventObj.allow(t)}),this._handleDragMouseUp=void 0)}isDragEnable(t){if(this._isGestureListener&&this._gestureController){let t=this._gestureController.cachedEvents;return!t||t.length<2}return!0}_handleDrag(t,e,i){var s,r,a;if(this._clearDragEvent(),this._option.disableTriggerEvent||(this._clickEnable=!1,!this.isDragEnable(t.event)))return;this._zoomableTrigger.clearZoom(),this._zoomableTrigger.clearScroll();let l=null!=(s=null==i?void 0:i.delayType)?s:"throttle",o=null!=(r=null==i?void 0:i.delayTime)?r:0,n=null==(a=null==i?void 0:i.realTime)||a,u=this._getZoomTriggerEvent("move"),g=this._getZoomTriggerEvent("end"),c=t.event,p=c.canvasX,y=c.canvasY,m=c.canvasX,v=c.canvasY;this._handleDragMouseUp=d[l](t=>{this._clickEnable=!0;let i=t.event,s=[i.canvasX-m,i.canvasY-v];m=i.canvasX,v=i.canvasY,!n&&e&&e(s,t.event),this._eventObj.emit("panend",{delta:s,model:this}),this._clearDragEvent()},o),this._handleDragMouseMove=d[l](t=>{if(!this.isDragEnable(t.event))return;this._clickEnable=!1,g.forEach(t=>{this._eventObj.prevent(t,{handler:this._handleDragMouseUp,level:h.l.chart})});let i=t.event,s=[i.canvasX-p,i.canvasY-y];p=i.canvasX,y=i.canvasY,n&&e&&e(s,t.event),this._eventObj.emit("panmove",{delta:s,model:this})},o),this._eventObj.on(u,{level:h.l.chart,source:h.AY.chart},this._handleDragMouseMove),g.forEach(t=>{this._eventObj.on(t,{level:h.l.chart,source:h.AY.chart},this._handleDragMouseUp)})}}},122026:function(t,e,i){i.d(e,{A:()=>y});var s=i(971800),r=i(588712),a=i(576225),l=i(835151);function o(t){let e=[],i=[],s=[];return t.forEach(t=>{(0,a.Z)(t.getSpec().position)||"start"===t.getSpec().position?e.push(t):"middle"===t.getSpec().position?i.push(t):"end"===t.getSpec().position&&s.push(t)}),{startItems:e,endItems:s,middleItems:i}}function n(t,e,i){e?t.forEach(t=>{let e=(0,l.Z$)(t),s=(i-(e.getLayoutStartPoint().y+e.getLayoutRect().height-t[0].getLayoutStartPoint().y))/2;t.forEach(t=>{t.setLayoutStartPosition({x:t.getLayoutStartPoint().x,y:t.getLayoutStartPoint().y+s})})}):t.forEach(t=>{let e=(0,l.Z$)(t),s=(i-(e.getLayoutStartPoint().x+e.getLayoutRect().width-t[0].getLayoutStartPoint().x))/2;t.forEach(t=>{t.setLayoutStartPosition({x:t.getLayoutStartPoint().x+s,y:t.getLayoutStartPoint().y})})})}function h(t,e,i,s){let r;t.forEach((t,a)=>{t.length>1&&(r=i[a],t.forEach(t=>{if(!t.alignSelf||"start"===t.alignSelf)return;let i=t.getLayoutStartPoint(),a="middle"===t.alignSelf?.5:1,l=e?r-(t.getLayoutRect().width+t.layoutPaddingLeft+t.layoutPaddingRight):r-(t.getLayoutRect().height+t.layoutPaddingTop+t.layoutPaddingBottom);e?t.setLayoutStartPosition({x:i.x+s*l*a,y:i.y}):t.setLayoutStartPosition({x:i.x,y:i.y+s*l*a})}))})}function u(t,e,i,s,r,a){if(t.length){let l=0,o="right"===r,u=o?-1:1,d=o?e.rightCurrent:e.leftCurrent,g=e.topCurrent,c=[],y=[],m=[];t.forEach(t=>{let{rect:s}=p(t,e,a),r=s.height+t.layoutPaddingTop+t.layoutPaddingBottom,n=s.width+t.layoutPaddingLeft+t.layoutPaddingRight,h=o?-s.width-t.layoutPaddingRight:t.layoutPaddingLeft;t.setLayoutStartPosition({x:d+t.layoutOffsetX+h,y:g+t.layoutOffsetY+t.layoutPaddingTop}),(g+=r)>i&&y.length?(m.push(l),d+=u*l,l=n,g=e.topCurrent+r,t.setLayoutStartPosition({x:d+t.layoutOffsetX+h,y:e.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),c.push(y),y=[t]):(l=Math.max(l,n),y.push(t))}),m.push(l),c.push(y),h(c,!0,m,u),s&&n(c,!0,i),o?e.rightCurrent=d+u*l:e.leftCurrent=d+u*l}}function d(t,e,i,s,r){if(t.length){let i=0,a="right"===s,l=a?-1:1,o=a?e.rightCurrent:e.leftCurrent,n=e.bottomCurrent,u=[],d=[],g=[];t.forEach(t=>{let{rect:s}=p(t,e,r),h=s.height+t.layoutPaddingTop+t.layoutPaddingBottom,c=s.width+t.layoutPaddingLeft+t.layoutPaddingRight,y=a?-s.width-t.layoutPaddingRight:t.layoutPaddingLeft;n<h&&d.length?(g.push(i),o+=l*i,i=c,n=e.bottomCurrent,t.setLayoutStartPosition({x:o+t.layoutOffsetX+y,y:n+t.layoutOffsetY-s.height-t.layoutPaddingBottom}),u.push(d),d=[t]):(t.setLayoutStartPosition({x:o+t.layoutOffsetX+y,y:n+t.layoutOffsetY-s.height-t.layoutPaddingBottom}),i=Math.max(i,c),n-=h,d.push(t))}),g.push(i),u.push(d),h(u,!0,g,l),a?e.rightCurrent=o+l*i:e.leftCurrent=o+l*i}}function g(t,e,i,s,r,a){if(t.length){let l="top"===r,o=l?1:-1,u=0,d=e.leftCurrent,g=l?e.topCurrent:e.bottomCurrent,c=[],y=[],m=[];t.forEach(t=>{let{rect:s}=p(t,e,a),r=s.height+t.layoutPaddingTop+t.layoutPaddingBottom,n=s.width+t.layoutPaddingLeft+t.layoutPaddingRight,h=l?t.layoutPaddingTop:-s.height-t.layoutPaddingBottom;t.setLayoutStartPosition({x:d+t.layoutOffsetX+t.layoutPaddingLeft,y:g+t.layoutOffsetY+h}),(d+=n)>i&&y.length?(m.push(u),d=e.leftCurrent+n,g+=o*u,u=r,t.setLayoutStartPosition({x:e.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:g+t.layoutOffsetY+h}),c.push(y),y=[t]):(u=Math.max(u,r),y.push(t))}),m.push(u),c.push(y),h(c,!1,m,o),s&&n(c,!1,i),l?e.topCurrent=g+o*u:e.bottomCurrent=g+o*u}}function c(t,e,i,s,r){if(t.length){let i="top"===s,a=i?1:-1,l=0,o=e.rightCurrent,n=i?e.topCurrent:e.bottomCurrent,u=[],d=[],g=[];t.forEach(t=>{let{layoutTag:s,layoutRect:h,rect:g}=p(t,e,r),c=g.height+t.layoutPaddingTop+t.layoutPaddingBottom,y=g.width+t.layoutPaddingLeft+t.layoutPaddingRight,m=i?t.layoutPaddingTop:-g.height-t.layoutPaddingBottom;o<y&&d.length?(o=e.rightCurrent,n+=a*l,l=c,t.setLayoutStartPosition({x:e.rightCurrent+t.layoutOffsetX-g.width-t.layoutPaddingRight,y:n+t.layoutOffsetY+m}),u.push(d),d=[t]):(d.push(t),t.setLayoutStartPosition({x:o+t.layoutOffsetX-g.width-t.layoutPaddingRight,y:n+t.layoutOffsetY+m}),l=Math.max(l,c),o-=y)}),g.push(l),u.push(d),h(u,!1,g,a),i?e.topCurrent=n+a*l:e.bottomCurrent=n+a*l}}function p(t,e,i,r=!0){let a,l,o="recomputeHeight",n="recomputeWidth",h="width";"top"!==t.layoutOrient&&"bottom"!==t.layoutOrient||(o="recomputeWidth",n="recomputeHeight",h="height");let u=!(!t.willLayoutTag&&!1===i[o]);if(u){let o=Object.assign({},t.getLayoutRect()),d=t.lastComputeRect;a=e.getItemComputeLayoutRect(t),!t.willLayoutTag&&(0,s.X)(a,d)?(u=!1,l=t.getLayoutRect()):(l=t.computeBoundsInRect(a),(0,s.X)(o[h],l[h])?u=!1:(r&&t.setLayoutRect(l),i[n]=!0))}else a=t.getLastComputeOutBounds(),l=t.getLayoutRect();return{layoutRect:a,rect:l,layoutTag:u}}class y{constructor(t,e){this.leftCurrent=0,this.topCurrent=0,this.rightCurrent=0,this.bottomCurrent=0,this.recomputeWidth=!1,this.recomputeHeight=!1,this._onError=null==e?void 0:e.onError}_layoutInit(t,e,i,s){this._chartLayoutRect=i,this._chartViewBox=s,this.leftCurrent=i.x,this.topCurrent=i.y,this.rightCurrent=i.x+i.width,this.bottomCurrent=i.height+i.y,this.recomputeWidth=!1,this.recomputeHeight=!1,e.sort((t,e)=>e.layoutLevel-t.layoutLevel)}_layoutNormalItems(t,e){this.layoutNormalInlineItems(t.filter(t=>"normal-inline"===t.layoutType),e),this.layoutNormalItems(t.filter(t=>"normal"===t.layoutType),e)}_groupItems(t){let e=t.filter(t=>"region"===t.layoutType),i=t.filter(t=>"region-relative"===t.layoutType),s=t.filter(t=>"region-relative-overlap"===t.layoutType),r=i.concat(s),a={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}};return s.forEach(t=>{a[t.layoutOrient].items.push(t)}),{regionItems:e,relativeItems:i,relativeOverlapItems:s,allRelatives:r,overlapItems:a}}layoutItems(t,e,i,s){this._layoutInit(t,e,i,s);let r={recomputeWidth:this.recomputeWidth,recomputeHeight:this.recomputeHeight};this._layoutNormalItems(e,r);let a={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},{regionItems:l,relativeItems:o,relativeOverlapItems:n,allRelatives:h,overlapItems:u}=this._groupItems(e);this.layoutRegionItems(l,o,n,u,r),this._processAutoIndent(l,o,n,u,h,a,r),this.layoutAbsoluteItems(e.filter(t=>"absolute"===t.layoutType)),e.forEach(t=>{t.clearWillLayoutTag()})}_processAutoIndent(t,e,i,s={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},r,a,l){if(r.some(t=>t.autoIndent)){let{top:o,bottom:n,left:h,right:u}=this._checkAutoIndent(r,a);(o||n||h||u)&&(this.topCurrent=a.top+o,this.bottomCurrent=a.bottom-n,this.leftCurrent=a.left+h,this.rightCurrent=a.right-u,this.layoutRegionItems(t,e,i,s,l))}}layoutNormalItems(t,e){t.forEach(t=>{let{rect:i}=p(t,this,e);"left"===t.layoutOrient?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.leftCurrent+=i.width+t.layoutPaddingLeft+t.layoutPaddingRight):"top"===t.layoutOrient?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.topCurrent+=i.height+t.layoutPaddingTop+t.layoutPaddingBottom):"right"===t.layoutOrient?(t.setLayoutStartPosition({x:this.rightCurrent+t.layoutOffsetX-i.width-t.layoutPaddingRight,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.rightCurrent-=i.width+t.layoutPaddingLeft+t.layoutPaddingRight):"bottom"===t.layoutOrient&&(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingRight,y:this.bottomCurrent+t.layoutOffsetY-i.height-t.layoutPaddingBottom}),this.bottomCurrent-=i.height+t.layoutPaddingTop+t.layoutPaddingBottom)})}layoutNormalInlineItems(t,e){let i=t.filter(t=>"left"===t.layoutOrient),s=t.filter(t=>"right"===t.layoutOrient),r=t.filter(t=>"top"===t.layoutOrient),a=t.filter(t=>"bottom"===t.layoutOrient),l=this._chartLayoutRect.width+this._chartLayoutRect.x,n=this._chartLayoutRect.height+this._chartLayoutRect.y;return i.length&&function(t,e,i,s){let{startItems:r,middleItems:a,endItems:l}=o(t);r.length&&u(r,e,i,!1,"left",s),a.length&&u(a,e,i,!0,"left",s),l.length&&d(l,e,i,"left",s)}(i,this,n,e),r.length&&function(t,e,i,s){let{startItems:r,middleItems:a,endItems:l}=o(t);r.length&&g(r,e,i,!1,"top",s),a.length&&g(a,e,i,!0,"top",s),l.length&&c(l,e,i,"top",s)}(r,this,l,e),s.length&&function(t,e,i,s){let{startItems:r,middleItems:a,endItems:l}=o(t);r.length&&u(r,e,i,!1,"right",s),a.length&&u(a,e,i,!0,"right",s),l.length&&d(l,e,i,"right",s)}(s,this,n,e),a.length&&function(t,e,i,s){let{startItems:r,middleItems:a,endItems:l}=o(t);r.length&&g(r,e,i,!1,"bottom",s),a.length&&g(a,e,i,!0,"bottom",s),l.length&&c(l,e,i,"bottom",s)}(a,this,l,e),!0}_layoutRelativeOverlap(t,e,i){e.items.forEach(t=>{let{rect:s}=p(t,this,i);e.rect.width=Math.max(s.width+t.layoutPaddingLeft+t.layoutPaddingRight,e.rect.width),e.rect.height=Math.max(s.height+t.layoutPaddingTop+t.layoutPaddingBottom,e.rect.height)}),e.items.forEach(i=>{(0,s.X)(i.getLayoutRect(),e.rect)||i.setLayoutRect(e.rect),"left"===t?i.setLayoutStartPosition({x:this.leftCurrent+i.layoutOffsetX}):"right"===t?i.setLayoutStartPosition({x:this.rightCurrent-e.rect.width+i.layoutOffsetX}):"top"===t?i.setLayoutStartPosition({x:this.topCurrent+i.layoutOffsetY}):i.setLayoutStartPosition({x:this.bottomCurrent-e.rect.height+i.layoutOffsetY})}),"left"===t?this.leftCurrent+=e.rect.width:"right"===t?this.rightCurrent-=e.rect.width:"top"===t?this.topCurrent+=e.rect.height:this.bottomCurrent-=e.rect.height}_layoutRelativeItem(t,e){let{rect:i}=p(t,this,e,!1);"left"===t.layoutOrient||"right"===t.layoutOrient?t.setLayoutRect({width:i.width}):t.setLayoutRect({height:i.height}),"left"===t.layoutOrient?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft}),this.leftCurrent+=i.width+t.layoutPaddingLeft+t.layoutPaddingRight):"right"===t.layoutOrient?(this.rightCurrent-=i.width+t.layoutPaddingLeft+t.layoutPaddingRight,t.setLayoutStartPosition({x:this.rightCurrent+t.layoutOffsetX+t.layoutPaddingLeft})):"top"===t.layoutOrient?(t.setLayoutStartPosition({y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.topCurrent+=i.height+t.layoutPaddingTop+t.layoutPaddingBottom):"bottom"===t.layoutOrient&&(this.bottomCurrent-=i.height+t.layoutPaddingTop+t.layoutPaddingBottom,t.setLayoutStartPosition({y:this.bottomCurrent+t.layoutOffsetY+t.layoutPaddingTop}))}_layoutRegionItem(t,e,i){let s=Math.max(Math.min(e,...t.map(t=>{var e;return null!=(e=t.maxWidth)?e:Number.MAX_VALUE})),0),r=Math.max(Math.min(i,...t.map(t=>{var e;return null!=(e=t.maxHeight)?e:Number.MAX_VALUE})),0);return t.forEach(t=>{let e=s-t.layoutPaddingLeft-t.layoutPaddingRight,i=r-t.layoutPaddingTop-t.layoutPaddingBottom;t.setLayoutRect({width:e,height:i}),t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop})}),{regionHeight:r,regionWidth:s}}layoutRegionItems(t,e,i,s={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},r){let a=this.rightCurrent-this.leftCurrent,l=this.bottomCurrent-this.topCurrent;e.filter(t=>"left"===t.layoutOrient||"right"===t.layoutOrient).forEach(t=>{this._layoutRelativeItem(t,r)}),this._layoutRelativeOverlap("left",s.left,r),this._layoutRelativeOverlap("right",s.right,r),a=this.rightCurrent-this.leftCurrent,e.filter(t=>"top"===t.layoutOrient||"bottom"===t.layoutOrient).forEach(t=>{this._layoutRelativeItem(t,r)}),this._layoutRelativeOverlap("top",s.top,r),this._layoutRelativeOverlap("bottom",s.bottom,r),l=this.bottomCurrent-this.topCurrent;let{regionWidth:o,regionHeight:n}=this._layoutRegionItem(t,a,l);e.concat(i).forEach(e=>{if(["left","right"].includes(e.layoutOrient)){let i=this.filterRegionsWithID(t,e.layoutBindRegionID[0]);e.setLayoutRect({height:i.getLayoutRect().height}),e.setLayoutStartPosition({y:i.getLayoutStartPoint().y+e.layoutOffsetY+e.layoutPaddingTop}),"right"===e.layoutOrient&&e.setLayoutStartPosition({x:e.getLayoutStartPoint().x+o-a})}else if(["top","bottom"].includes(e.layoutOrient)){let i=this.filterRegionsWithID(t,e.layoutBindRegionID[0]);e.setLayoutRect({width:i.getLayoutRect().width}),e.setLayoutStartPosition({x:i.getLayoutStartPoint().x+e.layoutOffsetX+e.layoutPaddingLeft}),"bottom"===e.layoutOrient&&e.setLayoutStartPosition({y:e.getLayoutStartPoint().y+n-l})}})}layoutAbsoluteItems(t){t.forEach(t=>{t.willLayoutTag&&t.absoluteLayoutInRect(this._chartLayoutRect)})}filterRegionsWithID(t,e){var i;let s=t.find(t=>t.getModelId()===e);return s||(null!=(i=this._onError)?i:r.vU)("can not find target region item, invalid id"),s}getItemComputeLayoutRect(t){return{width:this.rightCurrent-this.leftCurrent-t.layoutPaddingLeft-t.layoutPaddingRight,height:this.bottomCurrent-this.topCurrent-t.layoutPaddingTop-t.layoutPaddingBottom}}_checkAutoIndent(t,e){let i={top:0,left:0,bottom:0,right:0};return t.forEach(t=>{if(!t.getModelVisible()||!t.autoIndent)return;let s="left"===t.layoutOrient||"right"===t.layoutOrient,r=t.getLastComputeOutBounds(),a=this._getOutInLayout(r,t,e);s?(i.top=Math.max(i.top,a.top),i.bottom=Math.max(i.bottom,a.bottom)):(i.left=Math.max(i.left,a.left),i.right=Math.max(i.right,a.right))}),i}_getOutInLayout(t,e,i){let{x:s,y:r}=e.getLayoutStartPoint(),{width:a,height:l}=e.getLayoutRect();return{left:i.left-(s-t.x1),right:s+a+t.x2-i.right,top:i.top-(r-t.y1),bottom:r+l+t.y2-i.bottom}}}y.type="base"},932293:function(t,e,i){i.d(e,{N:()=>h});var s=i(50026),r=i(896294),a=i(777678),l=i(279090);class o{constructor(t,e){this._chartLayoutRect={x:0,y:0,width:1,height:1},this._col=1,this._row=1,this._elementMap=new Map,this.standardizationSpec(t),this._gridInfo=t,this._col=t.col,this._row=t.row,this._colSize=Array(this._col).fill(null),this._rowSize=Array(this._row).fill(null),this._colElements=Array(this._col).fill([]),this._rowElements=Array(this._row).fill([]),this._onError=null==e?void 0:e.onError,this.initUserSetting()}standardizationSpec(t){var e,i,s;t.col=null!=(e=t.col)?e:1,t.row=null!=(i=t.row)?i:1,t.elements=null!=(s=t.elements)?s:[]}initUserSetting(){this._gridInfo.colWidth&&this.setSizeFromUserSetting(this._gridInfo.colWidth,this._colSize,this._col,this._chartLayoutRect.width),this._gridInfo.rowHeight&&this.setSizeFromUserSetting(this._gridInfo.rowHeight,this._rowSize,this._row,this._chartLayoutRect.height),this._colSize.forEach((t,e)=>{t||(this._colSize[e]={value:0,isUserSetting:!1,isLayoutSetting:!1})}),this._rowSize.forEach((t,e)=>{t||(this._rowSize[e]={value:0,isUserSetting:!1,isLayoutSetting:!1})})}setSizeFromUserSetting(t,e,i,a){t.forEach(t=>{t.index<0&&t.index>=i||((0,s.Z)(t.size)?e[t.index]={value:+t.size,isUserSetting:!0,isLayoutSetting:!1}:(0,r.Z)(t.size)&&(e[t.index]={value:t.size(a),isUserSetting:!0,isLayoutSetting:!1}))})}clearLayoutSize(){this._gridInfo.colWidth&&this.setSizeFromUserSetting(this._gridInfo.colWidth,this._colSize,this._col,this._chartLayoutRect.width),this._gridInfo.rowHeight&&this.setSizeFromUserSetting(this._gridInfo.rowHeight,this._rowSize,this._row,this._chartLayoutRect.height),this._colSize.forEach(t=>{t.isLayoutSetting=!1,t.isUserSetting||(t.value=0)}),this._rowSize.forEach(t=>{t.isLayoutSetting=!1,t.isUserSetting||(t.value=0)})}getItemGridInfo(t){var e;let i,s=this._elementMap.get(t);return s||((i=null==(e=this._gridInfo.elements)?void 0:e.find(e=>{var i;if("modelId"in e&&(0,a.Z)(e.modelId)){if((0,a.Z)(t.model.userId)&&t.model.userId===e.modelId)return!0}else if("modelKey"in e&&(0,a.Z)(e.modelKey)&&"modelIndex"in e&&(0,a.Z)(e.modelIndex)&&(null!=(i=t.model.specKey)?i:t.model.type)===e.modelKey&&t.model.getSpecIndex()===e.modelIndex)return!0;return!1}))||(i={col:0,colSpan:1,row:0,rowSpan:1}),this._elementMap.set(t,i),i)}getSizeFromGrid(t,e){var i;let s="col"===e?this._colSize:this._rowSize,r=0;for(let a=t[e];a<t[e]+(null!=(i=t[`${e}Span`])?i:1);a++)r+=s[a].value;return r}getSizeFromUser(t,e){var i,s;let r="col"===e?this._colSize:this._rowSize;if(!(null==(i=r[t[e]])?void 0:i.isUserSetting))return;let a=0;for(let i=t[e];i<t[e]+(null!=(s=t[`${e}Span`])?s:1);i++){if(!r[i].isUserSetting)return;a+=r[i].value}return a}setItemLayoutSizeToGrid(t,e){if(n(t))e.colSpan&&e.colSpan>1||this._colSize[e.col].isUserSetting||(this._colSize[e.col].value=Math.max(this._colSize[e.col].value,t.getLayoutRect().width+t.layoutPaddingLeft+t.layoutPaddingRight),this._colSize[e.col].isLayoutSetting=!0);else{if(e.rowSpan&&e.rowSpan>1||this._rowSize[e.row].isUserSetting)return;this._rowSize[e.row].value=Math.max(this._rowSize[e.row].value,t.getLayoutRect().height+t.layoutPaddingTop+t.layoutPaddingBottom),this._rowSize[e.row].isLayoutSetting=!0}}layoutGrid(t){let e="col"===t?this._colSize:this._rowSize,i="col"===t?this._chartLayoutRect.width:this._chartLayoutRect.height,s=[];e.forEach(t=>{t.isUserSetting||t.isLayoutSetting?i-=t.value:s.push(t)}),i<0&&console.warn(`layout content ${t} size bigger than chart`),s.forEach(t=>t.value=i/s.length)}getItemPosition(t){let e=this.getItemGridInfo(t),i={x:this._chartLayoutRect.x,y:this._chartLayoutRect.y};for(let t=0;t<e.col;t++)i.x+=this._colSize[t].value;for(let t=0;t<e.row;t++)i.y+=this._rowSize[t].value;return i.x+=t.layoutPaddingLeft+t.layoutOffsetX,i.y+=t.layoutPaddingTop+t.layoutOffsetY,i}getItemLayoutRect(t){var e,i;let s=this.getItemGridInfo(t);return{width:(null!=(e=this.getSizeFromGrid(s,"col"))?e:this._chartLayoutRect.width)-t.layoutPaddingLeft-t.layoutPaddingRight,height:(null!=(i=this.getSizeFromGrid(s,"row"))?i:this._chartLayoutRect.height)-t.layoutPaddingTop-t.layoutPaddingBottom}}layoutItems(t,e,i,s){this._chartLayoutRect=i,this._chartViewBox=s,this.clearLayoutSize(),e.sort((t,e)=>e.layoutLevel-t.layoutLevel);let r=e.filter(t=>"normal"===t.layoutType&&!1!==t.getModelVisible()),a=r.filter(t=>n(t)),l=r.filter(t=>!n(t));r.forEach(t=>{this.layoutOneItem(t,"user",!1)});let o=e.filter(t=>"region-relative"===t.layoutType),h=o.filter(t=>n(t)),u=o.filter(t=>!n(t));h.forEach(t=>this.layoutOneItem(t,"user",!1)),this.layoutGrid("col"),l.forEach(t=>this.layoutOneItem(t,"colGrid",!1)),u.forEach(t=>{this.layoutOneItem(t,"colGrid",!1)}),this.layoutGrid("row"),u.forEach(t=>{this.layoutOneItem(t,"grid",!1)}),a.forEach(t=>this.layoutOneItem(t,"grid",!1)),h.forEach(t=>{this.layoutOneItem(t,"grid",!0)}),this.layoutGrid("col"),e.filter(t=>"region"===t.layoutType).forEach(t=>this.layoutOneItem(t,"grid",!1)),this.layoutAbsoluteItems(e.filter(t=>"absolute"===t.layoutType)),e.filter(t=>"absolute"!==t.layoutType).forEach(t=>{t.setLayoutStartPosition(this.getItemPosition(t))})}layoutAbsoluteItems(t){t.forEach(t=>{t.absoluteLayoutInRect(this._chartLayoutRect)})}layoutOneItem(t,e,i){var r,a;let l="rowGrid"===e||"grid"===e?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),o="colGrid"===e||"grid"===e?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),n=this.getItemGridInfo(t),h={width:(null!=(r=o(n,"col"))?r:this._chartLayoutRect.width)-t.layoutPaddingLeft-t.layoutPaddingRight,height:(null!=(a=l(n,"row"))?a:this._chartLayoutRect.height)-t.layoutPaddingTop-t.layoutPaddingBottom},u=t.computeBoundsInRect(h);(0,s.Z)(u.width)||(u.width=h.width),(0,s.Z)(u.height)||(u.height=h.height),t.setLayoutRect("grid"!==e?u:h),this.setItemLayoutSizeToGrid(t,n)}}function n(t){return"left"===t.layoutOrient||"right"===t.layoutOrient}o.type="grid";let h=()=>{l.F.registerLayout(o.type,o)}},840892:function(t,e,i){i.d(e,{c:()=>o});var s=i(576225),r=i(50026),a=i(505441),l=i(663787);class o{getSpec(){return this._spec||{}}getLayoutStartPoint(){return this._layoutStartPoint}get layoutRectLevelMap(){return this._layoutRectLevelMap}get minWidth(){return this._minWidth}set minWidth(t){this._minWidth=t}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth=t}get minHeight(){return this._minHeight}set minHeight(t){this._minHeight=t}get maxHeight(){return this._maxHeight}set maxHeight(t){this._maxHeight=t}get lastComputeRect(){return this._lastComputeRect}getLastComputeOutBounds(){return this._lastComputeOutBounds}get layoutOrient(){return this._layoutOrient}set layoutOrient(t){this._layoutOrient=t}get model(){return this._model}get type(){return this._model.type}get willLayoutTag(){return this._willLayoutTag}constructor(t,e){var i;this.layoutClip=!1,this.autoIndent=!1,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:0,height:0},this._layoutRectLevelMap={width:l.sd,height:l.sd},this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._lastComputeRect=null,this._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0},this.getLayoutRect=()=>this._layoutRect,this.layoutType="normal",this._layoutOrient="left",this.layoutPaddingLeft=0,this.layoutPaddingTop=0,this.layoutPaddingRight=0,this.layoutPaddingBottom=0,this.layoutOffsetX=0,this.layoutOffsetY=0,this.layoutLevel=l.pM.Region,this._willLayoutTag=!0,this._model=t,this._option=e,this.layoutLevel=e.layoutLevel,this.layoutType=e.layoutType,e.layoutOrient&&(this.layoutOrient=e.layoutOrient),this._spec=null==(i=null==t?void 0:t.getSpec)?void 0:i.call(t)}_setLayoutAttributeFromSpec(t,e){var i,r,o,n;if(this._spec&&!1!==this._spec.visible){let h=(0,a.Ek)(t.padding),u=(0,a.qY)(h,e,e);this._option.transformLayoutPadding&&(u=this._option.transformLayoutPadding(u)),this.layoutPaddingLeft=u.left,this.layoutPaddingRight=u.right,this.layoutPaddingTop=u.top,this.layoutPaddingBottom=u.bottom,this._minHeight=(0,s.Z)(t.minHeight)?null!=(i=this._minHeight)?i:null:(0,a.Mv)(t.minHeight,e.height,e),this._maxHeight=(0,s.Z)(t.maxHeight)?null!=(r=this._maxHeight)?r:null:(0,a.Mv)(t.maxHeight,e.height,e),this._minWidth=(0,s.Z)(t.minWidth)?null!=(o=this._minWidth)?o:null:(0,a.Mv)(t.minWidth,e.width,e),this._maxWidth=(0,s.Z)(t.maxWidth)?null!=(n=this._maxWidth)?n:null:(0,a.Mv)(t.maxWidth,e.width,e),t.width&&this.setLayoutRect({width:(0,a.Mv)(t.width,e.width,e)},{width:l.wK}),t.height&&this.setLayoutRect({height:(0,a.Mv)(t.height,e.height,e)},{height:l.wK}),(0,s.Z)(t.offsetX)||(this.layoutOffsetX=(0,a.Mv)(t.offsetX,e.width,e)),(0,s.Z)(t.offsetY)||(this.layoutOffsetY=(0,a.Mv)(t.offsetY,e.height,e)),t.alignSelf&&(this.alignSelf=t.alignSelf)}}setAttrFromSpec(t,e){var i,s,r,a;this._spec=t,this.layoutType=null!=(i=t.layoutType)?i:this.layoutType,this.layoutLevel=null!=(s=t.layoutLevel)?s:this.layoutLevel,this.layoutOrient=null!=(r=t.orient)?r:this.layoutOrient,this._setLayoutAttributeFromSpec(t,e),this.layoutClip=null!=(a=t.clip)?a:this.layoutClip}onLayoutStart(t,e){this._setLayoutAttributeFromSpec(this._spec,e)}onLayoutEnd(){}_getAbsoluteSpecValue(t){let e={top:null,bottom:null,left:null,right:null};return["top","bottom","left","right"].forEach(i=>{(0,s.Z)(this._spec[i])||(e[i]=(0,a.Mv)(this._spec[i],"top"===i||"bottom"===i?t.height:t.width,t))}),e}absoluteLayoutInRect(t){let{top:e,bottom:i,left:r,right:a}=this._getAbsoluteSpecValue(t),l={width:t.width-this.layoutPaddingLeft-this.layoutPaddingRight,height:t.height-this.layoutPaddingTop-this.layoutPaddingBottom};(0,s.Z)(r)||(l.width-=r),(0,s.Z)(a)||(l.width-=a),(0,s.Z)(e)||(l.height-=e),(0,s.Z)(i)||(l.height-=i),this.setLayoutRect(l);let{width:o,height:n}=this.computeBoundsInRect(this.getLayoutRect());this.setLayoutRect({width:o,height:n});let h={x:t.x,y:t.y};!0===this._spec.center?(h.x=t.x+.5*t.width-.5*o,h.y=t.y+.5*t.height-.5*n):((0,s.Z)(r)?(0,s.Z)(a)||(h.x=t.x+t.width-this.layoutPaddingRight-a-o):h.x=t.x+r+this.layoutPaddingLeft,(0,s.Z)(e)?(0,s.Z)(i)||(h.y=t.y+t.height-this.layoutPaddingBottom-i-n):h.y=t.y+e+this.layoutPaddingTop),this.setLayoutStartPosition(h)}setLayoutStartPosition(t){var e,i;this._option.transformLayoutPosition&&(t=this._option.transformLayoutPosition(t)),(0,r.Z)(t.x)&&(this._layoutStartPoint.x=t.x),(0,r.Z)(t.y)&&(this._layoutStartPoint.y=t.y),null==(i=(e=this._model).afterSetLayoutStartPoint)||i.call(e,this._layoutStartPoint)}setLayoutRect({width:t,height:e},i){var s,a,o,n;(0,r.Z)(t)&&(null!=(s=null==i?void 0:i.width)?s:l.sd)>=this._layoutRectLevelMap.width&&(this._layoutRect.width=t,this._layoutRectLevelMap.width=null!=(a=null==i?void 0:i.width)?a:l.sd),(0,r.Z)(e)&&(null!=(o=null==i?void 0:i.height)?o:l.sd)>=this._layoutRectLevelMap.height&&(this._layoutRect.height=e,this._layoutRectLevelMap.height=null!=(n=null==i?void 0:i.height)?n:l.sd),this.setRectInSpec(this._layoutRect)}getLayout(){return{x:this._layoutStartPoint.x,y:this._layoutStartPoint.y,width:this._layoutRect.width,height:this._layoutRect.height}}mergeLayoutRect({width:t,height:e}){let i={width:t,height:e};return this._layoutRectLevelMap.width>l.sd&&(i.width=this._layoutRect.width),this._layoutRectLevelMap.height>l.sd&&(i.height=this._layoutRect.height),i}getOrientPosAttribute(){return"bottom"===this._layoutOrient||"top"===this._layoutOrient?"x":"y"}getOrientSizeAttribute(){return"bottom"===this._layoutOrient||"top"===this._layoutOrient?"width":"height"}changeBoundsBySetting(t){return this._layoutRectLevelMap.width>l.sd&&(t.x2=t.x1+this._layoutRect.width),this._layoutRectLevelMap.height>l.sd&&(t.y2=t.y1+this._layoutRect.height),t.x1-=this._layoutStartPoint.x,t.x2-=this._layoutStartPoint.x,t.y1-=this._layoutStartPoint.y,t.y2-=this._layoutStartPoint.y,t}setRectInSpec(t){let e=Object.assign({},t);return this._layoutRectLevelMap.width<l.wK?((0,s.Z)(this._minWidth)||(e.width=Math.max(e.width,this._minWidth)),(0,s.Z)(this._maxWidth)||(e.width=Math.min(e.width,this._maxWidth))):e.width=this._layoutRect.width,this._layoutRectLevelMap.height<l.wK?((0,s.Z)(this._minHeight)||(e.height=Math.max(e.height,this._minHeight)),(0,s.Z)(this._maxHeight)||(e.height=Math.min(e.height,this._maxHeight))):e.height=this._layoutRect.height,e}computeBoundsInRect(t){if(this._lastComputeRect=t,("region-relative"===this.layoutType||"region-relative-overlap"===this.layoutType)&&(this._layoutRectLevelMap.width===l.wK&&("left"===this.layoutOrient||"right"===this.layoutOrient)||this._layoutRectLevelMap.height===l.wK&&("bottom"===this.layoutOrient||"top"===this.layoutOrient)))return this._layoutRect;let e=Object.assign({},this._model.getBoundsInRect(this.setRectInSpec(t),t));this.changeBoundsBySetting(e),this.autoIndent&&e.x2-e.x1>0&&e.y2-e.y1>0&&(this._lastComputeOutBounds.x1=Math.ceil(-e.x1),this._lastComputeOutBounds.x2=Math.ceil(e.x2-t.width),this._lastComputeOutBounds.y1=Math.ceil(-e.y1),this._lastComputeOutBounds.y2=Math.ceil(e.y2-t.height));let i=this.setRectInSpec((0,a.qt)(e,t));return this._option.transformLayoutRect&&(i=this._option.transformLayoutRect(i)),i}getModelId(){return this._model.id}getModelVisible(){return this._model.getVisible()}setWillLayoutTag(){this._willLayoutTag=!0}clearWillLayoutTag(){this._willLayoutTag=!1}}}}]);