"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["93305"],{990389:function(e,t,r){r.d(t,{rF:()=>ek});var i,n=r(180348),a=r(736264),o=r(669745),l=r(362199),s=r(330429);let c=class{constructor(e){this.drawContribution=e}prepare(e){e&&this.renderTreeRoots.forEach(t=>{this._prepare(t,e)})}_prepare(e,t){e.forEachChildren(e=>{this._prepare(e,t)}),e.update({bounds:t,trans:!0})}prepareRenderList(){}beforeDraw(e){}draw(e){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(e){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}reInit(){this.drawContribution.reInit()}render(e,t){this.renderTreeRoots=e,this.drawParams=t;let r=t.updateBounds;this.prepare(r),this.prepareRenderList(),this.beforeDraw(t),this.draw(t),this.afterDraw(t),this.drawParams=null}};c=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),(eu=(0,l.f)(s.Iv),function(e,t){eu(e,t,0)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],c);var d=r(221427),u=new a.n(e=>{e(d.p).to(c)}),h=r(345236),f=r(919498),p=r(624108),g=r(140038),b=r(930615),y=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};let m=class{constructor(){this.order=1}afterPickItem(e,t,r,i,n){if(e.graphic){let t=e.graphic;for(;t.parent;)t=t.parent;t.shadowHost&&(e.params={shadowTarget:e.graphic},e.graphic=t.shadowHost)}return e}};m=y([(0,o.b)()],m);let S=class{constructor(){this.order=1}afterPickItem(e,t,r,i,n){return e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx?this._pickItem(e,t,r,i,n):null}beforePickItem(e,t,r,i,n){return e.attribute.shadowRootIdx<0?this._pickItem(e,t,r,i,n):null}_pickItem(e,t,r,i,n){var a;if(!e.shadowRoot)return null;let{parentMatrix:o}=n||{};if(!o)return null;let l=t.pickContext;l.highPerformanceSave();let s=null==(a=(0,b.gh)(e))?void 0:a[e.type],{shadowPickMode:c=null==s?void 0:s.shadowPickMode}=e.attribute,d=e.shadowRoot,u=p.QE.allocateByObj(o),h=new f.E9(u.a*r.x+u.c*r.y+u.e,u.b*r.x+u.d*r.y+u.f),g=t.pickGroup(d,h,u,i);return l.highPerformanceRestore(),!g.graphic&&g.group&&"full"===c&&(g.graphic=g.group),g}};S=y([(0,o.b)()],S);let v=class{constructor(){this.order=1}beforePickItem(e,t,r,i,n){let a=e.baseGraphic;if(a&&a.parent){let e=new f.E9(r.x,r.y),n=t.pickContext;n.highPerformanceSave();let o=a.parent.globalTransMatrix;o.transformPoint(e,e);let l=a.isContainer?t.pickGroup(a,e.clone(),o,i):t.pickItem(a,e.clone(),o,i);return n.highPerformanceRestore(),l}return null}};v=y([(0,o.b)()],v);let x=class{constructor(){this.order=1}beforePickItem(e,t,r,i,n){if(!e.in3dMode||i.in3dInterceptor)return null;let a=t.pickContext,o=e.stage;if(!a||!o)return null;if(i.in3dInterceptor=!0,a.save(),this.initCanvasCtx(a),a.camera=o.camera,e.isContainer){let o=(0,g.y)(a,e,()=>t.pickGroup(e,r,n.parentMatrix,i),i);return a.camera=null,i.in3dInterceptor=!1,a.restore(),o}return a.restore(),null}initCanvasCtx(e){e.setTransformForCurrent()}};x=y([(0,o.b)()],x);var w=r(337886),R=new a.n((e,t,r)=>{r(h.hH)||(e(h.BR).toSelf(),e(h.hH).toService(h.BR)),e(x).toSelf().inSingletonScope(),e(h.uH).toService(x),e(S).toSelf().inSingletonScope(),e(h.uH).toService(S),e(v).toSelf().inSingletonScope(),e(h.uH).toService(v),(0,w.yb)(e,h.uH),e(m).toSelf().inSingletonScope(),e(h.tn).toService(m),(0,w.yb)(e,h.tn)}),k=r(726255),C=r(200559),P=r(18163),O=r(64849),I=function(e,t){return function(r,i){t(r,i,e)}};let A=class{constructor(e){this.autoEnablePlugins=e,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(e,t){this.stage=e,this.actived=!0;let{pluginList:r}=t;r&&O.n.isBound(C.X)&&this.autoEnablePlugins.getContributions().forEach(e=>{r.includes(e.name)&&this.register(e)})}findPluginsByName(e){let t=[];return this.onStartupFinishedPlugin.forEach(r=>{r.name===e&&t.push(r)}),this.onRegisterPlugin.forEach(r=>{r.name===e&&t.push(r)}),t}register(e){"onStartupFinished"===e.activeEvent?this.onStartupFinishedPlugin.push(e):"onRegister"===e.activeEvent&&(this.onRegisterPlugin.push(e),e.activate(this))}unRegister(e){"onStartupFinished"===e.activeEvent?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(e),1):"onRegister"===e.activeEvent&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(e),1),e.deactivate(this)}release(...e){this.onStartupFinishedPlugin.forEach(e=>{e.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(e=>{e.deactivate(this)}),this.onRegisterPlugin=[]}};A=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),I(0,(0,l.f)(w.Qc)),I(0,(0,P.t)(C.X)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],A);var M=new a.n(e=>{e(C.H).to(A),(0,w.EM)(e,C.X)}),T=r(778865),B=r(240221),F=r(501147),j=r(688606),_=r(263401),D=r(695723),G=r(219273),E=r(985476),L=r(362055),z=r(222669);let H=Symbol.for("DrawItemInterceptor"),X=new _.FB,Y=new _.FB;class W{constructor(){this.order=1}afterDrawItem(e,t,r,i,n){return null==e.attribute.shadowRootIdx&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0||(e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0)&&this.drawItem(e,t,r,i,n),!1}beforeDrawItem(e,t,r,i,n){return null==e.attribute.shadowRootIdx&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0||(e.attribute.shadowRootIdx<0||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0)&&this.drawItem(e,t,r,i,n),!1}drawItem(e,t,r,i,n){if(!e.shadowRoot)return!1;let{context:a}=r;if(a.highPerformanceSave(),a.transformFromMatrix(e.transMatrix,!0),i.dirtyBounds&&i.backupDirtyBounds){X.copy(i.dirtyBounds),Y.copy(i.backupDirtyBounds);let t=e.globalTransMatrix.getInverse();i.dirtyBounds.copy(i.backupDirtyBounds).transformWithMatrix(t),i.backupDirtyBounds.copy(i.dirtyBounds)}return i.renderGroup(e.shadowRoot,r,p.QE.allocate(1,0,0,1,0,0)),a.highPerformanceRestore(),i.dirtyBounds&&i.backupDirtyBounds&&(i.dirtyBounds.copy(X),i.backupDirtyBounds.copy(Y)),!0}}class N{constructor(){this.order=1}afterDrawItem(e,t,r,i,n){return e.attribute._debug_bounds&&this.drawItem(e,t,r,i,n),!1}drawItem(e,t,r,i,n){if(!e.attribute._debug_bounds)return!1;let{context:a}=r;a.highPerformanceSave(),e.parent&&a.setTransformFromMatrix(e.parent.globalTransMatrix,!0),e.glyphHost&&e.glyphHost.parent&&a.setTransformFromMatrix(e.glyphHost.parent.globalTransMatrix,!0);let o=e.AABBBounds;return!0!==e.attribute._debug_bounds&&e.attribute._debug_bounds(a,e),a.strokeRect(o.x1,o.y1,o.width(),o.height()),a.highPerformanceRestore(),!0}}let U=class{constructor(){this.order=1,this.interceptors=[new W,new Z,new V,new N]}afterDrawItem(e,t,r,i,n){if((!e.in3dMode||r.in3dInterceptor)&&!e.shadowRoot&&!e.attribute._debug_bounds&&!(e.baseGraphic||e.attribute.globalZIndex||e.interactiveGraphic))return!1;for(let a=0;a<this.interceptors.length;a++)if(this.interceptors[a].afterDrawItem&&this.interceptors[a].afterDrawItem(e,t,r,i,n))return!0;return!1}beforeDrawItem(e,t,r,i,n){if((!e.in3dMode||r.in3dInterceptor)&&!e.shadowRoot&&!e.attribute._debug_bounds&&!(e.baseGraphic||e.attribute.globalZIndex||e.interactiveGraphic))return!1;for(let a=0;a<this.interceptors.length;a++)if(this.interceptors[a].beforeDrawItem&&this.interceptors[a].beforeDrawItem(e,t,r,i,n))return!0;return!1}};U=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],U);class V{constructor(){this.order=1}beforeDrawItem(e,t,r,i,n){return!this.processing&&(e.baseGraphic?this.beforeDrawInteractive(e,t,r,i,n):this.beforeSetInteractive(e,t,r,i,n))}beforeSetInteractive(e,t,r,i,n){let a=e.interactiveGraphic;if(e.attribute.globalZIndex){a||(a=e.clone(),e.interactiveGraphic=a,a.baseGraphic=e),a.setAttributes({globalZIndex:0,zIndex:e.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),r.stage.tryInitInteractiveLayer();let t=r.stage.getLayer("_builtin_interactive");return t&&this.getShadowRoot(t).add(a),!0}if(a){r.stage.tryInitInteractiveLayer();let t=r.stage.getLayer("_builtin_interactive");t&&this.getShadowRoot(t).removeChild(a),e.interactiveGraphic=null,a.baseGraphic=null}return!1}beforeDrawInteractive(e,t,r,i,n){let a=e.baseGraphic,o=!!a.stage,l=a.parent;for(;o&&l&&l.stage!==l;)o=!!l.stage,l=l.parent;if(!o){let t=r.stage.getLayer("_builtin_interactive");return t&&this.getShadowRoot(t).removeChild(e),!0}if(a){this.processing=!0;let{context:e}=r;return e.highPerformanceSave(),e.setTransformFromMatrix(a.parent.globalTransMatrix,!0),a.isContainer?i.renderGroup(a,r,a.parent.globalTransMatrix):i.renderItem(a,r),e.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(e){var t;let r=e.getElementById("_interactive_group");return r||((r=z.i.CreateGraphic("group",{})).id="_interactive_group",e.add(r)),null!=(t=r.shadowRoot)?t:r.attachShadow()}}class Z{constructor(){this.order=1}beforeDrawItem(e,t,r,i,n){if(!e.in3dMode||r.in3dInterceptor)return!1;r.in3dInterceptor=!0;let{context:a,stage:o}=t.drawParams;a.canvas,a.save(),this.initCanvasCtx(a),a.camera=o.camera;let l=a.currentMatrix;l.a/=a.dpr,l.b/=a.dpr,l.c/=a.dpr,l.d/=a.dpr,l.e/=a.dpr,l.f/=a.dpr;let s=p.yp.allocate();(0,L.B$)(s,l);let c=a.modelMatrix;if(c){if(s){let e=p.yp.allocate();a.modelMatrix=(0,L.G9)(e,c,s)}}else a.modelMatrix=s;return a.setTransform(1,0,0,1,0,0,!0),e.isContainer?(0,g.y)(a,e,(t,n)=>i.renderGroup(e,r,e.parent.globalTransMatrix,!t&&n),r):i.renderItem(e,r),a.camera=null,a.restore(),a.modelMatrix!==c&&p.yp.free(a.modelMatrix),a.modelMatrix=c,r.in3dInterceptor=!1,!0}initCanvasCtx(e){e.setTransformForCurrent()}}var $=r(902978),Q=r(171185),K=r(894442),q=function(e,t){return function(r,i){t(r,i,e)}};let J=class{constructor(e,t){this.contributions=e,this.drawItemInterceptorContributions=t,this._renderInGroup=(e,t,r,i)=>{var n;e?t.forEachChildren(e=>{r.break||(e.isContainer?this.renderGroup(e,r,i):this.renderItem(e,r))}):(0,F.kD)(t,j.xF.zIndex,e=>{r.break||(e.isContainer?this.renderGroup(e,r,i):this.renderItem(e,r))},!1,!!(null==(n=r.context)?void 0:n.camera))},this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new _.YZ,this.backupDirtyBounds=new _.YZ,this.global=K.w.global,this.layerService=K.w.layerService,(0,D.Z)(this.contributions)||(this.contributions=[this.contributions]),this.init()}reInit(){this.init(),this.contributions.forEach(e=>{e.reInit()})}init(){this.contributions.forEach(e=>{if(e.style){let t=this.styleRenderMap.get(e.style)||new Map;t.set(e.numberType,e),this.styleRenderMap.set(e.style,t)}else this.defaultRenderMap.set(e.numberType,e)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order)}prepareForDraw(e,t){t.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!t.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(e,t){var r;this.prepareForDraw(e,t),t.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(t.renderStyle)||this.defaultRenderMap,this.currentRenderService=e;let{context:i,stage:n,viewBox:a,transMatrix:o}=t;if(!i)return;let l=this.dirtyBounds.setValue(0,0,a.width(),a.height());if(n.dirtyBounds&&!n.dirtyBounds.empty()){let e=(0,G.di)(l,n.dirtyBounds,!1);l.x1=Math.floor(e.x1),l.y1=Math.floor(e.y1),l.x2=Math.ceil(e.x2),l.y2=Math.ceil(e.y2)}let s=i.dpr%1;(s||.5!==s)&&(l.x1=Math.floor(l.x1*i.dpr)/i.dpr,l.y1=Math.floor(l.y1*i.dpr)/i.dpr,l.x2=Math.ceil(l.x2*i.dpr)/i.dpr,l.y2=Math.ceil(l.y2*i.dpr)/i.dpr),this.backupDirtyBounds.copy(l),i.reset(!1),i.save(),i.setClearMatrix(o.a,o.b,o.c,o.d,o.e,o.f),i.clearMatrix(!1),i.translate(a.x1,a.y1,!0),i.beginPath(),i.rect(l.x1,l.y1,l.width(),l.height()),i.clip(),n.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(e,i,t),(null==(r=e.drawParams)?void 0:r.stage)&&e.drawParams.stage.hooks.afterClearScreen.call(e.drawParams),e.renderTreeRoots.sort((e,t)=>{var r,i;return(null!=(r=e.attribute.zIndex)?r:j.xF.zIndex)-(null!=(i=t.attribute.zIndex)?i:j.xF.zIndex)}).forEach(e=>{e.isContainer?this.renderGroup(e,t,p.QE.allocate(1,0,0,1,0,0)):this.renderItem(e,t)}),i.restore(),i.draw()}doRegister(){throw Error("\u6682\u4E0D\u652F\u6301")}_findNextGraphic(e){let t=e.parent,r=e._uid;for(;t;){let e=(0,F.qA)(t,r,j.xF.zIndex);if(e)return e;r=t._uid,t=t.parent}return null}renderGroup(e,t,r,i){if(t.break||!1===e.attribute.visibleAll)return;if(e.incremental&&(null==t.startAtId||t.startAtId===e._uid))return t.break=!0,void this._increaseRender(e,t);if(this.useDirtyBounds&&!(0,G.SX)(e.AABBBounds,this.dirtyBounds,!1)&&"empty"!==e.attribute.boundsMode)return;let n,a=r;if(this.useDirtyBounds){n=Q.et.allocateByObj(this.dirtyBounds);let t=e.transMatrix;a=p.QE.allocateByObj(r).multiply(t.a,t.b,t.c,t.d,t.e,t.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(a.getInverse())}t.isGroupScroll=!(!e.attribute.scrollX&&!e.attribute.scrollY),this.renderItem(e,t,{renderInGroupParams:{skipSort:i,nextM:a},renderInGroup:this._renderInGroup}),this.useDirtyBounds&&(this.dirtyBounds.copy(n),Q.et.free(n),p.QE.free(a))}_increaseRender(e,t){let{layer:r,stage:i}=t,{subLayers:n}=r,a=n.get(e._uid);a||(a={layer:this.layerService.createLayer(i),zIndex:n.size,group:e},n.set(e._uid,a));let o=a.layer.getNativeHandler().getContext(),l=a.drawContribution||O.n.get(s.Pf);l.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),l.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),l.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:l,clear:"transparent",layer:a.layer,context:o,startAtId:e._uid,break:!1})),a.drawContribution=l;let c=this._findNextGraphic(e);if(c)if(c.isContainer&&c.incremental)this._increaseRender(c,t);else{let e=n.get(c._uid);e||(e={layer:this.layerService.createLayer(i),zIndex:n.size},n.set(c._uid,e));let r=e.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:l,clear:"transparent",layer:e.layer,context:r,startAtId:c._uid,break:!1}))}}getRenderContribution(e){let t;return t||(t=this.selectRenderByNumberType(e.numberType,e)),t||(t=this.selectRenderByType(e.type)),t}renderItem(e,t,r){if(this.InterceptorContributions.length)for(let i=0;i<this.InterceptorContributions.length;i++){let n=this.InterceptorContributions[i];if(n.beforeDrawItem&&n.beforeDrawItem(e,this.currentRenderService,t,this,r))return}let i=this.getRenderContribution(e);if(!i)return;let n,a=!1;if(t.isGroupScroll){let{scrollX:t=0,scrollY:r=0}=e.parent.attribute;a=!0,this.scrollMatrix||(this.scrollMatrix=p.QE.allocate(1,0,0,1,0,0)),this.scrollMatrix.translate(-t,-r)}if(a&&(n=this.dirtyBounds.clone().transformWithMatrix(this.scrollMatrix)),this.useDirtyBounds&&!e.isContainer&&"empty"!==e.attribute.boundsMode&&!(0,G.SX)(e.AABBBounds,null!=n?n:this.dirtyBounds,!1)){if(a&&e.parent){let{scrollX:t=0,scrollY:r=0}=e.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(t,r)}return}let o=null!=t.startAtId&&e._uid!==t.startAtId;if(e._uid===t.startAtId&&(t.startAtId=null),r&&(r.skipDraw=o),o?e.isContainer&&i.draw(e,this.currentRenderService,t,r):i.draw(e,this.currentRenderService,t,r),a&&e.parent){let{scrollX:t=0,scrollY:r=0}=e.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(t,r)}if(this.InterceptorContributions.length)for(let r=0;r<this.InterceptorContributions.length;r++){let i=this.InterceptorContributions[r];if(i.afterDrawItem&&i.afterDrawItem(e,this.currentRenderService,t,this))return}}selectRenderByType(e){return E.Y.getInstance().warn("\u672A\u77E5\u9519\u8BEF\uFF0C\u4E0D\u5E94\u8BE5\u8D70\u5230\u8FD9\u91CC"),null}selectRenderByNumberType(e,t){let r;if(t.attribute.renderStyle){let i=this.styleRenderMap.get(t.attribute.renderStyle);r=i&&i.get(e)}return r||this.currentRenderMap.get(e)||this.defaultRenderMap.get(e)}clearScreen(e,t,r){var i,n,a;let{clear:o,viewBox:l}=r,s=l.width(),c=l.height();if(o){t.clearRect(0,0,s,c),(null==(i=e.drawParams)?void 0:i.stage)&&e.drawParams.stage.hooks.afterClearRect.call(e.drawParams);let r=null==(n=e.drawParams)?void 0:n.stage;if(r&&(t.globalAlpha=null!=(a=r.attribute.opacity)?a:1),r&&r.backgroundImg&&r.resources){let e=r.resources.get(o);e&&"success"===e.state&&e.data&&t.drawImage(e.data,0,0,s,c)}else t.fillStyle=(0,$.L)(t,o,{AABBBounds:{x1:0,y1:0,x2:0+s,y2:0+c}},0,0),t.fillRect(0,0,s,c)}}afterDraw(e,t){}};J=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),q(0,(0,B.n)(s.uz)),q(1,(0,l.f)(w.Qc)),q(1,(0,P.t)(H)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Array,Object])],J);var ee=r(603390),et=r(656471),er=r(183522),ei=r(348668),en=r(753794),ea=r(513438),eo=r(421711);class el extends eo.M2{constructor(){super(...arguments),this.time=ea.Oh.beforeFillStroke}drawShape(e,t,r,i,n,a,o,l,s,c,d,u){let{background:h,backgroundMode:f=s.backgroundMode,backgroundFit:p=s.backgroundFit,backgroundKeepAspectRatio:g=s.backgroundKeepAspectRatio,backgroundScale:b=s.backgroundScale,backgroundOffsetX:y=s.backgroundOffsetX,backgroundOffsetY:m=s.backgroundOffsetY}=e.attribute;if(h)if(e.backgroundImg&&e.resources){let r=e.resources.get(h);if("success"!==r.state||!r.data)return;t.highPerformanceSave(),t.setTransformFromMatrix(e.parent.globalTransMatrix,!0);let i=e.AABBBounds;this.doDrawImage(t,r.data,i,{backgroundMode:f,backgroundFit:p,backgroundKeepAspectRatio:g,backgroundScale:b,backgroundOffsetX:y,backgroundOffsetY:m}),t.highPerformanceRestore(),t.setTransformForCurrent()}else t.highPerformanceSave(),t.fillStyle=h,t.fill(),t.highPerformanceRestore()}}let es=new el;var ec=function(e,t){return function(r,i){t(r,i,e)}};let ed=class{constructor(e){this.groupRenderContribitions=e,this.numberType=en.I_}reInit(){this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(es)}drawShape(e,t,r,i,n,a,o,l,s){let{clip:c,fill:d,stroke:u,background:h}=e.attribute;if(!(c||d||u||h))return;s=null!=s?s:(0,b.gh)(e,null==a?void 0:a.theme).group;let{opacity:f=s.opacity,width:p=s.width,height:g=s.height,fillOpacity:y=s.fillOpacity,strokeOpacity:m=s.strokeOpacity,cornerRadius:S=s.cornerRadius,path:v=s.path,lineWidth:x=s.lineWidth,visible:w=s.visible,fillStrokeOrder:R=s.fillStrokeOrder,cornerType:k=s.cornerType,x:C=s.x,y:P=s.y}=e.attribute,O=(0,er.GT)(f,y,p,g,d),I=(0,er.Ze)(f,m,p,g),A=(0,er.dz)(d,h),M=(0,er.ak)(u,x);if(!e.valid||!w||!c&&(!A&&!M||!(O||I||o||l||h)))return;if(v&&v.length&&n.drawContribution){let e=t.disableFill,r=t.disableStroke,i=t.disableBeginPath;t.disableFill=!0,t.disableStroke=!0,t.disableBeginPath=!0,v.forEach(e=>{n.drawContribution.getRenderContribution(e).draw(e,n.renderService,n,a)}),t.disableFill=e,t.disableStroke=r,t.disableBeginPath=i}else 0===S||(0,D.Z)(S)&&S.every(e=>0===e)?(t.beginPath(),t.rect(r,i,p,g)):(t.beginPath(),(0,et.U)(t,r,i,p,g,S,"bevel"!==k));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(es));let T={doFill:A,doStroke:M};t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this._groupRenderContribitions.forEach(a=>{a.time===ea.Oh.beforeFillStroke&&a.drawShape(e,t,r,i,A,M,O,I,s,n,o,l,T)}),c&&t.clip();let B=()=>{T.doFill&&(o?o(t,e.attribute,s):O&&(t.setCommonStyle(e,e.attribute,C-r,P-i,s),t.fill()))},F=()=>{T.doStroke&&(l?l(t,e.attribute,s):I&&(t.setStrokeStyle(e,e.attribute,C-r,P-i,s),t.stroke()))};R?(F(),B()):(B(),F()),this._groupRenderContribitions.forEach(a=>{a.time===ea.Oh.afterFillStroke&&a.drawShape(e,t,r,i,A,M,O,I,s,n,o,l)})}draw(e,t,r,i){var n,a;let o,{context:l}=r;if(!l)return;let{clip:s,baseOpacity:c=1,drawMode:d}=e.attribute,u=l.nativeContext,h=l.canvas.nativeCanvas;if(d>0){let{x:t,y:r,width:i,height:n}=e.attribute,a=l.canvas,o=K.w.global.createCanvas({width:a.width,height:a.height,dpr:1}),s=o.getContext("2d"),c=l.nativeContext.getTransform();s.setTransform(c.a,c.b,c.c,c.d,c.e,c.f),1===d&&(s.save(),s.clearRect(0,0,a.width,a.height),s.beginPath(),s.rect(t,r,i,n),s.clip(),s.drawImage(a.nativeCanvas,0,0,a.width,a.height,0,0,a.displayWidth,a.displayHeight),s.restore()),l.nativeContext=s,a.nativeCanvas=o}s?l.save():l.highPerformanceSave();let f=l.baseGlobalAlpha;l.baseGlobalAlpha*=c;let g=l.modelMatrix;if(l.camera){let t=(0,b.gh)(e,null==i?void 0:i.theme).group,r=p.yp.allocate(),n=p.yp.allocate();(0,ee.RT)(n,e,t),(0,L.G9)(r,g||r,n),l.modelMatrix=r,p.yp.free(n),l.setTransform(1,0,0,1,0,0,!0)}else l.transformFromMatrix(e.transMatrix,!0);l.beginPath(),i.skipDraw?this.drawShape(e,l,0,0,r,i,()=>!1,()=>!1):this.drawShape(e,l,0,0,r,null,null,null);let{scrollX:y,scrollY:m}=e.attribute;if((y||m)&&l.translate(y,m),i&&i.renderInGroup&&(o=i.renderInGroup(null==(n=i.renderInGroupParams)?void 0:n.skipSort,e,r,null==(a=i.renderInGroupParams)?void 0:a.nextM)),l.modelMatrix!==g&&p.yp.free(l.modelMatrix),l.modelMatrix=g,l.baseGlobalAlpha=f,d>0){let{x:t,y:r,width:i,height:n}=e.attribute,a=l.nativeContext,o=l.canvas.nativeCanvas;u.save(),u.setTransform(l.dpr,0,0,l.dpr,0,0,!0),1===d&&a.rect(t,r,i,n),u.drawImage(o,0,0,o.width,o.height,0,0,l.canvas.displayWidth,l.canvas.displayHeight);let s=a.getTransform();u.setTransform(s.a,s.b,s.c,s.d,s.e,s.f),l.nativeContext=u,l.canvas.nativeCanvas=h,u.restore()}o&&o.then?o.then(()=>{s?l.restore():l.highPerformanceRestore()}):s?l.restore():l.highPerformanceRestore()}};ed=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),ec(0,(0,l.f)(w.Qc)),ec(0,(0,P.t)(ei.jd)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],ed);var eu,eh,ef=r(914118),ep=r(3508),eg=r(347125),eb=function(e,t){return function(r,i){t(r,i,e)}},ey=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,l)}s((i=i.apply(e,t||[])).next())})};(i=eh||(eh={}))[i.NORMAL=0]="NORMAL",i[i.STOP=1]="STOP";let em=class extends J{constructor(e,t,r,i){super(e,i),this.contributions=e,this.lineRender=t,this.areaRender=r,this.drawItemInterceptorContributions=i,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=eh.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new ef.n([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(e,t){return ey(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=e,this.lastDrawContext=t,this.checkingForDrawPromise=this.checkForDraw(t);let r=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,r)return;this.currentRenderService=e;let{context:i,viewBox:n}=t;i&&(i.inuse=!0,i.clearMatrix(),i.setTransformForCurrent(!0),i.save(),t.restartIncremental&&this.clearScreen(this.currentRenderService,i,t),i.translate(n.x1,n.y1,!0),i.save(),e.renderTreeRoots.sort((e,t)=>{var r,i;return(null!=(r=e.attribute.zIndex)?r:j.xF.zIndex)-(null!=(i=t.attribute.zIndex)?i:j.xF.zIndex)}).forEach(e=>{this.renderGroup(e,t)}),this.hooks.completeDraw.tap("top-draw",()=>{i.restore(),i.restore(),i.draw(),i.inuse=!1,this.rendering=!1}))})}_increaseRender(e,t){return ey(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(e,t)})}_renderIncrementalGroup(e,t){return ey(this,void 0,void 0,function*(){this.count=e.count,yield new Promise(r=>{this.renderItem(e,t,{drawingCb:()=>ey(this,void 0,void 0,function*(){if(2!==e.count)yield(0,F.Ud)(e,j.xF.zIndex,(r,i)=>{if(this.status===eh.STOP)return!0;if(r.isContainer||i<this.currentIdx)return!1;let n=this.currFrameStartAt+e.incremental;return i<n&&(this.currentIdx=i+1,this.renderItem(r,t)),i===n-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),r(!1);else{let i=e.getChildAt(0);if(i.incremental&&i.attribute.segments)for(i.incrementalAt||(i.incrementalAt=0);i.incrementalAt<i.attribute.segments.length;)t.multiGraphicOptions={startAtIdx:i.incrementalAt,length:i.incremental},this.renderItem(i,t),i.incrementalAt+=i.incremental,yield this.waitToNextFrame();else this.renderItem(i,t);r(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return ey(this,void 0,void 0,function*(){return new Promise(e=>{this.global.getRequestAnimationFrame()(()=>{e(!1)})})})}checkForDraw(e){return ey(this,void 0,void 0,function*(){let t=this.rendering;return e.restartIncremental&&(t=!1,yield this.forceStop(),this.resetToInit()),t})}forceStop(){return ey(this,void 0,void 0,function*(){this.rendering&&(this.status=eh.STOP,yield new Promise(e=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=eh.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(e=>"stopCb"!==e.name),e(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(e,t){return ey(this,void 0,void 0,function*(){if(!t.break&&!1!==e.attribute.visibleAll)return e.incremental&&t.startAtId===e._uid?(yield this._increaseRender(e,t),void(t.break=!0)):void(yield new Promise(r=>{this.renderItem(e,t,{drawingCb:()=>ey(this,void 0,void 0,function*(){yield(0,F.Ud)(e,j.xF.zIndex,e=>ey(this,void 0,void 0,function*(){t.break||e.isContainer&&(yield this.renderGroup(e,t))})),r(!1)})})}))})}};em=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),eb(0,(0,B.n)(s.uz)),eb(1,(0,l.f)(ep.U)),eb(2,(0,l.f)(eg.K)),eb(3,(0,l.f)(w.Qc)),eb(3,(0,P.t)(H)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Array,Object,Object,Object])],em);var eS=r(743549),ev=new a.n(e=>{e(eo.M2).toSelf().inSingletonScope(),e(eS.$).toSelf().inSingletonScope(),e(s.Iv).to(J),e(s.Pf).to(em),e(s.Cb).to(ed).inSingletonScope(),e(s.uz).toService(s.Cb),(0,w.yb)(e,ei.jd),e(eo.Sg).toSelf().inSingletonScope(),(0,w.yb)(e,ei.tg),(0,w.yb)(e,s.uz),e(U).toSelf().inSingletonScope(),e(H).toService(U),(0,w.yb)(e,H)}),ex=r(217867),ew=r(388697);function eR(){eR.__loaded||(eR.__loaded=!0,O.n.load(n.Z),O.n.load(k.Z),O.n.load(u),O.n.load(R),O.n.load(M),(0,T.Z)(O.n),O.n.load(ev))}eR.__loaded=!1,eR();let ek=O.n.get(ew.y2);K.w.global=ek;let eC=O.n.get(ex.no);K.w.graphicUtil=eC;let eP=O.n.get(ex.Gp);K.w.transformUtil=eP;let eO=O.n.get(en.fB);K.w.graphicService=eO;let eI=O.n.get(ex.IT);K.w.layerService=eI},345236:function(e,t,r){r.d(t,{BR:()=>n,hH:()=>i,tn:()=>o,uH:()=>a}),Symbol.for("GraphicPicker");let i=Symbol.for("PickerService");Symbol.for("BoundsPicker");let n=Symbol.for("GlobalPickerService"),a=Symbol.for("PickItemInterceptor"),o=Symbol.for("PickServiceInterceptor")},148446:function(e,t,r){r.d(t,{f:()=>m});var i=r(263401),n=r(669182),a=r(919498),o=r(669745),l=r(362199),s=r(18163),c=r(501147),d=r(337886),u=r(930615),h=r(688606),f=r(362055),p=r(624108),g=r(894442),b=r(345236),y=function(e,t){return function(r,i){t(r,i,e)}};let m=class{constructor(e,t){this.pickItemInterceptorContributions=e,this.pickServiceInterceptorContributions=t,this.type="default",this.global=g.w.global}reInit(){this._init()}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order),this.pickerServiceInterceptorContributions=this.pickServiceInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order)}pick(e,t,r){let a,o={graphic:null,group:null};r.pickerService=this;let l=r.bounds.width(),s=r.bounds.height();if(!(new i.FB).setValue(0,0,l,s).containsPoint(t))return o;this.pickContext&&(this.pickContext.inuse=!0),r.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);let c=new n.y(1,0,0,1,0,0);for(let i=e.length-1;i>=0&&!(o=e[i].isContainer?this.pickGroup(e[i],t,c,r):this.pickItem(e[i],t,c,r)).graphic;i--)a||(a=o.group);if(o.graphic||(o.group=a),this.pickContext&&(this.pickContext.inuse=!1),this.pickerServiceInterceptorContributions.length)for(let e=0;e<this.pickerServiceInterceptorContributions.length;e++){let i=this.pickerServiceInterceptorContributions[e];i.afterPickItem&&(o=i.afterPickItem(o,this,t,r,{parentMatrix:c}))}return o}containsPoint(e,t,r){var i;return!!(null==(i=this.pickItem(e,t,null,null!=r?r:{pickContext:this.pickContext,pickerService:this}))?void 0:i.graphic)}pickGroup(e,t,r,i){let n={group:null,graphic:null};if(!1===e.attribute.visibleAll)return n;let o=i.pickContext,l=o.modelMatrix;if(o.camera){let t=e.transMatrix,r=p.yp.allocate();if((0,f.B$)(r,t),l){if(r){let e=p.yp.allocate();o.modelMatrix=(0,f.G9)(e,l,r),p.yp.free(r)}}else(0,f.B$)(r,e.globalTransMatrix),o.modelMatrix=r}if(this.InterceptorContributions.length)for(let n=0;n<this.InterceptorContributions.length;n++){let a=this.InterceptorContributions[n];if(a.beforePickItem){let n=a.beforePickItem(e,this,t,i,{parentMatrix:r});if(n)return o.modelMatrix!==l&&p.yp.free(o.modelMatrix),o.modelMatrix=l,n}}let s=e.transMatrix,d=p.QE.allocateByObj(r),g=new a.E9(t.x,t.y);d.transformPoint(g,g);let b=e.AABBBounds.containsPoint(g);if(!b&&!e.stage.camera)return n;let y=this.pickItem(e,g.clone(),r,i);y&&y.graphic&&(n.graphic=y.graphic,n.params=y.params);let m=!1!==e.attribute.pickable&&b;return d.multiply(s.a,s.b,s.c,s.d,s.e,s.f),!1===e.attribute.childrenPickable||y&&y.graphic||(0,c.kD)(e,h.xF.zIndex,o=>{if(o.isContainer){let r=new a.E9(t.x,t.y),l=(0,u.gh)(e).group,{scrollX:s=l.scrollX,scrollY:c=l.scrollY}=e.attribute;r.x-=s,r.y-=c,n=this.pickGroup(o,r,d,i)}else{let l=new a.E9(t.x,t.y);d.transformPoint(l,l);let s=(0,u.gh)(e).group,{scrollX:c=s.scrollX,scrollY:h=s.scrollY}=e.attribute;l.x-=c,l.y-=h;let f=this.pickItem(o,l,r,i);f&&f.graphic&&(n.graphic=f.graphic,n.params=f.params)}return!!n.graphic||!!n.group},!0,!!o.camera),o.modelMatrix!==l&&p.yp.free(o.modelMatrix),o.modelMatrix=l,n.graphic||n.group||!m||e.stage.camera||(n.group=e),p.QE.free(d),n}selectPicker(e){return this.pickerMap.get(e.numberType)||null}};m=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,o.b)(),y(0,(0,l.f)(d.Qc)),y(0,(0,s.t)(b.uH)),y(1,(0,l.f)(d.Qc)),y(1,(0,s.t)(b.tn)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object])],m)},541901:function(e,t,r){r.d(t,{J:()=>a});var i=r(496270),n=r(894442);class a{constructor(){this.name="AutoRefreshPlugin",this.activeEvent="onRegister",this._uid=i.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&null!=e.stage&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e,this.dpr=n.w.global.devicePixelRatio,this.refresh()}refresh(){this._refreshByMediaQuery()||this._refreshByRaf()}_refreshByRaf(){let e=n.w.global.getRequestAnimationFrame();this.rafId=e(()=>{n.w.global.devicePixelRatio!==this.dpr&&(this.dpr=n.w.global.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0)),this.refresh()})}_refreshByMediaQuery(){try{let e=`(resolution: ${window.devicePixelRatio}dppx)`,t=()=>{window.devicePixelRatio!==this.dpr&&(this.dpr=window.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0))},r=matchMedia(e);r&&r.addEventListener("change",t),this.autoRefreshCbs||(this.autoRefreshCbs=[]),this.autoRefreshCbs.push(()=>{r&&r.removeEventListener("change",t)})}catch(e){return!1}return!0}deactivate(e){var t;let r=n.w.global.getCancelAnimationFrame();r&&this.rafId&&r(this.rafId),null==(t=this.autoRefreshCbs)||t.forEach(e=>{e()}),this.autoRefreshCbs=void 0}}},175104:function(e,t,r){r.d(t,{y:()=>n});var i=r(496270);class n{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=i.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&null!=e.stage&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e;let t=this.pluginService.stage;t&&(t.graphicService.hooks.onAttributeUpdate.tap(this.key,this.handleChange),t.graphicService.hooks.onSetStage.tap(this.key,this.handleChange),t.graphicService.hooks.onRemove.tap(this.key,this.handleChange))}deactivate(e){let t=e=>e.filter(e=>e.name!==this.key),r=this.pluginService.stage;r&&(r.graphicService.hooks.onAttributeUpdate.taps=t(r.graphicService.hooks.onAttributeUpdate.taps),r.graphicService.hooks.onSetStage.taps=t(r.graphicService.hooks.onSetStage.taps),r.graphicService.hooks.onRemove.taps=t(r.graphicService.hooks.onRemove.taps))}}},619118:function(e,t,r){r.d(t,{Q:()=>o});var i=r(263401),n=r(496270);let a=new i.FB;class o{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=n.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,e=>{e&&e===this.pluginService.stage&&e.dirtyBounds.clear()});let t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(e,t,r,i)=>{e.glyphHost&&(e=e.glyphHost),t&&t===this.pluginService.stage&&t.renderCount&&(e.isContainer&&!e.shouldSelfChangeUpdateAABBBounds()||r&&(a.setValue(i.x1,i.y1,i.x2,i.y2),t.dirty(a,e.parent&&e.parent.globalTransMatrix)))}),t.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(e,t,r,i,n)=>{t&&t===this.pluginService.stage&&t.renderCount&&(e.isContainer&&!n||t.dirty(i.globalAABBBounds))}),t.graphicService.hooks.clearAABBBounds.tap(this.key,(e,t,r)=>{t&&t===this.pluginService.stage&&t.renderCount&&t&&t.dirty(r)}),t.graphicService.hooks.onRemove.tap(this.key,e=>{let t=e.stage;t&&t===this.pluginService.stage&&t.renderCount&&t&&t.dirty(e.globalAABBBounds)}))}deactivate(e){let t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.taps=t.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.afterUpdateAABBBounds.taps=t.graphicService.hooks.afterUpdateAABBBounds.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.clearAABBBounds.taps=t.graphicService.hooks.clearAABBBounds.taps.filter(e=>e.name!==this.key),t.hooks.afterRender.taps=t.hooks.afterRender.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.onRemove.taps=t.graphicService.hooks.onRemove.taps.filter(e=>e.name!==this.key))}}},77436:function(e,t,r){r.d(t,{G:()=>b,t:()=>g});var i=r(496270),n=r(894442),a=r(930615),o=r(688606),l=r(351727),s=r(454326),c=r(548393),d=r(796241),u=r(480971),h=r(83624),f=r(996766),p=r(295277);class g{constructor(){this.name="HtmlAttributePlugin",this.activeEvent="onRegister",this._uid=i.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={},this.renderId=0,this.onWheel=e=>{try{let t=new e.constructor(e.type,e);this.pluginService.stage.window.getContext().getCanvas().nativeCanvas.dispatchEvent(t)}catch(e){return}}}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,t=>{t&&t===this.pluginService.stage&&this.drawHTML([...e.stage.getChildren()])})}deactivate(e){e.stage.hooks.afterRender.taps=e.stage.hooks.afterRender.taps.filter(e=>e.name!==this.key),this.release()}getWrapContainer(e,t,r){let i;return i=t?"string"==typeof t?n.w.global.getElementById(t):t:e.window.getContainer(),{wrapContainer:n.w.global.createDom(Object.assign({tagName:"div",parent:i},r)),nativeContainer:i}}parseDefaultStyleFromGraphic(e){let t="text"===e.type&&e.attribute?e.attribute:(0,a.gh)(e).text;return(0,l.WD)(t)}getTransformOfText(e){let t=(0,a.gh)(e).text,{textAlign:r=t.textAlign,textBaseline:i=t.textBaseline}=e.attribute,{rotateDeg:n,scaleX:o,scaleY:l}=e.globalTransMatrix.toTransformAttrs(),s={left:"0",start:"0",end:"-100%",center:"-50%",right:"-100%",top:"0",middle:"-50%",bottom:"-100%",alphabetic:"-79%"},c={left:"0",start:"0",end:"100%",center:"50%",right:"100%",top:"0",middle:"50%",bottom:"100%",alphabetic:"79%"};return{textAlign:r,transform:`translate(${s[r]},${s[i]}) rotate(${n}deg) scaleX(${o}) scaleY(${l})`,transformOrigin:`${c[r]} ${c[i]}`}}updateStyleOfWrapContainer(e,t,r,i,a){let{pointerEvents:o,penetrateEventList:l=[]}=a,p=this.parseDefaultStyleFromGraphic(e);p.display=!1!==e.attribute.visible?"block":"none",p.pointerEvents=!0===o?"all":o||"none","none"!==p.pointerEvents&&(this.removeWrapContainerEventListener(r),l.forEach(e=>{"wheel"===e&&r.addEventListener("wheel",this.onWheel)})),r.style.position||(r.style.position="absolute",i.style.position="relative");let g=0,b=0,y=e.globalAABBBounds,m=a.anchorType;if((0,s.Z)(m)&&(m="text"===e.type?"position":"boundsLeftTop"),"boundsLeftTop"===m&&(m="top-left"),"position"===m||y.empty()){let t=e.globalTransMatrix;g=t.e,b=t.f}else{let e=(0,c.v1)(y,m);g=e.x,b=e.y}let S=n.w.global.getElementTopLeft(i,!1),v=t.window.getTopLeft(!1),x=t.viewBox,w=g+v.left-S.left+x.x1,R=b+v.top-S.top+x.y1;if(p.left=`${w}px`,p.top=`${R}px`,"text"===e.type&&"position"===m&&(p=Object.assign(Object.assign({},p),this.getTransformOfText(e))),(0,d.Z)(a.style)){let t=a.style({top:R,left:w,width:y.width(),height:y.height()},e,r);t&&(p=Object.assign(Object.assign({},p),t))}else(0,u.Z)(a.style)?p=Object.assign(Object.assign({},p),a.style):(0,h.Z)(a.style)&&a.style&&(p=Object.assign(Object.assign({},p),(0,f.wv)(a.style)));n.w.global.updateDom(r,{width:a.width,height:a.height,style:p})}clearCacheContainer(){this.htmlMap&&Object.keys(this.htmlMap).forEach(e=>{this.htmlMap[e]&&this.htmlMap[e].renderId!==this.renderId&&this.removeElement(e)}),this.renderId+=1}drawHTML(e){"browser"===n.w.global.env&&(e.sort((e,t)=>{var r,i;return(null!=(r=e.attribute.zIndex)?r:o.xF.zIndex)-(null!=(i=t.attribute.zIndex)?i:o.xF.zIndex)}).forEach(e=>{this.renderGroupHTML(e)}),this.clearCacheContainer())}renderGroupHTML(e){this.renderGraphicHTML(e),e.forEachChildren(e=>{e.isContainer?this.renderGroupHTML(e):this.renderGraphicHTML(e)})}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;let{wrapContainer:t}=this.htmlMap[e];t&&n.w.global.removeDom(t),this.htmlMap[e]=null}removeWrapContainerEventListener(e){e.removeEventListener("wheel",this.onWheel)}renderGraphicHTML(e){var t;let{html:r}=e.attribute;if(!r)return;let i=e.stage;if(!i)return;let{dom:n,container:a}=r;if(!n)return;let o=(0,s.Z)(r.id)?`${null!=(t=e.id)?t:e._uid}_react`:r.id;if(this.htmlMap&&this.htmlMap[o]&&a&&a!==this.htmlMap[o].container&&this.removeElement(o),this.htmlMap&&this.htmlMap[o])"string"==typeof n?this.htmlMap[o].wrapContainer.innerHTML=n:n!==this.htmlMap[o].wrapContainer.firstChild&&(this.htmlMap[o].wrapContainer.removeChild(this.htmlMap[o].wrapContainer.firstChild),this.htmlMap[o].wrapContainer.appendChild(n));else{let{wrapContainer:e,nativeContainer:t}=this.getWrapContainer(i,a);e&&("string"==typeof n?e.innerHTML=n:e.appendChild(n),this.htmlMap||(this.htmlMap={}),this.htmlMap[o]={wrapContainer:e,nativeContainer:t,container:a,renderId:this.renderId})}if(!this.htmlMap||!this.htmlMap[o])return;let{wrapContainer:l,nativeContainer:c}=this.htmlMap[o];this.updateStyleOfWrapContainer(e,i,l,c,r),this.htmlMap[o].renderId=this.renderId}release(){"browser"===n.w.global.env&&this.removeAllDom(this.pluginService.stage.defaultLayer)}removeAllDom(e){this.htmlMap&&(Object.keys(this.htmlMap).forEach(e=>{this.removeElement(e)}),this.htmlMap=null)}}let b=()=>{p.F.registerPlugin("HtmlAttributePlugin",g)}},38038:function(e,t,r){r.d(t,{z:()=>a});var i=r(894442),n=r(496270);class a{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=n.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e;let t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.tap(this.key,(t,r,i)=>{t.glyphHost&&(t=t.glyphHost),t.stage===e.stage&&null!=t.stage&&(this.nextUserParams.startAtId=r._uid,this.renderNextFrame(r))}),t.graphicService.hooks.onClearIncremental.tap(this.key,(t,r)=>{t.stage===e.stage&&null!=t.stage&&(this.nextUserParams.startAtId=t._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(t))}))}deactivate(e){let t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.taps=t.graphicService.hooks.onAddIncremental.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.onClearIncremental.taps=t.graphicService.hooks.onClearIncremental.taps.filter(e=>e.name!==this.key))}renderNextFrame(e){this.nextFrameRenderGroupSet.add(e),this.willNextFrameRender||(this.willNextFrameRender=!0,i.w.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){let e=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(t=>{let r=t.layer;if(!r||!t.layer.subLayers)return;let i=t.layer.subLayers.get(t._uid);i&&i.drawContribution&&i.drawContribution.draw(e.renderService,Object.assign({stage:e,layer:r,viewBox:e.window.getViewBox(),transMatrix:e.window.getViewBoxTransform(),clear:"transparent",renderService:e.renderService,updateBounds:!1,startAtId:t._uid,context:i.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}},19491:function(e,t,r){r.d(t,{B:()=>c});var i=r(496270),n=r(894442),a=r(77436),o=r(454326),l=r(295277);class s extends a.t{constructor(){super(...arguments),this.name="ReactAttributePlugin",this.activeEvent="onRegister",this._uid=i.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={}}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;let{root:t,wrapContainer:r,unmount:i}=this.htmlMap[e];t?n.w.global.getRequestAnimationFrame()(()=>{t.unmount()}):i&&i(),r&&n.w.global.removeDom(r),this.htmlMap[e]=null}renderGraphicHTML(e){var t;let{react:r}=e.attribute;if(!r)return;let i=e.stage;if(!i)return;let n=i.params.ReactDOM,{element:a,container:l}=r;if(!a||!n||!n.createRoot&&!n.render)return;let s=(0,o.Z)(r.id)?`${null!=(t=e.id)?t:e._uid}_react`:r.id;if(this.htmlMap&&this.htmlMap[s]&&l&&l!==this.htmlMap[s].container&&this.removeElement(s),this.htmlMap&&this.htmlMap[s])n.createRoot?this.htmlMap[s].root.render(a):n.render(a,this.htmlMap[s].wrapContainer);else{let{wrapContainer:e,nativeContainer:t}=this.getWrapContainer(i,l);if(e)if(this.htmlMap||(this.htmlMap={}),n.createRoot){let r=n.createRoot(e);r.render(a),this.htmlMap[s]={root:r,wrapContainer:e,nativeContainer:t,container:l,renderId:this.renderId}}else n.render(a,e),this.htmlMap[s]={wrapContainer:e,nativeContainer:t,container:l,renderId:this.renderId,unmount:()=>{n.unmountComponentAtNode(e)}}}if(!this.htmlMap||!this.htmlMap[s])return;let{wrapContainer:c,nativeContainer:d}=this.htmlMap[s];this.updateStyleOfWrapContainer(e,i,c,d,r),this.htmlMap[s].renderId=this.renderId}}let c=()=>{l.F.registerPlugin("ReactAttributePlugin",s)}},200559:function(e,t,r){r.d(t,{H:()=>n,X:()=>i});let i=Symbol.for("AutoEnablePlugins"),n=Symbol.for("PluginService")},560629:function(e,t,r){r.d(t,{l:()=>a});var i=r(356109),n=r(222669);function a(){n.i.RegisterGraphicCreator("arc",i.Q)}},340436:function(e,t,r){r.d(t,{L:()=>a});var i=r(44681),n=r(222669);function a(){n.i.RegisterGraphicCreator("area",i.n)}},35805:function(e,t,r){r.d(t,{g:()=>a});var i=r(507042),n=r(222669);function a(){n.i.RegisterGraphicCreator("circle",i.y)}},439213:function(e,t,r){r.d(t,{M:()=>a});var i=r(552061),n=r(222669);function a(){n.i.RegisterGraphicCreator("glyph",i.d)}},794555:function(e,t,r){r.d(t,{t:()=>a});var i=r(989568),n=r(222669);function a(){n.i.RegisterGraphicCreator("group",i.sS)}},388084:function(e,t,r){r.d(t,{u:()=>a});var i=r(317647),n=r(222669);function a(){n.i.RegisterGraphicCreator("image",i.B)}},854085:function(e,t,r){r.d(t,{c:()=>a});var i=r(289813),n=r(222669);function a(){n.i.RegisterGraphicCreator("line",i.W)}},590652:function(e,t,r){r.d(t,{O:()=>a});var i=r(84319),n=r(222669);function a(){n.i.RegisterGraphicCreator("path",i.E)}},975957:function(e,t,r){r.d(t,{d:()=>a});var i=r(5581),n=r(222669);function a(){n.i.RegisterGraphicCreator("polygon",i.p)}},58474:function(e,t,r){r.d(t,{M:()=>a});var i=r(312555),n=r(222669);function a(){n.i.RegisterGraphicCreator("rect",i.f)}},444634:function(e,t,r){r.d(t,{R:()=>a});var i=r(862978),n=r(222669);function a(){n.i.RegisterGraphicCreator("richtext",i.p)}},579190:function(e,t,r){r.d(t,{T:()=>a});var i=r(303634),n=r(222669);function a(){n.i.RegisterGraphicCreator("shadowRoot",i.B)}},412311:function(e,t,r){r.d(t,{n:()=>a});var i=r(897210),n=r(222669);function a(){n.i.RegisterGraphicCreator("symbol",i.t)}},348713:function(e,t,r){r.d(t,{v:()=>a});var i=r(944111),n=r(222669);function a(){n.i.RegisterGraphicCreator("text",i.r)}},221427:function(e,t,r){r.d(t,{p:()=>i});let i=Symbol.for("RenderService");Symbol.for("BeforeRenderConstribution")},55457:function(e,t,r){r.d(t,{_:()=>I});var i=r(337886),n=r(736264),a=r(408830),o=r(863778),l=r(669745),s=r(362199),c=r(18163),d=r(930615),u=r(917486),h=r(183522),f=r(941599),p=r(348668),g=r(753794),b=r(44864),y=r(902978),m=r(421711),S=r(513438),v=r(743549);let x=new class{constructor(){this.time=S.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u){let{outerBorder:f,innerBorder:p}=e.attribute,g=f&&!1!==f.visible,b=p&&!1!==p.visible;if(!g&&!b)return;let{innerPadding:m=s.innerPadding,outerPadding:S=s.outerPadding,startAngle:v=s.startAngle,endAngle:x=s.endAngle,opacity:w=s.opacity,x:R=s.x,y:k=s.y,scaleX:C=s.scaleX,scaleY:P=s.scaleY,keepStrokeScale:O=s.keepStrokeScale}=e.attribute,{innerRadius:I=s.innerRadius,outerRadius:A=s.outerRadius}=e.attribute;A+=S,I-=m;let M=(n,a)=>{let o=!(!n||!n.stroke),{distance:l=s[a].distance}=n,c=O?l:(0,y.D)(t,l,t.dpr),d=l/A,f="outerBorder"===a?1:-1;if(e.setAttributes({outerRadius:A+f*c,innerRadius:I-f*c,startAngle:v-f*d,endAngle:x+f*d}),t.beginPath(),(0,h.Eg)(e,t,r,i,A+f*c,I-f*c),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),u)u(t,n,s[a]);else if(o){let o=s[a].opacity;s[a].opacity=w,t.setStrokeStyle(e,n,(R-r)/C,(k-i)/P,s[a]),s[a].opacity=o,t.stroke()}};g&&M(f,"outerBorder"),b&&M(p,"innerBorder"),e.setAttributes({outerRadius:A,innerRadius:I,startAngle:v,endAngle:x})}},w=v.H,R=m.R6;var k=function(e,t){return function(r,i){t(r,i,e)}};let C=class extends b.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=g.r_,this.builtinContributions=[x,R,w],this.init(e)}drawArcTailCapPath(e,t,r,i,n,o,l,s){let c=s-l,d=e.getParsedAngle(),u=d.startAngle,f=d.endAngle;f=s,(0,a.Wn)(f-u);let p=f>u,g=!1;if(n<o){let e=n;n=o,o=e}let{outerDeltaAngle:b,xors:y,yors:m,xirs:S,yirs:v,limitedOcr:x,outerCornerRadiusStart:w,outerCornerRadiusEnd:R,maxOuterCornerRadius:k,xore:C,yore:P,xire:O,yire:I,limitedIcr:A,innerDeltaAngle:M,innerStartAngle:T,innerCornerRadiusStart:B,innerCornerRadiusEnd:F,maxInnerCornerRadius:j}=(0,h.ZN)(e,u,f,o,n);if(x>a.Ho){let e=(0,a.VV)(w,x),o=(0,a.VV)(R,x),l=(0,h.gI)(S,v,y,m,n,e,Number(p)),s=(0,h.gI)(C,P,O,I,n,o,Number(p));if(x<k&&e===o)t.moveTo(r+l.cx+l.x01,i+l.cy+l.y01),t.arc(r+l.cx,i+l.cy,x,(0,a.fv)(l.y01,l.x01),(0,a.fv)(s.y01,s.x01),!p);else{let e=f-c-.03,l=(0,a.fv)(s.y11,s.x11);t.arc(r,i,n,e,l,!p),o>0&&t.arc(r+s.cx,i+s.cy,o,(0,a.fv)(s.y11,s.x11),(0,a.fv)(s.y01,s.x01),!p)}}else t.moveTo(r+y,i+m);if(!(o>a.Ho)||M<.001)t.lineTo(r+O,i+I),g=!0;else if(A>a.Ho){let e=(0,a.VV)(B,A),n=(0,a.VV)(F,A),l=(0,h.gI)(O,I,C,P,o,-n,Number(p)),s=(0,h.gI)(y,m,S,v,o,-e,Number(p));if(t.lineTo(r+l.cx+l.x01,i+l.cy+l.y01),A<j&&e===n){let e=(0,a.fv)(s.y01,s.x01);t.arc(r+l.cx,i+l.cy,A,(0,a.fv)(l.y01,l.x01),e,!p)}else{n>0&&t.arc(r+l.cx,i+l.cy,n,(0,a.fv)(l.y01,l.x01),(0,a.fv)(l.y11,l.x11),!p);let e=(0,a.fv)(l.cy+l.y11,l.cx+l.x11),s=f-c-.03;t.arc(r,i,o,e,s,p)}}else t.lineTo(r+o*(0,a.mC)(T),i+o*(0,a.O$)(T));return g}drawShape(e,t,r,i,n,l,s,c,p){p=null!=p?p:(0,d.gh)(e,null==l?void 0:l.theme).arc;let{fill:g=p.fill,stroke:b=p.stroke,x:y=p.x,y:m=p.y,fillStrokeOrder:S=p.fillStrokeOrder}=e.attribute,v=this.valid(e,p,s,c);if(!v)return;let{fVisible:x,sVisible:w,doFill:R,doStroke:k}=v,{outerPadding:C=p.outerPadding,innerPadding:P=p.innerPadding,cap:O=p.cap,forceShowCap:I=p.forceShowCap}=e.attribute,{outerRadius:A=p.outerRadius,innerRadius:M=p.innerRadius}=e.attribute;A+=C,M-=P;let T=0,B=((0,o.Z)(O)&&O||O[0])&&"conical"===g.gradient;if(B){let{sc:t,startAngle:r,endAngle:i}=e.getParsedAngle();(0,a.Wn)(i-r)<a.f7-a.Ho&&(T=t||0,g.startAngle-=T,g.endAngle-=T)}let F=!1,{isFullStroke:j,stroke:_}=(0,u.Dn)(b);if((R||j)&&(t.beginPath(),(0,h.Eg)(e,t,r,i,A,M),F=!0,t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,p),this.beforeRenderStep(e,t,r,i,R,k,x,w,p,n,s,c),S?(this._runStroke(e,t,r,i,p,k,j,w,c),this._runFill(e,t,r,i,p,R,x,y,m,s)):(this._runFill(e,t,r,i,p,R,x,y,m,s),this._runStroke(e,t,r,i,p,k,j,w,c))),!j&&k&&(t.beginPath(),(0,h.Eg)(e,t,r,i,A,M,_),F||this.beforeRenderStep(e,t,r,i,R,k,x,w,p,n,s,c),c?c(t,e.attribute,p):w&&(t.setStrokeStyle(e,e.attribute,r,i,p),t.stroke())),((0,o.Z)(O)&&O||O[1])&&I){let{startAngle:o,endAngle:l}=e.getParsedAngle();if((0,a.Wn)(l-o)>=a.f7-a.Ho){t.beginPath();let a=Math.abs(A-M)/2/A,{endAngle:o=p.endAngle,fill:l=p.fill}=e.attribute;this.drawArcTailCapPath(e,t,r,i,A,M,o,o+a),F||this.beforeRenderStep(e,t,r,i,R,k,x,w,p,n,s,c),(()=>{if(R&&"conical"===l.gradient){let n=(0,f.MB)(0,0,o,l);s||h.Bv&&(t.setCommonStyle(e,e.attribute,r,i,p),t.fillStyle=n,t.fill())}})(),k&&(c||w&&(t.setStrokeStyle(e,e.attribute,r,i,p),t.stroke()))}}this.afterRenderStep(e,t,r,i,R,k,x,w,p,n,s,c),B&&(g.startAngle+=T,g.endAngle+=T)}_runFill(e,t,r,i,n,a,o,l,s,c){a&&(c?c(t,e.attribute,n):o&&(t.setCommonStyle(e,e.attribute,l-r,s-i,n),t.fill()))}_runStroke(e,t,r,i,n,a,o,l,s){a&&o&&(s?s(t,e.attribute,n):l&&(t.setStrokeStyle(e,e.attribute,r,i,n),t.stroke()))}draw(e,t,r,i){let n=(0,d.gh)(e,null==i?void 0:i.theme).arc;this._draw(e,n,!1,r,i,n)}};C=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,l.b)(),k(0,(0,s.f)(i.Qc)),k(0,(0,c.t)(p.OL)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],C);var P=r(330429);let O=!1,I=new n.n(e=>{O||(O=!0,e(C).toSelf().inSingletonScope(),e(P.Xe).to(C).inSingletonScope(),e(P.uz).toService(P.Xe),e(p.OL).toService(m.Sg),(0,i.yb)(e,p.OL))})},625781:function(e,t,r){r.d(t,{N:()=>u});var i=r(337886),n=r(736264),a=r(801512),o=r(421711),l=r(348668),s=r(347125),c=r(330429);let d=!1,u=new n.n(e=>{d||(d=!0,e(a.j).toSelf().inSingletonScope(),e(c.Gs).to(a.j).inSingletonScope(),e(c.uz).toService(c.Gs),e(l.Gq).toService(o.Sg),(0,i.yb)(e,l.Gq),e(s.K).toSelf().inSingletonScope())})},801512:function(e,t,r){r.d(t,{j:()=>k});var i=r(695723),n=r(408830),a=r(669745),o=r(362199),l=r(18163),s=r(337886),c=r(21176),d=r(930615),u=r(348668),h=r(513438),f=r(873268),p=r(753794),g=r(152409),b=r(44864),y=r(421711),m=r(743549),S=r(917486);class v extends m.${constructor(){super(...arguments),this.time=h.Oh.afterFillStroke}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){var f,p,g,b;this.textureMap||this.initTextureMap(t,e.stage);let{attribute:y=e.attribute}=h||{},{texture:m=null!=(f=e.attribute.texture)?f:(0,S.hT)(s,"texture"),textureColor:v=null!=(p=e.attribute.textureColor)?p:(0,S.hT)(s,"textureColor"),textureSize:x=null!=(g=e.attribute.textureSize)?g:(0,S.hT)(s,"textureSize"),texturePadding:w=null!=(b=e.attribute.texturePadding)?b:(0,S.hT)(s,"texturePadding")}=y;m&&this.drawTexture(m,e,t,r,i,s,v,x,w)}}let x=new v,w=y.R6;var R=function(e,t){return function(r,i){t(r,i,e)}};let k=class extends b.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=p.Ri,this.builtinContributions=[x,w],this.init(e)}drawLinearAreaHighPerformance(e,t,r,n,a,o,l,s,c,d,u,h,f){var p,g,b;let{points:y}=e.attribute;if(y.length<2)return;t.beginPath();let m=null!=(p=this.z)?p:0,S=y[0];t.moveTo(S.x+l,S.y+s,m);for(let e=1;e<y.length;e++){let r=y[e];t.lineTo(r.x+l,r.y+s,m)}for(let e=y.length-1;e>=0;e--){let r=y[e];t.lineTo((null!=(g=r.x1)?g:r.x)+l,(null!=(b=r.y1)?b:r.y)+s,m)}t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,l,s,!!a,!1,r,!1,c,d,h,null,{attribute:e.attribute});let{x:v=0,x:x=0}=e.attribute;!1!==r&&(h?h(t,e.attribute,c):a&&(t.setCommonStyle(e,e.attribute,v-l,x-s,c),t.fill())),this.afterRenderStep(e,t,l,s,!!a,!1,r,!1,c,d,h,null,{attribute:e.attribute}),(()=>{var r,a;if(n){let{stroke:n=c&&c.stroke}=e.attribute;if((0,i.Z)(n)&&(n[0]||n[2])&&!1===n[1]){if(t.beginPath(),n[0]){t.moveTo(S.x+l,S.y+s,m);for(let e=1;e<y.length;e++){let r=y[e];t.lineTo(r.x+l,r.y+s,m)}}else if(n[2]){let e=y[y.length-1];t.moveTo(e.x+l,e.y+s,m);for(let e=y.length-2;e>=0;e--){let i=y[e];t.lineTo((null!=(r=i.x1)?r:i.x)+l,(null!=(a=i.y1)?a:i.y)+s,m)}}}f?f(t,e.attribute,c):(t.setStrokeStyle(e,e.attribute,v-l,x-s,c),t.stroke())}})()}drawShape(e,t,r,i,a,o,l,s){var u,h,f,p,g,b;let y=(0,d.gh)(e,null==o?void 0:o.theme).area,{fill:m=y.fill,stroke:S=y.stroke,fillOpacity:v=y.fillOpacity,z:x=y.z,strokeOpacity:w=y.strokeOpacity,curveTension:R=y.curveTension,connectedType:k=y.connectedType}=e.attribute,C=this.valid(e,y,l,s);if(!C)return;let{doFill:P}=C,O=C.doStroke&&C.sVisible,{clipRange:I=y.clipRange,closePath:A,points:M,segments:T}=e.attribute,{curveType:B=y.curveType}=e.attribute;function F(e,t){return"connect"!==t?e:e.filter(e=>!1!==e.defined)}if(A&&"linear"===B&&(B="linearClosed"),1===I&&!T&&!M.some(e=>!1===e.defined)&&"linear"===B)return this.drawLinearAreaHighPerformance(e,t,!!m,O,v,w,r,i,y,a,o,l,s);if(e.shouldUpdateShape()){if(T&&T.length){let t,r,i,n=T.map((e,i)=>{if(e.points.length<=1&&0===i)return e.points[0]&&(r={endX:e.points[0].x,endY:e.points[0].y}),null;1===i?t={x:r.endX,y:r.endY}:i>1&&(t.x=r.endX,t.y=r.endY);let n=(0,c.X0)(F(e.points,k),B,{startPoint:t,curveTension:R});return r=n,n}).filter(e=>!!e),a=[];for(let e=T.length-1;e>=0;e--){let t=T[e].points,r=[];for(let e=t.length-1;e>=0;e--)r.push({x:null!=(u=t[e].x1)?u:t[e].x,y:null!=(h=t[e].y1)?h:t[e].y});if(0!==e){let t=T[e-1].points,i=t[t.length-1];i&&r.push({x:null!=(f=i.x1)?f:i.x,y:null!=(p=i.y1)?p:i.y})}r.length>1&&(i=(0,c.X0)(F(r,k),"stepBefore"===B?"stepAfter":"stepAfter"===B?"stepBefore":B,{curveTension:R}),a.unshift(i))}e.cacheArea=a.map((e,t)=>({top:n[t],bottom:e}))}else{if(!M||!M.length)return e.cacheArea=null,void e.clearUpdateShapeTag();{let t=F(M,k),r=[];for(let e=t.length-1;e>=0;e--)r.push({x:null!=(g=t[e].x1)?g:t[e].x,y:null!=(b=t[e].y1)?b:t[e].y});e.cacheArea={top:(0,c.X0)(t,B,{curveTension:R}),bottom:(0,c.X0)(r,"stepBefore"===B?"stepAfter":"stepAfter"===B?"stepBefore":B,{curveTension:R})}}}e.clearUpdateShapeTag()}if(Array.isArray(e.cacheArea)){let o=e.attribute.segments.filter(e=>e.points.length);if(1===o[0].points.length&&o.shift(),1===I){let n=!1;e.cacheArea.forEach((c,d)=>{n||(n=this.drawSegmentItem(t,c,P,v,O,w,o[d],[y,e.attribute],I,r,i,x,e,a,l,s))})}else{let c=I*e.cacheArea.reduce((e,t)=>e+t.top.getLength(),0),d=0,u=!1;e.cacheArea.forEach((h,f)=>{if(u)return;let p=h.top.getLength(),g=(c-d)/p;d+=p,g>0&&(u=this.drawSegmentItem(t,h,P,v,O,w,o[f],[y,e.attribute],(0,n.VV)(g,1),r,i,x,e,a,l,s))})}}else this.drawSegmentItem(t,e.cacheArea,P,v,O,w,e.attribute,y,I,r,i,x,e,a,l,s)}draw(e,t,r,i){let n=(0,d.gh)(e,null==i?void 0:i.theme).area;this._draw(e,n,!1,r,i)}drawSegmentItem(e,t,r,i,n,a,o,l,s,c,d,u,h,f,p,g){return this._drawSegmentItem(e,t,r,i,n,a,o,l,s,c,d,u,h,f,p,g)}_drawSegmentItem(e,t,r,a,o,l,s,c,d,u,p,b,y,m,S,v){if(!(t&&t.top&&t.bottom&&t.top.curves&&t.top.curves.length&&t.bottom.curves&&t.bottom.curves.length))return;e.beginPath();let{points:x,segments:w}=y.attribute,R,k,C=h.Nm.ROW;if(w){let e=w[w.length-1];k=w[0].points[0],R=e.points[e.points.length-1]}else k=x[0],R=x[x.length-1];let P=(0,n.Wn)(R.x-k.x),O=(0,n.Wn)(R.y-k.y);C=null==R.x1?h.Nm.ROW:null==R.y1?h.Nm.COLUMN:Number.isFinite(P+O)?P>O?h.Nm.ROW:h.Nm.COLUMN:h.Nm.ROW,(0,f.y)(e,t,d,{offsetX:u,offsetY:p,offsetZ:b,direction:C}),this.beforeRenderStep(y,e,u,p,!!a,!1,r,!1,c,m,S,null,{attribute:s}),e.setShadowBlendStyle&&e.setShadowBlendStyle(y,s,c);let{x:I=0,x:A=0}=s;return!1!==r&&(S?S(e,s,c):a&&(e.setCommonStyle(y,s,I-u,A-p,c),e.fill())),this.afterRenderStep(y,e,u,p,!!a,!1,r,!1,c,m,S,null,{attribute:s}),(()=>{if(!1!==o)if(v)v(e,s,c);else{let{stroke:r=c&&c[1]&&c[1].stroke}=s;(0,i.Z)(r)&&(r[0]||r[2])&&!1===r[1]&&(e.beginPath(),(0,g.fW)(e,r[0]?t.top:t.bottom,d,C===h.Nm.ROW?"x":"y",{offsetX:u,offsetY:p,offsetZ:b})),e.setStrokeStyle(y,s,I-u,A-p,c),e.stroke()}})(),!1}};k=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.b)(),R(0,(0,o.f)(s.Qc)),R(0,(0,l.t)(u.Gq)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],k)},44864:function(e,t,r){r.d(t,{Y:()=>h});var i=r(603390),n=r(624108),a=r(183522),o=r(513438),l=r(362055),s=r(930615),c=r(801557),d=r(421711);let u={x:0,y:0,z:0,lastModelMatrix:null};class h{init(e){e&&(this._renderContribitions=e.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions||(this.builtinContributions=[]),this.builtinContributions.push(d.rJ),this.builtinContributions.push(d.Eo),this.builtinContributions.forEach(e=>this._renderContribitions.push(e)),this._renderContribitions.length&&(this._renderContribitions.sort((e,t)=>t.order-e.order),this._beforeRenderContribitions=this._renderContribitions.filter(e=>e.time===o.Oh.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(e=>e.time===o.Oh.afterFillStroke))}reInit(){this.init(this.graphicRenderContributions)}beforeRenderStep(e,t,r,i,n,a,o,l,s,c,d,u,h){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(f=>{(!f.supportedAppName||!e.stage||!e.stage.params||!e.stage.params.context||!e.stage.params.context.appName||(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(e.stage.params.context.appName))&&f.drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h)})}afterRenderStep(e,t,r,i,n,a,o,l,s,c,d,u,h){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(f=>{(!f.supportedAppName||!e.stage||!e.stage.params||!e.stage.params.context||!e.stage.params.context.appName||(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(e.stage.params.context.appName))&&f.drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h)})}drawPathProxy(e,t,r,i,n,o,l,d){if(!e.pathProxy)return!1;let u=(0,s.gh)(e,null==o?void 0:o.theme)[e.type.replace("3d","")],{fill:h=u.fill,stroke:f=u.stroke,opacity:p=u.opacity,fillOpacity:g=u.fillOpacity,lineWidth:b=u.lineWidth,strokeOpacity:y=u.strokeOpacity,visible:m=u.visible,x:S=u.x,y:v=u.y}=e.attribute,x=(0,a.Bv)(p,g,h),w=(0,a.Kf)(p,y),R=(0,a.dz)(h),k=(0,a.ak)(f,b);if(!m||!R&&!k||!(x||w||l||d))return!0;t.beginPath();let C="function"==typeof e.pathProxy?e.pathProxy(e.attribute):e.pathProxy;return(0,c.h)(C.commandList,t,r,i),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),this.beforeRenderStep(e,t,r,i,R,k,x,w,u,n,l,d),k&&(d?d(t,e.attribute,u):w&&(t.setStrokeStyle(e,e.attribute,r-S,i-v,u),t.stroke())),R&&(l?l(t,e.attribute,u):x&&(t.setCommonStyle(e,e.attribute,r-S,i-v,u),t.fill())),this.afterRenderStep(e,t,r,i,R,k,x,w,u,n,l,d),!0}valid(e,t,r,i){let{fill:n=t.fill,background:o,stroke:l=t.stroke,opacity:s=t.opacity,fillOpacity:c=t.fillOpacity,lineWidth:d=t.lineWidth,strokeOpacity:u=t.strokeOpacity,visible:h=t.visible}=e.attribute,f=(0,a.Bv)(s,c,n),p=(0,a.Kf)(s,u),g=(0,a.dz)(n,o),b=(0,a.ak)(l,d);return!(!e.valid||!h)&&!(!g&&!b)&&!!(f||p||r||i||o)&&{fVisible:f,sVisible:p,doFill:g,doStroke:b}}transform(e,t,r,a=!1){let{x:o=t.x,y:s=t.y,z:c=t.z,scaleX:d=t.scaleX,scaleY:h=t.scaleY,angle:f=t.angle,postMatrix:p}=e.attribute,g=r.modelMatrix,b=r.camera;u.x=o,u.y=s,u.z=c,u.lastModelMatrix=g;let y=b&&(a||(0,i.M_)(e)),m=y?e.transMatrix.onlyTranslate()&&!p:1===d&&1===h&&0===f&&!p;if(y){let a=n.yp.allocate(),o=n.yp.allocate();(0,i.RT)(o,e,t),(0,l.G9)(a,g||a,o),u.x=0,u.y=0,u.z=0,r.modelMatrix=a,r.setTransform(1,0,0,1,0,0,!0),n.yp.free(o)}if(m&&!g){let i=e.getOffsetXY(t);u.x+=i.x,u.y+=i.y,u.z=c,r.setTransformForCurrent()}else if(y)u.x=0,u.y=0,u.z=0,r.setTransform(1,0,0,1,0,0,!0);else if(b&&r.project){let i=e.getOffsetXY(t);u.x+=i.x,u.y+=i.y,this.transformWithoutTranslate(r,u.x,u.y,u.z,d,h,f)}else r.transformFromMatrix(e.transMatrix,!0),u.x=0,u.y=0,u.z=0;return u}transformUseContext2d(e,t,r,i){let n=i.camera;if(this.camera=n,n){let t=e.AABBBounds,n=t.x2-t.x1,a=t.y2-t.y1,o=i.project(0,0,r),l=i.project(n,0,r),s=i.project(n,a,r),c={x:0,y:0},d={x:n,y:0},u={x:n,y:a};i.camera=null;let h=1/(c.x*(u.y-d.y)-d.x*u.y+u.x*d.y+(d.x-u.x)*c.y),f=-(c.y*(s.x-l.x)-d.y*s.x+u.y*l.x+(d.y-u.y)*o.x)*h,p=(d.y*s.y+c.y*(l.y-s.y)-u.y*l.y+(u.y-d.y)*o.y)*h,g=(c.x*(s.x-l.x)-d.x*s.x+u.x*l.x+(d.x-u.x)*o.x)*h,b=-(d.x*s.y+c.x*(l.y-s.y)-u.x*l.y+(u.x-d.x)*o.y)*h,y=(c.x*(u.y*l.x-d.y*s.x)+c.y*(d.x*s.x-u.x*l.x)+(u.x*d.y-d.x*u.y)*o.x)*h,m=(c.x*(u.y*l.y-d.y*s.y)+c.y*(d.x*s.y-u.x*l.y)+(u.x*d.y-d.x*u.y)*o.y)*h;i.setTransform(f,p,g,b,y,m,!0)}}restoreTransformUseContext2d(e,t,r,i){this.camera&&(i.camera=this.camera)}transformWithoutTranslate(e,t,r,i,n,a,o){let l=e.project(t,r,i);e.translate(l.x,l.y,!1),e.scale(n,a,!1),e.rotate(o,!1),e.translate(-l.x,-l.y,!1),e.setTransformForCurrent()}_draw(e,t,r,i,a,o){let{context:l}=i;if(!l)return;let{renderable:s}=e.attribute;if(!1===s)return;l.highPerformanceSave();let{x:c,y:d,z:u,lastModelMatrix:h}=this.transform(e,t,l,r);this.z=u,this.drawPathProxy(e,l,c,d,i,a)||(this.drawShape(e,l,c,d,i,a,null,null,o),this.z=0,l.modelMatrix!==h&&n.yp.free(l.modelMatrix),l.modelMatrix=h),l.highPerformanceRestore()}}},905839:function(e,t,r){r.d(t,{z:()=>R});var i=r(337886),n=r(736264),a=r(669745),o=r(362199),l=r(18163),s=r(930615),c=r(753794),d=r(348668),u=r(44864),h=r(902978),f=r(421711),p=r(513438),g=r(743549);let b=new class{constructor(){this.time=p.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u){let{outerBorder:f,innerBorder:p}=e.attribute,g=f&&!1!==f.visible,b=p&&!1!==p.visible;if(!g&&!b)return;let{radius:y=s.radius,startAngle:m=s.startAngle,endAngle:S=s.endAngle,opacity:v=s.opacity,x:x=s.x,y:w=s.y,scaleX:R=s.scaleX,scaleY:k=s.scaleY,keepStrokeScale:C=s.keepStrokeScale}=e.attribute,P=(n,a)=>{let o=!(!n||!n.stroke),{distance:l=s[a].distance}=n,c=C?l:(0,h.D)(t,l,t.dpr);if(t.beginPath(),t.arc(r,i,y+("outerBorder"===a?1:-1)*c,m,S),t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),u)u(t,n,s[a]);else if(o){let o=s[a].opacity;s[a].opacity=v,t.setStrokeStyle(e,n,(x-r)/R,(w-i)/k,s[a]),s[a].opacity=o,t.stroke()}};g&&P(f,"outerBorder"),b&&P(p,"innerBorder")}},y=g.H,m=f.R6;var S=function(e,t){return function(r,i){t(r,i,e)}};let v=class extends u.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=c.Aw,this.builtinContributions=[b,m,y],this.init(e)}drawShape(e,t,r,i,n,a,o,l){let c=(0,s.gh)(e,null==a?void 0:a.theme).circle,{radius:d=c.radius,startAngle:u=c.startAngle,endAngle:h=c.endAngle,x:f=c.x,y:p=c.y,fillStrokeOrder:g=c.fillStrokeOrder}=e.attribute,b=this.valid(e,c,o,l);if(!b)return;let{fVisible:y,sVisible:m,doFill:S,doStroke:v}=b;t.beginPath(),t.arc(r,i,d,u,h),t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,r,i,S,v,y,m,c,n,o,l);let x=()=>{S&&(o?o(t,e.attribute,c):y&&(t.setCommonStyle(e,e.attribute,f-r,p-i,c),t.fill()))},w=()=>{v&&(l?l(t,e.attribute,c):m&&(t.setStrokeStyle(e,e.attribute,f-r,p-i,c),t.stroke()))};g?(w(),x()):(x(),w()),this.afterRenderStep(e,t,r,i,S,v,y,m,c,n,o,l)}draw(e,t,r,i){let n=(0,s.gh)(e,null==i?void 0:i.theme).circle;this._draw(e,n,!1,r,i)}};v=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.b)(),S(0,(0,o.f)(i.Qc)),S(0,(0,l.t)(d.Cs)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],v);var x=r(330429);let w=!1,R=new n.n(e=>{w||(w=!0,e(v).toSelf().inSingletonScope(),e(x.aP).to(v).inSingletonScope(),e(x.uz).toService(x.aP),e(d.Cs).toService(f.Sg),(0,i.yb)(e,d.Cs))})},421711:function(e,t,r){r.d(t,{Eo:()=>b,M2:()=>h,R6:()=>f,Sg:()=>p,rJ:()=>g});var i=r(669745),n=r(362199),a=r(18163),o=r(930615),l=r(249030),s=r(513438),c=r(337886),d=r(348668),u=function(e,t){return function(r,i){t(r,i,e)}};class h{constructor(){this.time=s.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,l,s,c,d,u,h,f){var p;let{background:g,backgroundOpacity:b=null!=(p=e.attribute.fillOpacity)?p:c.backgroundOpacity,opacity:y=c.opacity,backgroundMode:m=c.backgroundMode,backgroundFit:S=c.backgroundFit,backgroundKeepAspectRatio:v=c.backgroundKeepAspectRatio,backgroundScale:x=c.backgroundScale,backgroundOffsetX:w=c.backgroundOffsetX,backgroundOffsetY:R=c.backgroundOffsetY,backgroundClip:k=c.backgroundClip}=e.attribute;if(g)if(e.backgroundImg&&e.resources){let n=e.resources.get(g);if("success"!==n.state||!n.data)return;if(t.save(),e.parent&&!e.transMatrix.onlyTranslate()){let r=(0,o.gh)(e.parent).group,{scrollX:i=r.scrollX,scrollY:n=r.scrollY}=e.parent.attribute;t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.translate(i,n)}k&&t.clip();let a=e.AABBBounds;t.setCommonStyle(e,e.attribute,r,i,c),t.globalAlpha=b*y,this.doDrawImage(t,n.data,a,{backgroundMode:m,backgroundFit:S,backgroundKeepAspectRatio:v,backgroundScale:x,backgroundOffsetX:w,backgroundOffsetY:R}),t.restore(),e.transMatrix.onlyTranslate()||t.setTransformForCurrent()}else t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,r,i,c),t.globalAlpha=b*y,t.fillStyle=g,t.fill(),t.highPerformanceRestore()}doDrawImage(e,t,r,i){let{backgroundMode:n,backgroundFit:a,backgroundKeepAspectRatio:o,backgroundScale:s=1,backgroundOffsetX:c=0,backgroundOffsetY:d=0}=i,u=r.width(),h=r.height(),f=u,p=h;if("no-repeat"===n)if(a)if(o){let i=Math.max(u/t.width,h/t.height);e.drawImage(t,r.x1+c,r.y1+d,t.width*i*s,t.height*i*s)}else e.drawImage(t,r.x1,r.y1,r.width(),r.height());else{let i=t.width*s,n=t.height*s;e.drawImage(t,r.x1+c,r.y1+d,i,n)}else{if(a&&"repeat"!==n&&(t.width||t.height)){let r=t.width,i=t.height;"repeat-x"===n?(f=h/i*r,p=h):"repeat-y"===n&&(p=u/r*i,f=u);let a=e.dpr,o=l.A.allocate({width:f,height:p,dpr:a}),s=o.getContext("2d");s&&(s.inuse=!0,s.clearMatrix(),s.setTransformForCurrent(!0),s.clearRect(0,0,f,p),s.drawImage(t,0,0,f,p),t=o.nativeCanvas),l.A.free(o)}let i=e.dpr,o=e.createPattern(t,n);o.setTransform&&o.setTransform(new DOMMatrix([1/i,0,0,1/i,0,0])),e.fillStyle=o,e.translate(r.x1,r.y1),e.fillRect(0,0,u,h),e.translate(-r.x1,-r.y1)}}}let f=new h,p=class{constructor(e){this.subRenderContribitions=e,this.time=s.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(f=>{f.render(e,t,r,i,n,a,o,l,s,c,d,u,h)})}};p=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,i.b)(),u(0,(0,n.f)(c.Qc)),u(0,(0,a.t)(d.tg)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],p);let g=new class{constructor(){this.time=s.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){var f,p;let{clipConfig:g}=e.attribute;if(!g)return;let b=e.getClipPath();if(!b)return;let y=!(d||u),m=e.AABBBounds,S=null!=(f=e.attribute.width)?f:m.width(),v=null!=(p=e.attribute.height)?p:m.height();y&&t.save(),t.beginPath(),!1===b.draw(t,[S,v],r+S/2,i+v/2,0)&&t.closePath(),d&&d(t,e.attribute,s,!0),y&&t.clip()}},b=new class{constructor(){this.time=s.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){let{clipConfig:f}=e.attribute;f&&e.getClipPath()&&(d||u||t.restore())}}},743549:function(e,t,r){r.d(t,{$:()=>l,H:()=>s});var i=r(249030),n=r(513438),a=r(897210),o=r(408830);class l{constructor(){this.time=n.Oh.afterFillStroke,this.useStyle=!0,this.order=10,this._tempSymbolGraphic=null}createCommonPattern(e,t,r,n,a){let o=(e-2*t)/2,l=n.dpr,s=i.A.allocate({width:e,height:e,dpr:l}),c=s.getContext("2d");if(!c)return null;c.inuse=!0,c.clearMatrix(),c.setTransformForCurrent(!0),c.clearRect(0,0,e,e),a(o,c);let d=n.createPattern(s.nativeCanvas,"repeat");return d.setTransform&&d.setTransform(new DOMMatrix([1/l,0,0,1/l,0,0])),i.A.free(s),d}createCirclePattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(e,t)=>{t.fillStyle=r,t.arc(e,e,e,0,o.f7),t.fill()})}createDiamondPattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(t,i)=>{let n=e/2;i.fillStyle=r,i.moveTo(n,n-t),i.lineTo(t+n,n),i.lineTo(n,n+t),i.lineTo(n-t,n),i.closePath(),i.fill()})}createRectPattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(e,i)=>{i.fillStyle=r,i.fillRect(t,t,2*e,2*e)})}createVerticalLinePattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(i,n)=>{n.fillStyle=r,n.fillRect(t,0,2*i,e)})}createHorizontalLinePattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(i,n)=>{n.fillStyle=r,n.fillRect(0,t,e,2*i)})}createBiasLRLinePattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(t,i)=>{i.strokeStyle=r,i.lineWidth=t,i.moveTo(0,0),i.lineTo(e,e);let n=e/2,a=-n;i.moveTo(n,a),i.lineTo(n+e,a+e),i.moveTo(-n,-a),i.lineTo(-n+e,-a+e),i.stroke()})}createBiasRLLinePattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(t,i)=>{i.strokeStyle=r,i.lineWidth=t,i.moveTo(e,0),i.lineTo(0,e);let n=e/2;i.moveTo(e+n,n),i.lineTo(n,n+e),i.moveTo(e-n,-n),i.lineTo(-n,-n+e),i.stroke()})}createGridPattern(e,t,r,i){return this.createCommonPattern(e,t,r,i,(e,i)=>{i.fillStyle=r,i.fillRect(t,t,e,e),i.fillRect(t+e,t+e,e,e)})}initTextureMap(e,t){this.textureMap=new Map}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){this.textureMap||this.initTextureMap(t,e.stage);let{texture:f=s.texture,textureColor:p=s.textureColor,textureSize:g=s.textureSize,texturePadding:b=s.texturePadding}=e.attribute;f&&this.drawTexture(f,e,t,r,i,s,p,g,b)}drawTexture(e,t,r,n,o,l,s,c,d){var u;let{textureRatio:h=l.textureRatio,textureOptions:f=null}=t.attribute,p=this.textureMap.get(e);if(!p)switch(e){case"circle":p=this.createCirclePattern(c,d,s,r);break;case"diamond":p=this.createDiamondPattern(c,d,s,r);break;case"rect":p=this.createRectPattern(c,d,s,r);break;case"vertical-line":p=this.createVerticalLinePattern(c,d,s,r);break;case"horizontal-line":p=this.createHorizontalLinePattern(c,d,s,r);break;case"bias-lr":p=this.createBiasLRLinePattern(c,d,s,r);break;case"bias-rl":p=this.createBiasRLLinePattern(c,d,s,r);break;case"grid":p=this.createGridPattern(c,d,s,r)}if(f&&f.dynamicTexture){let p,{gridConfig:g={},useNewCanvas:b}=f,y=t.AABBBounds;n=y.x1,o=y.y1;let m=r;if(b){let e=(p=i.A.allocate({width:y.width(),height:y.height(),dpr:r.dpr})).getContext("2d");e.clearRect(0,0,y.width(),y.height()),n=0,o=0,r=e}if(m.save(),t.parent&&!t.transMatrix.onlyTranslate()){let{scrollX:e=0,scrollY:r=0}=t.parent.attribute;m.setTransformFromMatrix(t.parent.globalTransMatrix),m.translate(e,r,!0)}m.setCommonStyle(t,t.attribute,n,o,l),m.clip();let S=y.width(),v=y.height(),x=g.columns?g.columns:Math.ceil(S/c),w=g.rows?g.rows:Math.ceil(v/c),R=g.gutterColumn?g.gutterColumn:2*d,k=g.gutterRow?g.gutterRow:2*d;this._tempSymbolGraphic||(this._tempSymbolGraphic=(0,a.t)({}));let C=g.columns?S/g.columns:c,P=g.rows?v/g.rows:c;this._tempSymbolGraphic.setAttributes({size:[C-R,P-k],symbolType:e});let O=this._tempSymbolGraphic.getParsedPath();for(let e=0;e<w;e++)for(let i=0;i<x;i++){let a=n+c/2+i*c,l=o+c/2+e*c;null==(u=f.beforeDynamicTexture)||u.call(f,r,e,i,w,x,h,t,y.width(),y.height()),r.beginPath(),!1===O.draw(r,Math.min(C-R,P-k),a,l,0)&&r.closePath(),r.fillStyle=s,f.dynamicTexture(r,e,i,w,x,h,t,y.width(),y.height())}b&&(m.globalAlpha=1,m.drawImage(p.nativeCanvas,0,0,p.nativeCanvas.width,p.nativeCanvas.height,y.x1,y.y1,y.width()*m.dpr,y.height()*m.dpr)),m.restore()}else if(p)r.highPerformanceSave(),r.setCommonStyle(t,t.attribute,n,o,l),r.fillStyle=p,r.fill(),r.highPerformanceRestore();else if("wave"===e){r.save(),r.setCommonStyle(t,t.attribute,n,o,l),r.clip();let e=t.AABBBounds;(function(e,t,r,i,n,a,o){let{fill:l="orange",percent:s=.6,frequency:c=4,opacity:d,phi:u=0}=n,{amplitude:h=10}=n;h*=t<=.5?4*t-1:-4*t+3;let f=i*(1-s),p=Math.max(Math.round(r/70),2);e.beginPath(),e.moveTo(0+a,i+o),e.lineTo(0+a,f+o);let g=r/c*t,b=r/Math.PI/(2*c);for(let t=0;t<r;t+=p){let r=h*Math.sin((t+g+u)/b+u);e.lineTo(t+a,f+r+o)}e.lineTo(r+a,i+o),e.closePath(),e.fillStyle=l,isFinite(d)&&(e.globalAlpha=d),e.fill()})(r,h,e.width(),e.height(),Object.assign(Object.assign({},f||{}),{fill:s}),n+e.x1-n,o+e.y1-o),r.restore()}}}let s=new l},348668:function(e,t,r){r.d(t,{$K:()=>h,Cs:()=>a,Gq:()=>n,JO:()=>l,Mj:()=>s,OL:()=>i,U7:()=>c,X3:()=>u,d5:()=>d,jd:()=>o,tg:()=>f});let i=Symbol.for("ArcRenderContribution"),n=Symbol.for("AreaRenderContribution"),a=Symbol.for("CircleRenderContribution"),o=Symbol.for("GroupRenderContribution"),l=Symbol.for("ImageRenderContribution"),s=Symbol.for("PathRenderContribution"),c=Symbol.for("PolygonRenderContribution"),d=Symbol.for("RectRenderContribution"),u=Symbol.for("SymbolRenderContribution"),h=Symbol.for("TextRenderContribution");Symbol.for("StarRenderContribution"),Symbol.for("CommonRenderContribution");let f=Symbol.for("InteractiveSubRenderContribution")},907276:function(e,t,r){r.d(t,{Er:()=>f,NB:()=>p,d4:()=>h,gq:()=>b,k7:()=>g,sH:()=>u});var i=r(695723),n=r(669745),a=r(902978),o=r(421711),l=r(656471),s=r(513438),c=r(743549),d=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};class u{constructor(){this.time=s.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,n,o,s,c,d,u,h,f,p){let{outerBorder:g,innerBorder:b}=e.attribute,y=g&&!1!==g.visible,m=b&&!1!==b.visible;if(!y&&!m)return;let{cornerRadius:S=u.cornerRadius,cornerType:v=u.cornerType,opacity:x=u.opacity,x:w=u.x,y:R=u.y,scaleX:k=u.scaleX,scaleY:C=u.scaleY,x1:P,y1:O,keepStrokeScale:I=u.keepStrokeScale}=e.attribute,{width:A,height:M}=e.attribute;A=(null!=A?A:P-r)||0,M=(null!=M?M:O-n)||0;let T=(o,s)=>{let c=!(!o||!o.stroke),d="outerBorder"===s?-1:1,{distance:h=u[s].distance}=o,f=I?h:(0,a.D)(t,h,t.dpr),g=r+d*f,b=n+d*f,y=2*f;if(0===S||(0,i.Z)(S)&&S.every(e=>0===e)?(t.beginPath(),t.rect(g,b,A-d*y,M-d*y)):(t.beginPath(),(0,l.U)(t,g,b,A-d*y,M-d*y,S,"bevel"!==v)),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),p)p(t,o,u[s]);else if(c){let i=u[s].opacity;u[s].opacity=x,t.setStrokeStyle(e,o,(w-r)/k,(R-n)/C,u[s]),u[s].opacity=i,t.stroke()}};y&&T(g,"outerBorder"),m&&T(b,"innerBorder")}}let h=class{constructor(){this.time=s.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){let{stroke:f=s.stroke}=e.attribute;Array.isArray(f)&&f.some(e=>!1===e)&&(h.doStroke=!1)}};h=d([(0,n.b)()],h);let f=class{constructor(){this.time=s.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,n,a,o,s,c,d,u,h,f){let{x1:p,y1:g,x:b=d.x,y:y=d.y,stroke:m=d.stroke,cornerRadius:S=d.cornerRadius,cornerType:v=d.cornerType}=e.attribute,{width:x,height:w}=e.attribute;if(x=(null!=x?x:p-b)||0,w=(null!=w?w:g-y)||0,Array.isArray(m)&&m.some(e=>!1===e)){if(t.setStrokeStyle(e,e.attribute,r,n,d),!(0===S||(0,i.Z)(S)&&S.every(e=>0===e))){let i,a=0;return(0,l.U)(t,r,n,x,w,S,"bevel"!==v,[,,,,].fill(0).map((o,l)=>(o,s,c,u)=>{m[l]&&(a===l-1&&m[l]===i||(t.setStrokeStyle(e,Object.assign(Object.assign({},e.attribute),{stroke:m[l]}),r,n,d),t.beginPath(),t.moveTo(o,s),i=m[l]),a=l,t.lineTo(c,u),t.stroke(),3===l&&t.beginPath())})),void t.stroke()}if(t.beginPath(),t.moveTo(r,n),m[0]?t.lineTo(r+x,n):t.moveTo(r+x,n),m[1]?t.lineTo(r+x,n+w):t.moveTo(r+x,n+w),m[2]?t.lineTo(r,n+w):t.moveTo(r,n+w),m[3]){let e=m[0]?n-t.lineWidth/2:n;t.lineTo(r,e)}else t.moveTo(r,n);t.stroke()}}};f=d([(0,n.b)()],f);let p=new u,g=c.H,b=o.R6},875342:function(e,t,r){r.d(t,{C:()=>d});var i=r(480971),n=r(513438),a=r(421711),o=r(171185),l=r(21577),s=r(656471);class c extends a.M2{constructor(){super(...arguments),this.time=n.Oh.beforeFillStroke}drawShape(e,t,r,n,a,c,d,u,h,f,p,g){var b,y,m,S,v,x,w,R,k,C;let P,{backgroundMode:O=h.backgroundMode,backgroundFit:I=h.backgroundFit,backgroundKeepAspectRatio:A=h.backgroundKeepAspectRatio}=e.attribute,M,{background:T}=e.attribute;if(!T)return;let B=()=>{"richtext"===e.type&&(t.restore(),t.save(),M&&t.setTransformFromMatrix(M,!0,1))};"richtext"===e.type&&(M=t.currentMatrix.clone(),t.restore(),t.save(),t.setTransformForCurrent());let F=(0,i.Z)(T)&&T.background,j=e.transMatrix.onlyTranslate();if(F){let t=e.AABBBounds,r=(null!=(b=T.x)?b:t.x1)+(null!=(y=T.dx)?y:0),i=(null!=(m=T.y)?m:t.y1)+(null!=(S=T.dy)?S:0),n=null!=(v=T.width)?v:t.width(),a=null!=(x=T.height)?x:t.height();if(P=o.et.allocate(r,i,r+n,i+a),T=T.background,!j){let e=P.width(),t=P.height();P.set((null!=(w=T.x)?w:0)+(null!=(R=T.dx)?R:0),(null!=(k=T.y)?k:0)+(null!=(C=T.dy)?C:0),e,t)}}else P=e.AABBBounds,j||(P=(0,l.o)(Object.assign(Object.assign({},e.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(e.backgroundImg&&e.resources){let i=e.resources.get(T);if("success"!==i.state||!i.data)return void B();t.highPerformanceSave(),j&&t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.setCommonStyle(e,e.attribute,r,n,h),this.doDrawImage(t,i.data,P,{backgroundMode:O,backgroundFit:I,backgroundKeepAspectRatio:A}),t.highPerformanceRestore(),t.setTransformForCurrent()}else{let{backgroundCornerRadius:i}=e.attribute;t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,r,n,h),t.fillStyle=T,i?((0,s.U)(t,P.x1,P.y1,P.width(),P.height(),i,!0),t.fill()):t.fillRect(P.x1,P.y1,P.width(),P.height()),t.highPerformanceRestore()}F&&o.et.free(P),B()}}let d=new c},111553:function(e,t,r){r.d(t,{I:()=>d});var i=r(736264),n=r(669745),a=r(930615),o=r(753794);let l=class{constructor(){this.numberType=o.Nd}reInit(){}drawShape(e,t,r,i,n,a,o,l){n.drawContribution&&e.getSubGraphic().forEach(e=>{let s=n.drawContribution.getRenderContribution(e);s&&s.drawShape&&s.drawShape(e,t,r,i,n,a,o,l)})}draw(e,t,r,i){let{context:n}=r;if(!n||(n.highPerformanceSave(),!r.drawContribution))return;let o=(0,a.gh)(e),l=e.getSubGraphic();l.length&&l.forEach(e=>{r.drawContribution.renderItem(e,r,{theme:o})}),n.highPerformanceRestore()}};l=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,n.b)()],l);var s=r(330429);let c=!1,d=new i.n(e=>{c||(c=!0,e(s.FU).to(l).inSingletonScope(),e(s.uz).toService(s.FU))})},714032:function(e,t,r){r.d(t,{j:()=>O});var i=r(337886),n=r(736264),a=r(421711),o=r(348668),l=r(669745),s=r(362199),c=r(18163),d=r(930615),u=r(753794),h=r(695723),f=r(83624),p=r(656471),g=r(44864),b=r(513438),y=r(907276);class m extends y.sH{constructor(){super(...arguments),this.time=b.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u){return super.drawShape(e,t,r,i,n,a,o,l,s,c,d,u)}}let S=new m,v=a.R6;var x=r(166896),w=function(e,t){return function(r,i){t(r,i,e)}};let R=["","repeat-x","repeat-y","repeat"],k=class extends g.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=u.PN,this.builtinContributions=[S,v],this.init(e)}drawShape(e,t,r,i,n,a,o,l){let s=(0,d.gh)(e).image,{repeatX:c=s.repeatX,repeatY:u=s.repeatY,x:f=s.x,y:g=s.y,cornerRadius:b=s.cornerRadius,fillStrokeOrder:y=s.fillStrokeOrder,cornerType:m=s.cornerType,image:S}=e.attribute,v=this.valid(e,s,o);if(!v)return;let{fVisible:x,sVisible:w,doFill:k,doStroke:C}=v;if(!S||!e.resources)return;let P=e.resources.get(S);if("success"!==P.state)return;let O=e.width,I=e.height;t.beginPath();let A=!1;0===b||(0,h.Z)(b)&&b.every(e=>0===e)?t.rect(r,i,O,I):((0,p.U)(t,r,i,O,I,b,"bevel"!==m),A=!0),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s);let M=()=>{if(k){if(o)o(t,e.attribute,s);else if(x){t.setCommonStyle(e,e.attribute,r,i,s);let n=0;if("repeat"===c&&(n|=1),"repeat"===u&&(n|=2),n){let e=t.createPattern(P.data,R[n]);t.fillStyle=e,t.translate(r,i,!0),t.fillRect(0,0,O,I),t.translate(-r,-i,!0)}else t.drawImage(P.data,r,i,O,I)}}},T=()=>{C&&(l?l(t,e.attribute,s):w&&(t.setStrokeStyle(e,e.attribute,f-r,g-i,s),t.stroke()))};y?(T(),A&&(t.save(),t.clip()),this.beforeRenderStep(e,t,r,i,k,!1,x,!1,s,n,o),M(),A&&t.restore()):(A&&(t.save(),t.clip()),this.beforeRenderStep(e,t,r,i,k,!1,x,!1,s,n,o),M(),A&&t.restore(),T()),this.afterRenderStep(e,t,r,i,k,!1,x,!1,s,n,o)}draw(e,t,r){let{image:i}=e.attribute;if(!i||!e.resources)return;let n=e.resources.get(i);if("loading"===n.state&&(0,f.Z)(i))return void x.h.improveImageLoading(i);if("success"!==n.state)return;let{context:a}=t.drawParams;if(!a)return;let o=(0,d.gh)(e).image;this._draw(e,o,!1,r)}};k=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,l.b)(),w(0,(0,s.f)(i.Qc)),w(0,(0,c.t)(o.JO)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],k);var C=r(330429);let P=!1,O=new n.n(e=>{P||(P=!0,e(C.e0).to(k).inSingletonScope(),e(C.uz).toService(C.e0),e(o.JO).toService(a.Sg),(0,i.yb)(e,o.JO))})},347125:function(e,t,r){r.d(t,{K:()=>c});var i=r(669745),n=r(753794),a=r(930615),o=r(183522),l=r(801512),s=r(152409);let c=class extends l.j{constructor(){super(...arguments),this.numberType=n.Ri}drawShape(e,t,r,i,n,l,s){if(e.incremental&&n.multiGraphicOptions){let{startAtIdx:l,length:c}=n.multiGraphicOptions,{segments:d=[]}=e.attribute;if(l>d.length)return;let u=(0,a.gh)(e).area,{fill:h=u.fill,fillOpacity:f=u.fillOpacity,opacity:p=u.opacity,visible:g=u.visible}=e.attribute,b=(0,o.Bv)(p,f,h),y=(0,o.dz)(h);if(e.valid&&g&&y&&(b||s))for(let n=l;n<l+c;n++)this.drawIncreaseSegment(e,t,d[n-1],d[n],e.attribute.segments[n],[u,e.attribute],r,i)}else super.drawShape(e,t,r,i,n,l,s)}drawIncreaseSegment(e,t,r,i,n,a,o,l){i&&(t.beginPath(),(0,s.hJ)(t.camera?t:t.nativeContext,r,i,{offsetX:o,offsetY:l}),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,n,a),t.setCommonStyle(e,n,o,l,a),t.fill())}};c=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,i.b)()],c)},3508:function(e,t,r){r.d(t,{U:()=>c});var i=r(669745),n=r(930615),a=r(753794),o=r(183522),l=r(169564),s=r(152409);let c=class extends l.X{constructor(){super(...arguments),this.numberType=a.Hf}drawShape(e,t,r,i,a,l,s,c){if(e.incremental&&a.multiGraphicOptions){let{startAtIdx:t,length:l}=a.multiGraphicOptions,{segments:d=[]}=e.attribute;if(t>d.length)return;let u=(0,n.gh)(e).line,{fill:h=u.fill,stroke:f=u.stroke,opacity:p=u.opacity,fillOpacity:g=u.fillOpacity,strokeOpacity:b=u.strokeOpacity,lineWidth:y=u.lineWidth,visible:m=u.visible}=e.attribute,S=(0,o.Bv)(p,g,h),v=(0,o.Kf)(p,b),x=(0,o.dz)(h),w=(0,o.ak)(f,y);if(!e.valid||!m||!x&&!w||!(S||v||s||c))return;let{context:R}=a;for(let n=t;n<t+l;n++)this.drawIncreaseSegment(e,R,d[n-1],d[n],e.attribute.segments[n],[u,e.attribute],r,i)}else super.drawShape(e,t,r,i,a,l,s,c)}drawIncreaseSegment(e,t,r,i,n,a,o,l){i&&(t.beginPath(),(0,s.V3)(t.nativeContext,r,i,{offsetX:o,offsetY:l}),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,n,a),t.setStrokeStyle(e,n,o,l,a),t.stroke())}};c=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,i.b)()],c)},519617:function(e,t,r){r.d(t,{Q:()=>s});var i=r(736264),n=r(3508),a=r(169564),o=r(330429);let l=!1,s=new i.n(e=>{l||(l=!0,e(a.X).toSelf().inSingletonScope(),e(n.U).toSelf().inSingletonScope(),e(o.O).to(a.X).inSingletonScope(),e(o.uz).toService(o.O))})},169564:function(e,t,r){r.d(t,{X:()=>u});var i=r(695723),n=r(408830),a=r(669745),o=r(930615),l=r(753794),s=r(44864),c=r(152409),d=r(21176);let u=class extends s.Y{constructor(){super(...arguments),this.numberType=l.Hf}draw(e,t,r,i){let n=(0,o.gh)(e,null==i?void 0:i.theme).line;this._draw(e,n,!1,r,i)}drawSegmentItem(e,t,r,n,a,o,l,s,d,u,h,f,p,g,b){var y;if(!t)return;e.beginPath();let m=null!=(y=this.z)?y:0;(0,c.fW)(e,t,d,u,{offsetX:h,offsetY:f,offsetZ:m}),p.cache&&!(0,i.Z)(p.cache)&&p.cache.curves.every(e=>e.defined)&&p.attribute.curveType&&p.attribute.curveType.includes("Closed")&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(p,l,s);let{x:S=0,x:v=0}=l;return!1!==r&&(g?g(e,l,s):a&&(e.setCommonStyle(p,l,S-h,v-f,s),e.fill())),!1!==n&&(b?b(e,l,s):o&&(e.setStrokeStyle(p,l,S-h,v-f,s),e.stroke())),!1}drawLinearLineHighPerformance(e,t,r,i,n,a,o,l,s,c,d,u,h){var f;t.beginPath();let p=null!=(f=this.z)?f:0,{points:g}=e.attribute,b=g[0];t.moveTo(b.x+o,b.y+l,p);for(let e=1;e<g.length;e++){let r=g[e];t.lineTo(r.x+o,r.y+l,p)}t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s);let{x:y=0,x:m=0}=e.attribute;!1!==r&&(u?u(t,e.attribute,s):n&&(t.setCommonStyle(e,e.attribute,y-o,m-l,s),t.fill())),!1!==i&&(h?h(t,e.attribute,s):a&&(t.setStrokeStyle(e,e.attribute,y-o,m-l,s),t.stroke()))}drawShape(e,t,r,i,a,l,s,c){let u=(0,o.gh)(e,null==l?void 0:l.theme).line,{fill:h=u.fill,stroke:f=u.stroke,fillOpacity:p=u.fillOpacity,strokeOpacity:g=u.strokeOpacity,segments:b,points:y,closePath:m,curveTension:S=u.curveTension,connectedType:v=u.connectedType}=e.attribute;if(!this.valid(e,u,s,c))return;let{curveType:x=u.curveType}=e.attribute;m&&"linear"===x&&(x="linearClosed");let{clipRange:w=u.clipRange,clipRangeByDimension:R=u.clipRangeByDimension}=e.attribute;if(1===w&&!b&&!y.some(e=>!1===e.defined)&&"linear"===x)return this.drawLinearLineHighPerformance(e,t,!!h,!!f,p,g,r,i,u,a,l,s,c);function k(e,t){return"none"===t?e:e.filter(e=>!1!==e.defined)}if(e.shouldUpdateShape()){let{points:t,segments:r}=e.attribute;if(r&&r.length){let t,i;if(e.cache=r.map((e,r)=>{if(e.points.length<=1&&0===r)return e.points[0]&&(i={endX:e.points[0].x,endY:e.points[0].y,curves:[{defined:!1!==e.points[0].defined}]}),null;1===r?t={x:i.endX,y:i.endY,defined:i.curves[i.curves.length-1].defined}:r>1&&(t.x=i.endX,t.y=i.endY,t.defined=i.curves[i.curves.length-1].defined);let n=(0,d.X0)(k(e.points,v),x,{startPoint:t,curveTension:S});return i=n,n}).filter(e=>!!e),"linearClosed"===x){let t;for(let r=0;r<e.cache.length;r++){let i=e.cache[r];for(let e=0;e<i.curves.length;e++)if(i.curves[e].defined){t=i.curves[e].p0;break}if(t)break}e.cache[e.cache.length-1]&&e.cache[e.cache.length-1].lineTo(t.x,t.y,!0)}}else{if(!t||!t.length)return e.cache=null,void e.clearUpdateShapeTag();e.cache=(0,d.X0)(k(t,v),x,{curveTension:S})}e.clearUpdateShapeTag()}if(Array.isArray(e.cache)){let a=e.attribute.segments.filter(e=>e.points.length);if(1===a[0].points.length&&a.shift(),1===w){let n=!1;e.cache.forEach((o,l)=>{n||(n=this.drawSegmentItem(t,o,!!h,!!f,p,g,a[l],[u,e.attribute],w,R,r,i,e,s,c))})}else{let o=w*e.cache.reduce((e,t)=>e+t.getLength(),0),l=0,d=!1;e.cache.forEach((b,y)=>{if(d)return;let m=b.getLength(),S=(o-l)/m;l+=m,S>0&&(d=this.drawSegmentItem(t,b,!!h,!!f,p,g,a[y],[u,e.attribute],(0,n.VV)(S,1),R,r,i,e,s,c))})}}else this.drawSegmentItem(t,e.cache,!!h,!!f,p,g,e.attribute,u,w,R,r,i,e,s,c)}};u=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,a.b)()],u)},269568:function(e,t,r){r.d(t,{f:()=>v});var i=r(337886),n=r(736264),a=r(421711),o=r(348668),l=r(669745),s=r(362199),c=r(18163),d=r(801557),u=r(930615),h=r(753794),f=r(44864);let p=r(743549).H,g=a.R6;var b=function(e,t){return function(r,i){t(r,i,e)}};let y=class extends f.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=h.qm,this.builtinContributions=[g,p],this.init(e)}drawShape(e,t,r,i,n,a,o,l){var s,c,h;let f=null!=(s=this.tempTheme)?s:(0,u.gh)(e,null==a?void 0:a.theme).path,{x:p=f.x,y:g=f.y,fillStrokeOrder:b=f.fillStrokeOrder}=e.attribute,y=null!=(c=this.z)?c:0,m=this.valid(e,f,o,l);if(!m)return;let{fVisible:S,sVisible:v,doFill:x,doStroke:w}=m;if(t.beginPath(),e.pathShape)(0,d.h)(e.pathShape.commandList,t,r,i,1,1,y);else{let n=null!=(h=e.attribute.path)?h:f.path;(0,d.h)(n.commandList,t,r,i,1,1,y)}t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,f),this.beforeRenderStep(e,t,r,i,x,w,S,v,f,n,o,l);let R=()=>{w&&(l?l(t,e.attribute,f):v&&(t.setStrokeStyle(e,e.attribute,p-r,g-i,f),t.stroke()))},k=()=>{x&&(o?o(t,e.attribute,f):S&&(t.setCommonStyle(e,e.attribute,p-r,g-i,f),t.fill()))};b?(R(),k()):(k(),R()),this.afterRenderStep(e,t,r,i,x,w,S,v,f,n,o,l)}draw(e,t,r,i){let n=(0,u.gh)(e,null==i?void 0:i.theme).path;this.tempTheme=n,this._draw(e,n,!1,r,i),this.tempTheme=null}};y=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,l.b)(),b(0,(0,s.f)(i.Qc)),b(0,(0,c.t)(o.Mj)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],y);var m=r(330429);let S=!1,v=new n.n(e=>{S||(S=!0,e(y).toSelf().inSingletonScope(),e(m.lG).to(y).inSingletonScope(),e(m.uz).toService(m.lG),e(o.Mj).toService(a.Sg),(0,i.yb)(e,o.Mj))})},67866:function(e,t,r){r.d(t,{M:()=>x});var i=r(337886),n=r(736264),a=r(421711),o=r(348668),l=r(695723),s=r(669745),c=r(362199),d=r(18163),u=r(930615),h=r(753794),f=r(298303),p=r(44864);let g=r(743549).H,b=a.R6;var y=function(e,t){return function(r,i){t(r,i,e)}};let m=class extends p.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=h.Kh,this.builtinContributions=[b,g],this.init(e)}drawShape(e,t,r,i,n,a,o,s){let c=(0,u.gh)(e,null==a?void 0:a.theme).polygon,{points:d=c.points,cornerRadius:h=c.cornerRadius,x:p=c.x,y:g=c.y,closePath:b=c.closePath,fillStrokeOrder:y=c.fillStrokeOrder}=e.attribute,m=this.valid(e,c,o,s);if(!m)return;let{fVisible:S,sVisible:v,doFill:x,doStroke:w}=m;t.beginPath(),h<=0||(0,l.Z)(h)&&h.every(e=>0===e)?(0,f.i)(t.camera?t:t.nativeContext,d,r,i):(0,f.k)(t.camera?t:t.nativeContext,d,r,i,h,b),b&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,r,i,x,w,S,v,c,n,o,s);let R=()=>{x&&(o?o(t,e.attribute,c):S&&(t.setCommonStyle(e,e.attribute,p-r,g-i,c),t.fill()))},k=()=>{w&&(s?s(t,e.attribute,c):v&&(t.setStrokeStyle(e,e.attribute,p-r,g-i,c),t.stroke()))};y?(k(),R()):(R(),k()),this.afterRenderStep(e,t,r,i,x,w,S,v,c,n,o,s)}draw(e,t,r,i){let n=(0,u.gh)(e,null==i?void 0:i.theme).polygon;this._draw(e,n,!1,r,i)}};m=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,s.b)(),y(0,(0,c.f)(i.Qc)),y(0,(0,d.t)(o.U7)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],m);var S=r(330429);let v=!1,x=new n.n(e=>{v||(v=!0,e(S.ZT).to(m).inSingletonScope(),e(S.uz).toService(S.ZT),e(o.U7).toService(a.Sg),(0,i.yb)(e,o.U7))})},872432:function(e,t,r){r.d(t,{c:()=>x});var i=r(337886),n=r(736264),a=r(907276),o=r(421711),l=r(348668),s=r(695723),c=r(669745),d=r(362199),u=r(18163),h=r(930615),f=r(753794),p=r(656471),g=r(183522),b=r(44864),y=function(e,t){return function(r,i){t(r,i,e)}};let m=class extends b.Y{constructor(e){super(),this.graphicRenderContributions=e,this.type="rect",this.numberType=f._u,this.builtinContributions=[a.NB,a.gq,a.k7],this.init(e)}drawShape(e,t,r,i,n,a,o,l,c){c=null!=c?c:(0,h.gh)(e,null==a?void 0:a.theme).rect;let{fill:d=c.fill,background:u,stroke:f=c.stroke,cornerRadius:b=c.cornerRadius,cornerType:y=c.cornerType,opacity:m=c.opacity,fillOpacity:S=c.fillOpacity,lineWidth:v=c.lineWidth,strokeOpacity:x=c.strokeOpacity,visible:w=c.visible,x1:R,y1:k,x:C=c.x,y:P=c.y,fillStrokeOrder:O=c.fillStrokeOrder,drawStrokeWhenZeroWH:I=c.drawStrokeWhenZeroWH}=e.attribute,{width:A,height:M}=e.attribute;A=(null!=A?A:R-C)||0,M=(null!=M?M:k-P)||0;let T=(0,g.GT)(m,S,A,M,d),B=(0,g.Ze)(m,x,A,M,I),F=(0,g.dz)(d,u),j=(0,g.ak)(f,v);if(!e.valid||!w||!F&&!j||!(T||B||o||l||u))return;0===b||(0,s.Z)(b)&&b.every(e=>0===e)?(t.beginPath(),t.rect(r,i,A,M)):(t.beginPath(),(0,p.U)(t,r,i,A,M,b,"bevel"!==y));let _={doFill:F,doStroke:j};t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,r,i,F,j,T,B,c,n,o,l,_),O?(this._runStroke(e,t,r,i,c,_,B,C,P,l),this._runFill(e,t,r,i,c,_,T,C,P,o)):(this._runFill(e,t,r,i,c,_,T,C,P,o),this._runStroke(e,t,r,i,c,_,B,C,P,l)),this.afterRenderStep(e,t,r,i,F,j,T,B,c,n,o,l)}_runFill(e,t,r,i,n,a,o,l,s,c){a.doFill&&(c?c(t,e.attribute,n):o&&(t.setCommonStyle(e,e.attribute,l-r,s-i,n),t.fill()))}_runStroke(e,t,r,i,n,a,o,l,s,c){a.doStroke&&(c?c(t,e.attribute,n):o&&(t.setStrokeStyle(e,e.attribute,l-r,s-i,n),t.stroke()))}draw(e,t,r,i){let n=(0,h.gh)(e,null==i?void 0:i.theme).rect;this._draw(e,n,!1,r,i,n)}};m=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,c.b)(),y(0,(0,d.f)(i.Qc)),y(0,(0,u.t)(l.d5)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],m);var S=r(330429);let v=!1,x=new n.n(e=>{v||(v=!0,e(m).toSelf().inSingletonScope(),e(S.Uj).to(m).inSingletonScope(),e(S.uz).toService(S.Uj),e(a.Er).toSelf(),e(a.d4).toSelf(),e(l.d5).toService(a.Er),e(l.d5).toService(a.d4),e(l.d5).toService(o.Sg),(0,i.yb)(e,l.d5))})},51098:function(e,t,r){r.d(t,{k:()=>p});var i=r(736264),n=r(669745),a=r(656471),o=r(930615),l=r(753794),s=r(183522),c=r(44864),d=r(875342);let u=class extends c.Y{constructor(){super(),this.numberType=l.$M,this.builtinContributions=[d.C],this.init()}drawShape(e,t,r,i,n){let a=(0,o.gh)(e).richtext,{strokeOpacity:l=a.strokeOpacity,opacity:c=a.opacity,fillOpacity:d=a.fillOpacity,visible:u=a.visible}=e.attribute;if(!e.valid||!u)return;let h=(0,s.Bv)(c,d,!0),f=(0,s.Bv)(c,l,!0);h&&(t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,a),t.translate(r,i),this.beforeRenderStep(e,t,r,i,h,f,h,f,a,n),e.getFrameCache().draw(t,this.drawIcon),this.afterRenderStep(e,t,r,i,h,f,h,f,a,n))}drawIcon(e,t,r,i,n){var l;let s=(0,o.gh)(e).richtextIcon,{width:c=s.width,height:d=s.height,opacity:u=s.opacity,image:h,backgroundFill:f=s.backgroundFill,backgroundFillOpacity:p=s.backgroundFillOpacity,backgroundStroke:g=s.backgroundStroke,backgroundStrokeOpacity:b=s.backgroundStrokeOpacity,backgroundRadius:y=s.backgroundRadius,margin:m}=e.attribute,{backgroundWidth:S=c,backgroundHeight:v=d}=e.attribute;if(m&&(r+=e._marginArray[3],i+=e._marginArray[0]),e._hovered){let e=(S-c)/2,n=(v-d)/2;0===y?(t.beginPath(),t.rect(r-e,i-n,S,v)):(t.beginPath(),(0,a.U)(t,r-e,i-n,S,v,y,!0)),f&&(t.globalAlpha=p,t.fillStyle=f,t.fill()),g&&(t.globalAlpha=b,t.strokeStyle=g,t.stroke())}let x=h&&(null==(l=null==e?void 0:e.resources)?void 0:l.get(h));x&&"success"===x.state&&(t.globalAlpha=u,t.drawImage(x.data,r,i,c,d))}draw(e,t,r){let i=(0,o.gh)(e).richtext;this._draw(e,i,!1,r)}};u=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,n.b)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],u);var h=r(330429);let f=!1,p=new i.n(e=>{f||(f=!0,e(h.fS).to(u).inSingletonScope(),e(h.uz).toService(h.fS))})},723465:function(e,t,r){r.d(t,{A:()=>C});var i=r(337886),n=r(736264),a=r(421711),o=r(348668),l=r(330429),s=r(669745),c=r(362199),d=r(18163),u=r(930615),h=r(753794),f=r(44864),p=r(695723),g=r(902978),b=r(513438),y=r(743549);let m=new class{constructor(){this.time=b.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u){let h=e.getParsedPath();if(!h)return;let{outerBorder:f,innerBorder:p}=e.attribute,b=f&&!1!==f.visible,y=p&&!1!==p.visible;if(!b&&!y)return;let{size:m=s.size,opacity:S=s.opacity,x:v=s.x,y:x=s.y,scaleX:w=s.scaleX,scaleY:R=s.scaleY,keepStrokeScale:k=s.keepStrokeScale}=e.attribute,C=(n,a)=>{let o=!(!n||!n.stroke),{distance:l=s[a].distance}=n,c=k?l:(0,g.D)(t,l,t.dpr);if(t.beginPath(),!1===h.drawOffset(t,m,r,i,("outerBorder"===a?1:-1)*c)&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),u)u(t,n,s[a]);else if(o){let o=s[a].opacity;s[a].opacity=S,t.setStrokeStyle(e,n,(v-r)/w,(x-i)/R,s[a]),s[a].opacity=o,t.stroke()}};b&&C(f,"outerBorder"),y&&C(p,"innerBorder")}},S=new class{constructor(){this.time=b.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,r,i,n,a,o,l,s,c,d,u,h){let{clipRange:f=s.clipRange,x:p=s.x,y:g=s.y,z:b=s.z,size:y=s.size,scaleX:m=s.scaleX,scaleY:S=s.scaleY}=e.attribute,v=e.getParsedPath();v&&f<1&&f>0&&(t.beginPath(),v.drawWithClipRange&&v.drawWithClipRange(t,y,r,i,f,b,(n,a)=>{var o,c,d,h;if(e._parsedPath.svgCache){let t=Object.assign({},a);t.fill=null!=(o=a.fill)?o:e.attribute.fill,t.opacity=null!=(c=a.opacity)?c:e.attribute.opacity,t.fillOpacity=e.attribute.fillOpacity,t.stroke=null!=(d=a.stroke)?d:e.attribute.stroke,t.lineWidth=null!=(h=a.lineWidth)?h:e.attribute.lineWidth,a=t}a.stroke&&(u?u(t,e.attribute,s):l&&(t.setStrokeStyle(e,a,(p-r)/m,(g-i)/S,s),t.stroke()))}),a&&!v.isSvg&&(u?u(t,e.attribute,s):l&&(t.setStrokeStyle(e,e.attribute,(p-r)/m,(g-i)/S,s),t.stroke())))}},v=y.H,x=a.R6;var w=function(e,t){return function(r,i){t(r,i,e)}};let R=class extends f.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=h.B5,this.builtinContributions=[m,x,v,S],this.init(e)}drawShape(e,t,r,i,n,a,o,l,s){var c;s=null!=s?s:(0,u.gh)(e,null==a?void 0:a.theme).symbol;let{size:d=s.size,x:h=s.x,y:f=s.y,scaleX:g=s.scaleX,scaleY:b=s.scaleY,fillStrokeOrder:y=s.fillStrokeOrder,clipRange:m=s.clipRange}=e.attribute,S=this.valid(e,s,o,l);if(!S)return;let{fVisible:v,sVisible:x,doFill:w,doStroke:R}=S,k=e.getParsedPath();if(!k)return;let{keepDirIn3d:C=s.keepDirIn3d}=e.attribute,P=null!=(c=this.z)?c:0;t.beginPath();let O=r,I=i,A=P,M=t.camera;if(C&&M&&t.project){let e=t.project(r,i,P);t.camera=null,(0,p.Z)(d)&&(d[0],d[1]),O=e.x,I=e.y,A=void 0}!1===k.draw(t,d,O,I,A,(n,a)=>{var c,d,u,p;if(e._parsedPath.svgCache){let t=Object.assign({},a);t.fill=null!=(c=a.fill)?c:e.attribute.fill,t.opacity=null!=(d=a.opacity)?d:e.attribute.opacity,t.fillOpacity=e.attribute.fillOpacity,t.stroke=null!=(u=a.stroke)?u:e.attribute.stroke,t.lineWidth=null!=(p=a.lineWidth)?p:e.attribute.lineWidth,a=t}let S=()=>{a.fill&&(o?o(t,e.attribute,s):(t.setCommonStyle(e,a,h-r,f-i,s),t.fill()))},v=()=>{a.stroke&&(l?l(t,e.attribute,s):x&&m>=1&&(t.setStrokeStyle(e,a,(h-r)/g,(f-i)/b,s),t.stroke()))};y?(v(),S()):(S(),v())})&&t.closePath(),t.camera=M,t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,r,i,w,R,v,x,s,n,o,l),y?(this._runStroke(e,t,r,i,s,R,x,h,f,k,m,g,b,l),this._runFill(e,t,r,i,s,w,v,h,f,k,o)):(this._runFill(e,t,r,i,s,w,v,h,f,k,o),this._runStroke(e,t,r,i,s,R,x,h,f,k,m,g,b,l)),this.afterRenderStep(e,t,r,i,w,R,v,x,s,n,o,l)}_runFill(e,t,r,i,n,a,o,l,s,c,d){a&&!c.isSvg&&(d?d(t,e.attribute,n):o&&(t.setCommonStyle(e,e.attribute,l-r,s-i,n),t.fill()))}_runStroke(e,t,r,i,n,a,o,l,s,c,d,u,h,f){a&&!c.isSvg&&(f?f(t,e.attribute,n):o&&d>=1&&(t.setStrokeStyle(e,e.attribute,(l-r)/u,(s-i)/h,n),t.stroke()))}draw(e,t,r,i){let n=(0,u.gh)(e,null==i?void 0:i.theme).symbol;this._draw(e,n,!1,r,i)}};R=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,s.b)(),w(0,(0,c.f)(i.Qc)),w(0,(0,d.t)(o.X3)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],R);let k=!1,C=new n.n(e=>{k||(k=!0,e(R).toSelf().inSingletonScope(),e(l.tP).to(R).inSingletonScope(),e(l.uz).toService(l.tP),e(o.X3).toService(a.Sg),(0,i.yb)(e,o.X3))})},330429:function(e,t,r){r.d(t,{Cb:()=>s,EY:()=>p,FU:()=>b,Gs:()=>a,Iv:()=>m,O:()=>c,Pf:()=>i,Uj:()=>h,Xe:()=>n,ZT:()=>u,aP:()=>o,e0:()=>y,fS:()=>g,lG:()=>d,tP:()=>f,uz:()=>l});let i=Symbol.for("IncrementalDrawContribution"),n=Symbol.for("ArcRender");Symbol.for("Arc3dRender");let a=Symbol.for("AreaRender"),o=Symbol.for("CircleRender"),l=Symbol.for("GraphicRender"),s=Symbol.for("GroupRender"),c=Symbol.for("LineRender"),d=Symbol.for("PathRender"),u=Symbol.for("PolygonRender"),h=Symbol.for("RectRender");Symbol.for("Rect3DRender");let f=Symbol.for("SymbolRender"),p=Symbol.for("TextRender"),g=Symbol.for("RichTextRender");Symbol.for("Pyramid3dRender");let b=Symbol.for("GlyphRender"),y=Symbol.for("ImageRender");Symbol.for("RenderSelector");let m=Symbol.for("DrawContribution");Symbol.for("StarRender")},602262:function(e,t,r){r.d(t,{D:()=>R});var i=r(337886),n=r(736264),a=r(421711),o=r(348668),l=r(330429),s=r(669745),c=r(362199),d=r(18163),u=r(930615),h=r(753794),f=r(351727),p=r(44864),g=r(624108),b=r(408830),y=r(454326),m=r(917486),S=r(875342),v=function(e,t){return function(r,i){t(r,i,e)}};let x=class extends p.Y{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=h.Us,this.builtinContributions=[S.C],this.init(e)}drawShape(e,t,r,i,n,a,o,l){var s,c,d;let h=(0,u.gh)(e,null==a?void 0:a.theme).text,{text:f,underline:p=h.underline,lineThrough:y=h.lineThrough,keepDirIn3d:S=h.keepDirIn3d,direction:v=h.direction,fontSize:x=h.fontSize,verticalMode:w=h.verticalMode,x:R=h.x,y:k=h.y}=e.attribute,C=null!=(s=(0,m.VA)(e.attribute.lineHeight,x))?s:x,P=this.valid(e,h,o,l);if(!P)return;let{fVisible:O,sVisible:I,doFill:A,doStroke:M}=P,T=!S,B=this.z||0;if(t.beginPath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,h),this.beforeRenderStep(e,t,r,i,A,M,O,I,h,n,o,l),T&&this.transformUseContext2d(e,h,B,t),t.setTextStyleWithoutAlignBaseline(e.attribute,h,B),"horizontal"===v){let{multilineLayout:n}=e;if(!n)return void t.highPerformanceRestore();let{xOffset:a,yOffset:s}=n.bbox;M&&(l?l(t,e.attribute,h):I&&(t.setStrokeStyle(e,e.attribute,R-r,k-i,h),n.lines.forEach(e=>{t.strokeText(e.str,(e.leftOffset||0)+a+r,(e.topOffset||0)+s+i,B)}))),A&&(o?o(t,e.attribute,h):O&&(t.setCommonStyle(e,e.attribute,R-r,k-i,h),n.lines.forEach(n=>{t.fillText(n.str,(n.leftOffset||0)+a+r,(n.topOffset||0)+s+i,B),this.drawUnderLine(p,y,e,(n.leftOffset||0)+a+r,(n.topOffset||0)+s+i,n.descent,(n.descent-n.ascent)/2,B,h,t,{width:n.width})})))}else{let{textAlign:n=h.textAlign,textBaseline:a=h.textBaseline}=e.attribute;if(!w){let t=n;n=null!=(c=e.getBaselineMapAlign()[a])?c:"left",a=null!=(d=e.getAlignMapBaseline()[t])?d:"top"}e.tryUpdateAABBBounds();let{verticalList:s}=e.cache;t.textAlign="left",t.textBaseline="top";let u=C*s.length,f=0;s.forEach(e=>{let t=e.reduce((e,t)=>e+(t.width||0),0);f=(0,b.Fp)(t,f)});let p=0,y=0;"bottom"===a?y=-u:"middle"===a&&(y=-u/2),"center"===n?p-=f/2:"right"===n&&(p-=f),s.forEach((a,s)=>{let c=a.reduce((e,t)=>e+(t.width||0),0),d=f-c,b=p;"center"===n?b+=d/2:"right"===n&&(b+=d),a.forEach(n=>{let{text:a,width:c,direction:d}=n;((n,a,s,c)=>{let d=r+a,u=i+s;if(c){t.highPerformanceSave(),d+=x;let e=g.QE.allocate(1,0,0,1,0,0);e.rotateByCenter(Math.PI/2,d,u),t.transformFromMatrix(e,!0),g.QE.free(e)}M&&(l?l(t,e.attribute,h):I&&(t.setStrokeStyle(e,e.attribute,R-r,k-i,h),t.strokeText(n,d,u,B))),A&&(o?o(t,e.attribute,h):O&&(t.setCommonStyle(e,e.attribute,R-r,k-i,h),t.fillText(n,d,u,B))),c&&(t.highPerformanceRestore(),t.setTransformForCurrent())})(a,u-(s+1)*C+y,b,d),b+=c})})}T&&this.restoreTransformUseContext2d(e,h,B,t),this.afterRenderStep(e,t,r,i,A,M,O,I,h,n,o,l)}draw(e,t,r,i){let n=(0,u.gh)(e,null==i?void 0:i.theme).text,{keepDirIn3d:a=n.keepDirIn3d}=e.attribute;this._draw(e,n,!a,r,i)}drawUnderLine(e,t,r,i,n,a,o,l,s,c,d){if(t+e<=0)return;let{textAlign:u=s.textAlign,fill:h=s.fill,opacity:p=s.opacity,underlineOffset:g=s.underlineOffset,underlineDash:b=s.underlineDash,fillOpacity:m=s.fillOpacity}=r.attribute,S=!(0,y.Z)(d),v=S?d.width:r.clipedWidth,x=S?0:(0,f.js)(u,v),w={lineWidth:0,stroke:h,opacity:p,strokeOpacity:m};if(e){w.lineWidth=e,c.setStrokeStyle(r,w,i,n,s),b&&c.setLineDash(b),c.beginPath();let t=n+a+g;c.moveTo(i+x,t,l),c.lineTo(i+x+v,t,l),c.stroke()}if(t){w.lineWidth=t,c.setStrokeStyle(r,w,i,n,s),c.beginPath();let e=n+o;c.moveTo(i+x,e,l),c.lineTo(i+x+v,e,l),c.stroke()}}};x=function(e,t,r,i){var n,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}([(0,s.b)(),v(0,(0,c.f)(i.Qc)),v(0,(0,d.t)(o.$K)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],x);let w=!1,R=new n.n(e=>{w||(w=!0,e(l.EY).to(x).inSingletonScope(),e(l.uz).toService(l.EY),e(o.$K).toService(a.Sg),(0,i.yb)(e,o.$K))})},183522:function(e,t,r){r.d(t,{Bv:()=>l,Eg:()=>f,GT:()=>s,Kf:()=>c,ZN:()=>h,Ze:()=>d,ak:()=>o,dz:()=>a,gI:()=>u});var i=r(695723),n=r(408830);function a(e,t){return!(!e&&!t)}function o(e,t){return((0,i.Z)(e)?e.some(e=>e||void 0===e):!!e)&&t>0}function l(e,t,r){return r&&e*t>0}function s(e,t,r,i,n){return n&&e*t>0&&0!==r&&0!==i}function c(e,t){return e*t>0}function d(e,t,r,i,n){return n?e*t>0:e*t>0&&0!==r&&0!==i}function u(e,t,r,i,n,a,o){let l=e-r,s=t-i,c=(o?a:-a)/Math.sqrt(l*l+s*s),d=c*s,u=-c*l,h=e+d,f=t+u,p=r+d,g=i+u,b=(h+p)/2,y=(f+g)/2,m=p-h,S=g-f,v=m*m+S*S,x=n-a,w=h*g-p*f,R=(S<0?-1:1)*Math.sqrt(Math.max(0,x*x*v-w*w)),k=(w*S-m*R)/v,C=(-w*m-S*R)/v,P=(w*S+m*R)/v,O=(-w*m+S*R)/v,I=k-b,A=C-y,M=P-b,T=O-y;return I*I+A*A>M*M+T*T&&(k=P,C=O),{cx:k,cy:C,x01:-d,y01:-u,x11:k*(n/x-1),y11:C*(n/x-1)}}function h(e,t,r,a,o){let l,s,c,d,u=(0,n.Wn)(r-t),h=e.getParsedCornerRadius(),f=(0,i.Z)(h),{outerDeltaAngle:p,innerDeltaAngle:g,outerStartAngle:b,outerEndAngle:y,innerEndAngle:m,innerStartAngle:S}=e.getParsePadAngle(t,r),v=f?h[0]:h,x=f?h[1]:h,w=f?h[2]:h,R=f?h[3]:h,k=Math.max(x,v),C=Math.max(w,R),P=k,O=C,I=o*(0,n.mC)(b),A=o*(0,n.O$)(b),M=a*(0,n.mC)(m),T=a*(0,n.O$)(m);if((C>n.Ho||k>n.Ho)&&(l=o*(0,n.mC)(y),s=o*(0,n.O$)(y),c=a*(0,n.mC)(S),d=a*(0,n.O$)(S),u<n.pi)){let e=function(e,t,r,i,a,o,l,s){let c=r-e,d=i-t,u=l-a,h=s-o,f=h*c-u*d;return f*f<n.Ho?[]:(f=(u*(t-o)-h*(e-a))/f,[e+f*c,t+f*d])}(I,A,c,d,l,s,M,T);if(e){let t=I-e[0],r=A-e[1],i=l-e[0],c=s-e[1],d=1/(0,n.O$)((0,n.Kh)((t*i+r*c)/((0,n._b)(t*t+r*r)*(0,n._b)(i*i+c*c)))/2),u=(0,n._b)(e[0]*e[0]+e[1]*e[1]);O=(0,n.VV)(C,(a-u)/(d-1)),P=(0,n.VV)(k,(o-u)/(d+1))}}return{outerDeltaAngle:p,xors:I,yors:A,xirs:c,yirs:d,xore:l,yore:s,xire:M,yire:T,limitedOcr:P,limitedIcr:O,outerCornerRadiusStart:v,outerCornerRadiusEnd:x,maxOuterCornerRadius:k,maxInnerCornerRadius:C,outerStartAngle:b,outerEndAngle:y,innerDeltaAngle:g,innerEndAngle:m,innerStartAngle:S,innerCornerRadiusStart:R,innerCornerRadiusEnd:w}}function f(e,t,r,i,a,o,l){let{startAngle:s,endAngle:c}=e.getParsedAngle(),d=(0,n.Wn)(c-s),f=c>s,p=!1;if(a<o){let e=a;a=o,o=e}if(a<=n.Ho)t.moveTo(r,i);else if(d>=n.f7-n.Ho)t.moveTo(r+a*(0,n.mC)(s),i+a*(0,n.O$)(s)),t.arc(r,i,a,s,c,!f),o>n.Ho&&(t.moveTo(r+o*(0,n.mC)(c),i+o*(0,n.O$)(c)),t.arc(r,i,o,c,s,f));else{let{outerDeltaAngle:d,xors:g,yors:b,xirs:y,yirs:m,limitedOcr:S,outerCornerRadiusStart:v,outerCornerRadiusEnd:x,maxOuterCornerRadius:w,xore:R,yore:k,xire:C,yire:P,outerStartAngle:O,outerEndAngle:I,limitedIcr:A,innerDeltaAngle:M,innerEndAngle:T,innerStartAngle:B,innerCornerRadiusStart:F,innerCornerRadiusEnd:j,maxInnerCornerRadius:_}=h(e,s,c,o,a);if(d<.001)l&&(l[3]||l[1])&&t.moveTo(r+g,i+b),p=!0;else if(S>n.Ho){let e=(0,n.VV)(v,S),o=(0,n.VV)(x,S),s=u(y,m,g,b,a,e,Number(f)),c=u(R,k,C,P,a,o,Number(f));S<w&&e===o?!l||l[0]?(t.moveTo(r+s.cx+s.x01,i+s.cy+s.y01),t.arc(r+s.cx,i+s.cy,S,(0,n.fv)(s.y01,s.x01),(0,n.fv)(c.y01,c.x01),!f)):t.moveTo(r+s.cx+S*(0,n.mC)((0,n.fv)(c.y01,c.x01)),i+s.cy+S*(0,n.O$)((0,n.fv)(c.y01,c.x01))):!l||l[0]?(t.moveTo(r+s.cx+s.x01,i+s.cy+s.y01),e>0&&t.arc(r+s.cx,i+s.cy,e,(0,n.fv)(s.y01,s.x01),(0,n.fv)(s.y11,s.x11),!f),t.arc(r,i,a,(0,n.fv)(s.cy+s.y11,s.cx+s.x11),(0,n.fv)(c.cy+c.y11,c.cx+c.x11),!f),o>0&&t.arc(r+c.cx,i+c.cy,o,(0,n.fv)(c.y11,c.x11),(0,n.fv)(c.y01,c.x01),!f)):o>0?t.moveTo(r+c.cx+o*(0,n.mC)((0,n.fv)(c.y01,c.x01)),i+c.cy+o*(0,n.O$)((0,n.fv)(c.y01,c.x01))):t.moveTo(r+R,i+a*(0,n.O$)(I))}else!l||l[0]?(t.moveTo(r+g,i+b),t.arc(r,i,a,O,I,!f)):t.moveTo(r+a*(0,n.mC)(I),i+a*(0,n.O$)(I));if(!(o>n.Ho)||M<.001)!l||l[1]?t.lineTo(r+C,i+P):t.moveTo(r+C,i+P),p=!0;else if(A>n.Ho){let e=(0,n.VV)(F,A),a=(0,n.VV)(j,A),s=u(C,P,R,k,o,-a,Number(f)),c=u(g,b,y,m,o,-e,Number(f));if(!l||l[1]?t.lineTo(r+s.cx+s.x01,i+s.cy+s.y01):t.moveTo(r+s.cx+s.x01,i+s.cy+s.y01),A<_&&e===a){let e=(0,n.fv)(c.y01,c.x01);!l||l[2]?t.arc(r+s.cx,i+s.cy,A,(0,n.fv)(s.y01,s.x01),e,!f):t.moveTo(r+s.cx+(0,n.mC)(e),i+s.cy+(0,n.O$)(e))}else!l||l[2]?(a>0&&t.arc(r+s.cx,i+s.cy,a,(0,n.fv)(s.y01,s.x01),(0,n.fv)(s.y11,s.x11),!f),t.arc(r,i,o,(0,n.fv)(s.cy+s.y11,s.cx+s.x11),(0,n.fv)(c.cy+c.y11,c.cx+c.x11),f),e>0&&t.arc(r+c.cx,i+c.cy,e,(0,n.fv)(c.y11,c.x11),(0,n.fv)(c.y01,c.x01),!f)):e>0?t.moveTo(r+c.cx+e*(0,n.mC)((0,n.fv)(c.y01,c.x01)),i+c.cy+e*(0,n.O$)((0,n.fv)(c.y01,c.x01))):t.moveTo(r+y,i+m)}else!l||l[1]?t.lineTo(r+C,i+P):t.moveTo(r+C,i+P),!l||l[2]?t.arc(r,i,o,T,B,f):t.moveTo(r+o*(0,n.mC)(B),i+o*(0,n.O$)(B))}return l?l[3]&&t.lineTo(r+a*(0,n.mC)(s),i+a*(0,n.O$)(s)):t.closePath(),p}},166896:function(e,t,r){r.d(t,{h:()=>n});var i=r(894442);class n{static GetImage(e,t){var r;let a=n.cache.get(e);a?"fail"===a.loadState?i.w.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):"init"===a.loadState||"loading"===a.loadState?null==(r=a.waitingMark)||r.push(t):t&&t.imageLoadSuccess(e,a.data):n.loadImage(e,t)}static GetSvg(e,t){var r;let a=n.cache.get(e);a?"fail"===a.loadState?i.w.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):"init"===a.loadState||"loading"===a.loadState?null==(r=a.waitingMark)||r.push(t):t&&t.imageLoadSuccess(e,a.data):(a={type:"image",loadState:"init"},n.cache.set(e,a),a.dataPromise=i.w.global.loadSvg(e),a.dataPromise?(a.waitingMark=[t],a.dataPromise.then(t=>{var r;a.loadState=(null==t?void 0:t.data)?"success":"fail",a.data=null==t?void 0:t.data,null==(r=a.waitingMark)||r.map((r,i)=>{(null==t?void 0:t.data)?(a.loadState="success",a.data=t.data,r.imageLoadSuccess(e,t.data)):(a.loadState="fail",r.imageLoadFail(e))}),a.waitingMark&&(a.waitingMark=[])})):(a.loadState="fail",t.imageLoadFail(e)))}static GetFile(e,t){let r=n.cache.get(e);return r?"fail"===r.loadState?Promise.reject():"init"===r.loadState||"loading"===r.loadState?r.dataPromise.then(e=>e.data):Promise.resolve(r.data):(r={type:t,loadState:"init"},n.cache.set(e,r),"arrayBuffer"===t?r.dataPromise=i.w.global.loadArrayBuffer(e):"blob"===t?r.dataPromise=i.w.global.loadBlob(e):"json"===t&&(r.dataPromise=i.w.global.loadJson(e)),r.dataPromise.then(e=>e.data))}static loading(){setTimeout(()=>{if(!n.isLoading&&n.toLoadAueue.length){n.isLoading=!0;let e=n.toLoadAueue.splice(0,10),t=[];e.forEach(e=>{let{url:r,marks:a}=e,o={type:"image",loadState:"init"};if(n.cache.set(r,o),o.dataPromise=i.w.global.loadImage(r),o.dataPromise){o.waitingMark=a;let e=o.dataPromise.then(e=>{var t;o.loadState=(null==e?void 0:e.data)?"success":"fail",o.data=null==e?void 0:e.data,null==(t=o.waitingMark)||t.map((t,i)=>{(null==e?void 0:e.data)?(o.loadState="success",o.data=e.data,t.imageLoadSuccess(r,e.data)):(o.loadState="fail",t.imageLoadFail(r))}),o.waitingMark&&(o.waitingMark=[])});t.push(e)}else o.loadState="fail",a.forEach(e=>e.imageLoadFail(r))}),Promise.all(t).then(()=>{n.isLoading=!1,this.onLoadSuccessCb.forEach(e=>e()),n.loading()}).catch(e=>{console.error(e),n.isLoading=!1,this.onLoadSuccessCb.forEach(e=>e()),n.loading()})}},0)}static loadImage(e,t){let r=a(e,n.toLoadAueue);if(-1!==r)return n.toLoadAueue[r].marks.push(t),void n.loading();n.toLoadAueue.push({url:e,marks:[t]}),n.loading()}static improveImageLoading(e){let t=a(e,n.toLoadAueue);if(-1!==t){let e=n.toLoadAueue.splice(t,1);n.toLoadAueue.unshift(e[0])}}static onLoadSuccess(e){this.onLoadSuccessCb.push(e)}}function a(e,t){for(let r=0;r<t.length;r++)if(t[r].url===e)return r;return -1}n.cache=new Map,n.isLoading=!1,n.toLoadAueue=[],n.onLoadSuccessCb=[]},914118:function(e,t,r){r.d(t,{n:()=>n});class i{constructor(e,t){this._args=e,this.name=t,this.taps=[]}tap(e,t){this._tap("sync",e,t)}unTap(e,t){let r="string"==typeof e?e.trim():e.name;r&&(this.taps=this.taps.filter(e=>!(e.name===r&&(!t||e.fn===t))))}_parseOptions(e,t,r){let i;if("string"==typeof t)i={name:t.trim()};else if("object"!=typeof t||null===t)throw Error("Invalid tap options");if("string"!=typeof i.name||""===i.name)throw Error("Missing name for tap");return Object.assign({type:e,fn:r},i)}_tap(e,t,r){this._insert(this._parseOptions(e,t,r))}_insert(e){let t;"string"==typeof e.before?t=new Set([e.before]):Array.isArray(e.before)&&(t=new Set(e.before));let r=0;"number"==typeof e.stage&&(r=e.stage);let i=this.taps.length;for(;i>0;){i--;let e=this.taps[i];this.taps[i+1]=e;let n=e.stage||0;if(t){if(t.has(e.name)){t.delete(e.name);continue}if(t.size>0)continue}if(!(n>r)){i++;break}}this.taps[i]=e}}class n extends i{call(...e){this.taps.map(e=>e.fn).forEach(t=>t(...e))}}}}]);