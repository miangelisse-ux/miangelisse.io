"use strict";(window.webpackChunkweb=window.webpackChunkweb||[]).push([["51836"],{869002:function(t,e,i){i.d(e,{U:()=>o});var s=i(464639),l=i(364776),r=i(205427),a=i(385943),n=i(942747),h=i(475609);class o extends a.k{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);let{interactive:t=!0,title:e,padding:i=0}=this.attribute;this._parsedPadding=(0,s.o)(i);let l=r.i.group({x:this._parsedPadding[3],y:this._parsedPadding[0],pickable:t,childrenPickable:t});l.name=h.GN.innerView,this.add(l),this._innerView=l,(null==e?void 0:e.visible)&&this._renderTitle(e),this._renderContent(),this._adjustLayout(),t&&this._bindEvents();let a=this._innerView.AABBBounds;this.attribute.width=a.width()+this._parsedPadding[1]+this._parsedPadding[3],this.attribute.height=a.height()+this._parsedPadding[0]+this._parsedPadding[2]}_renderTitle(t){let{text:e="",textStyle:i,padding:r=0,background:a,minWidth:o,maxWidth:d,shape:u}=t,c={x:0,y:0,text:e,textStyle:i,padding:(0,s.o)(r),minWidth:o,maxWidth:d};u&&u.visible&&(c.shape=Object.assign({visible:!0},u.style),(0,l.Z)(u.space)&&(c.space=u.space)),a&&a.visible&&(c.panel=Object.assign({visible:!0},a.style));let p=new n.V(c);p.name=h.GN.title,this._title=p,this._innerView.add(p)}_adjustLayout(){var t;if(this._title){let e=this._innerView.AABBBounds.width(),i=this._title.AABBBounds.width(),s=null==(t=this.attribute.title)?void 0:t.align;"center"===s?this._title.setAttribute("x",(e-i)/2):"end"===s&&this._title.setAttribute("x",e-i)}}}},360855:function(t,e,i){i.d(e,{e:()=>u});var s=i(20408),l=i(454326),r=i(625397),a=i(944843),n=i(510145),h=i(869002),o=i(258284),d=i(475609);(0,i(458229).Fw)();class u extends h.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},u.defaultAttributes,t)),this.name="colorLegend",this._onSliderToolipChange=t=>{let e=this._slider.tooltipShape;if(e&&t.detail&&!(0,l.Z)(t.detail.value)){let i=this._colorScale.scale(t.detail.value);e.setAttribute("fill",i)}this.dispatchEvent(t)},this._onSliderChange=t=>{this._updateColor(),this.dispatchEvent(t)}}setSelected(t){this._slider&&(this._slider.setValue(t),this._updateColor())}_renderContent(){let{colors:t,slidable:e,layout:i,align:s,min:l,max:a,value:h,railWidth:u,railHeight:c,showHandler:p=!0,handlerSize:g,handlerStyle:b,railStyle:_,trackStyle:x,startText:m,endText:v,handlerText:f,showTooltip:y,tooltip:S,inverse:A,disableTriggerEvent:B}=this.attribute,C=[],T=(a-l)/(t.length-1);for(let e=0;e<t.length;e++)C.push(l+T*e);this._colorScale=(new n.f).domain(C,!0).range(t),this._color=this._getTrackColor();let w=new o.i({x:0,y:0,range:{draggableTrack:!0},slidable:e,layout:i,align:s,min:l,max:a,value:h,railWidth:u,railHeight:c,showHandler:p,handlerSize:g,handlerStyle:b,railStyle:_,trackStyle:Object.assign({fill:this._color},x),startText:m,endText:v,handlerText:f,showTooltip:y,tooltip:S,disableTriggerEvent:B,inverse:A});this._innerView.add(w),this._slider=w,w.translateTo(0-w.AABBBounds.x1,(this._title?this._title.AABBBounds.height()+(0,r.Z)(this.attribute,"title.space",d.$5):0)-w.AABBBounds.y1),this._updateColor()}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}_getTrackColor(){let{colors:t,layout:e,inverse:i}=this.attribute;if((0,a.Z)(t))return;let s=t.length;if(1===s)return t[0];let l=[];for(let e=0;e<s;e++){let i=e/(s-1);l.push({offset:i,color:t[e]})}let r="horizontal"===e,n={gradient:"linear",stops:l,x0:0,y0:0,x1:+!!r,y1:+!r};return i&&(r?(n.x0=1,n.x1=0):(n.y0=1,n.y1=0)),n}_updateColor(){var t;let{layout:e="horizontal",colors:i,railWidth:s,railHeight:l}=this.attribute,{startHandler:r,endHandler:a,track:n,attribute:h}=this._slider,{startValue:o,endValue:d,startPos:u,endPos:c}=this._slider.currentValue,p=null==(t=h.handlerStyle)?void 0:t.fill;if(r&&!p){let t=this._colorScale.scale(o);r.setAttribute("fill",t)}if(a&&!p){let t=this._colorScale.scale(d);a.setAttribute("fill",t)}let g="horizontal"===e?s:l;if(Math.abs(u-c)!==g&&i&&i.length>1){let t=this._color.stops,e=Math.min(u,c)/g,i=Math.max(u,c)/g,s=i-e,l=t.filter(t=>t.offset>e&&t.offset<i),r=Math.min(o,d),a=Math.max(o,d),h=this._colorScale.scale(r),p=this._colorScale.scale(a),b=[{offset:0,color:h}];l.forEach(t=>{b.push({offset:(t.offset-e)/s,color:t.color})}),b.push({offset:1,color:p}),n.setAttribute("fill",Object.assign(Object.assign({},this._color),{stops:b}))}}}u.defaultAttributes={layout:"horizontal",title:{align:"start",space:d.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{fill:null,lineWidth:4,stroke:"#fff",outerBorder:{distance:2,lineWidth:1,stroke:"#ccc"}},tooltip:{shapeStyle:{lineWidth:4,stroke:"#fff"}}}},475609:function(t,e,i){var s,l,r,a,n,h;i.d(e,{$5:()=>b,DN:()=>u,GN:()=>r,Nu:()=>p,SX:()=>o,Th:()=>_,dk:()=>l,g:()=>d,qL:()=>c,so:()=>g,uu:()=>s});let o=10,d=8,u=8,c=8,p=16,g=8,b=12,_=12;(a=s||(s={})).selected="selected",a.unSelected="unSelected",a.selectedHover="selectedHover",a.unSelectedHover="unSelectedHover",a.focus="focus",(n=l||(l={})).legendItemHover="legendItemHover",n.legendItemUnHover="legendItemUnHover",n.legendItemClick="legendItemClick",n.legendItemAttributeUpdate="legendItemAttributeUpdate",(h=r||(r={})).innerView="innerView",h.title="legendTitle",h.item="legendItem",h.itemShape="legendItemShape",h.itemLabel="legendItemLabel",h.itemValue="legendItemValue",h.focus="legendItemFocus"},685506:function(t,e,i){i.d(e,{W:()=>k});var s=i(20408),l=i(695723),r=i(364776),a=i(944843),n=i(999051),h=i(625397),o=i(480971),d=i(464639),u=i(454326),c=i(649275),p=i(536163),g=i(994030),b=i(796241),_=i(205427),x=i(869002),m=i(704654),v=i(385943),f=i(255020),y=i(959082);let S={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};(0,y.s)();class A extends v.k{getCurrent(){return this._current}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},A.defaultAttributes,t)),this.name="pager",this._current=1,this._onHover=t=>{let e=t.target;e.hasState("disable")||e.addState("hover")},this._onUnHover=t=>{t.target.removeState("hover")},this._onClick=t=>{let e=t.target;if("preHandler"===e.name){if(1===this._current)return;this._current-=1,1===this._current?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:t})}if("nextHandler"===e.name){if(this._current===this._total)return;this._current+=1,this._current===this._total?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:t})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var t,e,i;this._reset();let{layout:s="horizontal",handler:l=S,total:r,defaultCurrent:a=1,textStyle:n,padding:h=0}=this.attribute;this._current=a;let o=(0,d.o)(h),u="horizontal"===s,c=_.i.group({x:0,y:0}),p=l.style||{},g=p.size||15,b=null!=(t=l.space)?t:8,x=l.state||{},{preShape:v,nextShape:y}=l;v||(v=u?"triangleLeft":"triangleUp"),y||(y=u?"triangleRight":"triangleDown");let A=_.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:0,y:0,symbolType:v,size:g}));A.states=x,A.name="preHandler",this.preHandler=A,c.add(A);let{width:B,height:C}=(0,f.fe)(this._getPageText(r),Object.assign({textAlign:"center",textBaseline:"middle"},n),null==(i=null==(e=this.stage)?void 0:e.getTheme())?void 0:i.text),T=(0,m.Z)(g)?g:g[0],w=(0,m.Z)(g)?g:g[1],H=_.i.text(Object.assign({x:u?T/2+b+B/2:0,y:u?0:w/2+b+C/2,text:this._getPageText(a),textAlign:"center",textBaseline:"middle",lineHeight:null==n?void 0:n.fontSize},n));this.text=H,c.add(H);let k=_.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:u?T+2*b+B:0,y:u?0:w+2*b+C,symbolType:y,size:g}));k.name="nextHandler",k.states=x,this.nextHandler=k,c.add(k),1===this._total?(A.addState("disable"),k.addState("disable")):1===this._current?A.addState("disable"):this._current===r&&k.addState("disable");let P=c.AABBBounds,M=P.width(),Z=P.height();c.translateTo(0-P.x1+o[3],0-P.y1+o[0]),this.add(c),this.attribute.width=M+o[1]+o[3],this.attribute.height=Z+o[0]+o[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(t){let{pageFormatter:e}=this.attribute;return e?(0,b.Z)(e)?e(t,this._total):`${e}`.replace("{current}",`${t}`).replace("{total}",`${this._total}`):`${t}/${this._total}`}setTotal(t){t!==this.attribute.total&&(this._total=t,1!==this._current&&this._current<=t?this.setAttributes({total:t,defaultCurrent:this._current}):this.setAttribute("total",t))}}A.defaultAttributes={handler:S,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};var B=i(475609),C=i(458229),T=i(744818),w=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)0>e.indexOf(s[l])&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]])}return i};let H={[B.uu.focus]:{},[B.uu.selected]:{},[B.uu.selectedHover]:{},[B.uu.unSelected]:{},[B.uu.unSelectedHover]:{}};(0,C.cV)();class k extends x.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},k.defaultAttributes,t)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._contentMaxHeight=0,this._onHover=t=>{let e=t.target;if(e&&e.name&&e.name.startsWith(B.GN.item)){let i=e.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===i.id)return;this._unHover(this._lastActiveItem,t)}this._hover(i,t)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onUnHover=t=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onClick=t=>{var e,i,s,l;let r=t.target;if(r&&r.name&&r.name.startsWith(B.GN.item)){let a=r.delegate,{selectMode:n="multiple"}=this.attribute;if(r.name===B.GN.focus||"focus"===n){let s=a.hasState(B.uu.focus);a.toggleState(B.uu.focus),s?null==(e=this._itemsContainer)||e.getChildren().forEach(e=>{this._removeLegendItemState(e,[B.uu.unSelected,B.uu.unSelectedHover,B.uu.focus],t),this._setLegendItemState(e,B.uu.selected,t)}):(this._setLegendItemState(a,B.uu.selected,t),this._removeLegendItemState(a,[B.uu.unSelected,B.uu.unSelectedHover],t),null==(i=this._itemsContainer)||i.getChildren().forEach(e=>{a!==e&&(this._removeLegendItemState(e,[B.uu.selected,B.uu.selectedHover,B.uu.focus],t),this._setLegendItemState(e,B.uu.unSelected,t))}))}else{null==(s=this._itemsContainer)||s.getChildren().forEach(t=>{t.removeState(B.uu.focus)});let{allowAllCanceled:e=!0}=this.attribute,i=a.hasState(B.uu.selected),r=this._getSelectedLegends();if("multiple"===n){if(!1===e&&i&&1===r.length)return void this._dispatchLegendEvent(B.dk.legendItemClick,a,t);i?(this._removeLegendItemState(a,[B.uu.selected,B.uu.selectedHover],t),this._setLegendItemState(a,B.uu.unSelected,t)):(this._setLegendItemState(a,B.uu.selected,t),this._removeLegendItemState(a,[B.uu.unSelected,B.uu.unSelectedHover],t))}else this._setLegendItemState(a,B.uu.selected,t),this._removeLegendItemState(a,[B.uu.unSelected,B.uu.unSelectedHover],t),null==(l=this._itemsContainer)||l.getChildren().forEach(e=>{a!==e&&(this._removeLegendItemState(e,[B.uu.selected,B.uu.selectedHover],t),this._setLegendItemState(e,B.uu.unSelected,t))})}this._dispatchLegendEvent(B.dk.legendItemClick,a,t)}}}render(){super.render(),this._lastActiveItem=null}setSelected(t){var e;(null==(e=this._itemsContainer)?void 0:e.getChildren()).forEach(e=>{let i=e.data;t.includes(i.label)?(this._setLegendItemState(e,B.uu.selected),this._removeLegendItemState(e,[B.uu.unSelected,B.uu.unSelectedHover])):(this._removeLegendItemState(e,[B.uu.selected,B.uu.selectedHover]),this._setLegendItemState(e,B.uu.unSelected))})}_renderItems(){let{item:t={},maxCol:e=1,maxRow:i=2,maxWidth:s,defaultSelected:a,lazyload:n,autoPage:h}=this.attribute,{spaceCol:o=B.Nu,spaceRow:d=B.so,verticalAlign:u="middle"}=t,c=this._itemsContainer,{items:p,isHorizontal:g,startIndex:b,isScrollbar:_}=this._itemContext,x=_?1:g?i:e,m=this._contentMaxHeight,v,{doWrap:f,maxWidthInCol:y,startX:S,startY:A,pages:C}=this._itemContext,T=0,w=0,H=[];for(let t=b,e=p.length;t<e&&!(n&&C>this._itemContext.currentPage*x);t++){n&&(this._itemContext.startIndex=t+1),(v=p[t]).id||(v.id=v.label),v.index=t;let e=!0;(0,l.Z)(a)&&(e=a.includes(v.label));let i=this._renderEachItem(v,e,t,p),b=i.attribute.width,x=i.attribute.height;this._itemHeight=Math.max(this._itemHeight,x),y=Math.max(b,y),this._itemMaxWidth=Math.max(b,this._itemMaxWidth),g?((0,r.Z)(s)&&(_&&h?f=(C=Math.ceil((S+b)/s))>1:S+b>s&&(f=!0,S>0&&("middle"!==u&&"bottom"!==u||H.forEach(t=>{t.setAttributes({y:t.attribute.y+(w-t.attribute.height)/("middle"===u?2:1)})}),C+=1,S=0,A+=w+d,w=0,H.length=0))),0===S&&0===A||i.setAttributes({x:S,y:A}),S+=o+b,w=Math.max(w,x),H.push(i)):((0,r.Z)(m)&&(_&&h?f=(C=Math.ceil((A+x)/m))>1:m<=x?(C+=1,f=!0,A=0,t>0&&(S+=T+o)):m<A+x&&(C+=1,f=!0,A=0,S+=y+o,y=0)),0===S&&0===A||i.setAttributes({x:S,y:A}),A+=d+x),c.add(i),T=b}return g&&("middle"===u||"bottom"===u)&&H.forEach(t=>{t.setAttributes({y:t.attribute.y+(w-t.attribute.height)/("middle"===u?2:1)})}),this._itemContext.doWrap=f,this._itemContext.startX=S,this._itemContext.startY=A,this._itemContext.maxWidthInCol=y,this._itemContext.pages=C,this._itemContext.maxPages=x,_&&(this._itemContext.totalPage=C),n||(this._itemContext.startIndex=p.length),this._itemContext}_renderContent(){let{item:t={},items:e,reversed:i,maxWidth:s,maxHeight:l}=this.attribute;if(!1===t.visible||(0,a.Z)(e))return;let o=e;i&&(o=null==e?void 0:e.reverse()),this._contentMaxHeight=Math.max(0,l-this._parsedPadding[0]-this._parsedPadding[2]);let d=_.i.group({x:0,y:0});this._itemsContainer=d;let{layout:u,autoPage:c}=this.attribute,{maxWidth:p,width:g,height:b}=t,x=[];(0,r.Z)(p)&&x.push(p),(0,r.Z)(g)&&x.push(g),x.length&&((0,r.Z)(s)&&x.push(s),this._itemWidthByUser=(0,n.iH)(x)),(0,r.Z)(b)&&(this._itemHeightByUser=b);let m=this.attribute.pager;this._itemContext={currentPage:m&&m.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:o,isHorizontal:"horizontal"===u,totalPage:1/0,isScrollbar:m&&"scrollbar"===m.type,clipContainer:void 0},this._itemContext=this._renderItems();let v=!1;this._itemContext.doWrap&&c&&this._itemContext.pages>this._itemContext.maxPages&&(v=this._renderPagerComponent()),v||(d.setAttribute("y",this._title?this._title.AABBBounds.height()+(0,h.Z)(this.attribute,"title.space",8):0),this._innerView.add(d))}_bindEvents(){if(this.attribute.disableTriggerEvent||!this._itemsContainer)return;let{hover:t=!0,select:e=!0}=this.attribute;if(t){let e="pointermove",i="pointerleave";(0,o.Z)(t)&&(t.trigger&&(e=t.trigger),t.triggerOff&&(i=t.triggerOff)),this._itemsContainer.addEventListener(e,this._onHover),this._itemsContainer.addEventListener(i,this._onUnHover)}if(e){let t="pointerdown";(0,o.Z)(e)&&e.trigger&&(t=e.trigger),this._itemsContainer.addEventListener(t,this._onClick)}}_autoEllipsis(t,e,i,s){var l,r;let{label:a,value:n}=this.attribute.item,h=s.AABBBounds,o=i.AABBBounds,d=h.width(),u=o.width(),c=!1;"labelFirst"===t?u>e?c=!0:s.setAttribute("maxLineWidth",e-u):"valueFirst"===t?d>e?c=!0:i.setAttribute("maxLineWidth",e-d):d+u>e&&(c=!0),c&&(s.setAttribute("maxLineWidth",Math.max(e*(null!=(l=a.widthRatio)?l:.5),e-u)),i.setAttribute("maxLineWidth",Math.max(e*(null!=(r=n.widthRatio)?r:.5),e-d)))}_renderEachItem(t,e,i,s){var a,n;let o,{id:c,label:p,value:g,shape:b}=t,{padding:x=0,focus:m,focusIconStyle:v,align:y,autoEllipsisStrategy:S}=this.attribute.item,{shape:A,label:C,value:T,background:w}=this.attribute.item,H=this._handleStyle(A,t,e,i,s),k=this._handleStyle(C,t,e,i,s),P=this._handleStyle(T,t,e,i,s),M=this._handleStyle(w,t,e,i,s),Z=(0,d.o)(x);!1===w.visible?(o=_.i.group({x:0,y:0,cursor:null==(a=M.style)?void 0:a.cursor}),this._appendDataToShape(o,B.GN.item,t,o)):(o=_.i.group(Object.assign({x:0,y:0},M.style)),this._appendDataToShape(o,B.GN.item,t,o,M.state)),o.id=`${null!=c?c:p}-${i}`,o.addState(e?B.uu.selected:B.uu.unSelected);let E=_.i.group({x:0,y:0,pickable:!1});o.add(E);let L,O=0,z=0,W=0;if(A&&!1!==A.visible){let i=(0,h.Z)(H,"style.size",B.SX);z=(0,l.Z)(i)?i[0]||0:i,W=(0,h.Z)(A,"space",B.g);let s=_.i.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},b),H.style));Object.keys(H.state||{}).forEach(t=>{let e=H.state[t].fill||H.state[t].stroke;b.fill&&(0,u.Z)(H.state[t].fill)&&e&&(H.state[t].fill=e),b.stroke&&(0,u.Z)(H.state[t].stroke)&&e&&(H.state[t].stroke=e)}),this._appendDataToShape(s,B.GN.itemShape,t,o,H.state),s.addState(e?B.uu.selected:B.uu.unSelected),E.add(s)}let j=0;if(m){let e=(0,h.Z)(v,"size",B.SX);L=_.i.symbol(Object.assign(Object.assign({x:0,y:-e/2-1,strokeBoundsBuffer:0,boundsPadding:Z},v),{visible:!0,pickMode:"imprecise"})),this._appendDataToShape(L,B.GN.focus,t,o),j=e}let I=C.formatMethod?C.formatMethod(p,t,i):p,R=Object.assign(Object.assign({x:z/2+W,y:0,textAlign:"start",textBaseline:"middle",lineHeight:null==(n=k.style)?void 0:n.fontSize},k.style),{text:I,_originText:C.formatMethod?p:void 0}),V=(0,f.vS)(R);this._appendDataToShape(V,B.GN.itemLabel,t,o,k.state),V.addState(e?B.uu.selected:B.uu.unSelected),E.add(V);let F=(0,h.Z)(C,"space",B.DN);if((0,r.Z)(g)){let s=(0,h.Z)(T,"space",m?B.qL:0),l=T.formatMethod?T.formatMethod(g,t,i):g,r=Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:P.style.fontSize},P.style),{text:l,_originText:T.formatMethod?g:void 0}),a=(0,f.vS)(r);if(this._appendDataToShape(a,B.GN.itemValue,t,o,P.state),a.addState(e?B.uu.selected:B.uu.unSelected),this._itemWidthByUser){let t=this._itemWidthByUser-Z[1]-Z[3]-z-W-F-j-s;this._autoEllipsis(S,t,V,a),T.alignRight?a.setAttributes({textAlign:"right",x:this._itemWidthByUser-z/2-Z[1]-Z[3]-j-s}):a.setAttribute("x",F+(V.AABBBounds.empty()?0:V.AABBBounds.x2))}else a.setAttribute("x",F+(V.AABBBounds.empty()?0:V.AABBBounds.x2));O=s+(a.AABBBounds.empty()?0:a.AABBBounds.x2),E.add(a)}else this._itemWidthByUser&&V.setAttribute("maxLineWidth",this._itemWidthByUser-Z[1]-Z[3]-z-W-j),O=F+(V.AABBBounds.empty()?0:V.AABBBounds.x2);L&&(L.setAttribute("x",O),E.add(L));let U=E.AABBBounds,D=U.width();if("right"===y){let t=U.x2,e=U.x1;E.forEachChildren((i,s)=>{"symbol"!==i.type&&"right"!==i.attribute.textAlign||i===L?i.setAttribute("x",e+t-i.attribute.x-i.AABBBounds.width()):"symbol"!==i.type?i.setAttributes({x:e+t-i.attribute.x,textAlign:"left"}):i.setAttribute("x",e+t-i.attribute.x)})}let G=U.height(),$=(0,r.Z)(this.attribute.item.width)?this.attribute.item.width:D+Z[1]+Z[3],N=this._itemHeightByUser||G+Z[0]+Z[2];return o.attribute.width=$,o.attribute.height=N,L&&L.setAttribute("visible",!1),E.translateTo(-U.x1+Z[3],-U.y1+Z[0]),o}_createPager(t){var e,i;let{disableTriggerEvent:l,maxRow:r}=this.attribute,a=t=>t<=99?99:t<=999?999:9999;return new A(this._itemContext.isHorizontal?Object.assign(Object.assign({layout:1===r?"horizontal":"vertical",total:a(this._itemContext.pages)},(0,s.Z)({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},t)),{defaultCurrent:null==(e=this.attribute.pager)?void 0:e.defaultCurrent,disableTriggerEvent:l}):Object.assign({layout:"horizontal",total:a(this._itemContext.pages),disableTriggerEvent:l,defaultCurrent:null==(i=this.attribute.pager)?void 0:i.defaultCurrent},t))}_createScrollbar(t,e){let{disableTriggerEvent:i}=this.attribute;return new T.B(this._itemContext.isHorizontal?Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:i,range:[0,.5],height:12*(!1!==t.visible)},t),{width:e}):Object.assign(Object.assign({direction:"vertical",width:12*(!1!==t.visible),range:[0,.5]},t),{height:e,disableTriggerEvent:i}))}_updatePositionOfPager(t,e,i){let{pager:s}=this.attribute,{totalPage:l,isHorizontal:r}=this._itemContext,a=s&&s.position||"middle";if(this._pagerComponent.setTotal(l),r){let s;s="start"===a?t:"end"===a?t+i-this._pagerComponent.AABBBounds.height()/2:t+i/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:e-this._pagerComponent.AABBBounds.width(),y:s})}else{let t;t="start"===a?0:"end"===a?e-this._pagerComponent.AABBBounds.width():(e-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:t,y:i-this._pagerComponent.AABBBounds.height()})}}_computeScrollbarDelta(){let{isHorizontal:t,clipContainer:e}=this._itemContext,i=this._itemsContainer.AABBBounds,s=e.AABBBounds;return t?s.width()/i.width():s.height()/i.height()}_updatePositionOfScrollbar(t,e,i){let{isHorizontal:s,currentPage:l,totalPage:r}=this._itemContext,a=(l-1)/r;this._pagerComponent.setScrollRange([a,a+this._computeScrollbarDelta()]),s?this._pagerComponent.setAttributes({x:0,y:i+e}):this._pagerComponent.setAttributes({x:t,y:i})}_bindEventsOfPager(t,e){let{animation:i=!0,animationDuration:s=450,animationEasing:l="quadIn"}=this.attribute.pager||{},r=this._itemContext.isScrollbar?t=>{let{value:e}=t.detail;return 0===e[0]?1:1===e[1]?this._itemContext.totalPage:e[0]*this._itemContext.totalPage+1}:t=>t.detail.current,a=a=>{let n=r(a);if(n!==this._itemContext.currentPage){if(this._itemContext.currentPage=n,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();let t=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);if(this._itemContext.totalPage=t,this._itemContext.isScrollbar&&this._pagerComponent){let t=this._computeScrollbarDelta(),[e]=this._pagerComponent.getScrollRange();this._pagerComponent.setScrollRange([e,e+t])}}if(this._itemContext.isScrollbar){let[t]=this._pagerComponent.getScrollRange(),r=(this._itemContext.isHorizontal?this._itemsContainer.AABBBounds.width():this._itemsContainer.AABBBounds.height())*t;this.updateScrollMask(),i?this._itemsContainer.animate().to({[e]:-r},s,l):this._itemsContainer.setAttribute(e,-r)}else i?this._itemsContainer.animate().to({[e]:-(n-1)*t},s,l):this._itemsContainer.setAttribute(e,-(n-1)*t)}};this._itemContext.isScrollbar?(this._pagerComponent.addEventListener("scrollDrag",a),this._pagerComponent.addEventListener("scrollUp",a),this.attribute.pager.roamScroll&&(this.addEventListener("wheel",t=>t.nativeEvent.preventDefault()),this.addEventListener("wheel",(0,c.Z)(t=>{let e=this._pagerComponent,i=e.getScrollRange(),{direction:s}=e.attribute,{width:l,height:r}=e.getSliderRenderBounds(),a="vertical"===s?t.deltaY/r:t.deltaX/l;e.setScrollRange([i[0]+a,i[1]+a],!0),this.updateScrollMask()},50)))):(this._pagerComponent.addEventListener("toPrev",a),this._pagerComponent.addEventListener("toNext",a))}_renderPager(){let t=this._title?this._title.AABBBounds.height()+(0,h.Z)(this.attribute,"title.space",8):0,{maxWidth:e,maxCol:i=1,maxRow:s=2,item:l={},pager:r={}}=this.attribute,{spaceCol:a=B.Nu,spaceRow:n=B.so}=l,o=this._itemsContainer,{space:d=B.Th,defaultCurrent:u=1}=r,c=w(r,["space","defaultCurrent"]),{isHorizontal:p}=this._itemContext,g=this._contentMaxHeight,b,x=0,m=0,v=0,f=0,y=0,S=0,A=1;if(p){if(m=(s-1)*n+this._itemHeight*s,x=e,b=this._createPager(c),this._pagerComponent=b,this._innerView.add(b),(v=e-b.AABBBounds.width()-d)<=0)return this._innerView.removeChild(b),!1;o.getChildren().forEach((t,e)=>{let{width:i,height:s}=t.attribute;v<y+i&&e>0&&(y=0,S+=s+n,A+=1),e>0&&t.setAttributes({x:y,y:S}),y+=a+i}),this._itemContext.startX=y,this._itemContext.startY=S,this._itemContext.pages=A;let i=Math.ceil(A/s);this._itemContext.totalPage=i,this._updatePositionOfPager(t,x,m)}else{if(x=this._itemMaxWidth*i+(i-1)*a,m=g,v=x,b=this._createPager(c),this._pagerComponent=b,this._innerView.add(b),(f=g-b.AABBBounds.height()-d-t)<=0)return this._innerView.removeChild(b),!1;o.getChildren().forEach((t,e)=>{let{width:i,height:s}=t.attribute;f<S+s&&e>0&&(S=0,y+=this._itemMaxWidth+a,A+=1),e>0&&t.setAttributes({x:y,y:S}),S+=n+s});let e=Math.ceil(A/i);this._itemContext.totalPage=e,this._updatePositionOfPager(t,x,m)}u>1&&(p?o.setAttribute("y",-(u-1)*(m+n)):o.setAttribute("x",-(u-1)*(x+a)));let C=_.i.group({x:0,y:t,width:p?v:x,height:p?m:f,clip:!0,pickable:!1});return C.add(o),this._innerView.add(C),this._itemContext.clipContainer=C,this._bindEventsOfPager(p?m+n:x+a,p?"y":"x"),!0}_renderScrollbar(){var t;let e=this._title?this._title.AABBBounds.height()+(0,h.Z)(this.attribute,"title.space",8):0,{maxWidth:i,item:s={},pager:l={}}=this.attribute,{spaceCol:r=B.Nu,spaceRow:a=B.so}=s,n=this._itemsContainer,{space:o=B.Th,defaultCurrent:d=1}=l,u=w(l,["space","defaultCurrent"]),{isHorizontal:c}=this._itemContext,p=this._contentMaxHeight,g,b=0,x=0,m=0,v=1;if(c)b=i,x=this._itemHeight,g=this._createScrollbar(u,b),this._pagerComponent=g,this._innerView.add(g);else{if(x=p-e,b=this._itemMaxWidth,g=this._createScrollbar(u,x),this._pagerComponent=g,this._innerView.add(g),x<=0)return this._innerView.removeChild(g),!1;let t=n.getChildren(),i=t.map(t=>t.attribute.height);if(1===i.length||i.every(t=>t===i[0])){let e=i[0],s=Math.floor(x/(a+e));x=s*(a+e),v=Math.ceil(t.length/s)}else t.forEach((t,e)=>{let{height:i}=t.attribute,s=v,l=m;v=Math.floor((m+i)/x)+1,m+=a+i,s!==v&&e===n.getChildren().length-1&&m-x>=1/3*i&&(x=l+i,v-=1)});this._itemContext.totalPage=v,this._itemContext.pages=v}if(d>1)if(c){let t=this._itemsContainer.AABBBounds.width()-b;n.setAttribute("x",-Math.min((d-1)*(b+r),t))}else{let t=this._itemsContainer.AABBBounds.height()-x;n.setAttribute("y",-Math.min((d-1)*(x+a),t))}let f=_.i.group({x:0,y:e,width:b,height:x,clip:!0,pickable:!1});return f.add(n),this._innerView.add(f),this._itemContext.clipContainer=f,this._updatePositionOfScrollbar(b,x,e),(null==(t=l.scrollMask)?void 0:t.visible)&&this.renderScrollMask(f),this._bindEventsOfPager(c?b:x,c?"x":"y"),!0}renderScrollMask(t){let{scrollMask:e={}}=this.attribute.pager,{visible:i=!0,gradientLength:s=16,gradientStops:l}=e;if(!i||!l)return;let r=t.AABBBounds.width(),a=t.AABBBounds.height(),n=this._itemContext.isHorizontal?r:a,h=l.map(t=>({offset:s*t.offset/n,color:t.color})),o=l.map(t=>({offset:(n-s*t.offset)/n,color:t.color})),d=_.i.rect({x:0,y:0,width:r,height:a});this._scrollMask=d,this._scrollMaskContext={startStops:h,endStops:o},this.updateScrollMask(),t.add(d)}updateScrollMask(){if(!this._scrollMask||!this._pagerComponent||!this._itemContext.isScrollbar)return;let[t,e]=this._pagerComponent.getScrollRange(),i=[];(0,p.Yt)((0,g.Z)(e,0,1),1)||i.push(...this._scrollMaskContext.endStops),(0,p.Yt)((0,g.Z)(t,0,1),0)||i.push(...this._scrollMaskContext.startStops),i.length&&(this._itemContext.isHorizontal?this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:i}}):this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:i}}))}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(t,e){this._lastActiveItem=t,t.hasState(B.uu.selected)?this._setLegendItemState(t,B.uu.selectedHover,e):this._setLegendItemState(t,B.uu.unSelectedHover,e);let i=t.getChildren()[0].find(t=>t.name===B.GN.focus,!1);i&&i.setAttribute("visible",!0),this._dispatchLegendEvent(B.dk.legendItemHover,t,e)}_unHover(t,e){let i=!1;(t.hasState(B.uu.unSelectedHover)||t.hasState(B.uu.selectedHover))&&(i=!0),t.removeState(B.uu.unSelectedHover),t.removeState(B.uu.selectedHover),t.getChildren()[0].getChildren().forEach(t=>{!i&&(t.hasState(B.uu.unSelectedHover)||t.hasState(B.uu.selectedHover))&&(i=!0),t.removeState(B.uu.unSelectedHover),t.removeState(B.uu.selectedHover)});let s=t.getChildren()[0].find(t=>t.name===B.GN.focus,!1);s&&s.setAttribute("visible",!1),i&&this._dispatchLegendEvent(B.dk.legendItemAttributeUpdate,t,e),this._dispatchLegendEvent(B.dk.legendItemUnHover,t,e)}_setLegendItemState(t,e,i){let s=!1;t.hasState(e)||(s=!0),t.addState(e,!0),t.getChildren()[0].getChildren().forEach(t=>{t.name!==B.GN.focus&&(s||t.hasState(e)||(s=!0),t.addState(e,!0))}),s&&this._dispatchLegendEvent(B.dk.legendItemAttributeUpdate,t,i)}_removeLegendItemState(t,e,i){let s=!1;e.forEach(e=>{!s&&t.hasState(e)&&(s=!0),t.removeState(e)}),t.getChildren()[0].getChildren().forEach(t=>{t.name!==B.GN.focus&&e.forEach(e=>{!s&&t.hasState(e)&&(s=!0),t.removeState(e)})}),s&&this._dispatchLegendEvent(B.dk.legendItemAttributeUpdate,t,i)}_getSelectedLegends(){var t;let e=[];return null==(t=this._itemsContainer)||t.getChildren().forEach(t=>{t.hasState(B.uu.selected)&&e.push(t.data)}),e}_appendDataToShape(t,e,i,l,r={}){t.name=e,t.data=i,t.delegate=l,t.states=(0,s.Z)({},H,r)}_dispatchLegendEvent(t,e,i){let s=this._getSelectedLegends();s.sort((t,e)=>t.index-e.index);let l=s.map(t=>t.label);this._dispatchEvent(t,{item:e,data:e.data,selected:e.hasState(B.uu.selected),currentSelectedItems:s,currentSelected:l,event:i})}_handleStyle(t,e,i,s,l){let r={};return t.style&&((0,b.Z)(t.style)?r.style=t.style(e,i,s,l):r.style=t.style),t.state&&(r.state={},Object.keys(t.state).forEach(a=>{t.state[a]&&((0,b.Z)(t.state[a])?r.state[a]=t.state[a](e,i,s,l):r.state[a]=t.state[a])})),r}release(){super.release(),this.removeAllEventListeners()}}k.defaultAttributes={layout:"horizontal",title:{align:"start",space:B.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:B.Nu,spaceRow:B.so,shape:{space:B.g,style:{size:B.SX,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:B.DN,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:B.SX,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:B.Th,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0}},458229:function(t,e,i){i.d(e,{Fw:()=>u,Vo:()=>c,cV:()=>d});var s=i(831512),l=i(615520),r=i(747949),a=i(959082),n=i(894661),h=i(758857);function o(){(0,s.M)(),(0,r.b)()}function d(){o(),(0,a.s)(),(0,h.M)()}function u(){o(),(0,n.d)()}function c(){o(),(0,n.d)(),(0,l.N)()}},255111:function(t,e,i){i.d(e,{D:()=>o});var s=i(205427),l=i(20408),r=i(625397),a=i(869002),n=i(258284),h=i(475609);(0,i(458229).Vo)();class o extends a.U{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,l.Z)({},o.defaultAttributes,t)),this.name="sizeLegend",this._onSliderChange=t=>{this.dispatchEvent(t)},this._onSliderToolipChange=t=>{this.dispatchEvent(t)}}setSelected(t){this._slider&&this._slider.setValue(t)}_renderContent(){let{slidable:t,layout:e,align:i,min:l,max:a,value:o,railWidth:d,railHeight:u,showHandler:c=!0,handlerSize:p,handlerStyle:g,railStyle:b,trackStyle:_,startText:x,endText:m,handlerText:v,showTooltip:f,tooltip:y,sizeBackground:S,disableTriggerEvent:A,inverse:B}=this.attribute,C=s.i.group({x:0,y:0});this._innerView.add(C);let T=new n.i({x:0,y:0,zIndex:1,range:{draggableTrack:!0},slidable:t,layout:e,align:i,min:l,max:a,value:o,railWidth:d,railHeight:u,showHandler:c,handlerSize:p,handlerStyle:Object.assign({symbolType:function(t="bottom"){let e=0;return"top"===t?`
    M${e},-6L${e-3.5},-2.5
    v5
    h7
    v-5
    Z
`:"left"===t?(e=1,`
    M${e-6},0L${e-6+2.5},-3.5
    h5
    v7
    h-5
    Z
`):"right"===t?(e=-1,`
    M${e+6},0L${e+6-2.5},-3.5
    h-5
    v7
    h5
    Z
  `):`
    M${e},6L${e-3.5},2.5
    v-5
    h7
    v5
    Z
`}(i)},g),railStyle:b,trackStyle:_,startText:x,endText:m,handlerText:v,showTooltip:f,tooltip:y,disableTriggerEvent:A,inverse:B});C.add(T);let w,H=0;"horizontal"===e?"top"===i?(w=`M0,0L${d},0L${B?0:d},12Z`,H=u):(w=`M0,12L${d},12L${B?0:d},0Z`,T.setAttribute("y",12)):"left"===i?w=`M${d},0L${d+12},${B?0:u}L${d},${u}Z`:(w=`M0,${B?0:u}L12,${u}L12,0Z`,T.setAttribute("x",12));let k=s.i.path(Object.assign(Object.assign({x:0,y:H,path:w},S),{zIndex:0}));C.add(k);let P=this._title?this._title.AABBBounds.height()+(0,r.Z)(this.attribute,"title.space",h.$5):0;C.translate(0-C.AABBBounds.x1,P-C.AABBBounds.y1),this._slider=T}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}}o.defaultAttributes={layout:"horizontal",title:{align:"start",space:h.$5,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{lineWidth:1,stroke:"#ccc",fill:"#fff"},sizeBackground:{fill:"rgba(20,20,20,0.1)"}}},959082:function(t,e,i){i.d(e,{s:()=>a});var s=i(831512),l=i(200498),r=i(540627);function a(){(0,s.M)(),(0,l.k)(),(0,r.g)()}},694507:function(t,e,i){i.d(e,{C:()=>O});var s=i(263457),l=i(925428),r=i(335893),a=i(455353),n=i(360309),h=i(263401),o=i(20408),d=i(464639),u=i(364776),c=i(695723),p=i(944843),g=i(408830),b=i(863778),_=i(219273),x=i(385943),m=i(570469),v=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)0>e.indexOf(s[l])&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]])}return i};let f=new h.FB;(0,m.q)();let y="M -0.5 -0.5, L -0.5 0.5, L 0.5 -0.5, Z",S="M -0.5 -0.5, L -0.5 0.5, L 0.5 0.5, Z",A="M -0.5 -0.5, L 0.5 -0.5, L 0.5 0.5, Z",B="M 0.5 -0.5, L 0.5 0.5, L -0.5 0.5, Z",C={tl:y,tr:A,bl:S,br:B,lt:y,lb:S,rt:A,rb:B};class T extends x.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,o.Z)({},T.defaultAttributes,t)),this.name="poptip",this.positionList=["top","tl","tr","bottom","bl","br","left","lt","lb","right","rt","rb"]}render(){var t,e,i,s,l,r,a,n,o;let{titleStyle:x={},position:m,contentStyle:y={},panel:S,logoSymbol:A,poptipAnchor:B="position",logoText:T,logoTextStyle:w={},triangleMode:H="default",space:k=4,minWidth:P=0,maxWidth:M=1/0,padding:Z=4,maxWidthPercent:E,visible:L,state:O,dx:z=0,dy:W=0,positionBounds:j}=this.attribute,{title:I="",content:R=""}=this.attribute;I=this.attribute.titleFormatMethod?this.attribute.titleFormatMethod(I):I,R=this.attribute.contentFormatMethod?this.attribute.contentFormatMethod(R):R;let V=(0,d.o)(Z),F=this.createOrUpdateChild("poptip-content",{x:0,y:0,zIndex:1},"group");this.group=F;let U=M-V[1]-V[3],D=(0,u.Z)(I)&&!1!==L,G=Object.assign(Object.assign({text:(0,c.Z)(I)?I:[I],visible:D,wrap:!0},x),{x:V[3],y:V[0],maxLineWidth:U,textAlign:"left",textBaseline:"top"}),$=F.createOrUpdateChild("poptip-title",G,"text");(0,p.Z)(null==O?void 0:O.title)||($.states=O.title);let N=$.AABBBounds,X=N.height(),Y=N.width(),q=X+k;D||(q=0);let Q=(0,u.Z)(R)&&!1!==L,J=Object.assign(Object.assign({text:(0,c.Z)(R)?R:[R],visible:Q,wrap:!0},y),{x:V[3],y:V[0]+q,maxLineWidth:U,textAlign:"left",textBaseline:"top"}),K=F.createOrUpdateChild("poptip-content",J,"text");(0,p.Z)(null==O?void 0:O.content)||(K.states=O.content);let tt=K.AABBBounds,te=tt.height(),ti=tt.width();Q&&(q+=te),this.titleShape=$,this.contentShape=K;let ts=(0,g.Fp)(Y+V[1]+V[3],ti+V[1]+V[3]);ts>M?ts=M:ts<P&&(ts=P);let tl=V[0]+V[2]+q,{visible:tr,square:ta}=S,tn=v(S,["visible","square"]);if(ta){let t=(0,g.Fp)(ts,tl);ts=t;let e=t-tl;tl=t,$.setAttributes({dy:e/2}),K.setAttributes({dy:e/2})}let th=null!=(t=tn.size)?t:12,to=(0,c.Z)(th)?[th[0]+(null!=(e=tn.space)?e:0),th[1]+(null!=(i=tn.space)?i:0)]:th+(null!=(s=tn.space)?s:0),td=null!=(l=tn.lineWidth)?l:1,tu=this.stage?[null!=(r=this.stage.viewWidth)?r:this.stage.width,null!=(a=this.stage.viewHeight)?a:this.stage.height]:void 0;if(tu){let t=this.AABBBounds,e=Math.max(null!=(n=this.attribute.x)?n:t.x1,tu[0]-t.x1);if((e=Math.min(e-(((0,c.Z)(th)?th[0]:12)+3),e*E))<ts){ts=e;let t=V[1]+V[3];$.setAttribute("maxLineWidth",e-t),K.setAttribute("maxLineWidth",e-t),tl=V[0]+V[2],D&&(tl+=$.AABBBounds.height()+k),tl+=K.AABBBounds.height()}}let tc="auto"===m||(0,c.Z)(m),tp=(0,c.Z)(m)?m:this.positionList,tg,tb=-1/0;for(let t=0;t<tp.length+1;t++){let e=tc?tp[t===tp.length?tg:t]:m,i="arrow2Left",s=((0,c.Z)(th)?th[0]:th)/4,l=0;"top"===e||"bottom"===e||"left"===e||"right"===e?i="arrow2Left":"concise"===H&&(i=C[e],s=["tl","bl","rt","rb"].includes(e)?((0,c.Z)(th)?th[0]:th)/2:-((0,c.Z)(th)?th[0]:th)/2,l=["tl","tr","lb","rb"].includes(e)?-((0,c.Z)(th)?th[1]:th)/2:((0,c.Z)(th)?th[1]:th)/2);let{angle:r,offset:a}=this.getAngleAndOffset(e,ts,tl,(0,c.Z)(to)?to:[to,to-td],i),n,d={x:0,y:0};if("bounds"===B&&j&&(d=this.calculateAnchorPoint(e,j)),(0,b.Z)(tr)){let t;n=F.createOrUpdateChild("poptip-symbol-panel",Object.assign(Object.assign({},tn),{visible:tr&&(Q||D),x:s,y:l,strokeBoundsBuffer:-1,boundsPadding:-2,anchor:[0,0],symbolType:i,angle:r,dx:a[0],dy:a[1]-(null!=(o=tn.space)?o:0),size:th,zIndex:9}),"symbol"),(0,p.Z)(null==O?void 0:O.panel)||(n.states=O.panel),t=S.panelSymbolType?F.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},tn),{visible:tr&&(Q||D),x:0,y:0,symbolType:"rect",size:[ts,tl],zIndex:-8}),"symbol"):F.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},tn),{visible:tr&&(Q||D),x:0,y:0,width:ts,height:tl,zIndex:-8}),"rect"),(0,p.Z)(null==O?void 0:O.panel)||(t.states=O.panel)}if(F.setAttributes({x:-a[0]+z+d.x,y:-a[1]+W+d.y,anchor:[s,l]}),A){let{size:t=12}=A,e=(0,c.Z)(t)?t:[t,t];"auto"===e[1]&&(e[1]=tl),"auto"===e[0]&&(e[0]=tl);let i=e[0];F.createOrUpdateChild("poptip-logo",Object.assign(Object.assign({},A),{x:0,y:tl/2,visible:tr&&(Q||D),zIndex:10,size:e}),"symbol"),F.setAttributes({x:-a[0]+z+i/2,y:-a[1]+W}),T&&F.createOrUpdateChild("poptip-logo-text",Object.assign(Object.assign({},w),{x:0,y:tl/2,visible:tr&&(Q||D),text:T,textAlign:"center",textBaseline:"middle",zIndex:10}),"text")}if(!tu)break;{f.setValue(0,0,ts,tl).transformWithMatrix(F.globalTransMatrix);let i=(new h.YZ).setValue(0,0,tu[0],tu[1]);if(tc){if((0,_.RA)(f,i,!1))break;{let e=(0,_.di)(f,i,!1),s=(e.x2-e.x1)*(e.y2-e.y1);s>tb&&(tb=s,tg=t)}}if(["top","bottom","left","right"].includes(e)){let t="top"===e||"bottom"===e,s="left"===e||"right"===e,l=!1;if(t?l="top"===e&&f.y1<0||"bottom"===e&&f.y2>i.y2:s&&(l="left"===e&&f.x1<0||"right"===e&&f.x2>i.x2),!l){let e=0,l=((0,c.Z)(th)?th[1]:th)/2;t?(f.x1<0?e=-f.x1:f.x2>i.x2&&(e=i.x2-f.x2),F.setAttribute("x",F.attribute.x+e),n.setAttribute("dx",(0,g.VV)((0,g.Fp)(n.attribute.dx-e,l),f.width()-l))):s&&(f.y1<0?e=-f.y1:f.y2>i.y2&&(e=i.y2-f.y2),F.setAttribute("y",F.attribute.y+e),n.setAttribute("dy",(0,g.VV)((0,g.Fp)(n.attribute.dy-e,l),f.height()-l)));break}}if(!tc)break}}}calculateAnchorPoint(t,e){if(!e)return{x:0,y:0};let{x:i,y:s}=this.attribute,{x1:l,y1:r,x2:a,y2:n}=e,h=a-l,o=n-r;switch(t){case"top":case"tl":case"tr":return{x:l+h/2-i,y:r-s};case"bottom":case"bl":case"br":return{x:l+h/2-i,y:n-s};case"left":case"lt":case"lb":return{x:l-i,y:r+o/2-s};case"right":case"rt":case"rb":return{x:a-i,y:r+o/2-s};default:return{x:0,y:0}}}getAngleAndOffset(t,e,i,s,l){let r="arrow2Left"===l?s[1]/2:s[1];switch(t){case"tl":return{angle:"arrow2Left"===l?g.pi/2*3:0,offset:"arrow2Left"===l?[e/4,i+r]:[0,i+r]};case"top":return{angle:g.pi/2*3,offset:[e/2,i+r]};case"tr":return{angle:"arrow2Left"===l?g.pi/2*3:0,offset:"arrow2Left"===l?[e/4*3,i+r]:[e,i+r]};case"rt":return{angle:0,offset:"arrow2Left"===l?[-r,i/5]:[-r,0]};case"right":return{angle:0,offset:[-r,i/2]};case"rb":return{angle:0,offset:"arrow2Left"===l?[-r,i/5*4]:[-r,i]};case"bl":return{angle:"arrow2Left"===l?g.pi/2:0,offset:"arrow2Left"===l?[e/4,-r]:[0,-r]};case"bottom":return{angle:g.pi/2,offset:[e/2,-r]};case"br":return{angle:"arrow2Left"===l?g.pi/2:0,offset:"arrow2Left"===l?[e/4*3,-r]:[e,-r]};case"lt":return{angle:"arrow2Left"===l?g.pi:0,offset:"arrow2Left"===l?[e+r,i/5]:[e+r,0]};case"left":return{angle:g.pi,offset:[e+r,i/2]};case"lb":return{angle:"arrow2Left"===l?g.pi:0,offset:"arrow2Left"===l?[e+r,i/5*4]:[e+r,i]}}}}T.defaultAttributes={position:"rt",visible:!0,title:null,content:null,titleStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},contentStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},panel:{},maxWidthPercent:.8,space:8,padding:10};var w=i(651026);let H=class{render(t,e,i,s,l,r,a,n,h,d,u,c,p){var g,b,_;if(1===t._showPoptip){let{visible:e,visibleCb:i}=t.attribute.poptip||{};if(!1===e||i&&!1===i(t))return;let s={};(0,o.Z)(s,T.defaultAttributes,t.attribute.poptip?t.attribute.poptip:{}),this.poptipComponent?this.poptipComponent.initAttributes(s):this.poptipComponent=new T(s);let l=t.attribute.poptip||{};if("text"===t.type&&null==l.title&&null==l.content){let e={};_=l,(0,o.Z)(e,w.r.poptip,_),(l=e).content=null!=(g=l.content)?g:t.attribute.text}let r=t.globalTransMatrix;this.poptipComponent.setAttributes(Object.assign(Object.assign({visibleAll:!0,pickable:!1,childrenPickable:!1,poptipAnchor:"bounds"},l),{x:r.e,y:r.f,positionBounds:t.globalAABBBounds})),d.stage.tryInitInteractiveLayer();let a=d.stage.getLayer("_builtin_interactive");a&&a.add(this.poptipComponent)}else 2===t._showPoptip&&(t._showPoptip=0,this.poptipComponent&&(this.poptipComponent.setAttributes({visibleAll:!1}),null==(b=this.poptipComponent.parent)||b.removeChild(this.poptipComponent),this.poptipComponent=null))}};H=function(t,e,i,s){var l,r=arguments.length,a=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(l=t[n])&&(a=(r<3?l(a):r>3?l(e,i,a):l(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a}([(0,n.b)()],H);var k=i(203922),P=function(t,e,i,s){var l,r=arguments.length,a=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(l=t[n])&&(a=(r<3?l(a):r>3?l(e,i,a):l(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a};class M{constructor(){this.activeEvent="onRegister",this._uid=k.R.GenAutoIncrementId(),this.poptip=t=>{let e=t.target;this.needHide(e)?this.unpoptip(t):e!==this.activeGraphic&&(this.needShow(e)&&(e.setAttributes({}),e._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(e,!0))},this.unpoptip=t=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(t){this.pluginService=t;let{stage:e}=this.pluginService;e.addEventListener("pointerover",this.poptip)}needHide(t){return t.isContainer||!t.attribute}needShow(t){return!!t.attribute.poptip}setActiveGraphic(t,e){this.activeGraphic=t,this.pluginService.stage.renderNextFrame()}deactivate(t){let{stage:e}=this.pluginService;e.removeEventListener("pointerover",this.poptip)}}let Z=class extends M{constructor(){super(...arguments),this.name="poptip",this.key=this.name+this._uid}};Z=P([(0,n.b)()],Z);let E=class extends M{constructor(){super(...arguments),this.name="poptipForText",this.key=this.name+this._uid,this.pointerlave=t=>{let{stage:e}=this.pluginService;t.target===e&&this.unpoptip(t)}}activate(t){super.activate(t);let{stage:e}=this.pluginService;e.addEventListener("pointerleave",this.pointerlave)}needHide(t){return"text"!==t.type||!t.cliped||t.isContainer||!t.attribute||t.attribute.disableAutoClipedPoptip}needShow(t){return!0}deactivate(t){let{stage:e}=this.pluginService;super.deactivate(t),e.removeEventListener("pointerleave",this.pointerlave)}};E=P([(0,n.b)()],E);let L=new s.n((t,e,i,s)=>{i(H)||(t(H).toSelf().inSingletonScope(),t(l.tg).toService(H)),i(Z)||(t(Z).toSelf(),t(r.X).toService(Z)),i(E)||(t(E).toSelf(),t(r.X).toService(E))});function O(){a.n.load(L)}},570469:function(t,e,i){i.d(e,{C:()=>d,q:()=>o});var s=i(20408),l=i(651026),r=i(831512),a=i(540627),n=i(200498),h=i(866476);function o(){(0,r.M)(),(0,a.g)(),(0,n.k)(),(0,h.k)()}function d(t){(0,s.Z)(l.r.poptip,l.t,t)}},651026:function(t,e,i){i.d(e,{r:()=>r,t:()=>l});var s=i(20408);let l={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},r={poptip:(0,s.Z)({},l)}},383453:function(t,e,i){i.d(e,{Y:()=>u});var s=i(20408),l=i(385943),r=i(30371),a=i(212711),n=i(831512),h=i(866476),o=i(470367),d=i(480050);(0,n.M)(),(0,h.k)(),(0,o.Q)(),(0,d.i)();class u extends l.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},u.defaultAttributes,t)),this._handlePointerUp=()=>{this.attribute.disabled||this.attribute.checked||(this.setAttribute("checked",!0),this._dispatchEvent("radio_checked",{eventType:"radio_checked",target:this}),this.stage.renderNextFrame())},this.renderGroup(),this.onBeforeAttributeUpdate=(t,e,i)=>{"interactive"in t&&this.setAttribute("pickable",t.interactive),"disabled"in t&&this.setAttribute("cursor",t.disable?this.attribute.disableCursor:this.attribute.cursor)},this.addEventListener("pointerup",this._handlePointerUp)}render(){this.removeAllChild(!0),this.renderCircle(),this.renderText(),this.layout()}renderCircle(){this._circle=new r.w((0,s.Z)({},this.attribute.circle));let t=this.attribute.checked;t&&this.attribute.disabled?this._circle.setAttributes({fill:this.attribute.circle.disableCheckedFill,stroke:this.attribute.circle.disableCheckedStroke}):t?this._circle.setAttributes({fill:this.attribute.circle.checkedFill,stroke:this.attribute.circle.checkedStroke}):this.attribute.disabled&&this._circle.setAttributes({fill:this.attribute.circle.disableFill}),this.appendChild(this._circle)}renderText(){this._text=new a.x((0,s.Z)({},this.attribute.text)),this.attribute.disabled&&this._text.setAttribute("fill",this.attribute.text.disableFill),this.appendChild(this._text)}renderGroup(){this.attribute.interactive||this.setAttribute("pickable",!1),this.attribute.disabled&&this.setAttribute("cursor",this.attribute.disableCursor)}layout(){let t=2*(this.attribute.circle.outerRadius+this.attribute.circle.lineWidth),e=this._text.AABBBounds.height(),i=Math.max(t,e),s=i/2-t/2+this.attribute.circle.outerRadius+this.attribute.circle.lineWidth,l=2*(this.attribute.circle.outerRadius+this.attribute.circle.lineWidth),r=this.attribute.circle.outerRadius+this.attribute.circle.lineWidth,a=l+this.attribute.spaceBetweenTextAndIcon;this._circle.setAttributes({x:r,y:s}),this._text.setAttributes({x:a,y:i/2-e/2})}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,s.Z)({},u.defaultAttributes,t),super.initAttributes(t),this.renderGroup(),this.render()}}u.defaultAttributes={interactive:!0,disabled:!1,checked:!1,cursor:"pointer",disableCursor:"not-allowed",spaceBetweenTextAndIcon:8,text:{text:"text",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",textBaseline:"top",pickable:!1},circle:{outerRadius:7,innerRadius:3,startAngle:0,endAngle:2*Math.PI,lineWidth:1,fill:"#fff",stroke:"rgb(229,230,235)",disableFill:"rgb(242,243,245)",checkedFill:"rgb(22, 93, 255)",checkedStroke:"rgb(22, 93, 255)",disableCheckedFill:"rgb(148, 191, 255)",disableCheckedStroke:"rgb(148, 191, 255)",pickable:!1}}},758857:function(t,e,i){i.d(e,{M:()=>r});var s=i(831512),l=i(866476);function r(){(0,s.M)(),(0,l.k)()}},744818:function(t,e,i){i.d(e,{B:()=>_});var s=i(474702),l=i(80204),r=i(649275),a=i(20408),n=i(364776),h=i(994030),o=i(651996),d=i(464639),u=i(385943),c=i(758857),p=i(940179),g=i(942252);let b={debounce:l.Z,throttle:r.Z};(0,c.M)();class _ extends u.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},_.defaultAttributes,t)),this.name="scrollbar",this._handleTouchMove=t=>{(0,n.Z)(this._prePos)&&t.preventDefault()},this._onRailPointerDown=t=>{let e,{viewX:i,viewY:s}=t,{direction:l,width:r,height:a,range:n}=this.attribute,o=this._sliderSize,[d,u]=this._getScrollRange();if("vertical"===l){let t=s-this._viewPosition.y,i=(0,h.Z)(t-o/2,d,u);e=t/a,this._slider.setAttribute("y",i,!0)}else{let t=i-this._viewPosition.x,s=(0,h.Z)(t-o/2,d,u);e=t/r,this._slider.setAttribute("x",s,!0)}this.setScrollRange([e-(n[1]-n[0])/2,e+(n[1]-n[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=t=>{this._clearDragEvents();let{stopSliderDownPropagation:e=!0}=this.attribute;e&&t.stopPropagation();let{direction:i}=this.attribute,{x:l,y:r}=this.stage.eventPointTransform(t);this._prePos="horizontal"===i?l:r,this._dispatchEvent(p.m3,{pos:this._prePos,event:t});let a=(0,g.G)(),n="browser"===s.rF.env?s.rF:this.stage;n.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),a.forEach(t=>{n.addEventListener(t,this._onSliderPointerUp)})},this._computeScrollValue=t=>{let e,i,{direction:s}=this.attribute,{x:l,y:r}=this.stage.eventPointTransform(t),{width:a,height:n}=this.getSliderRenderBounds();return e="vertical"===s?((i=r)-this._prePos)/n:((i=l)-this._prePos)/a,[i,e]},this._onSliderPointerMove=t=>{let{stopSliderMovePropagation:e=!0}=this.attribute;e&&t.stopPropagation();let i=this.getScrollRange(),[s,l]=this._computeScrollValue(t);this.setScrollRange([i[0]+l,i[1]+l],!0),this._prePos=s},this._onSliderPointerMoveWithDelay=0===this.attribute.delayTime?this._onSliderPointerMove:b[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=t=>{let{range:e,limitRange:i=[0,1]}=this.attribute,s=this.getScrollRange(),[l,r]=this._computeScrollValue(t),a=[s[0]+r,s[1]+r];this._prePos=null,this._dispatchEvent(p.gB,{pre:e,value:(0,o.Z)(a,i[0],i[1])}),this._clearDragEvents()}}setScrollRange(t,e=!0){let{direction:i="horizontal",limitRange:s=[0,1],range:l,realTime:r=!0}=this.attribute,a=(0,o.Z)(t,s[0],s[1]);if(e){let t=this._getSliderPos(a);if(this._slider){let e=t[1]-t[0];this._sliderSize=e,"horizontal"===i?this._slider.setAttributes({x:t[0],width:e},!0):this._slider.setAttributes({y:t[0],height:e},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=a,r&&this._dispatchEvent(p.eV,{pre:l,value:a})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;let{delayType:t="throttle",delayTime:e=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",b[t](this._onRailPointerDown,e)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown),("browser"===s.rF.env?s.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}render(){let t;this._reset();let{direction:e="horizontal",width:i,height:s,range:l,limitRange:r=[0,1],railStyle:a,sliderStyle:n,padding:h=2}=this.attribute,u=this.createOrUpdateChild("scrollbar-container",{},"group"),c=u.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:i,height:s},a),"rect");this._rail=c;let p=this.getSliderRenderBounds(),g=this._getSliderPos((0,o.Z)(l,r[0],r[1])),b=g[1]-g[0];this._sliderSize=b,t="horizontal"===e?{x:g[0],y:p.y1,width:b,height:p.height}:{x:p.x1,y:g[0],width:p.width,height:b};let _=u.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},t),{cornerRadius:this._getDefaultSliderCornerRadius()}),n),{boundsPadding:(0,d.o)(h),pickMode:"imprecise"}),"rect");this._slider=_,this._container=u;let x=this._container.AABBBounds;this._viewPosition={x:x.x1,y:x.y1}}getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;let{width:t,height:e,padding:i=2}=this.attribute,[s,l,r,a]=(0,d.o)(i),n={x1:a,y1:s,x2:t-l,y2:e-r,width:Math.max(0,t-(a+l)),height:Math.max(0,e-(s+r))};return this._sliderRenderBounds=n,n}_getDefaultSliderCornerRadius(){let{direction:t,round:e}=this.attribute;if(e){let{width:e,height:i}=this.getSliderRenderBounds();return"horizontal"===t?i:e}return 0}_getSliderPos(t){let{direction:e}=this.attribute,{width:i,height:s,x1:l,y1:r}=this.getSliderRenderBounds();return"horizontal"===e?[i*t[0]+l,i*t[1]+l]:[s*t[0]+r,s*t[1]+r]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;let{limitRange:t=[0,1],direction:e}=this.attribute,[i,s]=(0,o.Z)(t,0,1),{width:l,height:r,x1:a,y1:n}=this.getSliderRenderBounds(),h=this._sliderSize;return"horizontal"===e?(0,o.Z)([a+i*l,a+s*l],a,l-h):(0,o.Z)([n+i*r,n+s*r],n,r-h)}_clearDragEvents(){let t=(0,g.G)(),e="browser"===s.rF.env?s.rF:this.stage;e.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onSliderPointerUp)})}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}release(t){super.release(t),("browser"===s.rF.env?s.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearDragEvents()}}_.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0}},951776:function(t,e,i){i.d(e,{X:()=>b});var s=i(20408),l=i(89530),r=i(999051),a=i(695723),n=i(944843),h=i(205427),o=i(385943),d=i(831512),u=i(103136),c=i(30120),p=i(200498),g=i(309762);(0,d.M)(),(0,u.N)(),(0,c.M)(),(0,p.k)();class b extends o.k{getStartAngle(){return(0,g.LW)(this._startAngle)}getEndAngle(){return(0,g.LW)(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},b.defaultAttributes,t)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();let{startSymbol:t,endSymbol:e,lineStyle:i,state:s,visible:o=!0,multiSegment:d,mainSegmentIndex:u}=this.attribute;if(!o)return;this._computeLineAngle();let c=this._getMainSegmentPoints(),p=this._renderSymbol(t,c,"start"),g=this._renderSymbol(e,c,"end");if(this.startSymbol=p,this.endSymbol=g,d){let t=[...this.attribute.points];if((0,l.Z)(u))t[u]=this._clipPoints(t[u]);else{let e=this._clipPoints((0,r.VF)(t));t[0][0]=e[0],t[t.length-1][t[t.length-1].length-1]=e[e.length-1]}t.forEach((t,e)=>{var l,r;let o=h.i.line(Object.assign(Object.assign({points:t},(0,a.Z)(i)?null!=(l=i[e])?l:i[i.length-1]:i),{fill:!1}));o.name=`${this.name}-line`,o.id=this._getNodeId("line"+e),(0,n.Z)(null==s?void 0:s.line)||(o.states=(0,a.Z)(s.line)?null!=(r=s.line[e])?r:s.line[s.line.length-1]:s.line),this.add(o),this.lines.push(o)})}else{let t=h.i.line;(0,r.IX)(i)[0].cornerRadius&&(t=h.i.polygon);let e=t(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},(0,r.IX)(i)[0]),{fill:!1,closePath:!1}));e.name=`${this.name}-line`,e.id=this._getNodeId("line"),(0,n.Z)(null==s?void 0:s.line)||(e.states=[].concat(s.line)[0]),this.add(e),this.lines.push(e)}}_computeStartRotate(t){return t+Math.PI/2}_computeEndRotate(t){return t+Math.PI/2}_renderSymbol(t,e,i){let s;if(!e.length)return;let{autoRotate:r=!0}=t;if(t&&t.visible){let a,o,d=this.getStartAngle(),u=this.getEndAngle(),{state:c}=this.attribute,p=e[0],g=e[e.length-1],{refX:b=0,refY:_=0,refAngle:x=0,style:m,symbolType:v,size:f=12}=t;"start"===i?(a={x:p.x+((0,l.Z)(d)?b*Math.cos(d)+_*Math.cos(d-Math.PI/2):0),y:p.y+((0,l.Z)(d)?b*Math.sin(d)+_*Math.sin(d-Math.PI/2):0)},o=this._computeStartRotate(this._startAngle)):(a={x:g.x+((0,l.Z)(u)?b*Math.cos(u)+_*Math.cos(u-Math.PI/2):0),y:g.y+((0,l.Z)(u)?b*Math.sin(u)+_*Math.sin(u-Math.PI/2):0)},o=this._computeEndRotate(this._endAngle)),(s=h.i.symbol(Object.assign(Object.assign(Object.assign({},a),{symbolType:v,size:f,angle:r?o+x:0,strokeBoundsBuffer:0}),m))).name=`${this.name}-${i}-symbol`,s.id=this._getNodeId(`${i}-symbol`),(0,n.Z)(null==c?void 0:c.symbol)||(s.states=c.symbol),"start"===i?(0,n.Z)(null==c?void 0:c.startSymbol)||(s.states=c.startSymbol):(0,n.Z)(null==c?void 0:c.endSymbol)||(s.states=c.endSymbol),this.add(s)}return s}_getMainSegmentPoints(){let t;if(this._mainSegmentPoints)return this._mainSegmentPoints;let{points:e,multiSegment:i,mainSegmentIndex:s}=this.attribute;return t=i?(0,l.Z)(s)?e[s]:(0,r.VF)(e):e,this._mainSegmentPoints=t,t}_clipPoints(t){let{startSymbol:e={},endSymbol:i={}}=this.attribute,s=t;if(e.visible){let i=e.clip?e.size||10:0;s=[{x:t[0].x-i/2*(Math.cos(this._startAngle)||0),y:t[0].y-i/2*(Math.sin(this._startAngle)||0)},...s.slice(1)]}if(i.visible){let e=i.clip?i.size||10:0,l={x:t[t.length-1].x-e/2*(Math.cos(this._endAngle)||0),y:t[t.length-1].y-e/2*(Math.sin(this._endAngle)||0)};s=[...s.slice(0,s.length-1),l]}return s}_computeLineAngle(){let t=this._getMainSegmentPoints();if(t.length<=1)return;let e=t[0],i=t[1],s=t[t.length-2],l=t[t.length-1],r=[e.x-i.x,e.y-i.y],a=Math.atan2(r[1],r[0]),n=[l.x-s.x,l.y-s.y],h=Math.atan2(n[1],n[0]);this._startAngle=a,this._endAngle=h}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}b.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}}},894661:function(t,e,i){i.d(e,{d:()=>n});var s=i(831512),l=i(540627),r=i(866476),a=i(200498);function n(){(0,s.M)(),(0,l.g)(),(0,r.k)(),(0,a.k)()}},258284:function(t,e,i){i.d(e,{i:()=>f});var s,l,r=i(695723),a=i(20408),n=i(994030),h=i(364776),o=i(999051),d=i(454326),u=i(651996),c=i(480971),p=i(474702),g=i(205427),b=i(385943);(s=l||(l={})).innerView="innerView",s.railContainer="sliderRailContainer",s.rail="sliderRail",s.startText="sliderStartText",s.endText="sliderEndText",s.startHandler="sliderStartHandler",s.startHandlerText="startHandlerText",s.endHandler="sliderEndHandler",s.endHandlerText="sliderEndHandlerText",s.track="sliderTrack",s.trackContainer="sliderTrackContainer";var _=i(894661),x=i(942252);function m(t){return(0,r.Z)(t)?t:[t,t]}function v(t){return t?"ew-resize":"ns-resize"}(0,_.d)();class f extends b.k{get track(){return this._track}get currentValue(){return this._currentValue}get startHandler(){return this._startHandler}get endHandler(){return this._endHandler}get tooltipShape(){return this._tooltipShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},f.defaultAttributes,t)),this.name="slider",this._isHorizontal=!0,this._startHandler=null,this._endHandler=null,this._startHandlerText=null,this._endHandlerText=null,this._currentHandler=null,this._currentValue={},this._onTooltipShow=t=>{this._isChanging||this._tooltipState&&this._tooltipState.isActive||(this._tooltipState?this._tooltipState.isActive=!0:this._tooltipState={isActive:!0},this._onTooltipUpdate(t),this._dispatchTooltipEvent("sliderTooltipShow"))},this._onTooltipUpdate=t=>{if(this._isChanging||!this._tooltipState||!this._tooltipState.isActive)return;let e=this._isHorizontal?this._rail.globalAABBBounds.width():this._rail.globalAABBBounds.height(),i=(0,n.Z)(this._isHorizontal?(t.viewX-this._rail.globalAABBBounds.x1)/e:(t.viewY-this._rail.globalAABBBounds.y1)/e,0,1);i!==this._tooltipState.pos&&(this._tooltipState.pos=i,this._tooltipState.value=this.calculateValueByPos(i*e),this._updateTooltip(),this._dispatchTooltipEvent("sliderTooltipUpdate"))},this._onTooltipHide=()=>{let{tooltip:t}=this.attribute;t&&t.alwaysShow||(this._tooltipState=null,this._tooltipShape&&this._tooltipShape.setAttribute("visible",!1),this._tooltipText&&this._tooltipText.setAttribute("visible",!1),this._dispatchTooltipEvent("sliderTooltipHide"))},this._onHandlerPointerdown=t=>{this._clearAllDragEvents(),this._isChanging=!0;let{x:e,y:i}=this.stage.eventPointTransform(t);this._currentHandler=t.target,this._prePos=this._isHorizontal?e:i;let s=(0,x.G)(),l="browser"===p.rF.env?p.rF:this.stage;l.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),s.forEach(t=>{l.addEventListener(t,this._onHandlerPointerUp)})},this._onHandlerPointerMove=t=>{var e,i;this._isChanging=!0;let{railWidth:s,railHeight:l,min:r,max:a}=this.attribute;if(a===r)return;let{x:h,y:o}=this.stage.eventPointTransform(t),d,u,c,p=0;this._isHorizontal?(p=(d=h)-this._prePos,u=null==(i=this._currentHandler)?void 0:i.attribute.x,c=s):(p=(d=o)-this._prePos,u=null==(e=this._currentHandler)?void 0:e.attribute.y,c=l);let g=(0,n.Z)(u+p,0,c),b=this.calculateValueByPos(g);"text"===this._currentHandler.type?this._updateHandlerText(this._currentHandler,g,b):this._updateHandler(this._currentHandler,g,b),this._updateTrack(),this._prePos=d,this._dispatchChangeEvent()},this._onHandlerPointerUp=t=>{this._isChanging=!1,this._currentHandler=null,this._clearAllDragEvents()},this._handleTouchMove=t=>{this._isChanging&&t.preventDefault()},this._onTrackPointerdown=t=>{this._clearAllDragEvents(),this._isChanging=!0;let{x:e,y:i}=this.stage.eventPointTransform(t);this._prePos=this._isHorizontal?e:i;let s=(0,x.G)(),l="browser"===p.rF.env?p.rF:this.stage;l.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),s.forEach(t=>{l.addEventListener(t,this._onTrackPointerUp)})},this._onTrackPointerMove=t=>{let e,i,s;this._isChanging=!0;let{railWidth:l,railHeight:r,min:a,max:h,inverse:o}=this.attribute;if(h===a)return;let{startHandler:d,endHandler:u}=this._getHandlers(),{x:c,y:p}=this.stage.eventPointTransform(t);this._isHorizontal?(e=c,i=this._track.attribute.width,s=l):(e=p,i=this._track.attribute.height,s=r);let g=e-this._prePos;if(d){let t=this._isHorizontal?d.attribute.x:d.attribute.y,e=o?(0,n.Z)(t+g,i,s):(0,n.Z)(t+g,0,s-i),l=this.calculateValueByPos(e);this._updateHandler(d,e,l)}if(u){let t=this._isHorizontal?u.attribute.x:u.attribute.y,e=o?(0,n.Z)(t+g,0,s-i):(0,n.Z)(t+g,i,s),l=this.calculateValueByPos(e),r=null==d?void 0:d.attribute;this._updateHandler(u,e,l),this._track.setAttributes(this._isHorizontal?{x:Math.min(r.x,u.attribute.x),width:Math.abs(r.x-u.attribute.x)}:{y:Math.min(r.y,u.attribute.y),height:Math.abs(r.y-u.attribute.y)})}this._prePos=e,this._dispatchChangeEvent()},this._onTrackPointerUp=t=>{this._isChanging=!1,this._clearAllDragEvents()},this._onRailPointerDown=t=>{let e,i,s;this._clearAllDragEvents(),this._isChanging=!0;let{railWidth:l,railHeight:r,min:a,max:n}=this.attribute;if(n===a)return;let o=this._startHandler,d=this._endHandler;this._isHorizontal?(e=t.viewX-this._rail.globalAABBBounds.x1,i=null==o?void 0:o.attribute.x,s=null==d?void 0:d.attribute.x):(e=t.viewY-this._rail.globalAABBBounds.y1,i=null==o?void 0:o.attribute.y,s=null==d?void 0:d.attribute.y);let u=this.calculateValueByPos(e);if((0,h.Z)(s)){let t=Math.abs(e-i)>Math.abs(e-s)?d:o;this._updateHandler(t,e,u)}else this._updateHandler(o,e,u);this._updateTrack(),this._dispatchChangeEvent()}}calculatePosByValue(t,e){let{layout:i,railWidth:s,railHeight:l,min:r,max:a,inverse:n}=this.attribute,h=0;return h=r===a?"start"===e?0:+("end"===e):(t-r)/(a-r),(n?1-h:h)*("vertical"===i?l:s)}calculateValueByPos(t){let{layout:e,railWidth:i,railHeight:s,min:l,max:r,inverse:a}=this.attribute,n="vertical"===e?s:i;return l+(r-l)*(a?1-t/n:t/n)}setValue(t){let{min:e,max:i}=this.attribute;if(i===e)return;let[s,l]=(0,o.IX)(t),{startHandler:r,endHandler:a}=this._getHandlers();r&&this._updateHandler(r,this.calculatePosByValue(s),s),a&&this._updateHandler(a,this.calculatePosByValue(l),l),this._updateTrack()}render(){var t,e;let i;this.removeAllChild(!0);let{layout:s="horizontal",railWidth:r,railHeight:a,startText:n,endText:o,min:u,max:c,showHandler:p=!0,showTooltip:b}=this.attribute,{value:_}=this.attribute;(0,d.Z)(_)&&(_=[u,c]),this._currentValue={startValue:m(_)[0],endValue:m(_)[1]};let x="horizontal"===s;this._isHorizontal=x;let v=g.i.group({x:0,y:0});v.name=l.innerView,this.add(v),this._innerView=v;let f,y=0;if(n&&n.visible){(f=g.i.text(Object.assign({x:x?0:r/2,y:x?a/2:0,textAlign:x?"start":"center",textBaseline:x?"middle":"top",text:n.text,lineHeight:null==(t=n.style)?void 0:t.fontSize},n.style))).name=l.startText,v.add(f);let e=(0,h.Z)(n.space)?n.space:0;y+=(x?f.AABBBounds.width():f.AABBBounds.height())+e}let S=g.i.group({x:x?y:0,y:x?0:y});v.add(S);let A=g.i.group({x:0,y:0});if(A.name=l.railContainer,this._railContainer=A,S.add(A),this._mainContainer=S,this._renderRail(A),y+=x?r:a,o&&o.visible){let t=(0,h.Z)(o.space)?o.space:0;(i=g.i.text(Object.assign({x:x?y+t:r/2,y:x?a/2:y+t,textAlign:x?"start":"center",textBaseline:x?"middle":"top",text:o.text,lineHeight:null==(e=o.style)?void 0:e.fontSize},o.style))).name=l.endText,v.add(i)}this._renderTrack(A),p&&(this._renderHandlers(S),this._bindEvents()),b&&(this._renderTooltip(),this._bindTooltipEvents())}_renderRail(t){let{railWidth:e,railHeight:i,railStyle:s,slidable:r}=this.attribute,a="default";!1!==r&&(a="pointer");let n=g.i.rect(Object.assign({x:0,y:0,width:e,height:i,cursor:a},s));return n.name=l.rail,t.add(n),this._rail=n,n}_renderHandlers(t){let{range:e,min:i,max:s,handlerSize:r=14,handlerStyle:a,handlerText:n,railHeight:h,railWidth:o,slidable:u}=this.attribute,{value:c}=this.attribute;(0,d.Z)(c)&&(c=[i,s]);let p=n&&n.visible,g=this._isHorizontal,[b,_]=m(c),x=this.calculatePosByValue(b,e?"start":"end"),f=this._renderHandler(Object.assign({x:g?x:o/2,y:g?h/2:x,size:r,strokeBoundsBuffer:0,cursor:!1===u?"default":v(g)},a));if(f.name=l.startHandler,this._startHandler=f,t.add(f),this._currentValue.startPos=x,p){let i=this._renderHandlerText(b,e?"start":"end");i.name=l.startHandlerText,t.add(i),this._startHandlerText=i}if(e){let e=this.calculatePosByValue(_,"end"),i=this._renderHandler(Object.assign({x:g?e:o/2,y:g?h/2:e,size:r,strokeBoundsBuffer:0,cursor:!1===u?"default":v(g)},a));if(i.name=l.endHandler,this._endHandler=i,t.add(i),this._currentValue.endPos=e,p){let e=this._renderHandlerText(_,"end");e.name=l.endHandlerText,t.add(e),this._endHandlerText=e}}}_renderTrack(t){let e,i,s,{range:r,min:a,max:h,railHeight:o,railWidth:p,trackStyle:b,railStyle:_,slidable:x,value:m}=this.attribute;if((0,d.Z)(m))r?(e=a,i=h):e=i=a;else if(r){let t=(0,u.Z)(m,a,h);e=t[0],i=t[1]}else e=a,i=(0,n.Z)(m,a,h);let f=this._isHorizontal;r||(e=a);let y=g.i.group({x:0,y:0,width:p,height:o,cornerRadius:null==_?void 0:_.cornerRadius,clip:!0,pickable:!1});y.name=l.trackContainer;let S=(0,c.Z)(r)&&!0===r.draggableTrack;s=!1===x?"default":!1===r||!1===S?"pointer":v(f);let A=this.calculatePosByValue(e,"start"),B=this.calculatePosByValue(i,r?"end":"start"),C=g.i.rect(Object.assign({x:f?Math.min(A,B):0,y:f?0:Math.min(A,B),width:f?Math.abs(B-A):p,height:f?o:Math.abs(B-A),cursor:s},b));C.name=l.track,this._track=C,y.add(C),t.add(y)}_renderHandler(t){return g.i.symbol(t)}_renderHandlerText(t,e){var i,s,l;let{align:r,handlerSize:a=14,handlerText:n={},railHeight:h,railWidth:o,slidable:d}=this.attribute,u=this._isHorizontal,c=this.calculatePosByValue(t,e),p=null!=(i=n.space)?i:4,b={text:n.formatter?n.formatter(t):t.toFixed(null!=(s=n.precision)?s:0),lineHeight:null==(l=n.style)?void 0:l.lineHeight,cursor:!1===d?"default":v(u)};return u?"top"===r?(b.textBaseline="bottom",b.textAlign="center",b.x=c,b.y=(h-a)/2-p):(b.textBaseline="top",b.textAlign="center",b.x=c,b.y=(h+a)/2+p):("left"===r?(b.textBaseline="middle",b.textAlign="end",b.x=(o-a)/2-p):(b.textBaseline="middle",b.textAlign="start",b.x=(o+a)/2+p),b.y=c),g.i.text(Object.assign(Object.assign({},b),n.style))}_renderTooltip(){var t;let{tooltip:e,railHeight:i,railWidth:s,align:l}=this.attribute;e&&e.alwaysShow?this._tooltipState={value:this._currentValue.startValue,pos:this._currentValue.startPos}:this._tooltipState=null;let r=this._isHorizontal?0:s/2,a=this._isHorizontal?i/2:0;if(e&&e.shape){let t=g.i.symbol(Object.assign({pickable:!1,visible:!!this._tooltipState,x:r,y:a,symbolType:"circle"},e.shapeStyle));this._tooltipShape=t,this._mainContainer.add(t)}let n=e&&e.text||{},h=null!=(t=n.space)?t:6,o={pickable:!1,visible:!!this._tooltipState,text:""};this._isHorizontal?(o.x=r,o.y="top"===l?a-i/2-h:a+i/2+h,o.textAlign="center",o.textBaseline="top"===l?"bottom":"top"):(o.y=a,o.x="left"===l?r-s/2-h:a+s/2+h,o.textAlign="left"===l?"end":"start",o.textBaseline="middle");let d=g.i.text(Object.assign(Object.assign({},o),n.style));this._mainContainer.add(d),this._tooltipText=d,this._tooltipState&&this._updateTooltip()}_updateTooltip(){var t,e;if(!this._tooltipShape&&!this._tooltipText||!this._tooltipState)return;let{railWidth:i,railHeight:s}=this.attribute,l=this._isHorizontal?i:s,r=this._tooltipState.pos*l,a=this._isHorizontal?"x":"y";this._tooltipShape&&this._tooltipShape.setAttributes({visible:!0,[a]:r});let{align:n}=this.attribute;if(this._tooltipText){let i=this.attribute.tooltip&&this.attribute.tooltip.text||{};this._tooltipText.setAttributes({visible:!0,[a]:r,text:i.formatter?i.formatter(this._tooltipState.value):this._isHorizontal||"left"!==n?`\u{2248} ${this._tooltipState.value.toFixed(null!=(e=i.precision)?e:0)}`:`${this._tooltipState.value.toFixed(null!=(t=i.precision)?t:0)} \u{2248}`})}}_bindEvents(){if(this.attribute.disableTriggerEvent)return;let{slidable:t,range:e}=this.attribute;t&&(this._startHandler&&this._startHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._startHandlerText&&this._startHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandler&&this._endHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandlerText&&this._endHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),(0,c.Z)(e)&&e.draggableTrack&&this._track.addEventListener("pointerdown",this._onTrackPointerdown),this._railContainer.addEventListener("pointerdown",this._onRailPointerDown),("browser"===p.rF.env?p.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}))}_bindTooltipEvents(){this.attribute.disableTriggerEvent||(this._mainContainer.addEventListener("pointerenter",this._onTooltipShow),this._mainContainer.addEventListener("pointermove",this._onTooltipUpdate),this._mainContainer.addEventListener("pointerleave",this._onTooltipHide))}_clearAllDragEvents(){let t=(0,x.G)(),e="browser"===p.rF.env?p.rF:this.stage;e.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onHandlerPointerUp)}),e.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),t.forEach(t=>{e.removeEventListener(t,this._onTrackPointerUp)})}_updateTrack(){let{inverse:t,railWidth:e,railHeight:i}=this.attribute,s=this._startHandler,l=this._endHandler;if(this._isHorizontal){let i=null==s?void 0:s.attribute.x;if(l){let t=null==l?void 0:l.attribute.x;this._track.setAttributes({x:Math.min(i,t),width:Math.abs(i-t)})}else t?this._track.setAttributes({x:i,width:e-i}):this._track.setAttributes({width:i})}else{let e=null==s?void 0:s.attribute.y;if(l){let t=null==l?void 0:l.attribute.y;this._track.setAttributes({y:Math.min(e,t),height:Math.abs(e-t)})}else t?this._track.setAttributes({y:e,height:i-e}):this._track.setAttributes({height:e})}}_updateHandler(t,e,i){var s;let r=this._isHorizontal;t.setAttribute(r?"x":"y",e);let a=t.name===l.startHandler?this._startHandlerText:this._endHandlerText;if(a){let{handlerText:t={}}=this.attribute;a.setAttributes({text:t.formatter?t.formatter(i):i.toFixed(null!=(s=t.precision)?s:0),[r?"x":"y"]:e})}t.name===l.startHandler?(this._currentValue.startValue=i,this._currentValue.startPos=e):(this._currentValue.endValue=i,this._currentValue.endPos=e)}_updateHandlerText(t,e,i){var s;let r=this._isHorizontal,{handlerText:a={}}=this.attribute;t.setAttributes({[r?"x":"y"]:e,text:a.formatter?a.formatter(i):i.toFixed(null!=(s=a.precision)?s:0)});let n=t.name===l.startHandlerText?this._startHandler:this._endHandler;n&&n.setAttributes({[r?"x":"y"]:e}),t.name===l.startHandlerText?(this._currentValue.startValue=i,this._currentValue.startPos=e):(this._currentValue.endValue=i,this._currentValue.endPos=e)}_dispatchChangeEvent(){let t=!!this.attribute.range,e=this._currentValue;this._dispatchEvent("change",{value:t?[Math.min(e.endValue,e.startValue),Math.max(e.endValue,e.startValue)]:e.startValue,position:t?[Math.min(e.endPos,e.startPos),Math.max(e.endPos,e.startPos)]:e.startPos})}_dispatchTooltipEvent(t){this._dispatchEvent("sliderTooltip",{type:t,position:this._tooltipState&&this._tooltipState.pos,value:this._tooltipState&&this._tooltipState.value})}_getHandlers(){let{inverse:t}=this.attribute,e=this._startHandler,i=this._endHandler;return i&&(this._isHorizontal?(!t&&i.attribute.x<(null==e?void 0:e.attribute.x)||t&&i.attribute.x>(null==e?void 0:e.attribute.x))&&([e,i]=[i,e]):(!t&&i.attribute.y<(null==e?void 0:e.attribute.y)||t&&i.attribute.y>(null==e?void 0:e.attribute.y))&&([e,i]=[i,e])),{startHandler:e,endHandler:i}}release(t){super.release(t),("browser"===p.rF.env?p.rF:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearAllDragEvents()}}f.defaultAttributes={slidable:!0,layout:"horizontal",align:"bottom",height:8,showHandler:!0,handlerSize:14,handlerStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},tooltip:{shapeStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},text:{style:{fill:"#2C3542",fontSize:12}}},railStyle:{fill:"rgba(0,0,0,.04)"},trackStyle:{fill:"#91caff"},showValue:!0,valueStyle:{fill:"#2C3542",fontSize:12},startText:{style:{fill:"#2C3542",fontSize:12}},endText:{style:{fill:"#2C3542",fontSize:12}},handlerText:{visible:!0,space:4,precision:0,style:{fill:"#2C3542",fontSize:12}}}},67775:function(t,e,i){i.d(e,{r:()=>p});var s=i(20408),l=i(385943),r=i(669860),a=i(226594),n=i(212711),h=i(831512),o=i(866476),d=i(540627),u=i(791358),c=i(255020);(0,h.M)(),(0,o.k)(),(0,d.g)(),(0,u.f)();class p extends l.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},p.defaultAttributes,t)),this._handlePointerUp=()=>{this.attribute.disabled||(this.attribute.checked?this.setAttribute("checked",!1):this.setAttribute("checked",!0),this._dispatchEvent("switch_state_change",{eventType:"switch_state_change",checked:this.attribute.checked}),this.stage.renderNextFrame())},this.renderGroup(),this.onBeforeAttributeUpdate=(t,e,i)=>{"interactive"in t&&this.setAttribute("pickable",t.interactive),"disabled"in t&&this.setAttribute("cursor",t.disable?this.attribute.disableCursor:this.attribute.cursor)},this.addEventListener("pointerup",this._handlePointerUp)}render(){this.removeAllChild(!0),this.renderBox(),this.renderCircle(),this.renderText(),this.layout()}renderBox(){this._box=new r.U((0,s.Z)({},this.attribute.box)),this.attribute.disabled&&this.attribute.checked?this._box.setAttributes({fill:this.attribute.box.disableCheckedFill}):this.attribute.disabled&&!this.attribute.checked?this._box.setAttributes({fill:this.attribute.box.disableUncheckedFill}):this.attribute.checked?this._box.setAttributes({fill:this.attribute.box.checkedFill}):this._box.setAttributes({fill:this.attribute.box.uncheckedFill}),this.appendChild(this._box)}renderCircle(){this._circle=new a.C((0,s.Z)({},this.attribute.circle)),this.appendChild(this._circle)}renderText(){var t,e,i;this._text=new n.x((0,s.Z)({},null!=(t=this.attribute.text)?t:{})),this.attribute.checked&&(null==(e=this.attribute.text)?void 0:e.checkedText)?this._text.setAttributes({text:this.attribute.text.checkedText}):(null==(i=this.attribute.text)?void 0:i.uncheckedText)&&this._text.setAttributes({text:this.attribute.text.uncheckedText}),this.appendChild(this._text)}renderGroup(){this.attribute.interactive||this.setAttribute("pickable",!1),this.attribute.disabled&&this.setAttribute("cursor",this.attribute.disableCursor)}layout(){var t,e,i,s,l,r,a,n,h,o;let d=this.attribute.spaceBetweenTextAndCircle,u=this.attribute.circle.radius,p=this.attribute.box.height,g=2*u,b=this._text.AABBBounds.height(),_=Math.max(p,g,b),x=this.attribute.box.width,m=2*u,v=(0,c.fe)((null!=(i=null==(e=null==(t=this.attribute.text)?void 0:t.checkedText)?void 0:e.length)?i:0)>(null!=(r=null==(l=null==(s=this.attribute.text)?void 0:s.uncheckedText)?void 0:l.length)?r:0)?null!=(n=null==(a=this.attribute.text)?void 0:a.checkedText)?n:"":null!=(o=null==(h=this.attribute.text)?void 0:h.uncheckedText)?o:"",this._text.attribute).width,f=Math.max(x,m+v+3*d),y=p/2-m/2+u,S=y+u+d;this._box.setAttributes({width:f,height:_}),this._circle.setAttributes({y:_/2-g/2+u,x:this.attribute.checked?f-y:y}),this._text.setAttributes({x:this.attribute.checked?f-S-v:S,y:_/2-b/2})}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,s.Z)({},p.defaultAttributes,t),super.initAttributes(t),this.renderGroup(),this.render()}}p.defaultAttributes={interactive:!0,disabled:!1,checked:!1,cursor:"pointer",disableCursor:"not-allowed",circle:{radius:8,fill:"#FFF",pickable:!1},box:{width:40,height:24,cornerRadius:12,uncheckedFill:"rgb(201,205,212)",checkedFill:"#165DFF",disableUncheckedFill:"rgb(242,243,245)",disableCheckedFill:"rgb(148,191,255)",pickable:!1},text:{textAlign:"left",textBaseline:"top",pickable:!1},spaceBetweenTextAndCircle:6}},747949:function(t,e,i){i.d(e,{b:()=>h});var s=i(831512),l=i(866476),r=i(200498),a=i(869430),n=i(540627);function h(){(0,s.M)(),(0,l.k)(),(0,r.k)(),(0,a.v)(),(0,n.g)()}},942747:function(t,e,i){i.d(e,{V:()=>x});var s=i(92451),l=i(20408),r=i(464639),a=i(863778),n=i(704654),h=i(944843),o=i(364776),d=i(454326),u=i(480971),c=i(999051),p=i(385943),g=i(255020),b=i(747949),_=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&0>e.indexOf(s)&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)0>e.indexOf(s[l])&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]])}return i};(0,b.b)();class x extends p.k{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,l.Z)({},x.defaultAttributes,t)),this.name="tag",this._tagStates=[],this._rectStates=[],this._symbolStates=[],this._textStates=[]}render(){var t,e,i;let l,p,b;this.cacheStates();let{text:x="",textStyle:m={},shape:v={},panel:f={},space:y=4,minWidth:S,maxWidth:A,padding:B=4,visible:C,state:T,type:w,textAlwaysCenter:H,containerTextAlign:k}=this.attribute,P=(0,r.o)(B),M=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group"),Z,E=-P[3],L=-P[0],O=P[1]+P[3],z=P[0]+P[2],W=0,j=0,{visible:I}=v,R=_(v,["visible"]);if((0,a.Z)(I)){let t=(null==R?void 0:R.size)||10,e=(0,n.Z)(t)?t:Math.max(t[0],t[1]);Z=M.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:t,strokeBoundsBuffer:0},R),{visible:I,x:e/2,y:e/2}),"symbol"),(0,h.Z)(null==T?void 0:T.shape)||(Z.states=T.shape),I&&(j=e+y)}if(O+=j,W+=j,(0,g.TV)({text:x})||"rich"===w){let t=Object.assign(Object.assign(Object.assign({},(0,g.ut)(Object.assign({type:w,text:x},m))),m),{visible:(0,o.Z)(x)&&!1!==C,x:W,y:0});(0,d.Z)(t.lineHeight)&&(t.lineHeight=m.fontSize),p=(l=M.createOrUpdateChild("tag-text",t,"richtext")).AABBBounds.width(),b=l.AABBBounds.height()}else{let i=Object.assign(Object.assign({text:(0,u.Z)(x)&&"type"in x&&"text"===x.type?x.text:x,visible:(0,o.Z)(x)&&!1!==C,lineHeight:null==m?void 0:m.fontSize},m),{x:W,y:0});(0,d.Z)(i.lineHeight)&&(i.lineHeight=m.fontSize),l=M.createOrUpdateChild("tag-text",i,"text");let s=(0,g.fe)(i.text,m,null==(e=null==(t=this.stage)?void 0:t.getTheme())?void 0:e.text);p=s.width,b=s.height}O+=p;let V=null!=(i=v.size)?i:10,F=(0,n.Z)(V)?V:Math.max(V[0],V[1]);z+=Math.max(b,v.visible?F:0);let{textAlign:U,textBaseline:D}=m;((0,o.Z)(S)||(0,o.Z)(A))&&((0,o.Z)(S)&&O<S&&(O=S),(0,o.Z)(A)&&O>A&&(O=A,l.setAttribute("maxLineWidth",A-P[1]-P[2]))),E=0,L=0;let G=0;"left"===U||"start"===U?G=1:"right"===U||"end"===U?G=-1:"center"===U&&(G=0),G?G<0?(E-=O,Z&&Z.setAttribute("x",(Z.attribute.x||0)-p),M.setAttribute("x",-P[1]-j)):G>0&&M.setAttribute("x",P[3]):(E-=O/2,Z&&Z.setAttribute("x",(Z.attribute.x||0)-p/2),M.setAttribute("x",-j/2));let $=(t,e)=>{"richtext"===l.type?l.setAttributes({x:t,textAlign:e,textConfig:(0,c.IX)(l.attribute.textConfig).map(t=>Object.assign(Object.assign({},t),{textAlign:e}))}):l.setAttributes({x:t,textAlign:e})};if((k?"center"===k:H)&&G){let t=O-P[1]-P[3],e=p+j,i=1===G?(t-e)/2+j+p/2:P[0]+j-(O/2+e/2-j)+p/2;if($(i,"center"),Z){let t=i-p/2-j+F/2;Z.setAttributes({x:t})}}if(("left"===k||"start"===k)&&1!==G){let t=O-P[1]-P[3],e=0===G?-t/2+j/2:-O+P[3]+P[1]+j;$(e+j,"left"),Z&&Z.setAttributes({x:e+F/2})}if(("right"===k||"end"===k)&&-1!==G){let t=O-P[1]-P[3],e=0===G?t/2+j/2:t;if($(e,"right"),Z){let t=e-p-j+F/2;Z.setAttributes({x:t})}}"middle"===D?(L-=z/2,Z&&Z.setAttribute("y",0)):"bottom"===D?(L-=z,Z&&Z.setAttribute("y",-b/2),M.setAttribute("y",-P[2])):"top"===D&&(M.setAttribute("y",P[0]),Z&&Z.setAttribute("y",b/2)),(0,h.Z)(null==T?void 0:T.text)||(l.states=T.text);let{visible:N}=f,X=_(f,["visible"]);if(C&&(0,a.Z)(N)){let t=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},X),{visible:N&&!!x,width:O,height:z,x:E,y:L}),"rect");if((0,h.Z)(null==T?void 0:T.panel)||(t.states=T.panel),X.customShape){let e=X.customShape;t.pathProxy=t=>e(this,t,new s.r)}this._bgRect=t}this._textShape=l,this._symbol=Z,this.resetStates()}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,l.Z)({},x.defaultAttributes,t),super.initAttributes(t),this.render()}addState(t,e,i){super.addState(t,e,i),this._textShape&&this._textShape.addState(t,e,i),this._bgRect&&this._bgRect.addState(t,e,i),this._symbol&&this._symbol.addState(t,e,i)}removeState(t,e){super.removeState(t,e),this._textShape&&this._textShape.removeState(t,e),this._bgRect&&this._bgRect.removeState(t,e),this._symbol&&this._symbol.removeState(t,e)}cacheStates(){var t,e,i,s,l,r,a,n,h,o,d,u,c,p;this._tagStates=null!=(e=null==(t=this.currentStates)?void 0:t.slice())?e:[],this._rectStates=null!=(l=null==(s=null==(i=this._bgRect)?void 0:i.currentStates)?void 0:s.slice())?l:[],this._symbolStates=null!=(n=null==(a=null==(r=this._symbol)?void 0:r.currentStates)?void 0:a.slice())?n:[],this._textStates=null!=(d=null==(o=null==(h=this._textShape)?void 0:h.currentStates)?void 0:o.slice())?d:[],this.clearStates(),null==(u=this._bgRect)||u.clearStates(),null==(c=this._symbol)||c.clearStates(),null==(p=this._textShape)||p.clearStates()}resetStates(){var t,e,i;this._tagStates.length&&this.useStates(this._tagStates),this._rectStates.length&&(null==(t=this._bgRect)||t.useStates(this._rectStates)),this._symbolStates.length&&(null==(e=this._symbol)||e.useStates(this._symbolStates)),this._textStates.length&&(null==(i=this._textShape)||i.useStates(this._textStates))}}x.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}}},863718:function(t,e,i){i.d(e,{D:()=>c});var s=i(20408),l=i(464639),r=i(364776),a=i(695723),n=i(385943),h=i(940179),o=i(831512),d=i(540627),u=i(869430);(0,o.M)(),(0,d.g)(),(0,u.v)();class c extends n.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,s.Z)({},c.defaultAttributes,t)),this.name="title"}render(){var t,e,i,s,n,o,d,u,c,p,g,b,_,x,m,v,f,y,S,A;let{textType:B,text:C,subtextType:T,textStyle:w={},subtext:H,subtextStyle:k={},width:P,height:M,minWidth:Z,maxWidth:E,minHeight:L,maxHeight:O,align:z,verticalAlign:W,padding:j=0}=this.attribute,I=(0,l.o)(j),R=this.createOrUpdateChild("title-container",{x:I[3],y:I[0],zIndex:1},"group"),V=null!=(t=w.height)?t:M;if(!1!==this.attribute.visible&&!1!==w.visible){let{width:t,maxHeight:l,maxWidth:u,x:c=0,y:p=0,ellipsis:g=!0,wordBreak:b="break-word",maxWidth:_,lineClamp:x}=w;if("rich"===B||(0,r.Z)(w.character)){let s=Object.assign({x:c,y:p,width:null!=(e=null!=t?t:P)?e:0,height:null!=V?V:0,ellipsis:null==g||g,wordBreak:null!=b?b:"break-word",maxHeight:null!=l?l:O,maxWidth:null!=u?u:_,textConfig:null!=(i=w.character)?i:C},w);this._mainTitle=R.createOrUpdateChild("mainTitle",s,"richtext")}else if("html"===B){let e=Object.assign({html:Object.assign(Object.assign({dom:C},h.Ze),w),x:c,y:p,width:null!=(s=null!=t?t:P)?s:0,height:null!=V?V:0,ellipsis:g,wordBreak:b,maxHeight:null!=l?l:O,maxWidth:null!=u?u:_,textConfig:[]},w);this._mainTitle=R.createOrUpdateChild("mainTitle",e,"richtext")}else(0,r.Z)(C)&&(this._mainTitle=R.createOrUpdateChild("mainTitle",Object.assign(Object.assign({text:(0,a.Z)(C)?C:[C],whiteSpace:"normal"},w),{maxLineWidth:null!=(o=null!=(n=w.maxLineWidth)?n:t)?o:P,heightLimit:null!=(d=w.height)?d:O,lineClamp:x,ellipsis:g,x:c,y:p}),"text"))}let F=this._mainTitle?this._mainTitle.AABBBounds.height():0,U=this._mainTitle?this._mainTitle.AABBBounds.width():0;if(!1!==this.attribute.visible&&!1!==k.visible){let{width:t,height:e,maxWidth:i,maxHeight:s,x:l=0,y:n=0,ellipsis:o=!0,wordBreak:d="break-word",lineClamp:m}=k,v=Math.max(Number.MIN_VALUE,O-F);if("rich"===T||(0,r.Z)(k.character)){let r=Object.assign({x:l,y:n,width:null!=(u=null!=t?t:P)?u:0,height:null!=(c=null!=e?e:M)?c:0,ellipsis:o,wordBreak:d,maxHeight:null!=s?s:v,maxWidth:null!=i?i:E,textConfig:null!=(p=k.character)?p:H},k);this._subTitle=R.createOrUpdateChild("subTitle",r,"richtext")}else if("html"===T){let r=Object.assign({html:Object.assign(Object.assign({dom:H},h.Ze),k),x:l,y:n,width:null!=(g=null!=t?t:P)?g:0,height:null!=(b=null!=e?e:M)?b:0,ellipsis:o,wordBreak:d,maxHeight:null!=s?s:v,maxWidth:null!=i?i:E,textConfig:[]},k);this._subTitle=R.createOrUpdateChild("subTitle",r,"richtext")}else(0,r.Z)(H)&&(this._subTitle=R.createOrUpdateChild("subTitle",Object.assign(Object.assign({text:(0,a.Z)(H)?H:[H],whiteSpace:"normal"},k),{maxLineWidth:null!=(_=k.maxLineWidth)?_:P,heightLimit:null!=(x=k.heightLimit)?x:v,lineClamp:m,ellipsis:o,x:0,y:F}),"text"))}let D=this._subTitle?this._subTitle.AABBBounds.height():0,G=Math.max(U,this._subTitle?this._subTitle.AABBBounds.width():0),$=F+(null!=(m=k.height)?m:D);if((0,r.Z)(P)&&(G=P),(0,r.Z)(M)&&($=M),(0,r.Z)(Z)&&G<Z&&(G=Z),(0,r.Z)(E)&&G>E&&(G=E),(0,r.Z)(L)&&$<L&&($=L),(0,r.Z)(O)&&$>O&&($=O),R.attribute.width=G,R.attribute.height=$,R.attribute.boundsPadding=I,this._mainTitle){if((0,r.Z)(z)||(0,r.Z)(w.align)){let t=w.align?w.align:z,e=null!=(v=w.width)?v:G;"center"===t?(this._mainTitle.setAttribute("x",e/2),this._mainTitle.setAttribute("textAlign","center")):"right"===t?(this._mainTitle.setAttribute("x",e),this._mainTitle.setAttribute("textAlign","right")):(this._mainTitle.setAttribute("x",0),this._mainTitle.setAttribute("textAlign","left"))}let t=w.verticalAlign?w.verticalAlign:W,e=null!=V?V:this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height();"middle"===t?(this._mainTitle.setAttribute("y",e/2),this._mainTitle.setAttribute("textBaseline","middle")):"bottom"===t?(this._mainTitle.setAttribute("y",e),this._mainTitle.setAttribute("textBaseline","bottom")):(this._mainTitle.setAttribute("y",0),this._mainTitle.setAttribute("textBaseline","top"))}if(this._subTitle){if((0,r.Z)(z)||(0,r.Z)(k.align)){let t=k.align?k.align:z,e=null!=(y=null!=(f=k.width)?f:w.width)?y:G;"center"===t?(this._subTitle.setAttribute("x",e/2),this._subTitle.setAttribute("textAlign","center")):"right"===t?(this._subTitle.setAttribute("x",e),this._subTitle.setAttribute("textAlign","right")):(this._subTitle.setAttribute("x",0),this._subTitle.setAttribute("textAlign","left"))}let t=k.verticalAlign?k.verticalAlign:W,e=this._mainTitle?(0,r.Z)(V)?this._mainTitle.AABBBounds.y1+Math.max(this._mainTitle.AABBBounds.empty()?0:this._mainTitle.AABBBounds.height(),V):this._mainTitle.AABBBounds.y2:0,i=null!=(A=null!=(S=k.height)?S:M)?A:this._subTitle.AABBBounds.empty()?0:this._subTitle.AABBBounds.height();"middle"===t?(this._subTitle.setAttribute("y",e+i/2),this._subTitle.setAttribute("textBaseline","middle")):"bottom"===t?(this._subTitle.setAttribute("y",e+i),this._subTitle.setAttribute("textBaseline","bottom")):(this._subTitle.setAttribute("y",e),this._subTitle.setAttribute("textBaseline","top"))}}}c.defaultAttributes={textStyle:{ellipsis:"...",fill:"#333",fontSize:20,fontWeight:"bold",textAlign:"left",textBaseline:"top"},subtextStyle:{ellipsis:"...",fill:"#6F6F6F",fontSize:16,fontWeight:"normal",textAlign:"left",textBaseline:"top"}}},540408:function(t,e,i){i.d(e,{w:()=>s});function s(t,e,i,s,l){"left"===s||"right"===s?"left"===l?t.forEach(t=>{var i;t.setAttributes({dx:(null!=(i=t.attribute.dx)?i:0)+e-t.AABBBounds.x1})}):"right"===l?t.forEach(t=>{var s;t.setAttributes({dx:(null!=(s=t.attribute.dx)?s:0)+e+i-t.AABBBounds.x2})}):"center"===l&&t.forEach(t=>{var s;t.setAttributes({dx:(null!=(s=t.attribute.dx)?s:0)+e+i/2-(t.AABBBounds.x1+t.AABBBounds.x2)/2})}):"bottom"!==s&&"top"!==s||("top"===l?t.forEach(t=>{var i;t.setAttributes({dy:(null!=(i=t.attribute.dy)?i:0)+e-t.AABBBounds.y1})}):"bottom"===l?t.forEach(t=>{var s;t.setAttributes({dy:(null!=(s=t.attribute.dy)?s:0)+e+i-t.AABBBounds.y2})}):"middle"===l&&t.forEach(t=>{var s;t.setAttributes({dy:(null!=(s=t.attribute.dy)?s:0)+e+i/2-(t.AABBBounds.y1+t.AABBBounds.y2)/2})}))}},408566:function(t,e,i){i.d(e,{Ck:()=>function t(e,i){e.forEachChildren(e=>{let s=i(e);e.isContainer&&!s&&t(e,i)})}})},942252:function(t,e,i){i.d(e,{G:()=>l});var s=i(474702);function l(){return"browser"===s.rF.env?["pointerup","pointerleave","pointercancel"]:["pointerup","pointerleave","pointerupoutside"]}},129360:function(t,e,i){i.d(e,{Q6:()=>h,fM:()=>a,lO:()=>n});var s=i(940179),l=i(408566),r=i(944843);let a=(t,e,i)=>{let a=t.target;return a!==i&&a.name&&!(0,r.Z)(a.states)?(a.addState(s.HW.hover,!0),(0,l.Ck)(e,t=>{t!==a&&t.name&&!(0,r.Z)(t.states)&&t.addState(s.HW.hoverReverse,!0)}),a):i},n=(t,e,i)=>i?((0,l.Ck)(e,t=>{t.name&&!(0,r.Z)(t.states)&&(t.removeState(s.HW.hoverReverse),t.removeState(s.HW.hover))}),null):i,h=(t,e,i)=>{let a=t.target;return i===a&&a.hasState(s.HW.selected)?((0,l.Ck)(e,t=>{t.name&&!(0,r.Z)(t.states)&&(t.removeState(s.HW.selectedReverse),t.removeState(s.HW.selected))}),null):a.name&&!(0,r.Z)(a.states)?(a.addState(s.HW.selected,!0),(0,l.Ck)(e,t=>{t!==a&&t.name&&!(0,r.Z)(t.states)&&t.addState(s.HW.selectedReverse,!0)}),a):i}},309600:function(t,e,i){i.d(e,{Dg:()=>n,Fv:()=>a,bA:()=>l,kE:()=>r});var s=i(408830);function l(t,e){return[t[0]*e,t[1]*e]}function r(t){let[e,i]=t;return Math.sqrt(e*e+i*i)}function a(t){let e=r(t);return e>0&&(e=1/e),[t[0]*e,t[1]*e]}function n(t,e,i){let l=function(t,e){let[i,s]=t,[l,r]=e,a=Math.sqrt((i*i+s*s)*(l*l+r*r));return Math.acos(Math.min(Math.max(a&&(i*l+s*r)/a,-1),1))}(t,e),r=(0,s.ir)(t,e)>=0;return i?r?2*Math.PI-l:l:r?l:2*Math.PI-l}},255020:function(t,e,i){i.d(e,{TV:()=>u,fe:()=>d,gM:()=>o,ut:()=>p,vS:()=>g});var s=i(138139),l=i(205427),r=i(385005),a=i(480971),n=i(364776),h=i(940179);let o=(t,e,i,l)=>new r.e(Object.assign({defaultFontParams:Object.assign({fontFamily:h.iR,fontSize:h.$M},l),getTextBounds:i?void 0:s.o,specialCharSet:"-/: .,@%'\"~"+r.e.ALPHABET_CHAR_SET+r.e.ALPHABET_CHAR_SET.toUpperCase()},null!=e?e:{}),t);function d(t,e,i={}){if(!t)return{width:0,height:0};let l=(0,s.o)({text:t,fontFamily:e.fontFamily||i.fontFamily||h.iR,fontSize:e.fontSize||i.fontSize||12,fontWeight:e.fontWeight||i.fontWeight,textAlign:e.textAlign||"center",textBaseline:e.textBaseline,ellipsis:!!e.ellipsis,maxLineWidth:e.maxLineWidth||1/0,lineHeight:e.fontSize||i.fontSize||12});return{width:l.width(),height:l.height()}}function u(t,e="type"){return"rich"===c(t,e)}function c(t,e="type"){var i,s;return(0,a.Z)(t.text)&&"type"in t.text?null!=(i=t.text.type)?i:"text":e in t&&null!=(s=t[e])?s:"text"}function p(t){var e,i;return(0,n.Z)(t.maxLineWidth)&&(t.maxWidth=t.maxLineWidth,delete t.maxLineWidth),t.width=null!=(e=t.width)?e:0,t.height=null!=(i=t.height)?i:0,t.textConfig=t.text.text||t.text,t}function g(t,e="type"){let i=c(t,e);return"rich"===i?l.i.richtext(p(t)):("html"===i?t=function(t){let{text:e,_originText:i}=t,{text:s}=e;return t.html=s,t.text=i,t.renderable=!1,t}(t):"react"===i&&(t=function(t){let{text:e,_originText:i}=t,{text:s}=e;return t.react=s,t.text=i,t.renderable=!1,t}(t)),l.i.text(t))}}}]);