/*! For license information please see vendor-148.4bd2254ff4.js.LICENSE.txt */
(window.webpackChunkweb=window.webpackChunkweb||[]).push([["1709"],{820318:function(e,t,n){"use strict";n.d(t,{ZP:()=>ef});var r,i,o,a,u,c,s,f,l,p,d,v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var m=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],y=function(){return{}};function _(e){return e}function b(e){return"object"==typeof e&&null!==e}var S=Object.prototype;function w(e){return"[object Array]"===S.toString.call(e)}function x(e){return"number"==typeof e}function C(e){return"string"==typeof e}function D(e,t){if(!w(e)||0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var E=function(e,t){if(!w(e))return e;var n=e.indexOf(t);if(n>=0){var r=e.slice();return r.splice(n,1),r}return e},R=function(e,t,n){for(var r,i=h(t.split(".")),o=i[0],a=i.slice(1);e&&a.length>0;)e=e[o],o=(r=h(a))[0],a=r.slice(1);if(e)return n(e,o)};function I(e){try{return C(e)?e:JSON.stringify(e)}catch(e){return"[FAILED_TO_STRINGIFY]:"+String(e)}}var O="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},j=0,A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,g(["[SDK]",Date.now(),O(""+j++)],h(e),!1))},k=0,z=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,g(["[SDK]",Date.now(),O(""+k++)],h(e),!1))},M=function(e){return Math.random()<Number(e)},N=function(e,t){return e<Number(t)},T=function(e){return function(t){for(var n=t,r=0;r<e.length;r++)if(n)try{n=e[r](n)}catch(e){A(e)}else break;return n}};function B(){var e=function(){for(var e=Array(16),t=0,n=0;n<16;n++)(3&n)==0&&(t=0x100000000*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();e[6]=15&e[6]|64,e[8]=63&e[8]|128;for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}var L=function(e){var t,n,r,i=(t={},n={},r={set:function(e,i){return t[e]=i,n[e]=I(i),r},merge:function(e){return t=v(v({},t),e),Object.keys(e).forEach(function(t){n[t]=I(e[t])}),r},delete:function(e){return delete t[e],delete n[e],r},clear:function(){return t={},n={},r},get:function(e){return n[e]},toString:function(){return v({},n)}});e.provide("context",i),e.on("report",function(e){return e.extra||(e.extra={}),e.extra.context=i.toString(),e})},q=function(){return Date.now()},F=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},H=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=F(function(){if("object"==typeof window&&b(window))return window}());n&&(n.errors||(n.errors=[]),n.errors.push(e))},P="custom",G=function(e){if(e&&b(e)&&e.name&&C(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&b(e.metrics)){var n=e.metrics,r={};for(var i in n)x(n[i])&&(r[i]=n[i]);t.metrics=r}if("categories"in e&&b(e.categories)){var o=e.categories,a={};for(var i in o)a[i]=I(o[i]);t.categories=a}return"attached_log"in e&&C(e.attached_log)&&(t.attached_log=e.attached_log),t}},J=function(e){if(e&&b(e)&&e.content&&C(e.content)){var t={content:I(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&b(e.extra)){var n=e.extra,r={},i={};for(var o in n)x(n[o])?r[o]=n[o]:i[o]=I(n[o]);t.metrics=r,t.categories=i}return"attached_log"in e&&C(e.attached_log)&&(t.attached_log=e.attached_log),t}},V=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},Y=function(e,t,n,r,i){var o;return e?(o=i(r,t),function(){return o}):function(){return n(t)}},K=function(e,t,n){switch(n){case"eq":return D(t,e);case"neq":return!D(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return!!e.match(new RegExp(t.join("|")));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}},W=function(e,t,n,r){var i=R(e,t,function(e,t){return e[t]});if(void 0===i)return!1;var o="boolean"==typeof i?"bool":x(i)?"number":"string";return K(i,r.map(function(e){switch(o){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}),n)},Q=function(e,t){try{return"rule"===t.type?W(e,t.field,t.op,t.values):"and"===t.type?t.children.every(function(t){return Q(e,t)}):t.children.some(function(t){return Q(e,t)})}catch(e){return H(e),!1}},Z=function(e,t,n,r,i,o){var a={};return Object.keys(e).forEach(function(u){var c=e[u],s=c.enable,f=c.sample_rate,l=c.conditional_sample_rules;s?(a[u]={enable:s,sample_rate:f,effectiveSampleRate:f*n,hit:Y(t,f,r,i,o)},l&&(a[u].conditional_hit_rules=l.map(function(e){var a=e.sample_rate,u=e.filter;return{sample_rate:a,hit:Y(t,a,r,i,o),effectiveSampleRate:a*n,filter:u}}))):a[u]={enable:s,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),a},U=function(e,t,n,r,i){if(!t)return _;var o=t.sample_rate,a=t.include_users,u=t.sample_granularity,c=t.rules,s=t.r,f=void 0===s?Math.random():s;if(D(a,e))return function(e){return V(e,1)};var l="session"===u,p=Y(l,o,n,f,r),d=Z(c,l,o,n,f,r);return function(e){if(!p())return l&&i[0](),!1;if(!(e.ev_type in d))return V(e,o);if(!d[e.ev_type].enable)return l&&i[1](e.ev_type),!1;if(null==(t=e.common)?void 0:t.sample_rate)return e;var t,n=d[e.ev_type],r=n.conditional_hit_rules;if(r){for(var a=0;a<r.length;a++)if(Q(e,r[a].filter)){if(r[a].hit())return V(e,r[a].effectiveSampleRate);return!1}}return n.hit()?V(e,n.effectiveSampleRate):(!(r&&r.length)&&l&&i[1](e.ev_type),!1)}},X={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:v(v({},e.extra||{}),e.overrides||{})}}},$={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}};function ee(e){return v({},e)}function et(e){return b(e)&&"bid"in e&&"transport"in e}function en(e){return v({},e)}var er=function(e){var t,n,r=e,i={},o=y,a=y;return{getConfig:function(){return r},setConfig:function(e){return i=v(v({},i),e||{}),u(),t||(t=e,r.useLocalConfig||!r.bid?(n={},o()):function(e,t,n,r){var i;if(!e.get)return r({});e.get({withCredentials:!0,url:(void 0===i&&(i="/monitor_web/settings/browser-settings"),(t&&t.indexOf("//")>=0?"":"https://")+t+i+"?bid="+n+"&store=1"),success:function(e){r(e.data||{})},fail:function(){r({sample:{sample_rate:.001}})}})}(r.transport,r.domain,r.bid,function(e){n=function(e){if(!e)return{};var t=e.sample,n=e.timestamp,r=e.quota_rate;if(!t)return{};var i=t.sample_rate,o=t.sample_granularity,a=t.include_users,u=t.rules;return{sample:{include_users:a,sample_rate:i*(void 0===r?1:r),sample_granularity:void 0===o?"session":o,rules:(void 0===u?[]:u).reduce(function(e,t){var n=t.name,r=t.enable,i=t.sample_rate,o=t.conditional_sample_rules;return e[n]={enable:r,sample_rate:i,conditional_sample_rules:o},e},{})},serverTimestamp:n}}(e),u(),o()})),r},onChange:function(e){a=e},onReady:function(e){o=e,n&&o()}};function u(){var t=v(v(v({},e),n||{}),i);t.sample=ei(ei(e.sample,null==n?void 0:n.sample),i.sample),r=t,a()}};function ei(e,t){if(!e||!t)return e||t;var n=v(v({},e),t);return n.include_users=g(g([],h(e.include_users||[]),!1),h(t.include_users||[]),!1),n.rules=g(g([],h(Object.keys(e.rules||{})),!1),h(Object.keys(t.rules||{})),!1).reduce(function(n,r){var i,o;return r in n||(r in(e.rules||{})&&r in(t.rules||{})?(n[r]=v(v({},e.rules[r]),t.rules[r]),n[r].conditional_sample_rules=g(g([],h(e.rules[r].conditional_sample_rules||[]),!1),h(t.rules[r].conditional_sample_rules||[]),!1)):n[r]=(null==(i=e.rules)?void 0:i[r])||(null==(o=t.rules)?void 0:o[r])),n},{}),n}var eo=function(e,t){var n={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:t.version||"1.6.0",sdk_name:t.name||"SDK_BASE"};return v(v({},e),{extra:v(v({},n),e.extra||{})})},ea=function(e){e.on("report",function(t){return eo(t,e.config())})},eu=function(e,t){var n={};return n.bid=t.bid,n.pid=t.pid,n.view_id=t.viewId,n.user_id=t.userId,n.device_id=t.deviceId,n.session_id=t.sessionId,n.release=t.release,n.env=t.env,v(v({},e),{extra:v(v({},n),e.extra||{})})},ec=function(e){e.on("beforeBuild",function(t){return eu(t,e.config())})},es=function(e){return{bid:"",pid:"",viewId:"__"+Date.now(),userId:B(),deviceId:B(),sessionId:B(),domain:"mon.zijieapi.com",release:"",env:"production",sample:$,plugins:{},transport:{get:y,post:y},useLocalConfig:!0}},ef=(void 0===p&&(p={}),(f=(a=void 0===(o=(i=void 0===(r=p)?{}:r).createSender)?function(e){var t,n;return function(e){var t,n=e.transport,r=e.endpoint,i=e.size,o=void 0===i?10:i,a=e.wait,u=void 0===a?1e3:a,c=[],s=0;function f(){if(c.length){var e=this.getBatchData();n.post({url:r,data:e,fail:function(n){t&&t(n,e)}}),c=[]}}return{getSize:function(){return o},getWait:function(){return u},setSize:function(e){o=e},setWait:function(e){u=e},getEndpoint:function(){return r},setEndpoint:function(e){r=e},send:function(e){c.push(e),c.length>=o&&f.call(this),clearTimeout(s),s=setTimeout(f.bind(this),u)},flush:function(){clearTimeout(s),f.call(this)},getBatchData:function(){return c.length?JSON.stringify({ev_type:"batch",list:c}):""},clear:function(){clearTimeout(s),c=[]},fail:function(e){t=e}}}({size:20,endpoint:(t=e.domain,void 0===n&&(n="/monitor_browser/collect/batch/"),(t&&t.indexOf("//")>=0?"":"https://")+t+n),transport:e.transport})}:o,u=i.builder,L(s=function(e){var t,n,r,i,o,a,u=e.builder,c=e.createSender,s=e.createDefaultConfig,f=e.createConfigManager,l=e.userConfigNormalizer,p=e.initConfigNormalizer,d=e.validateInitConfig,v={};m.forEach(function(e){return v[e]=[]});var y=!1,_=!1,S=!1,w=[],x=[],C=(t=!1,n={},r=function(e){e.length&&e.forEach(function(e){try{e()}catch(e){}}),e.length=0},{set:function(e,i,o){n[e]?n[e].push([i,o]):n[e]=[[i,o]],t&&r(o)},has:function(e){return!!n[e]},remove:i=function(e){n[e]&&n[e].forEach(function(e){r(e[1])}),n[e]=void 0},removeByEvType:function(e){Object.keys(n).forEach(function(t){n[t]&&n[t].forEach(function(t){t[0]===e&&r(t[1])})})},clear:function(){t=!0,Object.keys(n).forEach(function(e){i(e)})}}),R={getBuilder:function(){return u},getSender:function(){return o},getPreStartQueue:function(){return w},init:function(e){if(y)return void z("already inited");if(e&&b(e)&&d(e)){var t=s(e);if(!t)throw Error("defaultConfig missing");var n=p(e);if((a=f(t)).setConfig(n),a.onChange(function(){I("config")}),!(o=c(a.getConfig())))throw Error("sender missing");y=!0,I("init",!0)}else throw Error("invalid InitConfig, init failed")},set:function(e){y&&e&&b(e)&&(I("beforeConfig",!1,e),null==a||a.setConfig(e))},config:function(e){if(y)return e&&b(e)&&(I("beforeConfig",!1,e),null==a||a.setConfig(l(e))),null==a?void 0:a.getConfig()},provide:function(e,t){if(D(x,e))return void z("cannot provide "+e+", reserved");R[e]=t,I("provide",!1,e)},start:function(){var e=this;y&&(_||null==a||a.onReady(function(){_=!0,I("start",!0),w.forEach(function(t){return e.build(t)}),w.length=0}))},report:function(e){if(e){var t=T(v.beforeReport)(e);if(t){var n=T(v.report)(t);n&&(_?this.build(n):w.push(n))}}},build:function(e){if(!_)return;var t=T(v.beforeBuild)(e);if(t){var n=u.build(t);if(n){var r=T(v.build)(n);r&&this.send(r)}}},send:function(e){if(_){var t=T(v.beforeSend)(e);t&&(o.send(t),I("send",!1,t))}},destroy:function(){C.clear(),S=!0,w.length=0,I("beforeDestroy",!0)},on:function(e,t){if("init"===e&&y||"start"===e&&_||"beforeDestroy"===e&&S)try{t()}catch(e){}else v[e]&&v[e].push(t)},off:function(e,t){v[e]&&(v[e]=E(v[e],t))},destroyAgent:C};return x=Object.keys(R),R;function I(e,t){void 0===t&&(t=!1);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];v[e].forEach(function(e){try{e.apply(void 0,g([],h(n),!1))}catch(e){}}),t&&(v[e].length=0)}}({validateInitConfig:et,initConfigNormalizer:ee,userConfigNormalizer:en,createSender:a,builder:void 0===u?X:u,createDefaultConfig:void 0===(c=i.createDefaultConfig)?es:c,createConfigManager:er})),ec(s),ea(s),s.on("init",function(){var e=[],t=function(t){t.forEach(function(t){var n=t.name;D(e,n)||(e.push(n),t.setup(s),s.destroyAgent.set(n,n,[function(){e=E(e,n),t.tearDown&&t.tearDown()}]))})};s.provide("applyIntegrations",t);var n=s.config();n&&n.integrations&&t(n.integrations)}),d=s)).on("start",function(){var e=f.config(),t=U(e.userId,e.sample,M,N,[function(){f.destroy()},function(e){f.destroyAgent.removeByEvType(e)}]);f.on("build",t)}),(l=d).provide("sendEvent",function(e){var t=G(e);t&&l.report({ev_type:P,payload:t,extra:{timestamp:q()}})}),l.provide("sendLog",function(e){var t=J(e);t&&l.report({ev_type:P,payload:t,extra:{timestamp:q()}})}),d)},130939:function(e,t,n){var r=n(125666);function i(t,n){var r=t.geometry,i=r.type;if("LineString"===i)r.coordinates=e.exports.simplify(r.coordinates,n);else if("Polygon"===i||"MultiLineString"===i)for(var o=0;o<r.coordinates.length;o++)r.coordinates[o]=e.exports.simplify(r.coordinates[o],n);else if("MultiPolygon"===i)for(var a=0;a<r.coordinates.length;a++)for(var u=0;u<r.coordinates[a].length;u++)r.coordinates[a][u]=e.exports.simplify(r.coordinates[a][u],n);return t}e.exports=function(e,t,n){return(n||(e=JSON.parse(JSON.stringify(e))),e.features)?function(e,t){for(var n=0;n<e.features.length;n++)e.features[n]=i(e.features[n],t);return e}(e,t):e.type&&"Feature"===e.type?i(e,t):Error("FeatureCollection or individual Feature required")},e.exports.simplify=function(e,t){return r(e,t)}},125666:function(e,t,n){var r=n(845549),i=function(e,t){for(var n=0,o=0,a=1;a<=e.length-2;a++){var u=new r(e[0],e[e.length-1]).perpendicularDistance(e[a]);u>n&&(o=a,n=u)}if(n>t)var c=i(e.slice(0,o),t),s=i(e.slice(o,e.length),t),f=c.concat(s);else f=e.length>1?[e[0],e[e.length-1]]:[e[0]];return f};e.exports=i},845549:function(e){var t=function(e,t){this.p1=e,this.p2=t};t.prototype.rise=function(){return this.p2[1]-this.p1[1]},t.prototype.run=function(){return this.p2[0]-this.p1[0]},t.prototype.slope=function(){return this.rise()/this.run()},t.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)},t.prototype.isVertical=function(){return!isFinite(this.slope())},t.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]},t.prototype._perpendicularDistanceHorizontal=function(e){return Math.abs(this.p1[1]-e[1])},t.prototype._perpendicularDistanceVertical=function(e){return Math.abs(this.p1[0]-e[0])},t.prototype._perpendicularDistanceHasSlope=function(e){var t=this.slope(),n=this.yIntercept();return Math.abs(t*e[0]-e[1]+n)/Math.sqrt(Math.pow(t,2)+1)},t.prototype.perpendicularDistance=function(e){return this.isVertical()?this._perpendicularDistanceVertical(e):this.isHorizontal()?this._perpendicularDistanceHorizontal(e):this._perpendicularDistanceHasSlope(e)},e.exports=t}}]);